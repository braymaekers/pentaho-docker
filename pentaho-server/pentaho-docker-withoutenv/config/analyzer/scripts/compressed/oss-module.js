function pentahoAction(e,t,i,n,r){
var o=WEB_CONTEXT_BASE+"ViewAction",a="wrapper=false&solution="+e+"&path="+t+"&action="+i
;if(n){var s
;for(s=0;s<n.length;s++)a+="&"+encodeURIComponent(n[s][0])+"="+encodeURIComponent(n[s][1])
}return pentahoPost(o,a,r)}function pentahoService(e,t,i,n){
var r=WEB_CONTEXT_BASE+"ServiceAction",o="ajax=true&"
;if(e&&(o+="component="+e+"&"),t){var a
;for(a=0;a<t.length;a++)o+="&"+encodeURIComponent(t[a][0])+"="+encodeURIComponent(t[a][1])
}return pentahoPost(r,o,i,n)}function pentahoGet(e,t,i,n,r){
var o=void 0!=i&&null!=i,a=null,s="text/xml"
;if(n&&(s=n),window.XMLHttpRequest)a=new XMLHttpRequest,
a.overrideMimeType&&a.overrideMimeType(s);else if(window.ActiveXObject)try{
a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{
a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){a=null}}
if(!a)throw new Error("Cannot create an XMLHTTP instance")
;if(o&&(a.onreadystatechange=function(){pentahoResponse(a,i)}),!0!==r){
var l=(new Date).getTime();t=t+(0===t.length?"":"&")+l+"="+l}
return a.open("GET",e+"?"+t,o),a.send(null),o?null:getResponse(a)}
function getUnauthorizedMsg(){return"<web-service><unauthorized/></web-service>"
}function getNotFoundMsg(){return"<web-service><not-found/></web-service>"}
function pentahoPost(e,t,i,n){var r=void 0!=i&&null!=i,o=null,a="text/xml"
;if(n&&(a=n),
window.XMLHttpRequest)o=new XMLHttpRequest,o.overrideMimeType&&o.overrideMimeType(a);else if(window.ActiveXObject)try{
o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{
o=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){o=null}}
if(!o)throw new Error("Cannot create XMLHTTP instance")
;return r&&(o.onreadystatechange=function(){pentahoResponse(o,i)
}),o.open("POST",e,r),
o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),
o.send(t),r?null:getResponse(o)}function pentahoResponse(http_request,func){
if(http_request.readyState==COMPLETE)try{var content=getResponse(http_request)
;if("function"==typeof func)func(content);else if("object"==typeof func&&void 0!=func.obj)func.method.call(func.obj,content);else{
if("string"!=typeof func)throw new Error("Invalid state in pentahoResponse, unrecognized callback function.")
;eval(func+"( content );")}}catch(e){var msg=e.message
;throw alert("pentaho-ajax.js.pentahoResponse(): "+e),e}}
function getResponse(e){switch(e.status){case STATUS_OK:return e.responseText
;case STATUS_UNAUTHORIZED:return getUnauthorizedMsg();case STATUS_NOT_FOUND:
return getNotFoundMsg();default:return null}}function sort(e,t){
this.dataTable.sort([{column:e,desc:t==pentaho.pda.Column.SORT_TYPES.DESCENDING
}]);clearDataDisplay(),displayData()}
define("dojo/has",["require","module"],function(e,t){var i=e.has||function(){}
;if(!i("dojo-has-api")){
var n="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,r=this,o=n&&document,a=o&&o.createElement("DiV"),s=t.config&&t.config()||{}
;i=function(e){return"function"==typeof s[e]?s[e]=s[e](r,o,a):s[e]
},i.cache=s,i.add=function(e,t,n,r){return(void 0===s[e]||r)&&(s[e]=t),n&&i(e)},
i.add("host-browser",n),
i.add("dom",n),i.add("dojo-dom-ready-api",1),i.add("dojo-sniff",1)}
if(i("host-browser")){i.add("dom-addeventlistener",!!document.addEventListener),
i.add("touch","ontouchstart"in document||window.navigator.msMaxTouchPoints>0),
i.add("device-width",screen.availWidth||innerWidth)
;var l=document.createElement("form")
;i.add("dom-attributes-explicit",0==l.attributes.length),
i.add("dom-attributes-specified-flag",l.attributes.length>0&&l.attributes.length<40)
}return i.clearElement=function(e){return e.innerHTML="",e
},i.normalize=function(e,t){var n=e.match(/[\?:]|[^:\?]*/g),r=0,o=function(e){
var t=n[r++];return":"==t?0:"?"==n[r++]?!e&&i(t)?o():(o(!0),o(e)):t||0}
;return(e=o())&&t(e)},i.load=function(e,t,i){e?t([e],i):i()},i
}),define("dojo/_base/config",["../has","require"],function(e,t){var i={}
;if(e("dojo-config-api")){var n,r=t.rawConfig;for(n in r)i[n]=r[n]}else{
var o=function(t,i,r){for(n in t)"has"!=n&&e.add(i+n,t[n],0,r)},a=function(){
return this}()
;i=e("dojo-loader")?t.rawConfig:a.dojoConfig||a.djConfig||{},o(i,"config",1),
o(i.has,"",1)}
return!i.locale&&"undefined"!=typeof window&&window.SESSION_LOCALE&&(i.locale=window.SESSION_LOCALE.toLowerCase().replace("_","-")),
i.locale||"undefined"==typeof navigator||(i.locale=(navigator.language||navigator.userLanguage).toLowerCase()),
i
}),define("dojo/_base/kernel",["../has","./config","require","module"],function(e,t,i,n){
var r,o,a,s=function(){return this}(),l={},u={},c={config:t,global:s,dijit:l,
dojox:u},h={dojo:["dojo",c],dijit:["dijit",l],dojox:["dojox",u]
},d=i.map&&i.map[n.id.match(/[^\/]+/)[0]]
;for(o in d)h[o]?h[o][0]=d[o]:h[o]=[d[o],{}]
;for(o in h)a=h[o],a[1]._scopeName=a[0],t.noGlobals||(s[a[0]]=a[1])
;c.scopeMap=h,
c.baseUrl=c.config.baseUrl=i.baseUrl,c.isAsync=!e("dojo-loader")||i.async,
c.locale=t.locale;var f="$Rev: f774568 $".match(/[0-9a-f]{7,}/);if(c.version={
major:1,minor:9,patch:2,flag:"",revision:f?f[0]:NaN,toString:function(){
var e=c.version
;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}
},e.add("extend-dojo",1),
Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c),
e("host-rhino")?c.exit=function(e){quit(e)
}:c.exit=function(){},e.add("dojo-guarantee-console",1),
e("dojo-guarantee-console")){"undefined"!=typeof console||(console={})
;var p,m=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"]
;for(r=0;p=m[r++];)console[p]||function(){var e=p+""
;console[e]="log"in console?function(){var t=Array.apply({},arguments)
;t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}
if(e.add("dojo-debug-messages",!!t.isDebug),
c.deprecated=c.experimental=function(){},
e("dojo-debug-messages")&&(c.deprecated=function(e,t,i){var n="DEPRECATED: "+e
;t&&(n+=" "+t),i&&(n+=" -- will be removed in version: "+i),console.warn(n)
},c.experimental=function(e,t){
var i="EXPERIMENTAL: "+e+" -- APIs subject to change without notice."
;t&&(i+=" "+t),console.warn(i)
}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){
c.deprecated("dojo.modulePaths","use paths configuration");var g={}
;for(o in t.modulePaths)g[o.replace(/\./g,"/")]=t.modulePaths[o];i({paths:g})}
return e.add("dojo-moduleUrl",1),
e("dojo-moduleUrl")&&(c.moduleUrl=function(e,t){
c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var n=null
;return e&&(n=i.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),
n}),c._hasResource={},c}),define("dojo/sniff",["./has"],function(e){
if(e("host-browser")){
var t=navigator,i=t.userAgent,n=t.appVersion,r=parseFloat(n)
;if(e.add("air",i.indexOf("AdobeAIR")>=0),
e.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),
e.add("khtml",n.indexOf("Konqueror")>=0?r:void 0),
e.add("webkit",parseFloat(i.split("WebKit/")[1])||void 0),
e.add("chrome",parseFloat(i.split("Chrome/")[1])||void 0),
e.add("safari",n.indexOf("Safari")>=0&&!e("chrome")?parseFloat(n.split("Version/")[1]):void 0),
e.add("mac",n.indexOf("Macintosh")>=0),
e.add("quirks","BackCompat"==document.compatMode),
i.match(/(iPhone|iPod|iPad)/)){
var o=RegExp.$1.replace(/P/,"p"),a=i.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""))
;e.add(o,s),e.add("ios",s)}
if(e.add("android",parseFloat(i.split("Android ")[1])||void 0),
e.add("bb",(i.indexOf("BlackBerry")>=0||i.indexOf("BB10")>=0)&&parseFloat(i.split("Version/")[1])||void 0),
e.add("trident",parseFloat(n.split("Trident/")[1])||void 0),
e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){
if(i.indexOf("Opera")>=0&&e.add("opera",r>=9.8?parseFloat(i.split("Version/")[1])||r:r),
i.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&!e("trident")&&e.add("mozilla",r),
e("mozilla")&&e.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0),
document.all&&!e("opera")){
var l=parseFloat(n.split("MSIE ")[1])||void 0,u=document.documentMode
;u&&5!=u&&Math.floor(l)!=u&&(l=u),e.add("ie",l)}
e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e
}),define("dojo/_base/lang",["./kernel","../has","../sniff"],function(e,t){
t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0
;return 1})
;var i=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],n=i.length,r=function(t,i,n){
var r,o=0,a=e.global;if(!n){if(!t.length)return a;r=t[o++];try{
n=e.scopeMap[r]&&e.scopeMap[r][1]}catch(e){}n=n||(r in a?a[r]:i?a[r]={}:void 0)}
for(;n&&(r=t[o++]);)n=r in n?n[r]:i?n[r]={}:void 0;return n
},o=Object.prototype.toString,a=function(e,t,i){
return(i||[]).concat(Array.prototype.slice.call(e,t||0))},s=/\{([^\}]+)\}/g,l={
_extraNames:i,_mixin:function(e,r,o){var a,s,l,u={}
;for(a in r)s=r[a],a in e&&(e[a]===s||a in u&&u[a]===s)||(e[a]=o?o(s):s)
;if(t("bug-for-in-skips-shadowed")&&r)for(l=0;l<n;++l)a=i[l],
s=r[a],a in e&&(e[a]===s||a in u&&u[a]===s)||(e[a]=o?o(s):s);return e},
mixin:function(e,t){e||(e={})
;for(var i=1,n=arguments.length;i<n;i++)l._mixin(e,arguments[i]);return e},
setObject:function(e,t,i){var n=e.split("."),o=n.pop(),a=r(n,!0,i)
;return a&&o?a[o]=t:void 0},getObject:function(e,t,i){return r(e.split("."),t,i)
},exists:function(e,t){return void 0!==l.getObject(e,!1,t)},
isString:function(e){return"string"==typeof e||e instanceof String},
isArray:function(e){return e&&(e instanceof Array||"array"==typeof e)},
isFunction:function(e){return"[object Function]"===o.call(e)},
isObject:function(e){
return void 0!==e&&(null===e||"object"==typeof e||l.isArray(e)||l.isFunction(e))
},isArrayLike:function(e){
return e&&void 0!==e&&!l.isString(e)&&!l.isFunction(e)&&!(e.tagName&&"form"==e.tagName.toLowerCase())&&(l.isArray(e)||isFinite(e.length))
},isAlien:function(e){
return e&&!l.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},
extend:function(e,t){
for(var i=1,n=arguments.length;i<n;i++)l._mixin(e.prototype,arguments[i])
;return e},_hitchArgs:function(t,i){
var n=l._toArray(arguments,2),r=l.isString(i);return function(){
var o=l._toArray(arguments),a=r?(t||e.global)[i]:i
;return a&&a.apply(t||this,n.concat(o))}},hitch:function(t,i){
if(arguments.length>2)return l._hitchArgs.apply(e,arguments);if(i||(i=t,t=null),
l.isString(i)){
if(t=t||e.global,!t[i])throw['lang.hitch: scope["',i,'"] is null (scope="',t,'")'].join("")
;return function(){return t[i].apply(t,arguments||[])}}return t?function(){
return i.apply(t,arguments||[])}:i},delegate:function(){function e(){}
return function(t,i){e.prototype=t;var n=new e
;return e.prototype=null,i&&l._mixin(n,i),n}}(),_toArray:t("ie")?function(){
function e(e,t,i){for(var n=i||[],r=t||0;r<e.length;r++)n.push(e[r]);return n}
return function(t){return(t.item?e:a).apply(this,arguments)}}():a,
partial:function(t){var i=[null]
;return l.hitch.apply(e,i.concat(l._toArray(arguments)))},clone:function(e){
if(!e||"object"!=typeof e||l.isFunction(e))return e
;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0)
;if(e instanceof Date)return new Date(e.getTime())
;if(e instanceof RegExp)return new RegExp(e);var t,i,n;if(l.isArray(e))for(t=[],
i=0,
n=e.length;i<n;++i)i in e&&t.push(l.clone(e[i]));else t=e.constructor?new e.constructor:{}
;return l._mixin(t,e,l.clone)},trim:String.prototype.trim?function(e){
return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")
},replace:function(e,t,i){return e.replace(i||s,l.isFunction(t)?t:function(e,i){
return l.getObject(i,!1,t)})}};return t("extend-dojo")&&l.mixin(e,l),l
}),define("dojo/_base/declare",["./kernel","../has","./lang"],function(e,t,i){
function n(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function r(e,t){
for(var i,r,o,a,s,l,u,c,h=[],d=[{cls:0,refs:[]
}],f={},p=1,m=e.length,g=0;g<m;++g){
for(o=e[g],o?"[object Function]"!=w.call(o)&&n("mixin #"+g+" is not a callable constructor.",t):n("mixin #"+g+" is unknown. Did you use dojo.require to pull it in?",t),
r=o._meta?o._meta.bases:[o],
a=0,i=r.length-1;i>=0;--i)s=r[i].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+S++),
u=s.declaredClass,f.hasOwnProperty(u)||(f[u]={count:0,refs:[],cls:r[i]
},++p),l=f[u],a&&a!==l&&(l.refs.push(a),++a.count),a=l
;++a.count,d[0].refs.push(a)}for(;d.length;){
for(a=d.pop(),h.push(a.cls),--p;c=a.refs,1==c.length;){if(!(a=c[0])||--a.count){
a=0;break}h.push(a.cls),--p}
if(a)for(g=0,m=c.length;g<m;++g)a=c[g],--a.count||d.push(a)}
return p&&n("can't build consistent linearization",t),
o=e[0],h[0]=o?o._meta&&o===h[h.length-o._meta.bases.length]?o._meta.bases.length:1:0,
h}function o(e,t,i){var r,o,a,s,l,u,c,h,d,f=this._inherited=this._inherited||{}
;if("string"==typeof e&&(r=e,
e=t,t=i),i=0,s=e.callee,r=r||s.nom,r||n("can't deduce a name to call inherited()",this.declaredClass),
l=this.constructor._meta,a=l.bases,d=f.p,r!=k){
if(f.c!==s&&(d=0,u=a[0],l=u._meta,l.hidden[r]!==s)){
o=l.chains,o&&"string"==typeof o[r]&&n("calling chained method with inherited: "+r,this.declaredClass)
;do{
if(l=u._meta,c=u.prototype,l&&(c[r]===s&&c.hasOwnProperty(r)||l.hidden[r]===s))break
}while(u=a[++d]);d=u?d:-1}
if(u=a[++d])if(c=u.prototype,u._meta&&c.hasOwnProperty(r))i=c[r];else{h=x[r];do{
if(c=u.prototype,(i=c[r])&&(u._meta?c.hasOwnProperty(r):i!==h))break
}while(u=a[++d])}i=u&&i||x[r]}else{
if(f.c!==s&&(d=0,(l=a[0]._meta)&&l.ctor!==s)){
for(o=l.chains,o&&"manual"===o.constructor||n("calling chained constructor with inherited",this.declaredClass);(u=a[++d])&&(!(l=u._meta)||l.ctor!==s););
d=u?d:-1}for(;(u=a[++d])&&(l=u._meta,!(i=l?l.ctor:u)););i=u&&i}
if(f.c=i,f.p=d,i)return!0===t?i:i.apply(this,t||e)}function a(e,t){
return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}
function s(e,t,i){var n=this.getInherited(e,t);if(n)return n.apply(this,i||t||e)
}function l(e){
for(var t=this.constructor._meta.bases,i=0,n=t.length;i<n;++i)if(t[i]===e)return!0
;return this instanceof e}function u(e,n){
for(var r in n)r!=k&&n.hasOwnProperty(r)&&(e[r]=n[r])
;if(t("bug-for-in-skips-shadowed"))for(var o=i._extraNames,a=o.length;a;)(r=o[--a])!=k&&n.hasOwnProperty(r)&&(e[r]=n[r])
}function c(e,n){var r,o
;for(r in n)(o=n[r])===x[r]&&r in x||r==k||("[object Function]"==w.call(o)&&(o.nom=r),
e[r]=o)
;if(t("bug-for-in-skips-shadowed"))for(var a=i._extraNames,s=a.length;s;)r=a[--s],
(o=n[r])===x[r]&&r in x||r==k||("[object Function]"==w.call(o)&&(o.nom=r),
e[r]=o);return e}function h(e){return b.safeMixin(this.prototype,e),this}
function d(e,t){return b([this].concat(e),t||{})}function f(e,t){
return function(){var i,n,r,o,a=arguments,s=a,l=a[0],u=e.length
;if(!(this instanceof a.callee))return y(a)
;if(t&&(l&&l.preamble||this.preamble))for(o=new Array(e.length),
o[0]=a,n=0;l=a[0],
l&&(i=l.preamble)&&(a=i.apply(this,a)||a),i=e[n].prototype,i=i.hasOwnProperty("preamble")&&i.preamble,
i&&(a=i.apply(this,a)||a),++n!=u;)o[n]=a
;for(n=u-1;n>=0;--n)i=e[n],r=i._meta,(i=r?r.ctor:i)&&i.apply(this,o?o[n]:a)
;(i=this.postscript)&&i.apply(this,s)}}function p(e,t){return function(){
var i,n=arguments,r=n,o=n[0];if(!(this instanceof n.callee))return y(n)
;t&&(o&&(i=o.preamble)&&(r=i.apply(this,r)||r),
(i=this.preamble)&&i.apply(this,r)),
e&&e.apply(this,n),(i=this.postscript)&&i.apply(this,n)}}function m(e){
return function(){var t,i,n=arguments,r=0
;if(!(this instanceof n.callee))return y(n)
;for(;t=e[r];++r)if(i=t._meta,t=i?i.ctor:t){t.apply(this,n);break}
(t=this.postscript)&&t.apply(this,n)}}function g(e,t,i){return function(){
var n,r,o,a=0,s=1
;for(i&&(a=t.length-1,s=-1);n=t[a];a+=s)r=n._meta,(o=(r?r.hidden:n.prototype)[e])&&o.apply(this,arguments)
}}function v(e){C.prototype=e.prototype;var t=new C;return C.prototype=null,t}
function y(e){var t=e.callee,i=v(t);return t.apply(i,e),i}function b(e,t,s){
"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var c,y,C,S,M,N,T,A=1,j=t
;if("[object Array]"==w.call(t)?(N=r(t,e),
C=N[0],A=N.length-C,t=N[A]):(N=[0],t?"[object Function]"==w.call(t)?(C=t._meta,
N=N.concat(C?C.bases:t)):n("base class is not a callable constructor.",e):null!==t&&n("unknown base class. Did you use dojo.require to pull it in?",e)),
t)for(y=A-1;c=v(t),
y;--y)C=N[y],(C._meta?u:_)(c,C.prototype),S=new Function,S.superclass=t,
S.prototype=c,t=c.constructor=S;else c={}
;for(b.safeMixin(c,s),C=s.constructor,C!==x.constructor&&(C.nom=k,
c.constructor=C),y=A-1;y;--y)(C=N[y]._meta)&&C.chains&&(T=_(T||{},C.chains))
;if(c["-chains-"]&&(T=_(T||{},c["-chains-"])),
C=!T||!T.hasOwnProperty(k),N[0]=S=T&&"manual"===T.constructor?m(N):1==N.length?p(s.constructor,C):f(N,C),
S._meta={bases:N,hidden:s,chains:T,parents:j,ctor:s.constructor
},S.superclass=t&&t.prototype,
S.extend=h,S.createSubclass=d,S.prototype=c,c.constructor=S,
c.getInherited=a,c.isInstanceOf=l,
c.inherited=D,c.__inherited=o,e&&(c.declaredClass=e,
i.setObject(e,S)),T)for(M in T)c[M]&&"string"==typeof T[M]&&M!=k&&(C=c[M]=g(M,N,"after"===T[M]),
C.nom=M);return S}
var _=i.mixin,x=Object.prototype,w=x.toString,C=new Function,S=0,k="constructor",D=e.config.isDebug?s:o
;return e.safeMixin=b.safeMixin=c,e.declare=b,b
}),define("dojo/_base/array",["./kernel","../has","./lang"],function(e,t,i){
function n(e){return s[e]=new Function("item","index","array",e)}function r(e){
var t=!e;return function(i,r,o){var a,l=0,u=i&&i.length||0
;if(u&&"string"==typeof i&&(i=i.split("")),
"string"==typeof r&&(r=s[r]||n(r)),o){
for(;l<u;++l)if(a=!r.call(o,i[l],l,i),e^a)return!a
}else for(;l<u;++l)if(a=!r(i[l],l,i),e^a)return!a;return t}}function o(e){
var t=1,i=0,n=0;return e||(t=i=n=-1),function(r,o,s,u){
if(u&&t>0)return l.lastIndexOf(r,o,s);var c,h=r&&r.length||0,d=e?h+n:i
;for(s===a?c=e?i:h+n:s<0?(c=h+s)<0&&(c=i):c=s>=h?h+n:s,
h&&"string"==typeof r&&(r=r.split(""));c!=d;c+=t)if(r[c]==o)return c;return-1}}
var a,s={},l={every:r(!1),some:r(!0),indexOf:o(!0),lastIndexOf:o(!1),
forEach:function(e,t,i){var r=0,o=e&&e.length||0
;if(o&&"string"==typeof e&&(e=e.split("")),
"string"==typeof t&&(t=s[t]||n(t)),i)for(;r<o;++r)t.call(i,e[r],r,e);else for(;r<o;++r)t(e[r],r,e)
},map:function(e,t,i,r){var o=0,a=e&&e.length||0,l=new(r||Array)(a)
;if(a&&"string"==typeof e&&(e=e.split("")),
"string"==typeof t&&(t=s[t]||n(t)),i)for(;o<a;++o)l[o]=t.call(i,e[o],o,e);else for(;o<a;++o)l[o]=t(e[o],o,e)
;return l},filter:function(e,t,i){var r,o=0,a=e&&e.length||0,l=[]
;if(a&&"string"==typeof e&&(e=e.split("")),
"string"==typeof t&&(t=s[t]||n(t)),i)for(;o<a;++o)r=e[o],
t.call(i,r,o,e)&&l.push(r);else for(;o<a;++o)r=e[o],t(r,o,e)&&l.push(r);return l
},clearCache:function(){s={}}};return t("extend-dojo")&&i.mixin(e,l),l
}),define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(e,t,i){
return i("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,
isFF:i("ff"),isIE:i("ie"),isKhtml:i("khtml"),isWebKit:i("webkit"),
isMozilla:i("mozilla"),isMoz:i("mozilla"),isOpera:i("opera"),
isSafari:i("safari"),isChrome:i("chrome"),isMac:i("mac"),isIos:i("ios"),
isAndroid:i("android"),isWii:i("wii"),isQuirks:i("quirks"),isAir:i("air")}),i):i
}),define("dojo/io-query",["./_base/lang"],function(e){var t={};return{
objectToQuery:function(i){var n=encodeURIComponent,r=[];for(var o in i){
var a=i[o];if(a!=t[o]){var s=n(o)+"="
;if(e.isArray(a))for(var l=0,u=a.length;l<u;++l)r.push(s+n(a[l]));else r.push(s+n(a))
}}return r.join("&")},queryToObject:function(t){
for(var i,n,r,o=decodeURIComponent,a=t.split("&"),s={},l=0,u=a.length;l<u;++l)if(r=a[l],
r.length){var c=r.indexOf("=")
;c<0?(i=o(r),n=""):(i=o(r.slice(0,c)),n=o(r.slice(c+1))),
"string"==typeof s[i]&&(s[i]=[s[i]]),e.isArray(s[i])?s[i].push(n):s[i]=n}
return s}}
}),define("dojo/_base/window",["./kernel","./lang","../sniff"],function(e,t,i){
var n={global:e.global,doc:this.document||null,body:function(t){
return t=t||e.doc,t.body||t.getElementsByTagName("body")[0]},
setContext:function(t,i){e.global=n.global=t,e.doc=n.doc=i},
withGlobal:function(t,i,r,o){var a=e.global;try{
return e.global=n.global=t,n.withDoc.call(null,t.document,i,r,o)}finally{
e.global=n.global=a}},withDoc:function(t,r,o,a){
var s,l,u,c=n.doc,h=i("quirks"),d=i("ie");try{
return e.doc=n.doc=t,e.isQuirks=i.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),
i("ie")&&(u=t.parentWindow)&&u.navigator&&(s=parseFloat(u.navigator.appVersion.split("MSIE ")[1])||void 0,
l=t.documentMode,
l&&5!=l&&Math.floor(s)!=l&&(s=l),e.isIE=i.add("ie",s,!0,!0)),o&&"string"==typeof r&&(r=o[r]),
r.apply(o,a||[])}finally{
e.doc=n.doc=c,e.isQuirks=i.add("quirks",h,!0,!0),e.isIE=i.add("ie",d,!0,!0)}}}
;return i("extend-dojo")&&t.mixin(e,n),n
}),define("dojo/dom",["./sniff","./_base/window"],function(e,t){
if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}
var i={};e("ie")?i.byId=function(e,i){if("string"!=typeof e)return e
;var n=i||t.doc,r=e&&n.getElementById(e)
;if(r&&(r.attributes.id.value==e||r.id==e))return r;var o=n.all[e]
;o&&!o.nodeName||(o=[o])
;for(var a=0;r=o[a++];)if(r.attributes&&r.attributes.id&&r.attributes.id.value==e||r.id==e)return r
}:i.byId=function(e,i){
return("string"==typeof e?(i||t.doc).getElementById(e):e)||null
},i.isDescendant=function(e,t){try{for(e=i.byId(e),t=i.byId(t);e;){
if(e==t)return!0;e=e.parentNode}}catch(e){}return!1
},e.add("css-user-select",function(e,t,i){if(!i)return!1
;var n=i.style,r=["Khtml","O","ms","Moz","Webkit"],o=r.length,a="userSelect";do{
if(void 0!==n[a])return a}while(o--&&(a=r[o]+"UserSelect"));return!1})
;var n=e("css-user-select");return i.setSelectable=n?function(e,t){
i.byId(e).style[n]=t?"":"none"}:function(e,t){e=i.byId(e)
;var n=e.getElementsByTagName("*"),r=n.length
;if(t)for(e.removeAttribute("unselectable");r--;)n[r].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");r--;)n[r].setAttribute("unselectable","on")
},i}),define("dojo/json",["./has"],function(has){"use strict"
;var hasJSON="undefined"!=typeof JSON
;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({
a:0},function(e,t){return t||1})),has("json-stringify"))return JSON
;var escapeString=function(e){
return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")
};return{parse:has("json-parse")?JSON.parse:function(str,strict){
if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON")
;return eval("("+str+")")},stringify:function(e,t,i){function n(e,o,a){
t&&(e=t(a,e));var s,l=typeof e;if("number"==l)return isFinite(e)?e+"":"null"
;if("boolean"==l)return e+"";if(null===e)return"null"
;if("string"==typeof e)return escapeString(e)
;if("function"==l||"undefined"==l)return r
;if("function"==typeof e.toJSON)return n(e.toJSON(a),o,a)
;if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,i,n){
var r=e["getUTC"+i]()+(n?1:0);return r<10?"0"+r:r})
;if(e.valueOf()!==e)return n(e.valueOf(),o,a)
;var u=i?o+i:"",c=i?" ":"",h=i?"\n":"";if(e instanceof Array){
var d=e.length,f=[];for(a=0;a<d;a++){
s=n(e[a],u,a),"string"!=typeof s&&(s="null"),f.push(h+u+s)}
return"["+f.join(",")+h+o+"]"}var p=[];for(a in e){var m
;if(e.hasOwnProperty(a)){if("number"==typeof a)m='"'+a+'"';else{
if("string"!=typeof a)continue;m=escapeString(a)}
if("string"!=typeof(s=n(e[a],u,a)))continue;p.push(h+u+m+":"+c+s)}}
return"{"+p.join(",")+h+o+"}"}var r
;return"string"==typeof t&&(i=t,t=null),n(e,"","")}}
}),define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(e,t,i,n){
function r(t,i,n){if(null!==n){var r=t[i]
;"string"==typeof r?t[i]=[r,n]:e.isArray(r)?r.push(n):t[i]=n}}
var o="file|submit|image|reset|button",a={fieldToObject:function(e){var i=null
;if(e=t.byId(e)){var n=e.name,r=(e.type||"").toLowerCase()
;if(n&&r&&!e.disabled)if("radio"==r||"checkbox"==r)e.checked&&(i=e.value);else if(e.multiple){
i=[];for(var o=[e.firstChild];o.length;)for(var a=o.pop();a;a=a.nextSibling){
if(1!=a.nodeType||"option"!=a.tagName.toLowerCase()){
a.nextSibling&&o.push(a.nextSibling),a.firstChild&&o.push(a.firstChild);break}
a.selected&&i.push(a.value)}}else i=e.value}return i},toObject:function(e){
for(var i={},n=t.byId(e).elements,s=0,l=n.length;s<l;++s){
var u=n[s],c=u.name,h=(u.type||"").toLowerCase()
;c&&h&&o.indexOf(h)<0&&!u.disabled&&(r(i,c,a.fieldToObject(u)),
"image"==h&&(i[c+".x"]=i[c+".y"]=i[c].x=i[c].y=0))}return i},
toQuery:function(e){return i.objectToQuery(a.toObject(e))},toJson:function(e,t){
return n.stringify(a.toObject(e),null,t?4:0)}};return a
}),define("dojo/errors/create",["../_base/lang"],function(e){
return function(t,i,n,r){n=n||Error;var o=function(e){if(n===Error){
Error.captureStackTrace&&Error.captureStackTrace(this,o)
;var t,r=Error.call(this,e);for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t])
;this.message=e,this.stack=r.stack}else n.apply(this,arguments)
;i&&i.apply(this,arguments)}
;return o.prototype=e.delegate(n.prototype,r),o.prototype.name=t,
o.prototype.constructor=o,o}
}),define("dojo/errors/CancelError",["./create"],function(e){
return e("CancelError",null,null,{dojoType:"cancel"})
}),define("dojo/promise/Promise",["../_base/lang"],function(e){"use strict"
;function t(){throw new TypeError("abstract")}return e.extend(function(){},{
then:function(e,i,n){t()},cancel:function(e,i){t()},isResolved:function(){t()},
isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()
},always:function(e){return this.then(e,e)},otherwise:function(e){
return this.then(null,e)},trace:function(){return this},
traceRejected:function(){return this},toString:function(){
return"[object Promise]"}})
}),define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(e,t,i,n,r){
"use strict"
;var o="This deferred has already been fulfilled.",a=Object.freeze||function(){},s=function(t,i,n,r,o){
e("config-deferredInstrumentation")&&2===i&&h.instrumentRejected&&0===t.length&&h.instrumentRejected(n,!1,r,o)
;for(var a=0;a<t.length;a++)l(t[a],i,n,r)},l=function(t,i,n,r){
var o=t[i],a=t.deferred;if(o)try{var s=o(n);if(0===i)void 0!==s&&c(a,i,s);else{
if(s&&"function"==typeof s.then)return t.cancel=s.cancel,
void s.then(u(a,1),u(a,2),u(a,0));c(a,1,s)}}catch(e){c(a,2,e)}else c(a,i,n)
;e("config-deferredInstrumentation")&&2===i&&h.instrumentRejected&&h.instrumentRejected(n,!!o,r,a.promise)
},u=function(e,t){return function(i){c(e,t,i)}},c=function(e,t,i){
if(!e.isCanceled())switch(t){case 0:e.progress(i);break;case 1:e.resolve(i)
;break;case 2:e.reject(i)}},h=function(t){
var r,u,c,d=this.promise=new n,f=this,p=!1,m=[]
;e("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(f,h),
Error.captureStackTrace(d,h)),this.isResolved=d.isResolved=function(){
return 1===r},this.isRejected=d.isRejected=function(){return 2===r
},this.isFulfilled=d.isFulfilled=function(){return!!r
},this.isCanceled=d.isCanceled=function(){return p},this.progress=function(e,t){
if(r){if(!0===t)throw new Error(o);return d}return s(m,0,e,null,f),d
},this.resolve=function(e,t){if(r){if(!0===t)throw new Error(o);return d}
return s(m,r=1,u=e,null,f),m=null,d};var g=this.reject=function(t,i){if(r){
if(!0===i)throw new Error(o);return d}
return e("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(c={},g),
s(m,r=2,u=t,c,f),m=null,d};this.then=d.then=function(e,t,i){var n=[i,e,t]
;return n.cancel=d.cancel,n.deferred=new h(function(e){
return n.cancel&&n.cancel(e)}),r&&!m?l(n,r,u,c):m.push(n),n.deferred.promise
},this.cancel=d.cancel=function(e,n){if(r){if(!0===n)throw new Error(o)}else{
if(t){var a=t(e);e=void 0===a?e:a}if(p=!0,!r)return void 0===e&&(e=new i),g(e),e
;if(2===r&&u===e)return e}},a(d)};return h.prototype.toString=function(){
return"[object Deferred]"},r&&r(h),h
}),define("dojo/when",["./Deferred","./promise/Promise"],function(e,t){
"use strict";return function(i,n,r,o){
var a=i&&"function"==typeof i.then,s=a&&i instanceof t
;if(!a)return arguments.length>1?n?n(i):i:(new e).resolve(i);if(!s){
var l=new e(i.cancel);i.then(l.resolve,l.reject,l.progress),i=l.promise}
return n||r||o?i.then(n,r,o):i}
}),define("dojo/_base/Deferred",["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,i,n,r,o,a){
var s=function(){},l=Object.freeze||function(){},u=e.Deferred=function(e){
function a(e){if(d)throw new Error("This deferred has already been resolved")
;h=e,d=!0,c()}function c(){for(var e;!e&&v;){var i=v
;v=v.next,(e=i.progress==s)&&(d=!1);var n=m?i.error:i.resolved
;if(r("config-useDeferredInstrumentation")&&m&&t.instrumentRejected&&t.instrumentRejected(h,!!n),
n)try{var a=n(h);if(a&&"function"==typeof a.then){
a.then(o.hitch(i.deferred,"resolve"),o.hitch(i.deferred,"reject"),o.hitch(i.deferred,"progress"))
;continue}var l=e&&void 0===a
;e&&!l&&(m=a instanceof Error),i.deferred[l&&m?"reject":"resolve"](l?h:a)
}catch(e){i.deferred.reject(e)}else m?i.deferred.reject(h):i.deferred.resolve(h)
}}var h,d,f,p,m,g,v,y=this.promise=new i
;this.isResolved=y.isResolved=function(){return 0==p
},this.isRejected=y.isRejected=function(){return 1==p
},this.isFulfilled=y.isFulfilled=function(){return p>=0
},this.isCanceled=y.isCanceled=function(){return f
},this.resolve=this.callback=function(e){
this.fired=p=0,this.results=[e,null],a(e)},this.reject=this.errback=function(e){
m=!0,
this.fired=p=1,r("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!v),
a(e),this.results=[null,e]},this.progress=function(e){for(var t=v;t;){
var i=t.progress;i&&i(e),t=t.next}},this.addCallbacks=function(e,t){
return this.then(e,t,s),this},y.then=this.then=function(e,t,i){
var n=i==s?this:new u(y.cancel),r={resolved:e,error:t,progress:i,deferred:n}
;return v?g=g.next=r:v=g=r,d&&c(),n.promise};var b=this
;y.cancel=this.cancel=function(){if(!d){var t=e&&e(b)
;d||(t instanceof Error||(t=new n(t)),t.log=!1,b.reject(t))}f=!0},l(y)}
;return o.extend(u,{addCallback:function(t){
return this.addCallbacks(o.hitch.apply(e,arguments))},addErrback:function(t){
return this.addCallbacks(null,o.hitch.apply(e,arguments))},addBoth:function(t){
var i=o.hitch.apply(e,arguments);return this.addCallbacks(i,i)},fired:-1
}),u.when=e.when=a,u
}),define("dojo/_base/json",["./kernel","../json"],function(dojo,json){
return dojo.fromJson=function(js){return eval("("+js+")")
},dojo._escapeString=json.stringify,
dojo.toJsonIndentStr="\t",dojo.toJson=function(e,t){
return json.stringify(e,function(e,t){if(t){var i=t.__json__||t.json
;if("function"==typeof i)return i.call(t)}return t},t&&dojo.toJsonIndentStr)
},dojo}),define("dojo/aspect",[],function(){"use strict";function e(e,t,i,r){
var o,a=e[t],s="around"==t;if(s){var l=i(function(){
return a.advice(this,arguments)});o={remove:function(){l&&(l=e=i=null)},
advice:function(e,t){return l?l.apply(e,t):a.advice(e,t)}}}else o={
remove:function(){if(o.advice){var n=o.previous,r=o.next
;r||n?(n?n.next=r:e[t]=r,r&&(r.previous=n)):delete e[t],e=i=o.advice=null}},
id:n++,advice:i,receiveArguments:r};if(a&&!s)if("after"==t){
for(;a.next&&(a=a.next););a.next=o,o.previous=a
}else"before"==t&&(e[t]=o,o.next=a,a.previous=o);else e[t]=o;return o}
function t(t){return function(r,o,a,s){var l,u=r[o]
;u&&u.target==r||(r[o]=l=function(){
for(var e=n,t=arguments,r=l.before;r;)t=r.advice.apply(this,t)||t,r=r.next
;if(l.around)var o=l.around.advice(this,t);for(var a=l.after;a&&a.id<e;){
if(a.receiveArguments){var s=a.advice.apply(this,t);o=s===i?o:s
}else o=a.advice.call(this,o,t);a=a.next}return o},u&&(l.around={
advice:function(e,t){return u.apply(e,t)}}),l.target=r);var c=e(l||u,t,a,s)
;return a=null,c}}var i,n=0,r=t("after");return{before:t("before"),
around:t("around"),after:r}
}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,i){
"use strict";function n(e,t,n,r,o){var a=t.match(/(.*):(.*)/)
;if(a)return t=a[2],a=a[1],s.selector(a,t).call(o,e,n)
;if(i("touch")&&(l.test(t)&&(n=C(n)),
i("event-orientationchange")||"orientationchange"!=t||(t="resize",
e=window,n=C(n))),f&&(n=f(n)),e.addEventListener){var u=t in h,c=u?h[t]:t
;return e.addEventListener(c,n,u),{remove:function(){
e.removeEventListener(c,n,u)}}}if(t="on"+t,v&&e.attachEvent)return v(e,t,n)
;throw new Error("Target must be an event emitter")}function r(){
this.cancelable=!1,this.defaultPrevented=!0}function o(){this.bubbles=!1}
if(i("dom")){var a=window.ScriptEngineMajorVersion
;i.add("jscript",a&&a()+ScriptEngineMinorVersion()/10),
i.add("event-orientationchange",i("touch")&&!i("android")),
i.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),
i.add("event-focusin",function(e,t,i){return"onfocusin"in i
}),i("touch")&&i.add("touch-can-modify-event-delegate",function(){
var e=function(){};e.prototype=document.createEvent("MouseEvents");try{
return(new e).target=null,!0}catch(e){return!1}})}var s=function(e,t,i,r){
return"function"!=typeof e.on||"function"==typeof t||e.nodeType?s.parse(e,t,i,n,r,this):e.on(t,i)
};s.pausable=function(e,t,i,n){var r,o=s(e,t,function(){
if(!r)return i.apply(this,arguments)},n);return o.pause=function(){r=!0
},o.resume=function(){r=!1},o},s.once=function(e,t,i,n){var r=s(e,t,function(){
return r.remove(),i.apply(this,arguments)});return r
},s.parse=function(e,t,i,n,r,o){if(t.call)return t.call(o,e,i)
;if(t instanceof Array)a=t;else if(t.indexOf(",")>-1)var a=t.split(/\s*,\s*/)
;if(a){for(var l,u=[],c=0;l=a[c++];)u.push(s.parse(e,l,i,n,r,o))
;return u.remove=function(){for(var e=0;e<u.length;e++)u[e].remove()},u}
return n(e,t,i,r,o)};var l=/^touch/;s.matches=function(e,i,n,r,o){
for(o=o&&o.matches?o:t.query,
r=!1!==r,1!=e.nodeType&&(e=e.parentNode);!o.matches(e,i,n);)if(e==n||!1===r||!(e=e.parentNode)||1!=e.nodeType)return!1
;return e},s.selector=function(e,t,i){return function(n,r){function o(t){
return s.matches(t,e,n,i,a)}var a="function"==typeof e?{matches:e
}:this,l=t.bubble;return l?s(n,l(o),r):s(n,t,function(e){var t=o(e.target)
;return t&&r.call(t,e)})}};var u=[].slice,c=s.emit=function(e,t,i){
var n=u.call(arguments,2),a="on"+t;if("parentNode"in e){var s=n[0]={}
;for(var l in i)s[l]=i[l]
;s.preventDefault=r,s.stopPropagation=o,s.target=e,s.type=t,i=s}do{
e[a]&&e[a].apply(e,n)}while(i&&i.bubbles&&(e=e.parentNode))
;return i&&i.cancelable&&i},h=i("event-focusin")?{}:{focusin:"focus",
focusout:"blur"};if(!i("event-stopimmediatepropagation"))var d=function(){
this.immediatelyStopped=!0,this.modified=!0},f=function(e){return function(t){
if(!t.immediatelyStopped)return t.stopImmediatePropagation=d,
e.apply(this,arguments)}};if(i("dom-addeventlistener"))s.emit=function(e,t,i){
if(e.dispatchEvent&&document.createEvent){
var n=e.ownerDocument||document,r=n.createEvent("HTMLEvents")
;r.initEvent(t,!!i.bubbles,!!i.cancelable);for(var o in i)o in r||(r[o]=i[o])
;return e.dispatchEvent(r)&&r}return c.apply(s,arguments)};else{
s._fixEvent=function(e,t){if(!e){
e=(t&&(t.ownerDocument||t.document||t).parentWindow||window).event}
if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(e){}
if(!e.target)switch(e.target=e.srcElement,
e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),
"mouseout"==e.type&&(e.relatedTarget=e.toElement),
e.stopPropagation||(e.stopPropagation=b,e.preventDefault=_),e.type){
case"keypress":var i="charCode"in e?e.charCode:e.keyCode
;10==i?(i=0,e.keyCode=13):13==i||27==i?i=0:3==i&&(i=99),e.charCode=i,y(e)}
return e};var p,m=function(e){this.handle=e};m.prototype.remove=function(){
delete _dojoIEListeners_[this.handle]};var g=function(e){return function(t){
t=s._fixEvent(t,this);var i=e.call(this,t)
;return t.modified&&(p||setTimeout(function(){p=null}),p=t),i}
},v=function(t,n,r){
if(r=g(r),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||i("jscript")<5.8)&&!i("config-_allow_leaks")){
"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var o=t[n]
;if(!o||!o.listeners){var a=o
;o=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),
o.listeners=[],
t[n]=o,o.global=this,a&&o.listeners.push(_dojoIEListeners_.push(a)-1)}var s
;return o.listeners.push(s=o.global._dojoIEListeners_.push(r)-1),new m(s)}
return e.after(t,n,r,!0)},y=function(e){
e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",
e.charOrCode=e.keyChar||e.keyCode},b=function(){this.cancelBubble=!0
},_=s._preventDefault=function(){
if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}
this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}
if(i("touch"))var x=function(){},w=window.orientation,C=function(e){
return function(t){var n=t.corrected;if(!n){var r=t.type;try{delete t.type
}catch(e){}if(t.type){
if(i("touch-can-modify-event-delegate"))x.prototype=t,n=new x;else{n={}
;for(var o in t)n[o]=t[o]}n.preventDefault=function(){t.preventDefault()
},n.stopPropagation=function(){t.stopPropagation()}}else n=t,n.type=r
;if(t.corrected=n,
"resize"==r)return w==window.orientation?null:(w=window.orientation,
n.type="orientationchange",e.call(this,n))
;"rotation"in n||(n.rotation=0,n.scale=1);var a=n.changedTouches[0]
;for(var s in a)delete n[s],n[s]=a[s]}return e.call(this,n)}};return s
}),define("dojo/errors/RequestError",["./create"],function(e){
return e("RequestError",function(e,t){this.response=t})
}),define("dojo/request/util",["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,i,n,r,o,a,s){
function l(e){return c(e)}function u(e){return e.data||e.text}
e.deepCopy=function(t,i){for(var n in i){var r=t[n],o=i[n]
;r!==o&&(r&&"object"==typeof r&&o&&"object"==typeof o?e.deepCopy(r,o):t[n]=o)}
return t},e.deepCreate=function(t,i){i=i||{};var n,r,o=a.delegate(t)
;for(n in t)(r=t[n])&&"object"==typeof r&&(o[n]=e.deepCreate(r,i[n]))
;return e.deepCopy(o,i)};var c=Object.freeze||function(e){return e}
;e.deferred=function(r,o,h,d,f,p){function m(e){throw e.response=r,e}
var g=new n(function(e){
return o&&o(g,r),e&&(e instanceof t||e instanceof i)?e:new i("Request canceled",r)
});g.response=r,g.isValid=h,g.isReady=d,g.handleResponse=f
;var v=g.then(l).otherwise(m)
;e.notify&&v.then(a.hitch(e.notify,"emit","load"),a.hitch(e.notify,"emit","error"))
;var y=v.then(u),b=new s;for(var _ in y)y.hasOwnProperty(_)&&(b[_]=y[_])
;return b.response=v,c(b),p&&g.then(function(e){p.call(g,e)},function(e){
p.call(g,r,e)}),g.promise=b,g.then=b.then,g},e.addCommonMethods=function(e,t){
o.forEach(t||["GET","POST","PUT","DELETE"],function(t){
e[("DELETE"===t?"DEL":t).toLowerCase()]=function(i,n){
return n=a.delegate(n||{}),n.method=t,e(i,n)}})},e.parseArgs=function(e,t,i){
var n=t.data,o=t.query
;return n&&!i&&"object"==typeof n&&(t.data=r.objectToQuery(n)),
o?("object"==typeof o&&(o=r.objectToQuery(o)),
t.preventCache&&(o+=(o?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(o="request.preventCache="+ +new Date),
e&&o&&(e+=(~e.indexOf("?")?"&":"?")+o),{url:e,options:t,getHeader:function(e){
return null}}},e.checkStatus=function(e){
return(e=e||0)>=200&&e<300||304===e||1223===e||!e}
}),define("dojo/errors/RequestTimeoutError",["./create","./RequestError"],function(e,t){
return e("RequestTimeoutError",null,t,{dojoType:"timeout"})
}),define("dojo/request/watch",["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../has!host-browser?../_base/window:","../has!host-browser?dom-addeventlistener?:../on:"],function(e,t,i,n,r,o){
function a(){for(var e,i=+new Date,n=0;n<u.length&&(e=u[n]);n++){
var r=e.response,o=r.options
;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(r)?(u.splice(n--,1),
s._onAction&&s._onAction()):e.isReady&&e.isReady(r)?(u.splice(n--,1),
e.handleResponse(r),
s._onAction&&s._onAction()):e.startTime&&e.startTime+(o.timeout||0)<i&&(u.splice(n--,1),
e.cancel(new t("Timeout exceeded",r)),s._onAction&&s._onAction())}
s._onInFlight&&s._onInFlight(e),u.length||(clearInterval(l),l=null)}
function s(e){
e.response.options.timeout&&(e.startTime=+new Date),e.isFulfilled()||(u.push(e),
l||(l=setInterval(a,50)),e.response.options.sync&&a())}var l=null,u=[]
;return s.cancelAll=function(){try{n.forEach(u,function(e){try{
e.cancel(new i("All requests canceled."))}catch(e){}})}catch(e){}
},r&&o&&r.doc.attachEvent&&o(r.global,"unload",function(){s.cancelAll()}),s
}),define("dojo/request/handlers",["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(e,t,i,n){
function r(e){var t=s[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}
n.add("activex","undefined"!=typeof ActiveXObject),
n.add("dom-parser",function(e){return"DOMParser"in e});var o;if(n("activex")){
var a=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"]
;o=function(e){var t=e.data
;if(t&&n("dom-qsa2.1")&&!t.querySelectorAll&&n("dom-parser")&&(t=(new DOMParser).parseFromString(e.text,"application/xml")),
!t||!t.documentElement){var r=e.text;i.some(a,function(e){try{
var i=new ActiveXObject(e);i.async=!1,i.loadXML(r),t=i}catch(e){return!1}
return!0})}return t}}var s={javascript:function(e){return t.eval(e.text||"")},
json:function(t){return e.parse(t.text||null)},xml:o}
;return r.register=function(e,t){s[e]=t},r
}),define("dojo/request/xhr",["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,t,i,n,r){
function o(t,r){var o=t.xhr
;if(t.status=t.xhr.status,t.text=o.responseText,"xml"===t.options.handleAs&&(t.data=o.responseXML),
!r)try{i(t)}catch(e){r=e}
r?this.reject(r):n.checkStatus(o.status)?this.resolve(t):(r=new e("Unable to load "+t.url+" status: "+o.status,t),
this.reject(r))}function a(e){return this.xhr.getResponseHeader(e)}
function s(i,p,m){
var g=n.parseArgs(i,n.deepCreate(f,p),r("native-formdata")&&p&&p.data&&p.data instanceof FormData)
;i=g.url,p=g.options;var v,y=function(){v&&v()
},b=n.deferred(g,h,l,u,o,y),_=g.xhr=s._create()
;if(!_)return b.cancel(new e("XHR was not created")),m?b:b.promise
;g.getHeader=a,c&&(v=c(_,b,g));var x=p.data,w=!p.sync,C=p.method;try{
_.open(C,i,w,p.user||d,p.password||d),
p.withCredentials&&(_.withCredentials=p.withCredentials)
;var S=p.headers,k="application/x-www-form-urlencoded"
;if(S)for(var D in S)"content-type"===D.toLowerCase()?k=S[D]:S[D]&&_.setRequestHeader(D,S[D])
;k&&!1!==k&&_.setRequestHeader("Content-Type",k),
S&&"X-Requested-With"in S||_.setRequestHeader("X-Requested-With","XMLHttpRequest"),
n.notify&&n.notify.emit("send",g,b.promise.cancel),_.send(x)}catch(e){
b.reject(e)}return t(b),_=null,m?b:b.promise}r.add("native-xhr",function(){
return"undefined"!=typeof XMLHttpRequest
}),r.add("dojo-force-activex-xhr",function(){
return r("activex")&&!document.addEventListener&&"file:"===window.location.protocol
}),r.add("native-xhr2",function(){if(r("native-xhr")){var e=new XMLHttpRequest
;return void 0!==e.addEventListener&&("undefined"==typeof opera||void 0!==e.upload)
}}),r.add("native-formdata",function(){return"function"==typeof FormData})
;var l,u,c,h;r("native-xhr2")?(l=function(e){return!this.isFulfilled()
},h=function(e,t){t.xhr.abort()},c=function(t,i,n){function r(e){
i.handleResponse(n)}function o(t){
var r=t.target,o=new e("Unable to load "+n.url+" status: "+r.status,n)
;i.handleResponse(n,o)}function a(e){
e.lengthComputable&&(n.loaded=e.loaded,n.total=e.total,i.progress(n))}
return t.addEventListener("load",r,!1),
t.addEventListener("error",o,!1),t.addEventListener("progress",a,!1),function(){
t.removeEventListener("load",r,!1),
t.removeEventListener("error",o,!1),t.removeEventListener("progress",a,!1),
t=null}}):(l=function(e){return e.xhr.readyState},u=function(e){
return 4===e.xhr.readyState},h=function(e,t){var i=t.xhr,n=typeof i.abort
;"function"!==n&&"object"!==n&&"unknown"!==n||i.abort()});var d,f={data:null,
query:null,sync:!1,method:"GET"};if(s._create=function(){
throw new Error("XMLHTTP not available")
},r("native-xhr")&&!r("dojo-force-activex-xhr"))s._create=function(){
return new XMLHttpRequest};else if(r("activex"))try{
new ActiveXObject("Msxml2.XMLHTTP"),s._create=function(){
return new ActiveXObject("Msxml2.XMLHTTP")}}catch(e){try{
new ActiveXObject("Microsoft.XMLHTTP"),s._create=function(){
return new ActiveXObject("Microsoft.XMLHTTP")}}catch(e){}}
return n.addCommonMethods(s),s
}),define("dojo/_base/xhr",["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
e._xhrObj=p._create;var g=e.config
;e.objectToQuery=n.objectToQuery,e.queryToObject=n.queryToObject,
e.fieldToObject=o.fieldToObject,
e.formToObject=o.toObject,e.formToQuery=o.toQuery,
e.formToJson=o.toJson,e._blockAsync=!1
;var v=e._contentHandlers=e.contentHandlers={text:function(e){
return e.responseText},json:function(e){return l.fromJson(e.responseText||null)
},"json-comment-filtered":function(e){
s.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.")
;var t=e.responseText,i=t.indexOf("/*"),n=t.lastIndexOf("*/")
;if(-1==i||-1==n)throw new Error("JSON was not comment filtered")
;return l.fromJson(t.substring(i+2,n))},javascript:function(t){
return e.eval(t.responseText)},xml:function(e){var i=e.responseXML
;if(i&&t("dom-qsa2.1")&&!i.querySelectorAll&&t("dom-parser")&&(i=(new DOMParser).parseFromString(e.responseText,"application/xml")),
t("ie")&&(!i||!i.documentElement)){var n=function(e){
return"MSXML"+e+".DOMDocument"},r=["Microsoft.XMLDOM",n(6),n(4),n(3),n(2)]
;c.some(r,function(t){try{var n=new ActiveXObject(t)
;n.async=!1,n.loadXML(e.responseText),i=n}catch(e){return!1}return!0})}return i
},"json-comment-optional":function(e){
return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?v["json-comment-filtered"](e):v.json(e)
}};e._ioSetArgs=function(t,i,s,l){var c={args:t,url:t.url},h=null;if(t.form){
var d=r.byId(t.form),f=d.getAttributeNode("action")
;c.url=c.url||(f?f.value:null),h=o.toObject(d)}var p=[{}]
;h&&p.push(h),t.content&&p.push(t.content),t.preventCache&&p.push({
"dojo.preventCache":(new Date).valueOf()
}),c.query=n.objectToQuery(u.mixin.apply(null,p)),c.handleAs=t.handleAs||"text"
;var m=new a(function(e){e.canceled=!0,i&&i(e);var t=e.ioArgs.error
;return t||(t=new Error("request cancelled"),
t.dojoType="cancel",e.ioArgs.error=t),t});m.addCallback(s);var v=t.load
;v&&u.isFunction(v)&&m.addCallback(function(e){return v.call(t,e,c)})
;var y=t.error;y&&u.isFunction(y)&&m.addErrback(function(e){return y.call(t,e,c)
});var b=t.handle;return b&&u.isFunction(b)&&m.addBoth(function(e){
return b.call(t,e,c)}),m.addErrback(function(e){return l(e,m)
}),g.ioPublish&&e.publish&&!1!==c.args.ioPublish&&(m.addCallbacks(function(t){
return e.publish("/dojo/io/load",[m,t]),t},function(t){
return e.publish("/dojo/io/error",[m,t]),t}),m.addBoth(function(t){
return e.publish("/dojo/io/done",[m,t]),t})),m.ioArgs=c,m};var y=function(e){
var t=v[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t
},b=function(e,t){return t.ioArgs.args.failOk||console.error(e),e
},_=function(t){
x<=0&&(x=0,g.ioPublish&&e.publish&&(!t||t&&!1!==t.ioArgs.args.ioPublish)&&e.publish("/dojo/io/stop"))
},x=0;d.after(f,"_onAction",function(){x-=1
}),d.after(f,"_onInFlight",_),e._ioCancelAll=f.cancelAll,
e._ioNotifyStart=function(t){
g.ioPublish&&e.publish&&!1!==t.ioArgs.args.ioPublish&&(x||e.publish("/dojo/io/start"),
x+=1,e.publish("/dojo/io/send",[t]))},e._ioWatch=function(e,t,i,n){
e.ioArgs.options=e.ioArgs.args;u.mixin(e,{response:e.ioArgs,isValid:function(i){
return t(e)},isReady:function(t){return i(e)},handleResponse:function(t){
return n(e)}}),f(e),_(e)};return e._ioAddQueryToUrl=function(e){
e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},
e.xhr=function(t,i,n){var r,o=e._ioSetArgs(i,function(e){r&&r.cancel()
},y,b),a=o.ioArgs
;"postData"in i?a.query=i.postData:"putData"in i?a.query=i.putData:"rawBody"in i?a.query=i.rawBody:(arguments.length>2&&!n||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(a)
;var s={method:t,handleAs:"text",timeout:i.timeout,
withCredentials:i.withCredentials,ioArgs:a}
;void 0!==i.headers&&(s.headers=i.headers),
void 0!==i.contentType&&(s.headers||(s.headers={}),
s.headers["Content-Type"]=i.contentType),
void 0!==a.query&&(s.data=a.query),void 0!==i.sync&&(s.sync=i.sync),
e._ioNotifyStart(o);try{r=p(a.url,s,!0)}catch(e){return o.cancel(),o}
return o.ioArgs.xhr=r.response.xhr,r.then(function(){o.resolve(o)
}).otherwise(function(e){
a.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,
e.xhr=e.response.xhr),o.reject(e)}),o},e.xhrGet=function(t){
return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){
return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){
return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)
},e._isDocumentOk=function(e){return m.checkStatus(e.status)
},e._getText=function(t){var i;return e.xhrGet({url:t,sync:!0,load:function(e){
i=e}}),i},u.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:o.fieldToObject,
formToObject:o.toObject,objectToQuery:n.objectToQuery,formToQuery:o.toQuery,
formToJson:o.toJson,queryToObject:n.queryToObject,contentHandlers:v,
_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,
_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,
_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,
_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete
}),e.xhr}),define("dojo/Evented",["./aspect","./on"],function(e,t){"use strict"
;function i(){}var n=e.after;return i.prototype={on:function(e,i){
return t.parse(this,e,i,function(e,t){return n(e,"on"+t,i,!0)})},
emit:function(e,i){var n=[this]
;return n.push.apply(n,arguments),t.emit.apply(t,n)}},i
}),define("dojo/data/util/filter",["../../_base/lang"],function(e){var t={}
;return e.setObject("dojo.data.util.filter",t),t.patternToRegExp=function(e,t){
for(var i="^",n=null,r=0;r<e.length;r++)switch(n=e.charAt(r)){case"\\":i+=n,r++,
i+=e.charAt(r);break;case"*":i+=".*";break;case"?":i+=".";break;case"$":case"^":
case"/":case"+":case".":case"|":case"(":case")":case"{":case"}":case"[":case"]":
i+="\\";default:i+=n}return i+="$",t?new RegExp(i,"mi"):new RegExp(i,"m")},t
}),define("dojo/data/util/sorter",["../../_base/lang"],function(e){var t={}
;return e.setObject("dojo.data.util.sorter",t),t.basicComparator=function(e,t){
var i=-1
;return null===e&&(e=void 0),null===t&&(t=void 0),e==t?i=0:(e>t||null==e)&&(i=1),
i},t.createSortFunction=function(e,i){
for(var n,r=[],o=i.comparatorMap,a=t.basicComparator,s=0;s<e.length;s++){n=e[s]
;var l=n.attribute;if(l){var u=n.descending?-1:1,c=a
;o&&("string"!=typeof l&&"toString"in l&&(l=l.toString()),
c=o[l]||a),r.push(function(e,t,i,n){return function(r,o){
var a=n.getValue(r,e),s=n.getValue(o,e);return t*i(a,s)}}(l,u,c,i))}}
return function(e,t){for(var i=0;i<r.length;){var n=r[i++](e,t)
;if(0!==n)return n}return 0}},t
}),define("dojo/data/util/simpleFetch",["../../_base/lang","../../_base/kernel","./sorter"],function(e,t,i){
var n={}
;return e.setObject("dojo.data.util.simpleFetch",n),n.errorHandler=function(e,i){
if(i.onError){var n=i.scope||t.global;i.onError.call(n,e,i)}
},n.fetchHandler=function(e,n){
var r=n.abort||null,o=!1,a=n.start?n.start:0,s=n.count&&n.count!==1/0?a+n.count:e.length
;n.abort=function(){o=!0,r&&r.call(n)};var l=n.scope||t.global
;if(n.store||(n.store=this),
n.onBegin&&n.onBegin.call(l,e.length,n),n.sort&&e.sort(i.createSortFunction(n.sort,this)),
n.onItem)for(var u=a;u<e.length&&u<s;++u){var c=e[u];o||n.onItem.call(l,c,n)}
if(n.onComplete&&!o){var h=null
;n.onItem||(h=e.slice(a,s)),n.onComplete.call(l,h,n)}},n.fetch=function(t){
return t=t||{},
t.store||(t.store=this),this._fetchItems(t,e.hitch(this,"fetchHandler"),e.hitch(this,"errorHandler")),
t},n
}),define("dojo/date/stamp",["../_base/lang","../_base/array"],function(e,t){
var i={};return e.setObject("dojo.date.stamp",i),i.fromISOString=function(e,n){
i._isoRegExp||(i._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/)
;var r=i._isoRegExp.exec(e),o=null;if(r){
r.shift(),r[1]&&r[1]--,r[6]&&(r[6]*=1e3),
n&&(n=new Date(n),t.forEach(t.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(e){
return n["get"+e]()}),function(e,t){r[t]=r[t]||e
})),o=new Date(r[0]||1970,r[1]||0,r[2]||1,r[3]||0,r[4]||0,r[5]||0,r[6]||0),
r[0]<100&&o.setFullYear(r[0]||1970);var a=0,s=r[7]&&r[7].charAt(0)
;"Z"!=s&&(a=60*(r[8]||0)+(Number(r[9])||0),
"-"!=s&&(a*=-1)),s&&(a-=o.getTimezoneOffset()),a&&o.setTime(o.getTime()+6e4*a)}
return o},i.toISOString=function(e,t){var i=function(e){return e<10?"0"+e:e}
;t=t||{};var n=[],r=t.zulu?"getUTC":"get",o="";if("time"!=t.selector){
var a=e[r+"FullYear"]()
;o=["0000".substr((a+"").length)+a,i(e[r+"Month"]()+1),i(e[r+"Date"]())].join("-")
}if(n.push(o),"date"!=t.selector){
var s=[i(e[r+"Hours"]()),i(e[r+"Minutes"]()),i(e[r+"Seconds"]())].join(":"),l=e[r+"Milliseconds"]()
;if(t.milliseconds&&(s+="."+(l<100?"0":"")+i(l)),
t.zulu)s+="Z";else if("time"!=t.selector){
var u=e.getTimezoneOffset(),c=Math.abs(u)
;s+=(u>0?"-":"+")+i(Math.floor(c/60))+":"+i(c%60)}n.push(s)}return n.join("T")},
i
}),define("dojo/data/ItemFileReadStore",["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(e,t,i,n,r,o,a,s,l){
var u=i("dojo.data.ItemFileReadStore",[o],{constructor:function(e){
this._arrayOfAllItems=[],
this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._jsonFileUrl=e.url,
this._ccUrl=e.url,
this.url=e.url,this._jsonData=e.data,this.data=null,this._datatypeMap=e.typeMap||{},
this._datatypeMap.Date||(this._datatypeMap.Date={type:Date,
deserialize:function(e){return l.fromISOString(e)}}),this._features={
"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0},this._itemsByIdentity=null,
this._storeRefPropName="_S",
this._itemNumPropName="_0",this._rootItemPropName="_RI",
this._reverseRefMap="_RRM",
this._loadInProgress=!1,this._queuedFetches=[],void 0!==e.urlPreventCache&&(this.urlPreventCache=!!e.urlPreventCache),
void 0!==e.hierarchical&&(this.hierarchical=!!e.hierarchical),
e.clearOnClose&&(this.clearOnClose=!0),"failOk"in e&&(this.failOk=!!e.failOk)},
url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:!1,urlPreventCache:!1,
failOk:!1,hierarchical:!0,_assertIsItem:function(e){
if(!this.isItem(e))throw new Error(this.declaredClass+": Invalid item argument.")
},_assertIsAttribute:function(e){
if("string"!=typeof e)throw new Error(this.declaredClass+": Invalid attribute argument.")
},getValue:function(e,t,i){var n=this.getValues(e,t);return n.length>0?n[0]:i},
getValues:function(e,t){return this._assertIsItem(e),this._assertIsAttribute(t),
(e[t]||[]).slice(0)},getAttributes:function(e){this._assertIsItem(e);var t=[]
;for(var i in e)i!==this._storeRefPropName&&i!==this._itemNumPropName&&i!==this._rootItemPropName&&i!==this._reverseRefMap&&t.push(i)
;return t},hasAttribute:function(e,t){
return this._assertIsItem(e),this._assertIsAttribute(t),t in e},
containsValue:function(e,t,i){var n=void 0
;return"string"==typeof i&&(n=a.patternToRegExp(i,!1)),
this._containsValue(e,t,i,n)},_containsValue:function(e,i,r,o){
return n.some(this.getValues(e,i),function(e){if(null!==e&&!t.isObject(e)&&o){
if(e.toString().match(o))return!0}else if(r===e)return!0})},isItem:function(e){
return!(!e||e[this._storeRefPropName]!==this||this._arrayOfAllItems[e[this._itemNumPropName]]!==e)
},isItemLoaded:function(e){return this.isItem(e)},loadItem:function(e){
this._assertIsItem(e.item)},getFeatures:function(){return this._features},
getLabel:function(e){
if(this._labelAttr&&this.isItem(e))return this.getValue(e,this._labelAttr)},
getLabelAttributes:function(e){return this._labelAttr?[this._labelAttr]:null},
filter:function(e,t,i){var n,r,o=[];if(e.query){
var s,l=!!e.queryOptions&&e.queryOptions.ignoreCase,u={}
;for(r in e.query)s=e.query[r],
"string"==typeof s?u[r]=a.patternToRegExp(s,l):s instanceof RegExp&&(u[r]=s)
;for(n=0;n<t.length;++n){var c=!0,h=t[n]
;if(null===h)c=!1;else for(r in e.query)s=e.query[r],
this._containsValue(h,r,s,u[r])||(c=!1);c&&o.push(h)}i(o,e)}else{
for(n=0;n<t.length;++n){var d=t[n];null!==d&&o.push(d)}i(o,e)}},
_fetchItems:function(i,n,o){var a=this
;if(this._loadFinished)this.filter(i,this._getItemsArray(i.queryOptions),n);else if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,
this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),
null!=this.data&&(this._jsonData=this.data,this.data=null),
this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:i,
filter:t.hitch(a,"filter"),findCallback:t.hitch(a,n)});else{
this._loadInProgress=!0;var s={url:a._jsonFileUrl,
handleAs:"json-comment-optional",preventCache:this.urlPreventCache,
failOk:this.failOk},l=r.get(s);l.addCallback(function(e){try{
a._getItemsFromLoadedData(e),
a._loadFinished=!0,a._loadInProgress=!1,a.filter(i,a._getItemsArray(i.queryOptions),n),
a._handleQueuedFetches()}catch(e){a._loadFinished=!0,a._loadInProgress=!1,o(e,i)
}}),l.addErrback(function(e){a._loadInProgress=!1,o(e,i)});var u=null
;i.abort&&(u=i.abort),i.abort=function(){var e=l
;e&&-1===e.fired&&(e.cancel(),e=null),u&&u.call(i)}}else if(this._jsonData)try{
this._loadFinished=!0,
this._getItemsFromLoadedData(this._jsonData),this._jsonData=null,
a.filter(i,this._getItemsArray(i.queryOptions),n)}catch(e){o(e,i)
}else o(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),i)
},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){
for(var e=0;e<this._queuedFetches.length;e++){
var t=this._queuedFetches[e],i=t.args,n=t.filter,r=t.findCallback
;n?n(i,this._getItemsArray(i.queryOptions),r):this.fetchItemByIdentity(i)}
this._queuedFetches=[]}},_getItemsArray:function(e){
return e&&e.deep?this._arrayOfAllItems:this._arrayOfTopLevelItems},
close:function(e){
this.clearOnClose&&this._loadFinished&&!this._loadInProgress&&(""!=this._jsonFileUrl&&null!=this._jsonFileUrl||""!=this.url&&null!=this.url||null!=this.data||console.debug(this.declaredClass+": WARNING!  Data reload  information has not been provided.  Please set 'url' or 'data' to the appropriate value before the next fetch"),
this._arrayOfAllItems=[],
this._arrayOfTopLevelItems=[],this._loadFinished=!1,this._itemsByIdentity=null,
this._loadInProgress=!1,this._queuedFetches=[])},
_getItemsFromLoadedData:function(e){function i(e){
return null!==e&&"object"==typeof e&&(!t.isArray(e)||r)&&!t.isFunction(e)&&(e.constructor==Object||t.isArray(e))&&void 0===e._reference&&void 0===e._type&&void 0===e._value&&o.hierarchical
}function n(e){o._arrayOfAllItems.push(e);for(var r in e){var a=e[r]
;if(a)if(t.isArray(a))for(var s=a,l=0;l<s.length;++l){var u=s[l];i(u)&&n(u)
}else i(a)&&n(a)}}var r=!1,o=this;this._labelAttr=e.label;var a,s
;for(this._arrayOfAllItems=[],
this._arrayOfTopLevelItems=e.items,a=0;a<this._arrayOfTopLevelItems.length;++a)s=this._arrayOfTopLevelItems[a],
t.isArray(s)&&(r=!0),n(s),s[this._rootItemPropName]=!0;var l,u={}
;for(a=0;a<this._arrayOfAllItems.length;++a){s=this._arrayOfAllItems[a]
;for(l in s){if(l!==this._rootItemPropName){var c=s[l]
;null!==c?t.isArray(c)||(s[l]=[c]):s[l]=[null]}u[l]=l}}
for(;u[this._storeRefPropName];)this._storeRefPropName+="_"
;for(;u[this._itemNumPropName];)this._itemNumPropName+="_"
;for(;u[this._reverseRefMap];)this._reverseRefMap+="_";var h,d=e.identifier
;if(d)for(this._itemsByIdentity={},
this._features["dojo.data.api.Identity"]=d,a=0;a<this._arrayOfAllItems.length;++a){
s=this._arrayOfAllItems[a],h=s[d];var f=h[0]
;if(Object.hasOwnProperty.call(this._itemsByIdentity,f)){
if(this._jsonFileUrl)throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+f+"]")
;if(this._jsonData)throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+d+"].  Value collided: ["+f+"]")
}else this._itemsByIdentity[f]=s
}else this._features["dojo.data.api.Identity"]=Number
;for(a=0;a<this._arrayOfAllItems.length;++a)s=this._arrayOfAllItems[a],
s[this._storeRefPropName]=this,s[this._itemNumPropName]=a
;for(a=0;a<this._arrayOfAllItems.length;++a){s=this._arrayOfAllItems[a]
;for(l in s){h=s[l]
;for(var p=0;p<h.length;++p)if(null!==(c=h[p])&&"object"==typeof c){
if("_type"in c&&"_value"in c){var m=c._type,g=this._datatypeMap[m]
;if(!g)throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+m+"'")
;if(t.isFunction(g))h[p]=new g(c._value);else{
if(!t.isFunction(g.deserialize))throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function")
;h[p]=g.deserialize(c._value)}}if(c._reference){var v=c._reference
;if(t.isObject(v))for(var y=0;y<this._arrayOfAllItems.length;++y){
var b=this._arrayOfAllItems[y],_=!0;for(var x in v)b[x]!=v[x]&&(_=!1)
;_&&(h[p]=b)}else h[p]=this._getItemByIdentity(v);if(this.referenceIntegrity){
var w=h[p];this.isItem(w)&&this._addReferenceToMap(w,s,l)}
}else this.isItem(c)&&this.referenceIntegrity&&this._addReferenceToMap(c,s,l)}}}
},_addReferenceToMap:function(e,t,i){},getIdentity:function(e){
var t=this._features["dojo.data.api.Identity"]
;if(t===Number)return e[this._itemNumPropName];var i=e[t];return i?i[0]:null},
fetchItemByIdentity:function(t){var i,n
;if(this._loadFinished)i=this._getItemByIdentity(t.identity),
t.onItem&&(n=t.scope?t.scope:e.global,t.onItem.call(n,i));else{var o=this
;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,
this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),
null!=this.data&&null==this._jsonData&&(this._jsonData=this.data,
this.data=null),
this._jsonFileUrl)if(this._loadInProgress)this._queuedFetches.push({args:t
});else{this._loadInProgress=!0;var a={url:o._jsonFileUrl,
handleAs:"json-comment-optional",preventCache:this.urlPreventCache,
failOk:this.failOk},s=r.get(a);s.addCallback(function(n){
var r=t.scope?t.scope:e.global;try{
o._getItemsFromLoadedData(n),o._loadFinished=!0,
o._loadInProgress=!1,i=o._getItemByIdentity(t.identity),
t.onItem&&t.onItem.call(r,i),o._handleQueuedFetches()}catch(e){
o._loadInProgress=!1,t.onError&&t.onError.call(r,e)}}),s.addErrback(function(i){
if(o._loadInProgress=!1,t.onError){var n=t.scope?t.scope:e.global
;t.onError.call(n,i)}})
}else this._jsonData&&(o._getItemsFromLoadedData(o._jsonData),
o._jsonData=null,o._loadFinished=!0,
i=o._getItemByIdentity(t.identity),t.onItem&&(n=t.scope?t.scope:e.global,
t.onItem.call(n,i)))}},_getItemByIdentity:function(e){var t=null
;return this._itemsByIdentity?Object.hasOwnProperty.call(this._itemsByIdentity,e)&&(t=this._itemsByIdentity[e]):Object.hasOwnProperty.call(this._arrayOfAllItems,e)&&(t=this._arrayOfAllItems[e]),
void 0===t&&(t=null),t},getIdentityAttributes:function(e){
var t=this._features["dojo.data.api.Identity"];return t===Number?null:[t]},
_forceLoad:function(){var t=this
;if(this._jsonFileUrl!==this._ccUrl?(e.deprecated(this.declaredClass+": ","To change the url, set the url property of the store, not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0"),
this._ccUrl=this._jsonFileUrl,
this.url=this._jsonFileUrl):this.url!==this._ccUrl&&(this._jsonFileUrl=this.url,
this._ccUrl=this.url),
null!=this.data&&(this._jsonData=this.data,this.data=null),this._jsonFileUrl){
var i={url:this._jsonFileUrl,handleAs:"json-comment-optional",
preventCache:this.urlPreventCache,failOk:this.failOk,sync:!0},n=r.get(i)
;n.addCallback(function(e){try{if(!0===t._loadInProgress||t._loadFinished){
if(t._loadInProgress)throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.")
}else t._getItemsFromLoadedData(e),t._loadFinished=!0}catch(e){
throw console.log(e),e}}),n.addErrback(function(e){throw e})
}else this._jsonData&&(t._getItemsFromLoadedData(t._jsonData),
t._jsonData=null,t._loadFinished=!0)}});return t.extend(u,s),u
}),define("dijit/main",["dojo/_base/kernel"],function(e){return e.dijit
}),define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(e,t,i,n){
var r={},o={},a={length:0,add:function(e){
if(o[e.id])throw new Error("Tried to register widget with id=="+e.id+" but that id is already registered")
;o[e.id]=e,this.length++},remove:function(e){o[e]&&(delete o[e],this.length--)},
byId:function(e){return"string"==typeof e?o[e]:e},byNode:function(e){
return o[e.getAttribute("widgetId")]},toArray:function(){var e=[]
;for(var t in o)e.push(o[t]);return e},getUniqueId:function(e){var t;do{
t=e+"_"+(e in r?++r[e]:r[e]=0)}while(o[t])
;return"dijit"==n._scopeName?t:n._scopeName+"_"+t},findWidgets:function(e,t){
function i(e){for(var r=e.firstChild;r;r=r.nextSibling)if(1==r.nodeType){
var a=r.getAttribute("widgetId");if(a){var s=o[a];s&&n.push(s)}else r!==t&&i(r)}
}var n=[];return i(e),n},_destroyAll:function(){
n._curFocus=null,n._prevFocus=null,
n._activeStack=[],e.forEach(a.findWidgets(i.body()),function(e){
e._destroyed||(e.destroyRecursive?e.destroyRecursive():e.destroy&&e.destroy())})
},getEnclosingWidget:function(e){for(;e;){
var t=1==e.nodeType&&e.getAttribute("widgetId");if(t)return o[t];e=e.parentNode}
return null},_hash:o};return n.registry=a,a
}),define("dojo/topic",["./Evented"],function(e){var t=new e;return{
publish:function(e,i){return t.emit.apply(t,arguments)},subscribe:function(e,i){
return t.on.apply(t,arguments)}}
}),define("dojo/dom-style",["./sniff","./dom"],function(e,t){function i(t,i,n){
if(i=i.toLowerCase(),e("ie")){if("auto"==n){if("height"==i)return t.offsetHeight
;if("width"==i)return t.offsetWidth}if("fontweight"==i)switch(n){case 700:
return"bold";case 400:default:return"normal"}}
return i in c||(c[i]=h.test(i)),c[i]?o(t,n):n}var n,r={}
;n=e("webkit")?function(e){var t;if(1==e.nodeType){
var i=e.ownerDocument.defaultView
;t=i.getComputedStyle(e,null),!t&&e.style&&(e.style.display="",
t=i.getComputedStyle(e,null))}return t||{}
}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){
return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){
return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}
},r.getComputedStyle=n;var o;o=e("ie")?function(e,t){if(!t)return 0
;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t)
;var i=e.style,n=e.runtimeStyle,r=e.currentStyle,o=i.left,a=n.left;n.left=r.left
;try{i.left=t,t=i.pixelLeft}catch(e){t=0}return i.left=o,n.left=a,t
}:function(e,t){return parseFloat(t)||0},r.toPixelValue=o
;var a="DXImageTransform.Microsoft.Alpha",s=function(e,t){try{
return e.filters.item(a)}catch(e){return t?{}:null}
},l=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return s(e).Opacity/100
}catch(e){return 1}}:function(e){return n(e).opacity
},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var i=100*t
;if(1===t?(e.style.zoom="",
s(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+a+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,
s(e)?s(e,1).Opacity=i:e.style.filter+=" progid:"+a+"(Opacity="+i+")",
s(e,1).Enabled=!0),
"tr"==e.tagName.toLowerCase())for(var n=e.firstChild;n;n=n.nextSibling)"td"==n.tagName.toLowerCase()&&u(n,t)
;return t}:function(e,t){return e.style.opacity=t},c={left:!0,top:!0
},h=/margin|padding|width|height|max|min|offset/,d={cssFloat:1,styleFloat:1,
float:1};return r.get=function(e,n){
var o=t.byId(e),a=arguments.length,s="opacity"==n;if(2==a&&s)return l(o)
;n=d[n]?"cssFloat"in o.style?"cssFloat":"styleFloat":n
;var u=r.getComputedStyle(o);return 1==a?u:i(o,n,u[n]||o.style[n])
},r.set=function(e,i,n){var o=t.byId(e),a=arguments.length,s="opacity"==i
;if(i=d[i]?"cssFloat"in o.style?"cssFloat":"styleFloat":i,
3==a)return s?u(o,n):o.style[i]=n;for(var l in i)r.set(e,l,i[l])
;return r.getComputedStyle(o)},r
}),define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,i,n){
function r(e,t,i,n,r,o){o=o||"px";var a=e.style
;isNaN(t)||(a.left=t+o),isNaN(i)||(a.top=i+o),
n>=0&&(a.width=n+o),r>=0&&(a.height=r+o)}function o(e){
return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()
}function a(e){
return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||o(e)}var s={}
;s.boxModel="content-box",
e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),
s.getPadExtents=function(e,t){e=i.byId(e)
;var r=t||n.getComputedStyle(e),o=n.toPixelValue,a=o(e,r.paddingLeft),s=o(e,r.paddingTop),l=o(e,r.paddingRight),u=o(e,r.paddingBottom)
;return{l:a,t:s,r:l,b:u,w:a+l,h:s+u}};var l="none"
;s.getBorderExtents=function(e,t){e=i.byId(e)
;var r=n.toPixelValue,o=t||n.getComputedStyle(e),a=o.borderLeftStyle!=l?r(e,o.borderLeftWidth):0,s=o.borderTopStyle!=l?r(e,o.borderTopWidth):0,u=o.borderRightStyle!=l?r(e,o.borderRightWidth):0,c=o.borderBottomStyle!=l?r(e,o.borderBottomWidth):0
;return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}},s.getPadBorderExtents=function(e,t){
e=i.byId(e)
;var r=t||n.getComputedStyle(e),o=s.getPadExtents(e,r),a=s.getBorderExtents(e,r)
;return{l:o.l+a.l,t:o.t+a.t,r:o.r+a.r,b:o.b+a.b,w:o.w+a.w,h:o.h+a.h}
},s.getMarginExtents=function(e,t){e=i.byId(e)
;var r=t||n.getComputedStyle(e),o=n.toPixelValue,a=o(e,r.marginLeft),s=o(e,r.marginTop),l=o(e,r.marginRight),u=o(e,r.marginBottom)
;return{l:a,t:s,r:l,b:u,w:a+l,h:s+u}},s.getMarginBox=function(t,r){t=i.byId(t)
;var o,a=r||n.getComputedStyle(t),u=s.getMarginExtents(t,a),c=t.offsetLeft-u.l,h=t.offsetTop-u.t,d=t.parentNode,f=n.toPixelValue
;if(e("mozilla")){var p=parseFloat(a.left),m=parseFloat(a.top)
;isNaN(p)||isNaN(m)?d&&d.style&&(o=n.getComputedStyle(d),
"visible"!=o.overflow&&(c+=o.borderLeftStyle!=l?f(t,o.borderLeftWidth):0,
h+=o.borderTopStyle!=l?f(t,o.borderTopWidth):0)):(c=p,h=m)
}else(e("opera")||8==e("ie")&&!e("quirks"))&&d&&(o=n.getComputedStyle(d),
c-=o.borderLeftStyle!=l?f(t,o.borderLeftWidth):0,
h-=o.borderTopStyle!=l?f(t,o.borderTopWidth):0);return{l:c,t:h,
w:t.offsetWidth+u.w,h:t.offsetHeight+u.h}},s.getContentBox=function(t,r){
t=i.byId(t)
;var o,a=r||n.getComputedStyle(t),l=t.clientWidth,u=s.getPadExtents(t,a),c=s.getBorderExtents(t,a)
;return l?(o=t.clientHeight,
c.w=c.h=0):(l=t.offsetWidth,o=t.offsetHeight),e("opera")&&(u.l+=c.l,u.t+=c.t),{
l:u.l,t:u.t,w:l-u.w-c.w,h:o-u.h-c.h}},s.setContentSize=function(e,t,n){
e=i.byId(e);var o=t.w,l=t.h;if(a(e)){var u=s.getPadBorderExtents(e,n)
;o>=0&&(o+=u.w),l>=0&&(l+=u.h)}r(e,NaN,NaN,o,l)};var u={l:0,t:0,w:0,h:0}
;return s.setMarginBox=function(t,l,c){t=i.byId(t)
;var h=c||n.getComputedStyle(t),d=l.w,f=l.h,p=a(t)?u:s.getPadBorderExtents(t,h),m=s.getMarginExtents(t,h)
;if(e("webkit")&&o(t)){var g=t.style
;d>=0&&!g.width&&(g.width="4px"),f>=0&&!g.height&&(g.height="4px")}
d>=0&&(d=Math.max(d-p.w-m.w,0)),f>=0&&(f=Math.max(f-p.h-m.h,0)),r(t,l.l,l.t,d,f)
},s.isBodyLtr=function(e){
return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()
},s.docScroll=function(i){i=i||t.doc;var n=t.doc.parentWindow||t.doc.defaultView
;return"pageXOffset"in n?{x:n.pageXOffset,y:n.pageYOffset
}:(n=e("quirks")?t.body(i):i.documentElement)&&{
x:s.fixIeBiDiScrollLeft(n.scrollLeft||0,i),y:n.scrollTop||0}
},e("ie")&&(s.getIeDocumentElementOffset=function(i){i=i||t.doc
;var n=i.documentElement;if(e("ie")<8){
var r=n.getBoundingClientRect(),o=r.left,a=r.top
;return e("ie")<7&&(o+=n.clientLeft,a+=n.clientTop),{x:o<0?0:o,y:a<0?0:a}}
return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(i,n){n=n||t.doc;var r=e("ie")
;if(r&&!s.isBodyLtr(n)){
var o=e("quirks"),a=o?t.body(n):n.documentElement,l=t.global
;return 6==r&&!o&&l.frameElement&&a.scrollHeight>a.clientHeight&&(i+=a.clientLeft),
r<8||o?i+a.clientWidth-a.scrollWidth:-i}return i},s.position=function(n,r){
n=i.byId(n);var o,a=t.body(n.ownerDocument);try{o=n.getBoundingClientRect()
}catch(e){return{x:0,y:0,w:0,h:0}}if(o={x:o.left,y:o.top,w:o.right-o.left,
h:o.bottom-o.top},e("ie")<9){var l=s.getIeDocumentElementOffset(n.ownerDocument)
;o.x-=l.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),
o.y-=l.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(r){
var u=s.docScroll(n.ownerDocument);o.x+=u.x,o.y+=u.y}return o
},s.getMarginSize=function(e,t){e=i.byId(e)
;var r=s.getMarginExtents(e,t||n.getComputedStyle(e)),o=e.getBoundingClientRect()
;return{w:o.right-o.left+r.w,h:o.bottom-o.top+r.h}
},s.normalizeEvent=function(t){
if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),
!e("dom-addeventlistener")){
var i=t.target,n=i&&i.ownerDocument||document,r=e("quirks")?n.body:n.documentElement,o=s.getIeDocumentElementOffset(n)
;t.pageX=t.clientX+s.fixIeBiDiScrollLeft(r.scrollLeft||0,n)-o.x,
t.pageY=t.clientY+(r.scrollTop||0)-o.y}},s
}),define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(e,t,i,n){
if(t._fixEvent){var r=t._fixEvent;t._fixEvent=function(e,t){
return e=r(e,t),e&&n.normalizeEvent(e),e}}var o={fix:function(e,i){
return t._fixEvent?t._fixEvent(e,i):e},stop:function(e){
i("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),
e.stopPropagation()):(e=e||window.event,
e.cancelBubble=!0,t._preventDefault.call(e))}}
;return i("extend-dojo")&&(e.fixEvent=o.fix,e.stopEvent=o.stop),o
}),define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,i,n,r){
function o(e,i){var r=function(r,o){return t(r,e,function(e){
return i?i(e,o):n.isDescendant(e.relatedTarget,r)?void 0:o.call(this,e)})}
;return r.bubble=function(t){return o(e,function(e,i){
var n=t(e.target),r=e.relatedTarget
;if(n&&n!=(r&&1==r.nodeType&&t(r)))return i.call(n,e)})},r}
i.add("dom-quirks",r.doc&&"BackCompat"==r.doc.compatMode),
i.add("events-mouseenter",r.doc&&"onmouseenter"in r.doc.createElement("div")),
i.add("events-mousewheel",r.doc&&"onmousewheel"in r.doc);var a
;a=i("dom-quirks")&&i("ie")||!i("dom-addeventlistener")?{LEFT:1,MIDDLE:4,
RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){
return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){
return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){
return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){
return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=a
;var s;return s=i("events-mousewheel")?"mousewheel":function(e,i){
return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,i.call(this,e)})
},{_eventHandler:o,enter:o("mouseover"),leave:o("mouseout"),wheel:s,
isLeft:a.isLeft,isMiddle:a.isMiddle,isRight:a.isRight}
}),define("dojo/keys",["./_base/kernel","./sniff"],function(e,t){return e.keys={
BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,
META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,
PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,
DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,
SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,
NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,
NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,
F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,
NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,
RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}
}),define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,i,n,r,o,a,s){
function l(i,r,a,l,u){
if(l=s.hitch(a,l),!i||!i.addEventListener&&!i.attachEvent)return n.after(i||e.global,r,l,!0)
;if("string"==typeof r&&"on"==r.substring(0,2)&&(r=r.substring(2)),
i||(i=e.global),!u)switch(r){case"keypress":r=c;break;case"mouseenter":r=o.enter
;break;case"mouseleave":r=o.leave}return t(i,r,l,u)}function u(e){
e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",
e.charOrCode=e.keyChar||e.keyCode}a.add("events-keypress-typed",function(){
var e={charCode:0};try{
e=document.createEvent("KeyboardEvent"),(e.initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)
}catch(e){}return 0==e.charCode&&!a("opera")});var c,h={106:42,111:47,186:59,
187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113
},d=a("mac")?"metaKey":"ctrlKey",f=function(e,t){var i=s.mixin({},e,t)
;return u(i),i.preventDefault=function(){e.preventDefault()
},i.stopPropagation=function(){e.stopPropagation()},i}
;if(a("events-keypress-typed")){var p=function(e,t){try{return e.keyCode=t
}catch(e){return 0}};c=function(e,i){var n=t(e,"keydown",function(e){
var t=e.keyCode,n=13!=t&&32!=t&&(27!=t||!a("ie"))&&(t<48||t>90)&&(t<96||t>111)&&(t<186||t>192)&&(t<219||t>222)&&229!=t
;if(n||e.ctrlKey){var r=n?0:t;if(e.ctrlKey){
if(3==t||13==t)return i.call(e.currentTarget,e)
;r>95&&r<106?r-=48:!e.shiftKey&&r>=65&&r<=90?r+=32:r=h[r]||r}var o=f(e,{
type:"keypress",faux:!0,charCode:r})
;i.call(e.currentTarget,o),a("ie")&&p(e,o.keyCode)}
}),r=t(e,"keypress",function(e){var t=e.charCode;return t=t>=32?t:0,e=f(e,{
charCode:t,faux:!0}),i.call(this,e)});return{remove:function(){
n.remove(),r.remove()}}}}else c=a("opera")?function(e,i){
return t(e,"keypress",function(e){var t=e.which
;return 3==t&&(t=99),t=t<32&&!e.shiftKey?0:t,
e.ctrlKey&&!e.shiftKey&&t>=65&&t<=90&&(t+=32),i.call(this,f(e,{charCode:t}))})
}:function(e,i){return t(e,"keypress",function(e){return u(e),i.call(this,e)})}
;var m={_keypress:c,connect:function(e,t,i,n,r){var o=arguments,a=[],s=0
;a.push("string"==typeof o[0]?null:o[s++],o[s++]);var u=o[s+1]
;a.push("string"==typeof u||"function"==typeof u?o[s++]:null,o[s++])
;for(var c=o.length;s<c;s++)a.push(o[s]);return l.apply(this,a)},
disconnect:function(e){e&&e.remove()},subscribe:function(e,t,n){
return i.subscribe(e,s.hitch(t,n))},publish:function(e,t){
return i.publish.apply(i,[e].concat(t))},connectPublisher:function(e,t,i){
var n=function(){m.publish(e,arguments)}
;return i?m.connect(t,i,n):m.connect(t,n)},isCopyKey:function(e){return e[d]}}
;return m.unsubscribe=m.disconnect,a("extend-dojo")&&s.mixin(e,m),m
}),define("dojo/dom-construct",["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,i,n,r,o){
function a(e,t){var i=t.parentNode;i&&i.insertBefore(e,t)}function s(e,t){
var i=t.parentNode
;i&&(i.lastChild==t?i.appendChild(e):i.insertBefore(e,t.nextSibling))}
function l(e){if(e.canHaveChildren)try{return void(e.innerHTML="")}catch(e){}
for(var t;t=e.lastChild;)u(t,e)}function u(e,t){
e.firstChild&&l(e),t&&(i("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))
}var c={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],
tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],
legend:["fieldset"],caption:["table"],colgroup:["table"],
col:["table","colgroup"],li:["ul"]
},h=/<\s*([\w\:]+)/,d={},f=0,p="__"+t._scopeName+"ToDomId"
;for(var m in c)if(c.hasOwnProperty(m)){var g=c[m]
;g.pre="option"==m?'<select multiple="multiple">':"<"+g.join("><")+">",
g.post="</"+g.reverse().join("></")+">"}var v;i("ie")<=8&&(v=function(e){
e.__dojo_html5_tested="yes";var t=y("div",{innerHTML:"<nav>a</nav>",style:{
visibility:"hidden"}},e.body)
;1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){
e.createElement(t)}),b(t)}),e.toDom=function(e,t){t=t||n.doc;var r=t[p]
;r||(t[p]=r=++f+"",
d[r]=t.createElement("div")),i("ie")<=8&&!t.__dojo_html5_tested&&t.body&&v(t),
e+="";var o,a,s,l,u=e.match(h),m=u?u[1].toLowerCase():"",g=d[r]
;if(u&&c[m])for(o=c[m],
g.innerHTML=o.pre+e+o.post,a=o.length;a;--a)g=g.firstChild;else g.innerHTML=e
;if(1==g.childNodes.length)return g.removeChild(g.firstChild)
;for(l=t.createDocumentFragment();s=g.firstChild;)l.appendChild(s);return l
},e.place=function(t,i,n){
if(i=r.byId(i),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,i.ownerDocument):r.byId(t)),
"number"==typeof n){var o=i.childNodes
;!o.length||o.length<=n?i.appendChild(t):a(t,o[n<0?0:n])}else switch(n){
case"before":a(t,i);break;case"after":s(t,i);break;case"replace":
i.parentNode.replaceChild(t,i);break;case"only":e.empty(i),i.appendChild(t)
;break;case"first":if(i.firstChild){a(t,i.firstChild);break}default:
i.appendChild(t)}return t};var y=e.create=function(t,i,a,s){var l=n.doc
;return a&&(a=r.byId(a),
l=a.ownerDocument),"string"==typeof t&&(t=l.createElement(t)),
i&&o.set(t,i),a&&e.place(t,a,s),t};e.empty=function(e){l(r.byId(e))}
;var b=e.destroy=function(e){(e=r.byId(e))&&u(e,e.parentNode)}
}),define("dojo/dom-prop",["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,i,n,r,o,a,s){
var l={},u=0,c=t._scopeName+"attrid";e.names={class:"className",for:"htmlFor",
tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",
frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"
},e.get=function(t,i){t=r.byId(t);var n=i.toLowerCase();return t[e.names[n]||i]
},e.set=function(t,h,d){if(void 0===t||null==t)return t
;if(t=r.byId(t),2==arguments.length&&"string"!=typeof h){
for(var f in h)e.set(t,f,h[f]);return t}var p=h.toLowerCase(),m=e.names[p]||h
;if("style"==m&&"string"!=typeof d)return o.set(t,d),t
;if("innerHTML"==m)return i("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,
table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1
}?(a.empty(t),t.appendChild(a.toDom(d,t.ownerDocument))):t[m]=d,t
;if(n.isFunction(d)){var g=t[c];g||(g=u++,t[c]=g),l[g]||(l[g]={});var v=l[g][m]
;if(v)s.disconnect(v);else try{delete t[m]}catch(e){}
return d?l[g][m]=s.connect(t,m,d):t[m]=null,t}return t[m]=d,t}
}),define("dojo/dom-attr",["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,i,n,r,o){
function a(e,t){var i=e.getAttributeNode&&e.getAttributeNode(t)
;return i&&i.specified}var s={innerHTML:1,className:1,htmlFor:t("ie"),value:1
},l={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"}
;e.has=function(e,t){var i=t.toLowerCase()
;return s[o.names[i]||t]||a(n.byId(e),l[i]||t)},e.get=function(e,t){e=n.byId(e)
;var r=t.toLowerCase(),u=o.names[r]||t,c=s[u],h=e[u];if(c&&void 0!==h)return h
;if("href"!=u&&("boolean"==typeof h||i.isFunction(h)))return h;var d=l[r]||t
;return a(e,d)?e.getAttribute(d):null},e.set=function(t,a,u){
if(t=n.byId(t),2==arguments.length){for(var c in a)e.set(t,c,a[c]);return t}
var h=a.toLowerCase(),d=o.names[h]||a,f=s[d]
;return"style"==d&&"string"!=typeof u?(r.set(t,u),
t):f||"boolean"==typeof u||i.isFunction(u)?o.set(t,a,u):(t.setAttribute(l[h]||a,u),
t)},e.remove=function(e,t){n.byId(e).removeAttribute(l[t.toLowerCase()]||t)
},e.getNodeProp=function(e,t){e=n.byId(e);var i=t.toLowerCase(),r=o.names[i]||t
;if(r in e&&"href"!=r)return e[r];var s=l[i]||t
;return a(e,s)?e.getAttribute(s):null}
}),define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(e,t,i){
function n(e){if("string"==typeof e||e instanceof String){
if(e&&!a.test(e))return s[0]=e,s;var i=e.split(a)
;return i.length&&!i[0]&&i.shift(),i.length&&!i[i.length-1]&&i.pop(),i}
return e?t.filter(e,function(e){return e}):[]}
var r,o="className",a=/\s+/,s=[""],l={};return r={contains:function(e,t){
return(" "+i.byId(e)[o]+" ").indexOf(" "+t+" ")>=0},add:function(e,t){
e=i.byId(e),t=n(t);var r,a=e[o];a=a?" "+a+" ":" ",r=a.length
;for(var s,l=0,u=t.length;l<u;++l)(s=t[l])&&a.indexOf(" "+s+" ")<0&&(a+=s+" ")
;r<a.length&&(e[o]=a.substr(1,a.length-2))},remove:function(t,r){t=i.byId(t)
;var a;if(void 0!==r){r=n(r),a=" "+t[o]+" "
;for(var s=0,l=r.length;s<l;++s)a=a.replace(" "+r[s]+" "," ");a=e.trim(a)
}else a="";t[o]!=a&&(t[o]=a)},replace:function(e,t,n){
e=i.byId(e),l[o]=e[o],r.remove(l,n),r.add(l,t),e[o]!==l[o]&&(e[o]=l[o])},
toggle:function(e,t,o){if(e=i.byId(e),void 0===o){t=n(t)
;for(var a,s=0,l=t.length;s<l;++s)a=t[s],r[r.contains(e,a)?"remove":"add"](e,a)
}else r[o?"add":"remove"](e,t);return o}}
}),define("dojo/ready",["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(e,t,i,n,r){
var o=0,a=[],s=0,l=function(){o=1,e._postLoad=e.config.afterOnLoad=!0,u()
},u=function(){if(!s){
for(s=1;o&&(!n||0==n._Q.length)&&(!i.idle||i.idle())&&a.length;){var e=a.shift()
;try{e()}catch(e){if(e.info=e.message,!i.signal)throw e;i.signal("error",e)}}s=0
}};i.on&&i.on("idle",u),n&&(n._onQEmpty=u)
;var c=e.ready=e.addOnLoad=function(t,i,n){var o=r._toArray(arguments)
;"number"!=typeof t?(n=i,i=t,t=1e3):o.shift(),n=n?r.hitch.apply(e,o):function(){
i()},n.priority=t;for(var s=0;s<a.length&&t>=a[s].priority;s++);a.splice(s,0,n),
u()};if(t.add("dojo-config-addOnLoad",1),t("dojo-config-addOnLoad")){
var h=e.config.addOnLoad;h&&c[r.isArray(h)?"apply":"call"](e,h)}
return t("dojo-sync-loader")&&e.config.parseOnLoad&&!e.isAsync&&c(99,function(){
e.parser||(e.deprecated("Add explicit require(['dojo/parser']);","","2.0"),
i(["dojo/parser"]))}),n?n(l):l(),c
}),define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(e,t,i,n){
return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(e){
var t=this._attrPairNames;return t[e]?t[e]:t[e]={s:"_"+e+"Setter",
g:"_"+e+"Getter"}},postscript:function(e){e&&this.set(e)},_get:function(e,t){
return"function"==typeof this[t.g]?this[t.g]():this[e]},get:function(e){
return this._get(e,this._getAttrNames(e))},set:function(e,t){
if("object"==typeof e){
for(var i in e)e.hasOwnProperty(i)&&"_watchCallbacks"!=i&&this.set(i,e[i])
;return this}var r,o=this._getAttrNames(e),a=this._get(e,o),s=this[o.s]
;if("function"==typeof s?r=s.apply(this,Array.prototype.slice.call(arguments,1)):this[e]=t,
this._watchCallbacks){var l=this;n(r,function(){l._watchCallbacks(e,a,t)})}
return this},_changeAttrValue:function(e,t){var i=this.get(e)
;return this[e]=t,this._watchCallbacks&&this._watchCallbacks(e,i,t),this},
watch:function(e,t){var n=this._watchCallbacks;if(!n){var r=this
;n=this._watchCallbacks=function(e,t,i,o){var a=function(n){if(n){n=n.slice()
;for(var o=0,a=n.length;o<a;o++)n[o].call(r,e,t,i)}};a(n["_"+e]),o||a(n["*"])}}
t||"function"!=typeof e?e="_"+e:(t=e,e="*");var o=n[e]
;"object"!=typeof o&&(o=n[e]=[]),o.push(t);var a={}
;return a.unwatch=a.remove=function(){var e=i.indexOf(o,t);e>-1&&o.splice(e,1)},
a}})
}),define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,t,i){
return i("dijit.Destroyable",null,{destroy:function(e){this._destroyed=!0},
own:function(){return e.forEach(arguments,function(e){
var i="destroyRecursive"in e?"destroyRecursive":"destroy"in e?"destroy":"remove",n=t.before(this,"destroy",function(t){
e[i](t)}),r=t.after(e,i,function(){n.remove(),r.remove()},!0)},this),arguments}
})
}),define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w){
function C(e){var t={};for(var i in e)t[i.toLowerCase()]=!0;return t}
function S(e){return function(t){
s[t?"set":"remove"](this.domNode,e,t),this._set(e,t)}}function k(e,t){
return e===t||e!==e&&t!==t}
d.add("dijit-legacy-requires",!f.isAsync),d.add("dojo-bidi",!1),
d("dijit-legacy-requires")&&g(0,function(){e(["dijit/_base/manager"])})
;var D={},M=o("dijit._WidgetBase",[v,_],{id:"",_setIdAttr:"domNode",lang:"",
_setLangAttr:S("lang"),dir:"",_setDirAttr:S("dir"),class:"",_setClassAttr:{
node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",
srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,
_setOwnerDocumentAttr:function(e){this._set("ownerDocument",e)},attributeMap:{},
_blankGif:n.blankGif||e.toUrl("dojo/resources/blank.gif"),
_introspect:function(){var e=this.constructor;if(!e._setterAttrs){
var t=e.prototype,i=e._setterAttrs=[],n=e._onMap={}
;for(var r in t.attributeMap)i.push(r)
;for(r in t)/^on/.test(r)&&(n[r.substring(2).toLowerCase()]=r),
/^_set[A-Z](.*)Attr$/.test(r)&&(r=r.charAt(4).toLowerCase()+r.substr(5,r.length-9),
t.attributeMap&&r in t.attributeMap||i.push(r))}},postscript:function(e,t){
this.create(e,t)},create:function(e,t){
this._introspect(),this.srcNodeRef=a.byId(t),
this._connects=[],this._supportingWidgets=[],
this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id),
e&&(this.params=e,
p.mixin(this,e)),this.postMixInProperties(),this.id||(this.id=w.getUniqueId(this.declaredClass.replace(/\./g,"_")),
this.params&&delete this.params.id),
this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document),
this.ownerDocumentBody=b.body(this.ownerDocument),
w.add(this),this.buildRendering();var i;if(this.domNode){this._applyAttributes()
;var n=this.srcNodeRef
;n&&n.parentNode&&this.domNode!==n&&(n.parentNode.replaceChild(this.domNode,n),
i=!0),this.domNode.setAttribute("widgetId",this.id)}
this.postCreate(),i&&delete this.srcNodeRef,this._created=!0},
_applyAttributes:function(){var e={}
;for(var i in this.params||{})e[i]=this._get(i)
;t.forEach(this.constructor._setterAttrs,function(t){if(!(t in e)){
var i=this._get(t);i&&this.set(t,i)}},this);for(i in e)this.set(i,e[i])},
postMixInProperties:function(){},buildRendering:function(){
if(this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div")),
this.baseClass){var e=this.baseClass.split(" ")
;this.isLeftToRight()||(e=e.concat(t.map(e,function(e){return e+"Rtl"
}))),l.add(this.domNode,e)}},postCreate:function(){},startup:function(){
this._started||(this._started=!0,t.forEach(this.getChildren(),function(e){
e._started||e._destroyed||!p.isFunction(e.startup)||(e.startup(),e._started=!0)
}))},destroyRecursive:function(e){
this._beingDestroyed=!0,this.destroyDescendants(e),this.destroy(e)},
destroy:function(e){function i(t){
t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e)}
this._beingDestroyed=!0,
this.uninitialize(),t.forEach(this._connects,p.hitch(this,"disconnect")),
t.forEach(this._supportingWidgets,i),
this.domNode&&t.forEach(w.findWidgets(this.domNode,this.containerNode),i),
this.destroyRendering(e),w.remove(this.id),this._destroyed=!0},
destroyRendering:function(e){
this.bgIframe&&(this.bgIframe.destroy(e),delete this.bgIframe),
this.domNode&&(e?s.remove(this.domNode,"widgetId"):u.destroy(this.domNode),
delete this.domNode),
this.srcNodeRef&&(e||u.destroy(this.srcNodeRef),delete this.srcNodeRef)},
destroyDescendants:function(e){t.forEach(this.getChildren(),function(t){
t.destroyRecursive&&t.destroyRecursive(e)})},uninitialize:function(){return!1},
_setStyleAttr:function(e){var t=this.domNode
;p.isObject(e)?h.set(t,e):t.style.cssText?t.style.cssText+="; "+e:t.style.cssText=e,
this._set("style",e)},_attrToDom:function(e,i,n){
n=arguments.length>=3?n:this.attributeMap[e],
t.forEach(p.isArray(n)?n:[n],function(t){var n=this[t.node||t||"domNode"]
;switch(t.type||"attribute"){case"attribute":
p.isFunction(i)&&(i=p.hitch(this,i))
;var r=t.attribute?t.attribute:/^on[A-Z][a-zA-Z]*$/.test(e)?e.toLowerCase():e
;n.tagName?s.set(n,r,i):n.set(r,i);break;case"innerText":
n.innerHTML="",n.appendChild(this.ownerDocument.createTextNode(i));break
;case"innerHTML":n.innerHTML=i;break;case"class":l.replace(n,i,this[e])}},this)
},get:function(e){var t=this._getAttrNames(e)
;return this[t.g]?this[t.g]():this._get(e)},set:function(e,t){
if("object"==typeof e){for(var i in e)this.set(i,e[i]);return this}
var n=this._getAttrNames(e),r=this[n.s]
;if(p.isFunction(r))var o=r.apply(this,Array.prototype.slice.call(arguments,1));else{
var a=this.focusNode&&!p.isFunction(this.focusNode)?"focusNode":"domNode",s=this[a]&&this[a].tagName,l=s&&(D[s]||(D[s]=C(this[a]))),u=e in this.attributeMap?this.attributeMap[e]:n.s in this?this[n.s]:l&&n.l in l&&"function"!=typeof t||/^aria-|^data-|^role$/.test(e)?a:null
;null!=u&&this._attrToDom(e,t,u),this._set(e,t)}return o||this},
_attrPairNames:{},_getAttrNames:function(e){var t=this._attrPairNames
;if(t[e])return t[e];var i=e.replace(/^[a-z]|-[a-zA-Z]/g,function(e){
return e.charAt(e.length-1).toUpperCase()});return t[e]={n:e+"Node",
s:"_set"+i+"Attr",g:"_get"+i+"Attr",l:i.toLowerCase()}},_set:function(e,t){
var i=this[e]
;this[e]=t,this._created&&!k(i,t)&&(this._watchCallbacks&&this._watchCallbacks(e,i,t),
this.emit("attrmodified-"+e,{detail:{prevValue:i,newValue:t}}))},
_get:function(e){return this[e]},emit:function(e,t,i){
t=t||{},void 0===t.bubbles&&(t.bubbles=!0),
void 0===t.cancelable&&(t.cancelable=!0),
t.detail||(t.detail={}),t.detail.widget=this;var n,r=this["on"+e]
;return r&&(n=r.apply(this,i||[t])),
this._started&&!this._beingDestroyed&&m.emit(this.domNode,e.toLowerCase(),t),n},
on:function(e,t){var n=this._onMap(e)
;return n?i.after(this,n,t,!0):this.own(m(this.domNode,e,t))[0]},
_onMap:function(e){var t=this.constructor,i=t._onMap;if(!i){i=t._onMap={}
;for(var n in t.prototype)/^on/.test(n)&&(i[n.replace(/^on/,"").toLowerCase()]=n)
}return i["string"==typeof e&&e.toLowerCase()]},toString:function(){
return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},
getChildren:function(){
return this.containerNode?w.findWidgets(this.containerNode):[]},
getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},
connect:function(e,t,i){return this.own(r.connect(e,t,this,i))[0]},
disconnect:function(e){e.remove()},subscribe:function(e,t){
return this.own(y.subscribe(e,p.hitch(this,t)))[0]},unsubscribe:function(e){
e.remove()},isLeftToRight:function(){
return this.dir?"ltr"==this.dir:c.isBodyLtr(this.ownerDocument)},
isFocusable:function(){return this.focus&&"none"!=h.get(this.domNode,"display")
},placeAt:function(e,t){var i=!e.tagName&&w.byId(e)
;if(!i||!i.addChild||t&&"number"!=typeof t){
var n=i?i.containerNode&&!/after|before|replace/.test(t||"")?i.containerNode:i.domNode:a.byId(e,this.ownerDocument)
;u.place(this.domNode,n,t),
!this._started&&(this.getParent()||{})._started&&this.startup()
}else i.addChild(this,t);return this},defer:function(e,t){
var i=setTimeout(p.hitch(this,function(){
i&&(i=null,this._destroyed||p.hitch(this,e)())}),t||0);return{remove:function(){
return i&&(clearTimeout(i),i=null),null}}}});return d("dojo-bidi")&&M.extend(x),
M}),define("dojo/text",["module"],function(e){"use strict"
;var t,i,n,r,o,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,c=u&&location.protocol&&location.protocol.replace(/\:/,""),h=u&&location.hostname,d=u&&(location.port||void 0),f={},p=e.config&&e.config()||{}
;return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(s,"")
;var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){
return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")
},createXhr:p.createXhr||function(){var e,t,i
;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest
;if("undefined"!=typeof ActiveXObject)for(t=0;t<3;t+=1){i=a[t];try{
e=new ActiveXObject(i)}catch(e){}if(e){a=[i];break}}return e},
parseName:function(e){
var t,i,n,r=!1,o=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../")
;return-1!==o&&(!a||o>1)?(t=e.substring(0,o),
i=e.substring(o+1,e.length)):t=e,n=i||t,
o=n.indexOf("!"),-1!==o&&(r="strip"===n.substring(o+1),
n=n.substring(0,o),i?i=n:t=n),{moduleName:t,ext:i,strip:r}},
xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,i,n,r){
var o,a,s,l=t.xdRegExp.exec(e)
;return!l||(o=l[2],a=l[3],a=a.split(":"),s=a[1],a=a[0],
!(o&&o!==i||a&&a.toLowerCase()!==n.toLowerCase()||(s||a)&&s!==r))},
finishLoad:function(e,i,n,r){n=i?t.strip(n):n,p.isBuild&&(f[e]=n),r(n)},
load:function(e,i,n,r){if(r.isBuild&&!r.inlineText)return void n()
;p.isBuild=r.isBuild
;var o=t.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=i.toUrl(a),l=p.useXhr||t.useXhr
;if(0===s.indexOf("empty:"))return void n();!u||l(s,c,h,d)?t.get(s,function(i){
t.finishLoad(e,o.strip,i,n)},function(e){n.error&&n.error(e)
}):i([a],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,n)})},
write:function(e,i,n,r){if(f.hasOwnProperty(i)){var o=t.jsEscape(f[i])
;n.asModule(e+"!"+i,"define(function () { return '"+o+"';});\n")}},
writeFile:function(e,i,n,r,o){
var a=t.parseName(i),s=a.ext?"."+a.ext:"",l=a.moduleName+s,u=n.toUrl(a.moduleName+s)+".js"
;t.load(l,n,function(i){var n=function(e){return r(u,e)}
;n.asModule=function(e,t){return r.asModule(e,u,t)},t.write(e,l,n,o)},o)}
},"node"===p.env||!p.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),
t.get=function(e,t,n){try{var r=i.readFileSync(e,"utf8")
;0===r.indexOf("\ufeff")&&(r=r.substring(1)),t(r)}catch(e){n(e)}
}):"xhr"===p.env||!p.env&&t.createXhr()?t.get=function(e,i,n,r){
var o,a=t.createXhr()
;if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o])
;p.onXhr&&p.onXhr(a,e),a.onreadystatechange=function(t){var r,o
;4===a.readyState&&(r=a.status,
r>399&&r<600?(o=new Error(e+" HTTP status: "+r),o.xhr=a,n(o)):i(a.responseText),
p.onXhrComplete&&p.onXhrComplete(a,e))},a.send(null)
}:"rhino"===p.env||!p.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){
var i,n,r=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),"utf-8")),s=""
;try{
for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),
null!==n&&i.append(n);null!==(n=a.readLine());)i.append(o),i.append(n)
;s=String(i.toString())}finally{a.close()}t(s)
}:("xpconnect"===p.env||!p.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,
r=Components.interfaces,
Components.utils.import("resource://gre/modules/FileUtils.jsm"),
o="@mozilla.org/windows-registry-key;1"in n,t.get=function(e,t){var i,a,s,l={}
;o&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{
i=n["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),
i.init(s,1,0,!1),
a=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),
a.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
a.readString(i.available(),l),a.close(),i.close(),t(l.value)}catch(e){
throw new Error((s&&s.path||"")+": "+e)}}),t
}),define("dojo/cache",["./_base/kernel","./text"],function(e){return e.cache}),
define("dojo/string",["./_base/kernel","./_base/lang"],function(e,t){var i={}
;return t.setObject("dojo.string",i),i.rep=function(e,t){if(t<=0||!e)return""
;for(var i=[];1&t&&i.push(e),t>>=1;)e+=e;return i.join("")
},i.pad=function(e,t,n,r){n||(n="0")
;var o=String(e),a=i.rep(n,Math.ceil((t-o.length)/n.length));return r?o+a:a+o
},i.substitute=function(i,n,r,o){
return o=o||e.global,r=r?t.hitch(o,r):function(e){return e
},i.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,i,a){
var s=t.getObject(i,!1,n)
;return a&&(s=t.getObject(a,!1,o).call(o,s,i)),r(s,i).toString()})
},i.trim=String.prototype.trim?t.trim:function(e){e=e.replace(/^\s+/,"")
;for(var t=e.length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1)
;break}return e},i}),define("dojo/domReady",["./has"],function(e){function t(e){
u.push(e),l&&i()}function i(){if(!n){for(n=!0;u.length;)try{u.shift()(o)
}catch(e){console.log("Error on domReady callback: "+e)}n=!1,t._onQEmpty()}}
var n,r=this,o=document,a={loaded:1,complete:1
},s="string"!=typeof o.readyState,l=!!a[o.readyState],u=[]
;if(t.load=function(e,i,n){t(n)
},t._Q=u,t._onQEmpty=function(){},s&&(o.readyState="loading"),!l){
var c=[],h=function(e){
e=e||r.event,l||"readystatechange"==e.type&&!a[o.readyState]||(s&&(o.readyState="complete"),
l=1,i())},d=function(e,t){e.addEventListener(t,h,!1),u.push(function(){
e.removeEventListener(t,h,!1)})};if(!e("dom-addeventlistener")){d=function(e,t){
t="on"+t,e.attachEvent(t,h),u.push(function(){e.detachEvent(t,h)})}
;var f=o.createElement("div");try{
f.doScroll&&null===r.frameElement&&c.push(function(){try{
return f.doScroll("left"),1}catch(e){}})}catch(e){}}
if(d(o,"DOMContentLoaded"),d(r,"load"),
"onreadystatechange"in o?d(o,"readystatechange"):s||c.push(function(){
return a[o.readyState]}),c.length){var p=function(){if(!l){
for(var e=c.length;e--;)if(c[e]())return void h("poller");setTimeout(p,30)}};p()
}}return t
}),define("dojo/touch",["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(e,t,i,n,r,o,a,s,l,u){
function c(e,t,i){return k&&i?function(e,t){return o(e,i,t)}:C?function(i,n){
var r=o(i,t,n),a=o(i,e,function(e){
(!x||(new Date).getTime()>x+1e3)&&n.call(this,e)});return{remove:function(){
r.remove(),a.remove()}}}:function(t,i){return o(t,e,i)}}function h(e){do{
if(void 0!==e.dojoClick)return e.dojoClick}while(e=e.parentNode)}
function d(e,t,r){function a(e){u.doc.addEventListener(e,function(t){
t._dojo_click||!((new Date).getTime()<=_+1e3)||"INPUT"==t.target.tagName&&n.contains(t.target,"dijitOffScreen")||(t.stopPropagation(),
t.stopImmediatePropagation&&t.stopImmediatePropagation(),
"click"!=e||"INPUT"==t.target.tagName&&"radio"!=t.target.type&&"checkbox"!=t.target.type||"TEXTAREA"==t.target.tagName||"AUDIO"==t.target.tagName||"VIDEO"==t.target.tagName||t.preventDefault())
},!0)}
(p=!e.target.disabled&&h(e.target))&&(m=e.target,g=e.touches?e.touches[0].pageX:e.clientX,
v=e.touches?e.touches[0].pageY:e.clientY,
y=("object"==typeof p?p.x:"number"==typeof p?p:0)||4,
b=("object"==typeof p?p.y:"number"==typeof p?p:0)||4,
f||(f=!0,u.doc.addEventListener(t,function(e){
p=p&&e.target==m&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-g)<=y&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-v)<=b
},!0),u.doc.addEventListener(r,function(e){if(p){_=(new Date).getTime()
;var t=e.target
;"LABEL"===t.tagName&&(t=i.byId(t.getAttribute("for"))||t),setTimeout(function(){
o.emit(t,"click",{bubbles:!0,cancelable:!0,_dojo_click:!0})})}
},!0),a("click"),a("mousedown"),a("mouseup")))}
var f,p,m,g,v,y,b,_,x,w,C=a("touch"),S=a("ios")<5,k=navigator.pointerEnabled||navigator.msPointerEnabled,D=function(){
var e={};for(var t in{down:1,move:1,up:1,cancel:1,over:1,out:1
})e[t]=navigator.pointerEnabled?"pointer"+t:"MSPointer"+t.charAt(0).toUpperCase()+t.slice(1)
;return e}();C&&l(k?function(){u.doc.addEventListener(D.down,function(e){
d(e,D.move,D.up)},!0)}:function(){function e(e){var t=r.delegate(e,{bubbles:!0})
;return a("ios")>=6&&(t.touches=e.touches,
t.altKey=e.altKey,t.changedTouches=e.changedTouches,
t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,
t.shiftKey=e.shiftKey,t.targetTouches=e.targetTouches),t}
w=u.body(),u.doc.addEventListener("touchstart",function(e){
x=(new Date).getTime();var t=w;w=e.target,o.emit(t,"dojotouchout",{
relatedTarget:w,bubbles:!0}),o.emit(w,"dojotouchover",{relatedTarget:t,
bubbles:!0}),d(e,"touchmove","touchend")},!0),o(u.doc,"touchmove",function(t){
x=(new Date).getTime()
;var i=u.doc.elementFromPoint(t.pageX-(S?0:u.global.pageXOffset),t.pageY-(S?0:u.global.pageYOffset))
;i&&(w!==i&&(o.emit(w,"dojotouchout",{relatedTarget:i,bubbles:!0
}),o.emit(i,"dojotouchover",{relatedTarget:w,bubbles:!0
}),w=i),o.emit(i,"dojotouchmove",e(t))||t.preventDefault())
}),o(u.doc,"touchend",function(t){x=(new Date).getTime()
;var i=u.doc.elementFromPoint(t.pageX-(S?0:u.global.pageXOffset),t.pageY-(S?0:u.global.pageYOffset))||u.body()
;o.emit(i,"dojotouchend",e(t))})});var M={
press:c("mousedown","touchstart",D.down),
move:c("mousemove","dojotouchmove",D.move),
release:c("mouseup","dojotouchend",D.up),
cancel:c(s.leave,"touchcancel",C?D.cancel:null),
over:c("mouseover","dojotouchover",D.over),
out:c("mouseout","dojotouchout",D.out),
enter:s._eventHandler(c("mouseover","dojotouchover",D.over)),
leave:s._eventHandler(c("mouseout","dojotouchout",D.out))}
;return a("extend-dojo")&&(e.touch=M),M
}),define("dijit/_AttachMixin",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(e,t,i,n,r,o,a,s,l){
var u,c=r.delegate(s,{mouseenter:o.enter,mouseleave:o.leave,keypress:i._keypress
}),h=n("dijit._AttachMixin",null,{constructor:function(){
this._attachPoints=[],this._attachEvents=[]},buildRendering:function(){
this.inherited(arguments),
this._attachTemplateNodes(this.domNode),this._beforeFillContent()},
_beforeFillContent:function(){},_attachTemplateNodes:function(e){
for(var t=e;;)if(1==t.nodeType&&(this._processTemplateNode(t,function(e,t){
return e.getAttribute(t)
},this._attach)||this.searchContainerNode)&&t.firstChild)t=t.firstChild;else{
if(t==e)return;for(;!t.nextSibling;)if((t=t.parentNode)==e)return
;t=t.nextSibling}},_processTemplateNode:function(e,t,i){
var n=!0,o=this.attachScope||this,a=t(e,"dojoAttachPoint")||t(e,"data-dojo-attach-point")
;if(a)for(var s,l=a.split(/\s*,\s*/);s=l.shift();)r.isArray(o[s])?o[s].push(e):o[s]=e,
n="containerNode"!=s,this._attachPoints.push(s)
;var u=t(e,"dojoAttachEvent")||t(e,"data-dojo-attach-event")
;if(u)for(var c,h=u.split(/\s*,\s*/),d=r.trim;c=h.shift();)if(c){var f=null
;if(-1!=c.indexOf(":")){var p=c.split(":");c=d(p[0]),f=d(p[1])}else c=d(c)
;f||(f=c),this._attachEvents.push(i(e,c,r.hitch(o,f)))}return n},
_attach:function(t,i,n){
return i=i.replace(/^on/,"").toLowerCase(),i="dijitclick"==i?u||(u=e("./a11yclick")):c[i]||i,
a(t,i,n)},_detachTemplateNodes:function(){var e=this.attachScope||this
;t.forEach(this._attachPoints,function(t){delete e[t]
}),this._attachPoints=[],t.forEach(this._attachEvents,function(e){e.remove()
}),this._attachEvents=[]},destroyRendering:function(){
this._detachTemplateNodes(),this.inherited(arguments)}});return r.extend(l,{
dojoAttachEvent:"",dojoAttachPoint:""}),h
}),define("dijit/_TemplatedMixin",["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(e,t,i,n,r,o,a,s){
var l=t("dijit._TemplatedMixin",s,{templateString:null,templatePath:null,
_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(e){
var t=this.declaredClass,i=this;return a.substitute(e,this,function(e,r){
if("!"==r.charAt(0)&&(e=n.getObject(r.substr(1),!1,i)),
void 0===e)throw new Error(t+" template:"+r)
;return null==e?"":"!"==r.charAt(0)?e:e.toString().replace(/"/g,"&quot;")},this)
},buildRendering:function(){if(!this._rendered){
this.templateString||(this.templateString=e(this.templatePath,{sanitize:!0}))
;var t,r=l.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument)
;if(n.isString(r)){
if(t=i.toDom(this._stringRepl(r),this.ownerDocument),1!=t.nodeType)throw new Error("Invalid template: "+r)
}else t=r.cloneNode(!0);this.domNode=t}
this.inherited(arguments),this._rendered||this._fillContent(this.srcNodeRef),
this._rendered=!0},_fillContent:function(e){var t=this.containerNode
;if(e&&t)for(;e.hasChildNodes();)t.appendChild(e.firstChild)}})
;return l._templateCache={},l.getCachedTemplate=function(e,t,n){
var r=l._templateCache,o=e,s=r[o];if(s){try{
if(!s.ownerDocument||s.ownerDocument==(n||document))return s}catch(e){}
i.destroy(s)}if(e=a.trim(e),t||e.match(/\$\{([^\}]+)\}/g))return r[o]=e
;var u=i.toDom(e,n);if(1!=u.nodeType)throw new Error("Invalid template: "+e)
;return r[o]=u},o("ie")&&r(window,"unload",function(){var e=l._templateCache
;for(var t in e){var n=e[t];"object"==typeof n&&i.destroy(n),delete e[t]}}),l}),
define("dojo/_base/url",["./kernel"],function(e){
var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),i=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),n=function(){
for(var e=null,r=arguments,o=[r[0]],a=1;a<r.length;a++)if(r[a]){
var s=new n(r[a]+""),l=new n(o[0]+"")
;if(""!=s.path||s.scheme||s.authority||s.query){
if(!s.scheme&&(s.scheme=l.scheme,
!s.authority&&(s.authority=l.authority,"/"!=s.path.charAt(0)))){
for(var u=l.path.substring(0,l.path.lastIndexOf("/")+1)+s.path,c=u.split("/"),h=0;h<c.length;h++)"."==c[h]?h==c.length-1?c[h]="":(c.splice(h,1),
h--):h>0&&(1!=h||""!=c[0])&&".."==c[h]&&".."!=c[h-1]&&(h==c.length-1?(c.splice(h,1),
c[h-1]=""):(c.splice(h-1,2),h-=2));s.path=c.join("/")}
}else s.fragment!=e&&(l.fragment=s.fragment),s=l
;o=[],s.scheme&&o.push(s.scheme,":"),
s.authority&&o.push("//",s.authority),o.push(s.path),
s.query&&o.push("?",s.query),s.fragment&&o.push("#",s.fragment)}
this.uri=o.join("");var d=this.uri.match(t)
;this.scheme=d[2]||(d[1]?"":e),this.authority=d[4]||(d[3]?"":e),
this.path=d[5],this.query=d[7]||(d[6]?"":e),
this.fragment=d[9]||(d[8]?"":e),this.authority!=e&&(d=this.authority.match(i),
this.user=d[3]||e,this.password=d[4]||e,this.host=d[6]||d[7],this.port=d[9]||e)}
;return n.prototype.toString=function(){return this.uri},e._Url=n
}),define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(e,t,i){
"use strict";var n=e.some;return function(e){var r,o
;e instanceof Array?o=e:e&&"object"==typeof e&&(r=e);var a,s=[];if(r){o=[]
;for(var l in r)Object.hasOwnProperty.call(r,l)&&(s.push(l),o.push(r[l]));a={}
}else o&&(a=[]);if(!o||!o.length)return(new t).resolve(a);var u=new t
;u.promise.always(function(){a=s=null});var c=o.length;return n(o,function(e,t){
return r||s.push(t),i(e,function(e){
u.isFulfilled()||(a[s[t]]=e,0==--c&&u.resolve(a))},u.reject),u.isFulfilled()
}),u.promise}
}),define("dojo/selector/_loader",["../has","require"],function(e,t){
if("undefined"!=typeof document){var i=document.createElement("div")
;e.add("dom-qsa2.1",!!i.querySelectorAll),e.add("dom-qsa3",function(){try{
return i.innerHTML="<p class='TEST'></p>",
1==i.querySelectorAll(".TEST:empty").length}catch(e){}})}var n;return{
load:function(i,r,o,a){if(a&&a.isBuild)return o();var s=t
;if(i="default"==i?e("config-selectorEngine")||"css3":i,
i="css2"==i||"lite"==i?"./lite":"css2.1"==i?e("dom-qsa2.1")?"./lite":"./acme":"css3"==i?e("dom-qsa3")?"./lite":"./acme":"acme"==i?"./acme":(s=r)&&i,
"?"==i.charAt(i.length-1)){i=i.substring(0,i.length-1);var l=!0}
if(l&&(e("dom-compliant-qsa")||n))return o(n);s([i],function(e){
"./lite"!=i&&(n=e),o(e)})}}
}),define("dojo/query",["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(e,t,i,n,r,o,a,s){
"use strict";function l(e,t){var n=function(n,r){
if("string"==typeof r&&!(r=i.byId(r)))return new t([])
;var o="string"==typeof n?e(n,r):n?n.end&&n.on?n:[n]:[]
;return o.end&&o.on?o:new t(o)};if(n.matches=e.match||function(e,t,i){
return n.filter([e],t,i).length>0},n.filter=e.filter||function(e,t,i){
return n(t,i).filter(function(t){return r.indexOf(e,t)>-1})
},"function"!=typeof e){var o=e.search;e=function(e,t){return o(t||document,e)}}
return n}t.add("array-extensible",function(){return 1==o.delegate([],{length:1
}).length&&!t("bug-for-in-skips-shadowed")})
;var u=Array.prototype,c=u.slice,h=u.concat,d=r.forEach,f=function(e,t,i){
var n=new(i||this._NodeListCtor||_)(e);return t?n._stash(t):n
},p=function(t,i,n){return i=[0].concat(c.call(i,0)),n=n||e.global,function(e){
return i[0]=e,t.apply(n,i)}},m=function(e,t){return function(){
return this.forEach(p(e,arguments,t)),this}},g=function(e,t){return function(){
return this.map(p(e,arguments,t))}},v=function(e,t){return function(){
return this.filter(p(e,arguments,t))}},y=function(t,i,n){return function(){
var r=arguments,o=p(t,r,n)
;return i.call(n||e.global,r)?this.map(o):(this.forEach(o),this)}
},b=function(e){var i=this instanceof _&&t("array-extensible")
;"number"==typeof e&&(e=Array(e));var n=e&&"length"in e?e:arguments
;if(i||!n.sort){for(var r=i?this:[],a=r.length=n.length,s=0;s<a;s++)r[s]=n[s]
;if(i)return r;n=r}return o._mixin(n,x),n._NodeListCtor=function(e){return _(e)
},n},_=b,x=_.prototype=t("array-extensible")?[]:{}
;_._wrap=x._wrap=f,_._adaptAsMap=g,
_._adaptAsForEach=m,_._adaptAsFilter=v,_._adaptWithCondition=y,
d(["slice","splice"],function(e){var t=u[e];x[e]=function(){
return this._wrap(t.apply(this,arguments),"slice"==e?this:null)}
}),d(["indexOf","lastIndexOf","every","some"],function(t){var i=r[t]
;x[t]=function(){return i.apply(e,[this].concat(c.call(arguments,0)))}
}),o.extend(b,{constructor:_,_NodeListCtor:_,toString:function(){
return this.join(",")},_stash:function(e){return this._parent=e,this},
on:function(e,t){var i=this.map(function(i){return n(i,e,t)})
;return i.remove=function(){for(var e=0;e<i.length;e++)i[e].remove()},i},
end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},
concat:function(e){var t=c.call(this,0),i=r.map(arguments,function(e){
return c.call(e,0)});return this._wrap(h.apply(t,i),this)},map:function(e,t){
return this._wrap(r.map(this,e,t),this)},forEach:function(e,t){
return d(this,e,t),this},filter:function(e){var t=arguments,i=this,n=0
;if("string"==typeof e){
if(i=w._filterResult(this,t[0]),1==t.length)return i._stash(this);n=1}
return this._wrap(r.filter(i,t[n],t[n+1]),this)},instantiate:function(e,t){
var i=o.isFunction(e)?e:o.getObject(e);return t=t||{},this.forEach(function(e){
new i(t,e)})},at:function(){var e=new this._NodeListCtor(0)
;return d(arguments,function(t){t<0&&(t=this.length+t),this[t]&&e.push(this[t])
},this),e._stash(this)}});var w=l(s,b);return e.query=l(s,function(e){
return b(e)}),w.load=function(e,t,i){a.load(e,t,function(e){i(l(e,b))})
},e._filterQueryResult=w._filterResult=function(e,t,i){
return new b(w.filter(e,t,i))},e.NodeList=w.NodeList=b,w
}),define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(require,dojo,dlang,darray,config,dom,dwindow,_Url,aspect,all,dates,Deferred,has,query,don,ready){
function myEval(text){return eval("("+text+")")}function getNameMap(e){
var t=e._nameCaseMap,i=e.prototype;if(!t||t._extendCnt<extendCnt){
t=e._nameCaseMap={};for(var n in i)"_"!==n.charAt(0)&&(t[n.toLowerCase()]=n)
;t._extendCnt=extendCnt}return t}function getCtor(e,t){var i=e.join()
;if(!_ctorMap[i]){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r]
;n[n.length]=_ctorMap[a]=_ctorMap[a]||dlang.getObject(a)||~a.indexOf("/")&&(t?t(a):require(a))
}var s=n.shift()
;_ctorMap[i]=n.length?s.createSubclass?s.createSubclass(n):s.extend.apply(s,n):s
}return _ctorMap[i]}new Date("X");var extendCnt=0
;aspect.after(dlang,"extend",function(){extendCnt++},!0)
;var _ctorMap={},parser={_clearCache:function(){extendCnt++,_ctorMap={}},
_functionFromScript:function(e,t){
var i="",n="",r=e.getAttribute(t+"args")||e.getAttribute("args"),o=e.getAttribute("with"),a=(r||"").split(/\s*,\s*/)
;return o&&o.length&&darray.forEach(o.split(/\s*,\s*/),function(e){
i+="with("+e+"){",n+="}"}),new Function(a,i+e.innerHTML+n)},
instantiate:function(e,t,i){t=t||{},i=i||{}
;var n=(i.scope||dojo._scopeName)+"Type",r="data-"+(i.scope||dojo._scopeName)+"-",o=r+"type",a=r+"mixins",s=[]
;return darray.forEach(e,function(e){
var i=n in t?t[n]:e.getAttribute(o)||e.getAttribute(n);if(i){
var r=e.getAttribute(a),l=r?[i].concat(r.split(/\s*,\s*/)):[i];s.push({node:e,
types:l})}}),this._instantiate(s,t,i)},_instantiate:function(e,t,i,n){
function r(e){return t._started||i.noStart||darray.forEach(e,function(e){
"function"!=typeof e.startup||e._started||e.startup()}),e}
var o=darray.map(e,function(e){var n=e.ctor||getCtor(e.types,i.contextRequire)
;if(!n)throw new Error("Unable to resolve constructor for: '"+e.types.join()+"'")
;return this.construct(n,e.node,t,i,e.scripts,e.inherited)},this)
;return n?all(o).then(r):r(o)},construct:function(e,t,i,n,r,o){function a(e){
for(g&&dlang.setObject(g,e),
y=0;y<D.length;y++)aspect[D[y].advice||"after"](e,D[y].method,dlang.hitch(e,D[y].func),!0)
;for(y=0;y<M.length;y++)M[y].call(e)
;for(y=0;y<N.length;y++)e.watch(N[y].prop,N[y].func)
;for(y=0;y<T.length;y++)don(e,T[y].event,T[y].func);return e}
var s=e&&e.prototype;n=n||{};var l={}
;n.defaults&&dlang.mixin(l,n.defaults),o&&dlang.mixin(l,o);var u
;if(has("dom-attributes-explicit"))u=t.attributes;else if(has("dom-attributes-specified-flag"))u=darray.filter(t.attributes,function(e){
return e.specified});else{
var c=/^input$|^img$/i.test(t.nodeName)?t:t.cloneNode(!1),h=c.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"")
;u=darray.map(h.split(/\s+/),function(e){var i=e.toLowerCase();return{name:e,
value:"LI"==t.nodeName&&"value"==e||"enctype"==i?t.getAttribute(i):t.getAttributeNode(i).value
}})}var d=n.scope||dojo._scopeName,f="data-"+d+"-",p={}
;"dojo"!==d&&(p[f+"props"]="data-dojo-props",
p[f+"type"]="data-dojo-type",p[f+"mixins"]="data-dojo-mixins",
p[d+"type"]="dojoType",p[f+"id"]="data-dojo-id")
;for(var m,g,v,y=0,b=[];m=u[y++];){var _=m.name,x=_.toLowerCase(),w=m.value
;switch(p[x]||x){case"data-dojo-type":case"dojotype":case"data-dojo-mixins":
break;case"data-dojo-props":v=w;break;case"data-dojo-id":case"jsid":g=w;break
;case"data-dojo-attach-point":case"dojoattachpoint":l.dojoAttachPoint=w;break
;case"data-dojo-attach-event":case"dojoattachevent":l.dojoAttachEvent=w;break
;case"class":l.class=t.className;break;case"style":
l.style=t.style&&t.style.cssText;break;default:if(!(_ in s)){
_=getNameMap(e)[x]||_}if(_ in s)switch(typeof s[_]){case"string":l[_]=w;break
;case"number":l[_]=w.length?Number(w):NaN;break;case"boolean":
l[_]="false"!=w.toLowerCase();break;case"function":
""===w||-1!=w.search(/[^\w\.]+/i)?l[_]=new Function(w):l[_]=dlang.getObject(w,!1)||new Function(w),
b.push(_);break;default:var C=s[_]
;l[_]=C&&"length"in C?w?w.split(/\s*,\s*/):[]:C instanceof Date?""==w?new Date(""):"now"==w?new Date:dates.fromISOString(w):C instanceof _Url?dojo.baseUrl+w:myEval(w)
}else l[_]=w}}for(var S=0;S<b.length;S++){var k=b[S].toLowerCase()
;t.removeAttribute(k),t[k]=null}if(v)try{
v=myEval.call(n.propsThis,"{"+v+"}"),dlang.mixin(l,v)}catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+v+"'")}
dlang.mixin(l,i),r||(r=e&&(e._noScript||s._noScript)?[]:query("> script[type^='dojo/']",t))
;var D=[],M=[],N=[],T=[];if(r)for(y=0;y<r.length;y++){var A=r[y]
;t.removeChild(A)
;var j=A.getAttribute(f+"event")||A.getAttribute("event"),I=A.getAttribute(f+"prop"),P=A.getAttribute(f+"method"),L=A.getAttribute(f+"advice"),R=A.getAttribute("type"),O=this._functionFromScript(A,f)
;j?"dojo/connect"==R?D.push({method:j,func:O}):"dojo/on"==R?T.push({event:j,
func:O}):l[j]=O:"dojo/aspect"==R?D.push({method:P,advice:L,func:O
}):"dojo/watch"==R?N.push({prop:I,func:O}):M.push(O)}
var E=e.markupFactory||s.markupFactory,B=E?E(l,t,e):new e(l,t)
;return B.then?B.then(a):a(B)},scan:function(e,t){function i(e,t){
return e.getAttribute&&e.getAttribute(t)||e.parentNode&&i(e.parentNode,t)}
function n(e){if(!e.inherited){e.inherited={};var t=e.node,i=n(e.parent),r={
dir:t.getAttribute("dir")||i.dir,lang:t.getAttribute("lang")||i.lang,
textDir:t.getAttribute(c)||i.textDir};for(var o in r)r[o]&&(e.inherited[o]=r[o])
}return e.inherited}
var r=[],o=[],a={},s=(t.scope||dojo._scopeName)+"Type",l="data-"+(t.scope||dojo._scopeName)+"-",u=l+"type",c=l+"textdir",h=l+"mixins",d=e.firstChild,f=t.inherited
;if(!f){f={dir:i(e,"dir"),lang:i(e,"lang"),textDir:i(e,c)}
;for(var p in f)f[p]||delete f[p]}for(var m,g,v={inherited:f
};;)if(d)if(1==d.nodeType)if(m&&"script"==d.nodeName.toLowerCase())y=d.getAttribute("type"),
y&&/^dojo\/\w/i.test(y)&&m.push(d),
d=d.nextSibling;else if(g)d=d.nextSibling;else{
var y=d.getAttribute(u)||d.getAttribute(s),b=d.firstChild
;if(y||b&&(3!=b.nodeType||b.nextSibling)){var _,x=null;if(y){
var w=d.getAttribute(h),C=w?[y].concat(w.split(/\s*,\s*/)):[y];try{
x=getCtor(C,t.contextRequire)}catch(e){}x||darray.forEach(C,function(e){
~e.indexOf("/")&&!a[e]&&(a[e]=!0,o[o.length]=e)})
;var S=x&&!x.prototype._noScript?[]:null;_={types:C,ctor:x,parent:v,node:d,
scripts:S},_.inherited=n(_),r.push(_)}else _={node:d,scripts:m,parent:v}
;m=S,g=d.stopParser||x&&x.prototype.stopParser&&!t.template,v=_,d=b
}else d=d.nextSibling}else d=d.nextSibling;else{if(!v||!v.node)break
;d=v.node.nextSibling,g=!1,v=v.parent,m=v.scripts}var k=new Deferred
;if(o.length){
has("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+o.join(", "))
;(t.contextRequire||require)(o,function(){k.resolve(darray.filter(r,function(e){
if(!e.ctor)try{e.ctor=getCtor(e.types,t.contextRequire)}catch(e){}
for(var i=e.parent;i&&!i.types;)i=i.parent;var n=e.ctor&&e.ctor.prototype
;return e.instantiateChildren=!(n&&n.stopParser&&!t.template),
e.instantiate=!i||i.instantiate&&i.instantiateChildren,e.instantiate}))})
}else k.resolve(r);return k.promise},_require:function(e,t){
var i=myEval("{"+e.innerHTML+"}"),n=[],r=[],o=new Deferred,a=t&&t.contextRequire||require
;for(var s in i)n.push(s),r.push(i[s]);return a(r,function(){
for(var e=0;e<n.length;e++)dlang.setObject(n[e],arguments[e])
;o.resolve(arguments)}),o.promise},_scanAmd:function(e,t){
var i=new Deferred,n=i.promise;i.resolve(!0);var r=this
;return query("script[type='dojo/require']",e).forEach(function(e){
n=n.then(function(){return r._require(e,t)}),e.parentNode.removeChild(e)}),n},
parse:function(e,t){var i
;!t&&e&&e.rootNode?(t=e,i=t.rootNode):!e||!dlang.isObject(e)||"nodeType"in e?i=e:t=e,
i=i?dom.byId(i):dwindow.body(),t=t||{};var n=t.template?{template:!0
}:{},r=[],o=this,a=this._scanAmd(i,t).then(function(){return o.scan(i,t)
}).then(function(e){return o._instantiate(e,n,t,!0)}).then(function(e){
return r=r.concat(e)}).otherwise(function(e){
throw console.error("dojo/parser::parse() error",e),e});return dlang.mixin(r,a),
r}}
;return has("extend-dojo")&&(dojo.parser=parser),config.parseOnLoad&&ready(100,parser,"parse"),
parser
}),define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(e,t,i,n,r){
return i("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,
widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){
if(this.widgetsInTemplate){var e=this.domNode
;if(this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0),
r.parse(e,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{
dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,
contextRequire:this.contextRequire,scope:"dojo"}).then(n.hitch(this,function(e){
this._startupWidgets=e
;for(var t=0;t<e.length;t++)this._processTemplateNode(e[t],function(e,t){
return e[t]},function(e,t,i){return t in e?e.connect(e,t,i):e.on(t,i,!0)})
;this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser
})),
!this._startupWidgets)throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.")
}},_processTemplateNode:function(e,t,i){
return!(!t(e,"dojoType")&&!t(e,"data-dojo-type"))||this.inherited(arguments)},
startup:function(){e.forEach(this._startupWidgets,function(e){
e&&!e._started&&e.startup&&e.startup()
}),this._startupWidgets=null,this.inherited(arguments)}})
}),define("dijit/a11yclick",["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(e,t,i,n){
function r(t){
if((t.keyCode===e.ENTER||t.keyCode===e.SPACE)&&!/input|button|textarea/i.test(t.target.nodeName))for(var i=t.target;i;i=i.parentNode)if(i.dojoClick)return!0
}var o;i(document,"keydown",function(e){
r(e)?(o=e.target,e.preventDefault()):o=null}),i(document,"keyup",function(e){
r(e)&&e.target==o&&(o=null,i.emit(e.target,"click",{cancelable:!0,bubbles:!0,
ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,
_origType:e.type}))});var a=function(e,t){return e.dojoClick=!0,i(e,"click",t)}
;return a.click=a,a.press=function(r,o){var a=i(r,n.press,function(e){
("mousedown"!=e.type||t.isLeft(e))&&o(e)}),s=i(r,"keydown",function(t){
t.keyCode!==e.ENTER&&t.keyCode!==e.SPACE||o(t)});return{remove:function(){
a.remove(),s.remove()}}},a.release=function(r,o){
var a=i(r,n.release,function(e){("mouseup"!=e.type||t.isLeft(e))&&o(e)
}),s=i(r,"keyup",function(t){t.keyCode!==e.ENTER&&t.keyCode!==e.SPACE||o(t)})
;return{remove:function(){a.remove(),s.remove()}}},a.move=n.move,a
}),define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(e,t,i,n,r,o){
var a=n("dijit._OnDijitClickMixin",null,{connect:function(e,t,i){
return this.inherited(arguments,[e,"ondijitclick"==t?o:t,i])}})
;return a.a11yclick=o,a
}),define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(e,t,i,n,r,o,a){
t.add("rtl-adjust-position-for-verticalScrollBar",function(e,t){
var n=i.body(t),o=a.create("div",{style:{overflow:"scroll",overflowX:"visible",
direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",
width:"64px",height:"64px"}},n,"last"),s=a.create("div",{style:{
overflow:"hidden",direction:"ltr"}},o,"last"),l=0!=r.position(s).x
;return o.removeChild(s),n.removeChild(o),l
}),t.add("position-fixed-support",function(e,t){
var n=i.body(t),o=a.create("span",{style:{visibility:"hidden",position:"fixed",
left:"1px",top:"1px"}},n,"last"),s=a.create("span",{style:{position:"fixed",
left:"0",top:"0"}},o,"last"),l=r.position(s).x!=r.position(o).x
;return o.removeChild(s),n.removeChild(o),l});var s={getBox:function(e){
e=e||i.doc
;var n,o,a="BackCompat"==e.compatMode?i.body(e):e.documentElement,l=r.docScroll(e)
;if(t("touch")){var u=s.get(e)
;n=u.innerWidth||a.clientWidth,o=u.innerHeight||a.clientHeight
}else n=a.clientWidth,o=a.clientHeight;return{l:l.x,t:l.y,w:n,h:o}},
get:function(e){if(t("ie")&&s!==document.parentWindow){
e.parentWindow.execScript("document._parentWindow = window;","Javascript")
;var i=e._parentWindow;return e._parentWindow=null,i}
return e.parentWindow||e.defaultView},scrollIntoView:function(e,a){try{
e=n.byId(e)
;var s=e.ownerDocument||i.doc,l=i.body(s),u=s.documentElement||l.parentNode,c=t("ie"),h=t("webkit")
;if(e==l||e==u)return
;if(!(t("mozilla")||c||h||t("opera")||t("trident"))&&"scrollIntoView"in e)return void e.scrollIntoView(!1)
;var d="BackCompat"==s.compatMode,f=Math.min(l.clientWidth||u.clientWidth,u.clientWidth||l.clientWidth),p=Math.min(l.clientHeight||u.clientHeight,u.clientHeight||l.clientHeight),m=h||d?l:u,g=a||r.position(e),v=e.parentNode,y=function(e){
return!(c<=6||7==c&&d)&&(t("position-fixed-support")&&"fixed"==o.get(e,"position").toLowerCase())
};if(y(e))return;for(;v;){v==l&&(v=m)
;var b=r.position(v),_=y(v),x="rtl"==o.getComputedStyle(v).direction.toLowerCase()
;if(v==m)b.w=f,
b.h=p,m==u&&c&&x&&(b.x+=m.offsetWidth-b.w),(b.x<0||!c||c>=9)&&(b.x=0),
(b.y<0||!c||c>=9)&&(b.y=0);else{var w=r.getPadBorderExtents(v)
;b.w-=w.w,b.h-=w.h,b.x+=w.l,b.y+=w.t;var C=v.clientWidth,S=b.w-C
;C>0&&S>0&&(x&&t("rtl-adjust-position-for-verticalScrollBar")&&(b.x+=S),
b.w=C),C=v.clientHeight,S=b.h-C,C>0&&S>0&&(b.h=C)}
_&&(b.y<0&&(b.h+=b.y,b.y=0),b.x<0&&(b.w+=b.x,
b.x=0),b.y+b.h>p&&(b.h=p-b.y),b.x+b.w>f&&(b.w=f-b.x))
;var k,D,M=g.x-b.x,N=g.y-b.y,T=M+g.w-b.w,A=N+g.h-b.h
;T*M>0&&(v.scrollLeft||v==m||v.scrollWidth>v.offsetHeight)&&(k=Math[M<0?"max":"min"](M,T),
x&&(8==c&&!d||c>=9)&&(k=-k),
D=v.scrollLeft,v.scrollLeft+=k,k=v.scrollLeft-D,g.x-=k),
A*N>0&&(v.scrollTop||v==m||v.scrollHeight>v.offsetHeight)&&(k=Math.ceil(Math[N<0?"max":"min"](N,A)),
D=v.scrollTop,v.scrollTop+=k,k=v.scrollTop-D,g.y-=k),v=v!=m&&!_&&v.parentNode}
}catch(t){console.error("scrollIntoView: "+t),e.scrollIntoView(!1)}}}
;return t("extend-dojo")&&e.setObject("dojo.window",s),s
}),define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(e,t,i,n,r,o,a){
var s={_isElementShown:function(e){var t=n.get(e)
;return"hidden"!=t.visibility&&"collapsed"!=t.visibility&&"none"!=t.display&&"hidden"!=i.get(e,"type")
},hasDefaultTabStop:function(e){switch(e.nodeName.toLowerCase()){case"a":
return i.has(e,"href");case"area":case"button":case"input":case"object":
case"select":case"textarea":return!0;case"iframe":var t;try{
var n=e.contentDocument;if("designMode"in n&&"on"==n.designMode)return!0
;t=n.body}catch(i){try{t=e.contentWindow.document.body}catch(e){return!1}}
return t&&("true"==t.contentEditable||t.firstChild&&"true"==t.firstChild.contentEditable)
;default:return"true"==e.contentEditable}},effectiveTabIndex:function(e){
return i.get(e,"disabled")?void 0:i.has(e,"tabIndex")?+i.get(e,"tabIndex"):s.hasDefaultTabStop(e)?0:void 0
},isTabNavigable:function(e){return s.effectiveTabIndex(e)>=0},
isFocusable:function(e){return s.effectiveTabIndex(e)>=-1},
_getTabNavigable:function(e){function t(e){
return e&&"input"==e.tagName.toLowerCase()&&e.type&&"radio"==e.type.toLowerCase()&&e.name&&e.name.toLowerCase()
}function n(e){return d[t(e)]||e}
var r,a,l,u,c,h,d={},f=s._isElementShown,p=s.effectiveTabIndex,m=function(e){
for(var n=e.firstChild;n;n=n.nextSibling)if(!(1!=n.nodeType||o("ie")<=9&&"HTML"!==n.scopeName)&&f(n)){
var s=p(n);if(s>=0){
0==s?(r||(r=n),a=n):s>0&&((!l||s<u)&&(u=s,l=n),(!c||s>=h)&&(h=s,c=n));var g=t(n)
;i.get(n,"checked")&&g&&(d[g]=n)}"SELECT"!=n.nodeName.toUpperCase()&&m(n)}}
;return f(e)&&m(e),{first:n(r),last:n(a),lowest:n(l),highest:n(c)}},
getFirstInTabbingOrder:function(e,i){var n=s._getTabNavigable(t.byId(e,i))
;return n.lowest?n.lowest:n.first},getLastInTabbingOrder:function(e,i){
var n=s._getTabNavigable(t.byId(e,i));return n.last?n.last:n.highest}}
;return o("extend-dojo")&&r.mixin(a,s),s
}),define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g){
var v,y=t([h,a],{curNode:null,activeStack:[],constructor:function(){
var t=s.hitch(this,function(e){
i.isDescendant(this.curNode,e)&&this.set("curNode",null),
i.isDescendant(this.prevNode,e)&&this.set("prevNode",null)})
;e.before(o,"empty",t),e.before(o,"destroy",t)},registerIframe:function(e){
return this.registerWin(e.contentWindow,e)},registerWin:function(e,t){
var i=this,n=e.document&&e.document.body;if(n){
var r=l(e.document,"mousedown, touchstart",function(e){
i._justMouseDowned=!0,setTimeout(function(){i._justMouseDowned=!1
},0),e&&e.target&&null==e.target.parentNode||i._onTouchNode(t||e.target,"mouse")
}),o=l(n,"focusin",function(e){if(v=(new Date).getTime(),e.target.tagName){
var n=e.target.tagName.toLowerCase()
;"#document"!=n&&"body"!=n&&(p.isFocusable(e.target)?i._onFocusNode(t||e.target):i._onTouchNode(t||e.target))
}}),a=l(n,"focusout",function(e){
(new Date).getTime()<v+100||i._onBlurNode(t||e.target)});return{
remove:function(){r.remove(),o.remove(),a.remove(),r=o=a=null,n=null}}}},
_onBlurNode:function(e){
this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),
this._clearFocusTimer=setTimeout(s.hitch(this,function(){
this.set("prevNode",this.curNode),this.set("curNode",null)
}),0),this._justMouseDowned||(this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),
this._clearActiveWidgetsTimer=setTimeout(s.hitch(this,function(){
delete this._clearActiveWidgetsTimer,this._setStack([])}),0))},
_onTouchNode:function(e,t){
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),
delete this._clearActiveWidgetsTimer),
r.contains(e,"dijitPopup")&&(e=e.firstChild);var i=[];try{for(;e;){
var o=n.get(e,"dijitPopupParent")
;if(o)e=m.byId(o).domNode;else if(e.tagName&&"body"==e.tagName.toLowerCase()){
if(e===d.body())break;e=f.get(e.ownerDocument).frameElement}else{
var a=e.getAttribute&&e.getAttribute("widgetId"),s=a&&m.byId(a)
;!s||"mouse"==t&&s.get("disabled")||i.unshift(a),e=e.parentNode}}}catch(e){}
this._setStack(i,t)},_onFocusNode:function(e){
e&&9!=e.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),
delete this._clearFocusTimer),
this._onTouchNode(e),e!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",e)))},_setStack:function(e,t){
var i=this.activeStack,n=i.length-1,r=e.length-1;if(e[r]!=i[n]){
this.set("activeStack",e);var o,a
;for(a=n;a>=0&&i[a]!=e[a];a--)(o=m.byId(i[a]))&&(o._hasBeenBlurred=!0,
o.set("focused",!1),
o._focusManager==this&&o._onBlur(t),this.emit("widget-blur",o,t))
;for(a++;a<=r;a++)(o=m.byId(e[a]))&&(o.set("focused",!0),
o._focusManager==this&&o._onFocus(t),this.emit("widget-focus",o,t))}},
focus:function(e){if(e)try{e.focus()}catch(e){}}}),b=new y;u(function(){
var e=b.registerWin(f.get(document));c("ie")&&l(window,"unload",function(){
e&&(e.remove(),e=null)})}),g.focus=function(e){b.focus(e)}
;for(var _ in b)/^_/.test(_)||(g.focus[_]="function"==typeof b[_]?s.hitch(b,_):b[_])
;return b.watch(function(e,t,i){g.focus[e]=i}),b
}),define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,t,i,n){
return n.extend(t,{focused:!1,onFocus:function(){},onBlur:function(){},
_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}
}),i("dijit._FocusMixin",null,{_focusManager:e})
}),define("dojo/uacss",["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(e,t,i,n,r){
var o=r.doc.documentElement,a=n("ie"),s=n("opera"),l=Math.floor,u=n("ff"),c=e.boxModel.replace(/-/,""),h={
dj_quirks:n("quirks"),dj_opera:s,dj_khtml:n("khtml"),dj_webkit:n("webkit"),
dj_safari:n("safari"),dj_chrome:n("chrome"),dj_gecko:n("mozilla"),
dj_ios:n("ios"),dj_android:n("android")}
;a&&(h.dj_ie=!0,h["dj_ie"+l(a)]=!0,h.dj_iequirks=n("quirks")),
u&&(h["dj_ff"+l(u)]=!0),h["dj_"+c]=!0;var d="";for(var f in h)h[f]&&(d+=f+" ")
;return o.className=t.trim(o.className+" "+d),i(function(){if(!e.isBodyLtr()){
var i="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ")
;o.className=t.trim(o.className+" "+i+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))
}}),n
}),define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(e,t,i,n,r,o,a){
return r.add("highcontrast",function(){var i=a.doc.createElement("div")
;i.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(t.blankGif||e.toUrl("./resources/blank.gif"))+");",
a.body().appendChild(i)
;var o=n.getComputedStyle(i),s=o.backgroundImage,l=o.borderTopColor==o.borderRightColor||s&&("none"==s||"url(invalid-url:)"==s)
;return r("ie")<=8?i.outerHTML="":a.body().removeChild(i),l}),o(function(){
r("highcontrast")&&i.add(a.body(),"dj_a11y")}),r
}),define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(e,t,i,n){
return i(function(){t("highcontrast")&&e.add(n.body(),"dijit_a11y")}),t
}),define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(e,t,i,n,r,o,a,s,l,u,c,h,d){
function f(){}function p(e){return function(t,n,r,o){
return t&&"string"==typeof n&&t[n]==f?t.on(n.substring(2).toLowerCase(),a.hitch(r,o)):e.apply(i,arguments)
}}e.around(i,"connect",p),o.connect&&e.around(o,"connect",p)
;var m=n("dijit._Widget",[c,h,d],{onClick:f,onDblClick:f,onKeyDown:f,
onKeyPress:f,onKeyUp:f,onMouseDown:f,onMouseMove:f,onMouseOut:f,onMouseOver:f,
onMouseLeave:f,onMouseEnter:f,onMouseUp:f,constructor:function(e){
this._toConnect={}
;for(var t in e)this[t]===f&&(this._toConnect[t.replace(/^on/,"").toLowerCase()]=e[t],
delete e[t])},postCreate:function(){this.inherited(arguments)
;for(var e in this._toConnect)this.on(e,this._toConnect[e])
;delete this._toConnect},on:function(e,t){
return this[this._onMap(e)]===f?i.connect(this.domNode,e.toLowerCase(),this,t):this.inherited(arguments)
},_setFocusedAttr:function(e){this._focused=e,this._set("focused",e)},
setAttribute:function(e,t){
o.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0"),
this.set(e,t)},attr:function(e,t){
return arguments.length>=2||"object"==typeof e?this.set.apply(this,arguments):this.get(e)
},getDescendants:function(){
return o.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0"),
this.containerNode?s("[widgetId]",this.containerNode).map(u.byNode):[]},
_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},
onClose:function(){return!0}})
;return r("dijit-legacy-requires")&&l(0,function(){var e=["dijit/_base"]
;require(e)}),m
}),define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(e,t,i,n){
return t("dijit._Container",null,{buildRendering:function(){
this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode)
},addChild:function(e,t){var n=this.containerNode;if(t>0){
for(n=n.firstChild;t>0;)1==n.nodeType&&t--,n=n.nextSibling
;n?t="before":(n=this.containerNode,t="last")}
i.place(e.domNode,n,t),this._started&&!e._started&&e.startup()},
removeChild:function(e){if("number"==typeof e&&(e=this.getChildren()[e]),e){
var t=e.domNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},
hasChildren:function(){return this.getChildren().length>0},
_getSiblingOfChild:function(t,i){
n.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0")
;var r=this.getChildren();return r[e.indexOf(r,t)+i]},
getIndexOfChild:function(t){return e.indexOf(this.getChildren(),t)}})
}),define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(e,t,i,n,r){
var o,a=new e;return i(function(){var e=r.getBox()
;if(a._rlh=t(window,"resize",function(){var t=r.getBox()
;e.h==t.h&&e.w==t.w||(e=t,a.emit("resize"))}),8==n("ie")){
var i=screen.deviceXDPI;setInterval(function(){
screen.deviceXDPI!=i&&(i=screen.deviceXDPI,a.emit("resize"))},500)}
n("ios")&&(t(document,"focusin",function(e){o=e.target
}),t(document,"focusout",function(e){o=null}))}),a.getEffectiveBox=function(e){
var t=r.getBox(e),i=o&&o.tagName&&o.tagName.toLowerCase()
;if(n("ios")&&o&&!o.readOnly&&("textarea"==i||"input"==i&&/^(color|email|number|password|search|tel|text|url)$/.test(o.type))){
t.h*=0==orientation||180==orientation?.66:.4;var a=o.getBoundingClientRect()
;t.h=Math.max(t.h,a.top+a.height)}return t},a
}),define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(e,t,i,n,r){
function o(e){return e.substring(0,1).toUpperCase()+e.substring(1)}
function a(e,t){var n=e.resize?e.resize(t):i.setMarginBox(e.domNode,t)
;n?r.mixin(e,n):(r.mixin(e,i.getMarginBox(e.domNode)),r.mixin(e,t))}var s={
marginBox2contentBox:function(e,t){
var r=n.getComputedStyle(e),o=i.getMarginExtents(e,r),a=i.getPadBorderExtents(e,r)
;return{l:n.toPixelValue(e,r.paddingLeft),t:n.toPixelValue(e,r.paddingTop),
w:t.w-(o.w+a.w),h:t.h-(o.h+a.h)}},layoutChildren:function(i,n,s,l,u){
n=r.mixin({},n),t.add(i,"dijitLayoutContainer"),s=e.filter(s,function(e){
return"center"!=e.region&&"client"!=e.layoutAlign
}).concat(e.filter(s,function(e){
return"center"==e.region||"client"==e.layoutAlign})),e.forEach(s,function(e){
var i=e.domNode,r=e.region||e.layoutAlign
;if(!r)throw new Error("No region setting for "+e.id);var s=i.style
;s.left=n.l+"px",s.top=n.t+"px",s.position="absolute",t.add(i,"dijitAlign"+o(r))
;var c={}
;l&&l==e.id&&(c["top"==e.region||"bottom"==e.region?"h":"w"]=u),"leading"==r&&(r=e.isLeftToRight()?"left":"right"),
"trailing"==r&&(r=e.isLeftToRight()?"right":"left"),
"top"==r||"bottom"==r?(c.w=n.w,
a(e,c),n.h-=e.h,"top"==r?n.t+=e.h:s.top=n.t+n.h+"px"):"left"==r||"right"==r?(c.h=n.h,
a(e,c),
n.w-=e.w,"left"==r?n.l+=e.w:s.left=n.l+n.w+"px"):"client"!=r&&"center"!=r||a(e,n)
})}};return r.setObject("dijit.layout.utils",s),s
}),define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(e,t,i,n,r,o,a,s,l,u,c){
return t("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,
isLayoutContainer:!0,startup:function(){if(!this._started){
var e=this.getParent()
;this._childOfLayoutWidget=e&&e.isLayoutContainer,this._needLayout=!this._childOfLayoutWidget,
this.inherited(arguments),
this._isShown()&&this._onShow(),this._childOfLayoutWidget||this.own(u.on("resize",o.hitch(this,"resize")))
}},_checkIfSingleChild:function(){var e=[],t=!1
;a("> *",this.containerNode).some(function(i){var n=l.byNode(i)
;n&&n.resize?e.push(n):!/script|link|style/i.test(i.nodeName)&&i.offsetHeight&&(t=!0)
}),
this._singleChild=1!=e.length||t?null:e[0],i.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)
},resize:function(e,t){this._resizeCalled=!0,this._scheduleLayout(e,t)},
_scheduleLayout:function(e,t){
this._isShown()?this._layout(e,t):(this._needLayout=!0,
this._changeSize=e,this._resultSize=t)},_layout:function(e,t){
delete this._needLayout,
this._wasShown||!1===this.open||this._onShow(),e&&n.setMarginBox(this.domNode,e)
;var i=this.containerNode;if(i===this.domNode){var r=t||{}
;o.mixin(r,e||{}),"h"in r&&"w"in r||(r=o.mixin(n.getMarginBox(i),r)),
this._contentBox=c.marginBox2contentBox(i,r)
}else this._contentBox=n.getContentBox(i);this._layoutChildren()},
_layoutChildren:function(){
if(this.doLayout&&this._checkIfSingleChild(),this._singleChild&&this._singleChild.resize){
var e=this._contentBox||n.getContentBox(this.containerNode)
;this._singleChild.resize({w:e.w,h:e.h})
}else for(var t,i=this.getChildren(),r=0;t=i[r++];)t.resize&&t.resize()},
_isShown:function(){
if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled
;if("open"in this)return this.open;var e=this.domNode,t=this.domNode.parentNode
;return"none"!=e.style.display&&"hidden"!=e.style.visibility&&!i.contains(e,"dijitHidden")&&t&&t.style&&"none"!=t.style.display
},_onShow:function(){
this._wasShown=!0,this._needLayout&&this._layout(this._changeSize,this._resultSize),
this.inherited(arguments)}})
}),define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(e,t,i,n,r,o,a){
var s=0,l={_secureForInnerHtml:function(e){
return e.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/gi,"")
},_emptyNode:o.empty,_setNodeContent:function(e,i){
if(o.empty(e),i)if("string"==typeof i&&(i=o.toDom(i,e.ownerDocument)),
!i.nodeType&&t.isArrayLike(i))for(var n=i.length,r=0;r<i.length;r=n==i.length?r+1:0)o.place(i[r],e,"last");else o.place(i,e,"last")
;return e},_ContentSetter:n("dojo.html._ContentSetter",null,{node:"",content:"",
id:"",cleanContent:!1,extractContent:!1,parseContent:!1,
parserScope:e._scopeName,startup:!0,constructor:function(e,i){
t.mixin(this,e||{}),
i=this.node=r.byId(this.node||i),this.id||(this.id=["Setter",i?i.id||i.tagName:"",s++].join("_"))
},set:function(e,t){
void 0!==e&&(this.content=e),t&&this._mixin(t),this.onBegin(),this.setContent()
;var i=this.onEnd();return i&&i.then?i:this.node},setContent:function(){
var e=this.node
;if(!e)throw new Error(this.declaredClass+": setContent given no node");try{
e=l._setNodeContent(e,this.content)}catch(i){var t=this.onContentError(i);try{
e.innerHTML=t}catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)
}}this.node=e},empty:function(){
this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),
delete this.parseDeferred),
this.parseResults&&this.parseResults.length&&(i.forEach(this.parseResults,function(e){
e.destroy&&e.destroy()}),delete this.parseResults),o.empty(this.node)},
onBegin:function(){var e=this.content
;if(t.isString(e)&&(this.cleanContent&&(e=l._secureForInnerHtml(e)),
this.extractContent)){var i=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im)
;i&&(e=i[1])}return this.empty(),this.content=e,this.node},onEnd:function(){
return this.parseContent&&this._parse(),this.node},tearDown:function(){
delete this.parseResults,
delete this.parseDeferred,delete this.node,delete this.content},
onContentError:function(e){return"Error occurred setting content: "+e},
onExecError:function(e){return"Error occurred executing scripts: "+e},
_mixin:function(e){var t,i={};for(t in e)t in i||(this[t]=e[t])},
_parse:function(){var e=this.node;try{var t={}
;i.forEach(["dir","lang","textDir"],function(e){this[e]&&(t[e]=this[e])},this)
;var n=this;this.parseDeferred=a.parse({rootNode:e,noStart:!this.startup,
inherited:t,scope:this.parserScope}).then(function(e){return n.parseResults=e
},function(e){n._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)
})}catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(e,t,i){var n=this["on"+e+"Error"].call(this,t)
;i?console.error(i,t):n&&l._setNodeContent(this.node,n,!0)}}),
set:function(e,i,n){
if(void 0==i&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),
i=""),n){return new l._ContentSetter(t.mixin(n,{content:i,node:e})).set()}
return l._setNodeContent(e,i,!0)}};return t.setObject("dojo.html",l),l
}),define("dojo/i18n",["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./has!host-browser?./_base/xhr","./json","module"],function(e,t,i,n,r,o,a,s,l){
i.add("dojo-preload-i18n-Api",1),i.add("dojo-v1x-i18n-Api",1)
;var u=e.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,h=function(e,t,i,n){
for(var r=[i+n],o=t.split("-"),a="",s=0;s<o.length;s++)a+=(a?"-":"")+o[s],
e&&!e[a]||(r.push(i+a+"/"+n),r.specificity=a);return r},d={},f=function(t,i,n){
return n=n?n.toLowerCase():e.locale,
t=t.replace(/\./g,"/"),i=i.replace(/\./g,"/"),
/root/i.test(n)?t+"/nls/"+i:t+"/nls/"+n+"/"+i},p=e.getL10nName=function(e,t,i){
return e=l.id+"!"+f(e,t,i)},m=function(e,t,i,n,r,a){e([t],function(s){
var l=o.clone(s.root||s.ROOT),u=h(!s._v1x&&s,r,i,n);e(u,function(){
for(var e=1;e<u.length;e++)l=o.mixin(o.clone(l),arguments[e])
;d[t+"/"+r]=l,l.$locale=u.specificity,a()})})},g=function(e,t){
return/^\./.test(e)?t(e):e},v=function(e){var t=r.extraLocale||[]
;return t=o.isArray(t)?t:[t],t.push(e),t},y=function(t,r,a,l){
if(l&&l.isBuild)return a();if(i("dojo-preload-i18n-Api")){
var u=t.split("*"),h="preload"==u[1]
;if(h&&(d[t]||(d[t]=1,S(u[2],s.parse(u[3]),1,r)),a(1)),h||k(t,r,a))return}
var f=c.exec(t),p=f[1]+"/",g=f[5]||f[4],y=p+g,b=f[5]&&f[4],_=b||e.locale||"",x=y+"/"+_,w=b?[_]:v(_),C=w.length,M=function(){
--C||a(o.delegate(d[x]))};n.forEach(w,function(e){var t=y+"/"+e
;i("dojo-preload-i18n-Api")&&D(t),d[t]?M():m(r,y,p,g,e,M)})}
;if(i("dojo-unit-tests"))var b=u.unitTests=[]
;if(i("dojo-preload-i18n-Api")||i("dojo-v1x-i18n-Api"))var _=u.normalizeLocale=function(t){
var i=t?t.toLowerCase():e.locale;return"root"==i?"ROOT":i},x=function(e,n){
return!i("dojo-sync-loader")||!i("dojo-v1x-i18n-Api")||n.isXdUrl(t.toUrl(e+".js"))
},w=0,C=[],S=u._preloadLocalizations=function(i,r,o,a){function s(e,t){
x(e,a)||o?a([e],t):T([e],t,a)}function l(e,t){for(var i=e.split("-");i.length;){
if(t(i.join("-")))return;i.pop()}t("ROOT")}function u(e){e=_(e),l(e,function(e){
if(n.indexOf(r,e)>=0){var o=i.replace(/\./g,"/")+"_"+e
;return w++,s(o,function(i){for(var n in i)d[t.toAbsMid(n)+"/"+e]=i[n]
;for(--w;!w&&C.length;)y.apply(null,C.shift())}),!0}return!1})}
a=a||t,u(),n.forEach(e.config.extraLocale,u)},k=function(e,t,i){
return w&&C.push([e,t,i]),w},D=function(){};if(i("dojo-v1x-i18n-Api")){
var M={},N=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),T=function(e,t,i){
var r=[];n.forEach(e,function(e){function t(t){var i=N(t,D,e,M)
;i===M?r.push(d[n]=M.result):(i instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+n,i),
i={}),r.push(d[n]=/nls\/[^\/]+\/[^\/]+$/.test(n)?i:{root:i,_v1x:1}))}
var n=i.toUrl(e+".js");if(d[n])r.push(d[n]);else{var o=i.syncLoadNls(e)
;if(o)r.push(o);else if(a)a.get({url:n,sync:!0,load:t,error:function(){
r.push(d[n]={})}});else try{i.getText(n,!0,t)}catch(e){r.push(d[n]={})}}
}),t&&t.apply(null,r)};D=function(t){
for(var i,n=t.split("/"),r=e.global[n[0]],o=1;r&&o<n.length-1;r=r[n[o++]]);
return r&&(i=r[n[o]],i||(i=r[n[o].replace(/-/g,"_")]),i&&(d[t]=i)),i
},u.getLocalization=function(e,i,n){var r,o=f(e,i,n)
;return y(o,x(o,t)?t:function(e,i){T(e,i,t)},function(e){r=e}),r
},i("dojo-unit-tests")&&b.push(function(e){
e.register("tests.i18n.unit",function(e){var t
;t=N("{prop:1}",D,"nonsense",M),e.is({prop:1
},t),e.is(void 0,t[1]),t=N("({prop:1})",D,"nonsense",M),e.is({prop:1
},t),e.is(void 0,t[1]),t=N("{'prop-x':1}",D,"nonsense",M),e.is({"prop-x":1
},t),e.is(void 0,t[1]),t=N("({'prop-x':1})",D,"nonsense",M),e.is({"prop-x":1
},t),
e.is(void 0,t[1]),t=N("define({'prop-x':1})",D,"nonsense",M),e.is(M,t),e.is({
"prop-x":1},M.result),t=N("define('some/module', {'prop-x':1})",D,"nonsense",M),
e.is(M,t),e.is({"prop-x":1
},M.result),t=N("this is total nonsense and should throw an error",D,"nonsense",M),
e.is(t instanceof Error,!0)})})}return o.mixin(u,{dynamic:!0,normalize:g,load:y,
cache:d,getL10nName:p})
}),define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g){
return u("dijit.layout.ContentPane",[i,n,r],{href:"",content:"",
extractContent:!1,parseOnLoad:!0,parserScope:e._scopeName,preventCache:!1,
preload:!1,refreshOnShow:!1,
loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",
errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,
_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(e,t,i){
var n=new i(e,t)
;return!n.href&&n._contentSetter&&n._contentSetter.parseDeferred&&!n._contentSetter.parseDeferred.isFulfilled()?n._contentSetter.parseDeferred.then(function(){
return n}):n},create:function(e,i){
if((!e||!e.template)&&i&&!("href"in e)&&!("content"in e)){i=h.byId(i)
;for(var n=i.ownerDocument.createDocumentFragment();i.firstChild;)n.appendChild(i.firstChild)
;e=t.delegate(e,{content:n})}this.inherited(arguments,[e,i])},
postMixInProperties:function(){this.inherited(arguments)
;var e=m.getLocalization("dijit","loading",this.lang)
;this.loadingMessage=o.substitute(this.loadingMessage,e),
this.errorMessage=o.substitute(this.errorMessage,e)},buildRendering:function(){
this.inherited(arguments),this.containerNode||(this.containerNode=this.domNode),
this.domNode.removeAttribute("title")},startup:function(){
this.inherited(arguments),
this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){
e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)
},this)},_startChildren:function(){l.forEach(this.getChildren(),function(e){
e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)
}),this._contentSetter&&l.forEach(this._contentSetter.parseResults,function(e){
e._started||e._destroyed||!t.isFunction(e.startup)||(e.startup(),e._started=!0)
},this)},setHref:function(t){
return e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0"),
this.set("href",t)},_setHrefAttr:function(e){
return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),
this.onLoadDeferred.then(t.hitch(this,"onLoad")),
this._set("href",e),this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0,
this.onLoadDeferred},setContent:function(t){
e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0"),
this.set("content",t)},_setContentAttr:function(e){
return this._set("href",""),this.cancel(),
this.onLoadDeferred=new c(t.hitch(this,"cancel")),
this._created&&this.onLoadDeferred.then(t.hitch(this,"onLoad")),
this._setContent(e||""),this._isDownloaded=!1,this.onLoadDeferred},
_getContentAttr:function(){return this.containerNode.innerHTML},
cancel:function(){
this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel(),delete this._xhrDfd,
this.onLoadDeferred=null},destroy:function(){
this.cancel(),this.inherited(arguments)},destroyRecursive:function(e){
this._beingDestroyed||this.inherited(arguments)},_onShow:function(){
if(this.inherited(arguments),
this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()
},refresh:function(){
return this.cancel(),this.onLoadDeferred=new c(t.hitch(this,"cancel")),
this.onLoadDeferred.then(t.hitch(this,"onLoad")),
this._load(),this.onLoadDeferred},_load:function(){
this._setContent(this.onDownloadStart(),!0);var e=this,i={
preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"
};t.isObject(this.ioArgs)&&t.mixin(i,this.ioArgs)
;var n,r=this._xhrDfd=(this.ioMethod||p.get)(i);r.then(function(t){n=t;try{
return e._isDownloaded=!0,e._setContent(t,!1)}catch(t){e._onError("Content",t)}
},function(t){return r.canceled||e._onError("Download",t),delete e._xhrDfd,t
}).then(function(){return e.onDownloadEnd(),delete e._xhrDfd,n
}),delete this._hrefChanged},_onLoadHandler:function(e){this._set("isLoaded",!0)
;try{this.onLoadDeferred.resolve(e)}catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message)}
},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()
}catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message)
}},destroyDescendants:function(e){this.isLoaded&&this._onUnloadHandler()
;var t=this._contentSetter;l.forEach(this.getChildren(),function(t){
t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),t._destroyed=!0
}),t&&(l.forEach(t.parseResults,function(t){
t._destroyed||(t.destroyRecursive?t.destroyRecursive(e):t.destroy&&t.destroy(e),
t._destroyed=!0)
}),delete t.parseResults),e||f.empty(this.containerNode),delete this._singleChild
},_setContent:function(e,i){this.destroyDescendants();var n=this._contentSetter
;n&&n instanceof a._ContentSetter||(n=this._contentSetter=new a._ContentSetter({
node:this.containerNode,_onError:t.hitch(this,this._onError),
onContentError:t.hitch(this,function(e){var t=this.onContentError(e);try{
this.containerNode.innerHTML=t}catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e)}
})}));var r=t.mixin({cleanContent:this.cleanContent,
extractContent:this.extractContent,parseContent:!e.domNode&&this.parseOnLoad,
parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,
textDir:this.textDir
},this._contentSetterParams||{}),o=n.set(t.isObject(e)&&e.domNode?e.domNode:e,r),s=this
;return g(o&&o.then?o:n.parseDeferred,function(){
delete s._contentSetterParams,i||(s._started&&(s._startChildren(),
s._scheduleLayout()),s._onLoadHandler(e))})},_onError:function(e,t,i){
this.onLoadDeferred.reject(t);var n=this["on"+e+"Error"].call(this,t)
;i?console.error(i,t):n&&this._setContent(n,!0)},onLoad:function(){},
onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},
onContentError:function(){},onDownloadError:function(){return this.errorMessage
},onDownloadEnd:function(){}})
}),define("dojo/regexp",["./_base/kernel","./_base/lang"],function(e,t){var i={}
;return t.setObject("dojo.regexp",i),i.escapeString=function(e,t){
return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){
return t&&-1!=t.indexOf(e)?e:"\\"+e})},i.buildGroupRE=function(e,t,n){
if(!(e instanceof Array))return t(e)
;for(var r=[],o=0;o<e.length;o++)r.push(t(e[o]));return i.group(r.join("|"),n)},
i.group=function(e,t){return"("+(t?"?:":"")+e+")"},i
}),define("dojo/cookie",["./_base/kernel","./regexp"],function(e,t){
return e.cookie=function(e,i,n){var r,o=document.cookie;if(1==arguments.length){
var a=o.match(new RegExp("(?:^|; )"+t.escapeString(e)+"=([^;]*)"))
;r=a?decodeURIComponent(a[1]):void 0}else{n=n||{};var s=n.expires
;if("number"==typeof s){var l=new Date
;l.setTime(l.getTime()+24*s*60*60*1e3),s=n.expires=l}
s&&s.toUTCString&&(n.expires=s.toUTCString()),i=encodeURIComponent(i)
;var u,c=e+"="+i;for(u in n){c+="; "+u;var h=n[u];!0!==h&&(c+="="+h)}
document.cookie=c}return r},e.cookie.isSupported=function(){
return"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),
navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),
navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1
})),navigator.cookieEnabled},e.cookie
}),define("dijit/_Contained",["dojo/_base/declare","./registry"],function(e,t){
return e("dijit._Contained",null,{_getSibling:function(e){var i=this.domNode;do{
i=i[e+"Sibling"]}while(i&&1!=i.nodeType);return i&&t.byNode(i)},
getPreviousSibling:function(){return this._getSibling("previous")},
getNextSibling:function(){return this._getSibling("next")},
getIndexInParent:function(){var e=this.getParent()
;return e&&e.getIndexOfChild?e.getIndexOfChild(this):-1}})
}),define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,i,n,r,o,a,s,l){
return o("dijit.layout._LayoutWidget",[t,i,n],{baseClass:"dijitLayoutContainer",
isLayoutContainer:!0,buildRendering:function(){
this.inherited(arguments),a.add(this.domNode,"dijitContainer")},
startup:function(){if(!this._started){this.inherited(arguments)
;var t=this.getParent&&this.getParent()
;t&&t.isLayoutContainer||(this.resize(),this.own(r.on("resize",e.hitch(this,"resize"))))
}},resize:function(t,i){var n=this.domNode;t&&s.setMarginBox(n,t);var r=i||{}
;e.mixin(r,t||{}),"h"in r&&"w"in r||(r=e.mixin(s.getMarginBox(n),r))
;var o=l.getComputedStyle(n),a=s.getMarginExtents(n,o),u=s.getBorderExtents(n,o),c=this._borderBox={
w:r.w-(a.w+u.w),h:r.h-(a.h+u.h)},h=s.getPadExtents(n,o);this._contentBox={
l:l.toPixelValue(n,o.paddingLeft),t:l.toPixelValue(n,o.paddingTop),w:c.w-h.w,
h:c.h-h.h},this.layout()},layout:function(){},_setupChild:function(e){
var t=this.baseClass+"-child "+(e.baseClass?this.baseClass+"-"+e.baseClass:"")
;a.add(e.domNode,t)},addChild:function(e,t){
this.inherited(arguments),this._started&&this._setupChild(e)},
removeChild:function(e){
var t=this.baseClass+"-child"+(e.baseClass?" "+this.baseClass+"-"+e.baseClass:"")
;a.remove(e.domNode,t),this.inherited(arguments)}})
}),define("dijit/layout/LayoutContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(e,t,i,n,r,o,a,s){
var l=t("dijit.layout.LayoutContainer",a,{design:"headline",
baseClass:"dijitLayoutContainer",startup:function(){
this._started||(e.forEach(this.getChildren(),this._setupChild,this),
this.inherited(arguments))},_setupChild:function(e){
this.inherited(arguments),e.region&&i.add(e.domNode,this.baseClass+"Pane")},
_getOrderedChildren:function(){var t=e.map(this.getChildren(),function(e,t){
return{pane:e,
weight:["center"==e.region?1/0:0,e.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(e.region)?1:-1),t]
}},this);return t.sort(function(e,t){
for(var i=e.weight,n=t.weight,r=0;r<i.length;r++)if(i[r]!=n[r])return i[r]-n[r]
;return 0}),e.map(t,function(e){return e.pane})},layout:function(){
s.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},
addChild:function(e,t){this.inherited(arguments),this._started&&this.layout()},
removeChild:function(e){
this.inherited(arguments),this._started&&this.layout(),i.remove(e.domNode,this.baseClass+"Pane"),
n.set(e.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",
position:"static"
}),n.set(e.domNode,/top|bottom/.test(e.region)?"width":"height","auto")}})
;return l.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0
},r.extend(o,l.ChildWidgetProperties),l
}),define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
var g=i("dijit.layout._Splitter",[d,f],{live:!0,
templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',
constructor:function(){this._handlers=[]},postMixInProperties:function(){
this.inherited(arguments),
this.horizontal=/top|bottom/.test(this.region),this._factor=/top|left/.test(this.region)?1:-1,
this._cookieName=this.container.id+"_"+this.region},buildRendering:function(){
if(this.inherited(arguments),
n.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")),
this.container.persist){var e=t(this._cookieName)
;e&&(this.child.domNode.style[this.horizontal?"height":"width"]=e)}},
_computeMaxSize:function(){
var t=this.horizontal?"h":"w",i=o.getMarginBox(this.child.domNode)[t],n=e.filter(this.container.getChildren(),function(e){
return"center"==e.region})[0],r=o.getContentBox(n.domNode)[t]-10
;return Math.min(this.child.maxSize,i+r)},_startDrag:function(e){
this.cover||(this.cover=r.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after")),
n.add(this.cover,"dijitSplitterCoverActive"),
this.fake&&r.destroy(this.fake),(this._resize=this.live)||((this.fake=this.domNode.cloneNode(!0)).removeAttribute("id"),
n.add(this.domNode,"dijitSplitterShadow"),
r.place(this.fake,this.domNode,"after")),
n.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active"),
this.fake&&n.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover")
;var t=this._factor,i=this.horizontal,s=i?"pageY":"pageX",h=e[s],d=this.domNode.style,f=i?"h":"w",p=a.getComputedStyle(this.child.domNode),m=o.getMarginBox(this.child.domNode,p)[f],g=this._computeMaxSize(),v=Math.max(this.child.minSize,o.getPadBorderExtents(this.child.domNode,p)[f]+10),y=this.region,b="top"==y||"bottom"==y?"top":"left",_=parseInt(d[b],10),x=this._resize,w=l.hitch(this.container,"_layoutChildren",this.child.id),C=this.ownerDocument
;this._handlers=this._handlers.concat([u(C,c.move,this._drag=function(e,i){
var n=e[s]-h,r=t*n+m,o=Math.max(Math.min(r,g),v)
;(x||i)&&w(o),d[b]=n+_+t*(o-r)+"px"}),u(C,"dragstart",function(e){
e.stopPropagation(),e.preventDefault()
}),u(this.ownerDocumentBody,"selectstart",function(e){
e.stopPropagation(),e.preventDefault()
}),u(C,c.release,l.hitch(this,"_stopDrag"))]),
e.stopPropagation(),e.preventDefault()},_onMouse:function(e){
var t="mouseover"==e.type||"mouseenter"==e.type
;n.toggle(this.domNode,"dijitSplitterHover",t),
n.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",t)},
_stopDrag:function(e){try{
this.cover&&n.remove(this.cover,"dijitSplitterCoverActive"),
this.fake&&r.destroy(this.fake),
n.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow"),
this._drag(e),this._drag(e,!0)}finally{this._cleanupHandlers(),delete this._drag
}
this.container.persist&&t(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{
expires:365})},_cleanupHandlers:function(){
for(var e;e=this._handlers.pop();)e.remove()},_onKeyDown:function(e){
this._resize=!0;var t=this.horizontal,i=1;switch(e.keyCode){
case t?s.UP_ARROW:s.LEFT_ARROW:i*=-1;case t?s.DOWN_ARROW:s.RIGHT_ARROW:break
;default:return}
var n=o.getMarginSize(this.child.domNode)[t?"h":"w"]+this._factor*i
;this.container._layoutChildren(this.child.id,Math.max(Math.min(n,this._computeMaxSize()),this.child.minSize)),
e.stopPropagation(),e.preventDefault()},destroy:function(){
this._cleanupHandlers(),
delete this.child,delete this.container,delete this.cover,
delete this.fake,this.inherited(arguments)}}),v=i("dijit.layout._Gutter",[d,f],{
templateString:'<div class="dijitGutter" role="presentation"></div>',
postMixInProperties:function(){
this.inherited(arguments),this.horizontal=/top|bottom/.test(this.region)},
buildRendering:function(){
this.inherited(arguments),n.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"))
}}),y=i("dijit.layout.BorderContainer",p,{gutters:!0,liveSplitters:!0,
persist:!1,baseClass:"dijitBorderContainer",_splitterClass:g,
postMixInProperties:function(){
this.gutters||(this.baseClass+="NoGutter"),this.inherited(arguments)},
_setupChild:function(e){this.inherited(arguments)
;var t=e.region,i=e.isLeftToRight()
;if("leading"==t&&(t=i?"left":"right"),"trailing"==t&&(t=i?"right":"left"),
t&&"center"!=t&&(e.splitter||this.gutters)&&!e._splitterWidget){
var n=e.splitter?this._splitterClass:v;l.isString(n)&&(n=l.getObject(n))
;var o=new n({id:e.id+"_splitter",container:this,child:e,region:t,
live:this.liveSplitters});o.isSplitter=!0,e._splitterWidget=o
;var a="bottom"==t||t==(this.isLeftToRight()?"right":"left")
;r.place(o.domNode,e.domNode,a?"before":"after"),o.startup()}},
layout:function(){this._layoutChildren()},removeChild:function(e){
var t=e._splitterWidget
;t&&(t.destroy(),delete e._splitterWidget),this.inherited(arguments)},
getChildren:function(){return e.filter(this.inherited(arguments),function(e){
return!e.isSplitter})},getSplitter:function(t){
return e.filter(this.getChildren(),function(e){return e.region==t
})[0]._splitterWidget},resize:function(e,t){if(!this.cs||!this.pe){
var i=this.domNode
;this.cs=a.getComputedStyle(i),this.pe=o.getPadExtents(i,this.cs),
this.pe.r=a.toPixelValue(i,this.cs.paddingRight),
this.pe.b=a.toPixelValue(i,this.cs.paddingBottom),a.set(i,"padding","0px")}
this.inherited(arguments)},_layoutChildren:function(t,i){
if(this._borderBox&&this._borderBox.h){var n=[]
;e.forEach(this._getOrderedChildren(),function(e){
n.push(e),e._splitterWidget&&n.push(e._splitterWidget)});var r={l:this.pe.l,
t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h}
;m.layoutChildren(this.domNode,r,n,t,i)}},destroyRecursive:function(){
e.forEach(this.getChildren(),function(e){var t=e._splitterWidget;t&&t.destroy(),
delete e._splitterWidget}),this.inherited(arguments)}})
;return y.ChildWidgetProperties={splitter:!1,minSize:0,maxSize:1/0
},l.mixin(y.ChildWidgetProperties,p.ChildWidgetProperties),
l.extend(h,y.ChildWidgetProperties),y._Splitter=g,y._Gutter=v,y
}),define("dojo/dnd/common",["../sniff","../_base/kernel","../_base/lang","../dom"],function(e,t,i,n){
var r=i.getObject("dojo.dnd",!0);return r.getCopyKeyState=function(t){
return t[e("mac")?"metaKey":"ctrlKey"]},r._uniqueId=0,r.getUniqueId=function(){
var e;do{e=t._scopeName+"Unique"+ ++r._uniqueId}while(n.byId(e));return e
},r._empty={},r.isFormElement=function(e){var t=e.target
;return 3==t.nodeType&&(t=t.parentNode),
" a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0
},r
}),define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(e,t,i,n,r,o){
var a={}
;e.setObject("dojo.dnd.autoscroll",a),a.getViewport=o.getBox,a.V_TRIGGER_AUTOSCROLL=32,
a.H_TRIGGER_AUTOSCROLL=32,a.V_AUTOSCROLL_VALUE=16,a.H_AUTOSCROLL_VALUE=16
;var s,l=i.doc,u=1/0,c=1/0;return a.autoScrollStart=function(e){
l=e,s=o.getBox(l);var t=i.body(l).parentNode
;u=Math.max(t.scrollHeight-s.h,0),c=Math.max(t.scrollWidth-s.w,0)
},a.autoScroll=function(e){var t=s||o.getBox(l),n=i.body(l).parentNode,r=0,h=0
;e.clientX<a.H_TRIGGER_AUTOSCROLL?r=-a.H_AUTOSCROLL_VALUE:e.clientX>t.w-a.H_TRIGGER_AUTOSCROLL&&(r=Math.min(a.H_AUTOSCROLL_VALUE,c-n.scrollLeft)),
e.clientY<a.V_TRIGGER_AUTOSCROLL?h=-a.V_AUTOSCROLL_VALUE:e.clientY>t.h-a.V_TRIGGER_AUTOSCROLL&&(h=Math.min(a.V_AUTOSCROLL_VALUE,u-n.scrollTop)),
window.scrollBy(r,h)},a._validNodes={div:1,p:1,td:1},a._validOverflow={auto:1,
scroll:1},a.autoScrollNodes=function(e){
for(var o,s,l,u,c,h,d=0,f=0,p=e.target;p;){
if(1==p.nodeType&&p.tagName.toLowerCase()in a._validNodes){
var m=r.getComputedStyle(p),g=m.overflow.toLowerCase()in a._validOverflow,v=m.overflowX.toLowerCase()in a._validOverflow,y=m.overflowY.toLowerCase()in a._validOverflow
;if((g||v||y)&&(o=n.getContentBox(p,m),
s=n.position(p,!0)),(g||v)&&(l=Math.min(a.H_TRIGGER_AUTOSCROLL,o.w/2),
c=e.pageX-s.x,
(t("webkit")||t("opera"))&&(c+=i.body().scrollLeft),d=0,c>0&&c<o.w&&(c<l?d=-l:c>o.w-l&&(d=l),
p.scrollLeft,
p.scrollLeft=p.scrollLeft+d)),(g||y)&&(u=Math.min(a.V_TRIGGER_AUTOSCROLL,o.h/2),
h=e.pageY-s.y,
(t("webkit")||t("opera"))&&(h+=i.body().scrollTop),f=0,h>0&&h<o.h&&(h<u?f=-u:h>o.h-u&&(f=u),
p.scrollTop,p.scrollTop=p.scrollTop+f)),d||f)return}try{p=p.parentNode}catch(e){
p=null}}a.autoScroll(e)},a
}),define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(e,t,i,n,r,o,a,s,l,u,c,h,d){
return t("dojo.dnd.Mover",[l],{constructor:function(e,t,n){function r(e){
e.preventDefault(),e.stopPropagation()}this.node=o.byId(e),this.marginBox={
l:t.pageX,t:t.pageY},this.mouseButton=t.button
;var a=this.host=n,s=e.ownerDocument
;this.events=[u(s,c.move,i.hitch(this,"onFirstMove")),u(s,c.move,i.hitch(this,"onMouseMove")),u(s,c.release,i.hitch(this,"onMouseUp")),u(s,"dragstart",r),u(s.body,"selectstart",r)],
d.autoScrollStart(s),a&&a.onMoveStart&&a.onMoveStart(this)},
onMouseMove:function(e){d.autoScroll(e);var t=this.marginBox
;this.host.onMove(this,{l:t.l+e.pageX,t:t.t+e.pageY
},e),e.preventDefault(),e.stopPropagation()},onMouseUp:function(e){
(n("webkit")&&n("mac")&&2==this.mouseButton?0==e.button:this.mouseButton==e.button)&&this.destroy(),
e.preventDefault(),e.stopPropagation()},onFirstMove:function(e){
var t,i,n=this.node.style,o=this.host;switch(n.position){case"relative":
case"absolute":
t=Math.round(parseFloat(n.left))||0,i=Math.round(parseFloat(n.top))||0;break
;default:n.position="absolute"
;var l=a.getMarginBox(this.node),u=r.doc.body,c=s.getComputedStyle(u),h=a.getMarginBox(u,c),d=a.getContentBox(u,c)
;t=l.l-(d.l-h.l),i=l.t-(d.t-h.t)}
this.marginBox.l=t-this.marginBox.l,this.marginBox.t=i-this.marginBox.t,
o&&o.onFirstMove&&o.onFirstMove(this,e),this.events.shift().remove()},
destroy:function(){e.forEach(this.events,function(e){e.remove()})
;var t=this.host
;t&&t.onMoveStop&&t.onMoveStop(this),this.events=this.node=this.host=null}})
}),define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(e,t,i,n,r,o,a,s,l,u,c,h){
return t("dojo.dnd.Moveable",[o],{handle:"",delay:0,skip:!1,
constructor:function(e,t){
this.node=n.byId(e),t||(t={}),this.handle=t.handle?n.byId(t.handle):null,
this.handle||(this.handle=this.node),
this.delay=t.delay>0?t.delay:0,this.skip=t.skip,
this.mover=t.mover?t.mover:c,this.events=[a(this.handle,l.press,i.hitch(this,"onMouseDown")),a(this.handle,"dragstart",i.hitch(this,"onSelectStart")),a(this.handle,"selectstart",i.hitch(this,"onSelectStart"))]
},markupFactory:function(e,t,i){return new i(t,e)},destroy:function(){
e.forEach(this.events,function(e){e.remove()
}),this.events=this.node=this.handle=null},onMouseDown:function(e){
this.skip&&u.isFormElement(e)||(this.delay?(this.events.push(a(this.handle,l.move,i.hitch(this,"onMouseMove")),a(this.handle,l.release,i.hitch(this,"onMouseUp"))),
this._lastX=e.pageX,
this._lastY=e.pageY):this.onDragDetected(e),e.stopPropagation(),
e.preventDefault())},onMouseMove:function(e){
(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)&&(this.onMouseUp(e),
this.onDragDetected(e)),e.stopPropagation(),e.preventDefault()},
onMouseUp:function(e){for(var t=0;t<2;++t)this.events.pop().remove()
;e.stopPropagation(),e.preventDefault()},onSelectStart:function(e){
this.skip&&u.isFormElement(e)||(e.stopPropagation(),e.preventDefault())},
onDragDetected:function(e){new this.mover(this.node,e,this)},
onMoveStart:function(e){
s.publish("/dnd/move/start",e),r.add(h.body(),"dojoMove"),
r.add(this.node,"dojoMoveItem")},onMoveStop:function(e){
s.publish("/dnd/move/stop",e),
r.remove(h.body(),"dojoMove"),r.remove(this.node,"dojoMoveItem")},
onFirstMove:function(){},onMove:function(e,t){this.onMoving(e,t)
;var i=e.node.style;i.left=t.l+"px",i.top=t.t+"px",this.onMoved(e,t)},
onMoving:function(){},onMoved:function(){}})
}),define("dojo/dnd/move",["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(e,t,i,n,r,o){
var a=e("dojo.dnd.move.constrainedMoveable",o,{constraints:function(){},
within:!1,constructor:function(e,t){
t||(t={}),this.constraints=t.constraints,this.within=t.within},
onFirstMove:function(e){var i=this.constraintBox=this.constraints.call(this,e)
;if(i.r=i.l+i.w,i.b=i.t+i.h,this.within){var n=t.getMarginSize(e.node);i.r-=n.w,
i.b-=n.h}},onMove:function(e,t){var i=this.constraintBox,n=e.node.style
;this.onMoving(e,t),
t.l=t.l<i.l?i.l:i.r<t.l?i.r:t.l,t.t=t.t<i.t?i.t:i.b<t.t?i.b:t.t,n.left=t.l+"px",
n.top=t.t+"px",this.onMoved(e,t)}});return{constrainedMoveable:a,
boxConstrainedMoveable:e("dojo.dnd.move.boxConstrainedMoveable",a,{box:{},
constructor:function(e,t){var i=t&&t.box;this.constraints=function(){return i}}
}),parentConstrainedMoveable:e("dojo.dnd.move.parentConstrainedMoveable",a,{
area:"content",constructor:function(e,n){var r=n&&n.area
;this.constraints=function(){
var e=this.node.parentNode,n=i.getComputedStyle(e),o=t.getMarginBox(e,n)
;if("margin"==r)return o;var a=t.getMarginExtents(e,n);return o.l+=a.l,o.t+=a.t,
o.w-=a.w,
o.h-=a.h,"border"==r?o:(a=t.getBorderExtents(e,n),o.l+=a.l,o.t+=a.t,o.w-=a.w,
o.h-=a.h,
"padding"==r?o:(a=t.getPadExtents(e,n),o.l+=a.l,o.t+=a.t,o.w-=a.w,o.h-=a.h,o))}}
})}
}),define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(e,t,i,n){
var r=e.Color=function(e){e&&this.setColor(e)};return r.named={black:[0,0,0],
silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],
red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],
lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],
blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],
transparent:n.transparentColor||[0,0,0,0]},t.extend(r,{r:255,g:255,b:255,a:1,
_set:function(e,t,i,n){var r=this;r.r=e,r.g=t,r.b=i,r.a=n},setColor:function(e){
return t.isString(e)?r.fromString(e,this):t.isArray(e)?r.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),
e instanceof r||this.sanitize()),this},sanitize:function(){return this},
toRgb:function(){var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this
;return[e.r,e.g,e.b,e.a]},toHex:function(){
return"#"+i.map(["r","g","b"],function(e){var t=this[e].toString(16)
;return t.length<2?"0"+t:t},this).join("")},toCss:function(e){
var t=this,i=t.r+", "+t.g+", "+t.b;return(e?"rgba("+i+", "+t.a:"rgb("+i)+")"},
toString:function(){return this.toCss(!0)}
}),r.blendColors=e.blendColors=function(e,t,n,o){var a=o||new r
;return i.forEach(["r","g","b","a"],function(i){
a[i]=e[i]+(t[i]-e[i])*n,"a"!=i&&(a[i]=Math.round(a[i]))}),a.sanitize()
},r.fromRgb=e.colorFromRgb=function(e,t){
var i=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/)
;return i&&r.fromArray(i[1].split(/\s*,\s*/),t)
},r.fromHex=e.colorFromHex=function(e,t){
var n=t||new r,o=4==e.length?4:8,a=(1<<o)-1
;return e=Number("0x"+e.substr(1)),isNaN(e)?null:(i.forEach(["b","g","r"],function(t){
var i=e&a;e>>=o,n[t]=4==o?17*i:i}),n.a=1,n)
},r.fromArray=e.colorFromArray=function(e,t){var i=t||new r
;return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),
isNaN(i.a)&&(i.a=1),i.sanitize()},r.fromString=e.colorFromString=function(e,t){
var i=r.named[e];return i&&r.fromArray(i,t)||r.fromRgb(e,t)||r.fromHex(e,t)},r
}),
define("dojo/_base/fx",["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(e,t,i,n,r,o,a,s,l){
var u=i.mixin,c={},h=c._Line=function(e,t){this.start=e,this.end=t}
;h.prototype.getValue=function(e){return(this.end-this.start)*e+this.start}
;var d=c.Animation=function(e){
u(this,e),i.isArray(this.curve)&&(this.curve=new h(this.curve[0],this.curve[1]))
};d.prototype=new n,i.extend(d,{duration:350,repeat:0,rate:20,_percent:0,
_startRepeatCount:0,_getStep:function(){var e=this._percent,t=this.easing
;return t?t(e):e},_fire:function(e,i){var n=i||[]
;if(this[e])if(t.debugAtAllCosts)this[e].apply(this,n);else try{
this[e].apply(this,n)}catch(t){
console.error("exception in animation handler for:",e),console.error(t)}
return this},play:function(e,t){var n=this
;if(n._delayTimer&&n._clearTimer(),t)n._stopTimer(),
n._active=n._paused=!1,n._percent=0;else if(n._active&&!n._paused)return n
;n._fire("beforeBegin",[n.node]);var r=e||n.delay,o=i.hitch(n,"_play",t)
;return r>0?(n._delayTimer=setTimeout(o,r),n):(o(),n)},_play:function(e){
var t=this
;t._delayTimer&&t._clearTimer(),t._startTime=(new Date).valueOf(),t._paused&&(t._startTime-=t.duration*t._percent),
t._active=!0,t._paused=!1;var i=t.curve.getValue(t._getStep())
;return t._percent||(t._startRepeatCount||(t._startRepeatCount=t.repeat),
t._fire("onBegin",[i])),t._fire("onPlay",[i]),t._cycle(),t},pause:function(){
var e=this
;return e._delayTimer&&e._clearTimer(),e._stopTimer(),e._active?(e._paused=!0,
e._fire("onPause",[e.curve.getValue(e._getStep())]),e):e},
gotoPercent:function(e,t){var i=this
;return i._stopTimer(),i._active=i._paused=!0,i._percent=e,t&&i.play(),i},
stop:function(e){var t=this
;return t._delayTimer&&t._clearTimer(),t._timer?(t._stopTimer(),
e&&(t._percent=1),
t._fire("onStop",[t.curve.getValue(t._getStep())]),t._active=t._paused=!1,t):t},
status:function(){return this._active?this._paused?"paused":"playing":"stopped"
},_cycle:function(){var e=this;if(e._active){
var t=(new Date).valueOf(),i=0===e.duration?1:(t-e._startTime)/e.duration
;i>=1&&(i=1),
e._percent=i,e.easing&&(i=e.easing(i)),e._fire("onAnimate",[e.curve.getValue(i)]),
e._percent<1?e._startTimer():(e._active=!1,
e.repeat>0?(e.repeat--,e.play(null,!0)):-1==e.repeat?e.play(null,!0):e._startRepeatCount&&(e.repeat=e._startRepeatCount,
e._startRepeatCount=0),
e._percent=0,e._fire("onEnd",[e.node]),!e.repeat&&e._stopTimer())}return e},
_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}})
;var f=0,p=null,m={run:function(){}};i.extend(d,{_startTimer:function(){
this._timer||(this._timer=o.after(m,"run",i.hitch(this,"_cycle"),!0),
f++),p||(p=setInterval(i.hitch(m,"run"),this.rate))},_stopTimer:function(){
this._timer&&(this._timer.remove(),
this._timer=null,f--),f<=0&&(clearInterval(p),p=null,f=0)}})
;var g=a("ie")?function(e){var t=e.style
;t.width.length||"auto"!=l.get(e,"width")||(t.width="auto")}:function(){}
;c._fade=function(e){e.node=s.byId(e.node);var t=u({properties:{}
},e),n=t.properties.opacity={};n.start="start"in t?t.start:function(){
return+l.get(t.node,"opacity")||0},n.end=t.end;var r=c.animateProperty(t)
;return o.after(r,"beforeBegin",i.partial(g,t.node),!0),r},c.fadeIn=function(e){
return c._fade(u({end:1},e))},c.fadeOut=function(e){return c._fade(u({end:0},e))
},c._defaultEasing=function(e){return.5+Math.sin((e+1.5)*Math.PI)/2}
;var v=function(e){this._properties=e;for(var t in e){var i=e[t]
;i.start instanceof r&&(i.tempColor=new r)}}
;return v.prototype.getValue=function(e){var t={}
;for(var n in this._properties){var o=this._properties[n],a=o.start
;a instanceof r?t[n]=r.blendColors(a,o.end,e,o.tempColor).toCss():i.isArray(a)||(t[n]=(o.end-a)*e+a+("opacity"!=n?o.units||"px":0))
}return t},c.animateProperty=function(t){var n=t.node=s.byId(t.node)
;t.easing||(t.easing=e._defaultEasing);var a=new d(t)
;return o.after(a,"beforeBegin",i.hitch(a,function(){function e(e,t){var i={
height:e.offsetHeight,width:e.offsetWidth}[t];return void 0!==i?i:(i=l.get(e,t),
"opacity"==t?+i:s?i:parseFloat(i))}var t={};for(var o in this.properties){
"width"!=o&&"height"!=o||(this.node.display="block");var a=this.properties[o]
;i.isFunction(a)&&(a=a(n)),a=t[o]=u({},i.isObject(a)?a:{end:a
}),i.isFunction(a.start)&&(a.start=a.start(n)),
i.isFunction(a.end)&&(a.end=a.end(n));var s=o.toLowerCase().indexOf("color")>=0
;"end"in a?"start"in a||(a.start=e(n,o)):a.end=e(n,o),s?(a.start=new r(a.start),
a.end=new r(a.end)):a.start="opacity"==o?+a.start:parseFloat(a.start)}
this.curve=new v(t)}),!0),o.after(a,"onAnimate",i.hitch(l,"set",a.node),!0),a
},c.anim=function(e,t,i,n,r,o){return c.animateProperty({node:e,
duration:i||d.prototype.duration,properties:t,easing:n,onEnd:r}).play(o||0)
},a("extend-dojo")&&(u(e,c),e._Animation=d),c
}),define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,t,i,n,r){
var o={}
;return e.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(e){
o[e]=n[e]}),i.mixin(o,{defaultDuration:t.defaultDuration||200}),i.mixin(r,o),r
}),
define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(e,t,i,n,r,o){
var a=o.typematic={_fireEventAndReload:function(){
this._timer=null,this._callback(++this._count,this._node,this._evt),
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay),
this._timer=setTimeout(i.hitch(this,"_fireEventAndReload"),this._currentTimeout)
},trigger:function(e,t,n,r,o,a,s,l){if(o!=this._obj){
this.stop(),this._initialDelay=s||500,
this._subsequentDelay=a||.9,this._minDelay=l||10,
this._obj=o,this._node=n,this._currentTimeout=-1,
this._count=-1,this._callback=i.hitch(t,r),this._evt={faux:!0}
;for(var u in e)if("layerX"!=u&&"layerY"!=u){var c=e[u]
;"function"!=typeof c&&void 0!==c&&(this._evt[u]=c)}this._fireEventAndReload()}
},stop:function(){
this._timer&&(clearTimeout(this._timer),this._timer=null),this._obj&&(this._callback(-1,this._node,this._evt),
this._obj=null)},addKeyListener:function(r,o,s,l,u,c,h){
var d="keyCode"in o?"keydown":"charCode"in o?"keypress":t._keypress,f="keyCode"in o?"keyCode":"charCode"in o?"charCode":"charOrCode",p=[n(r,d,i.hitch(this,function(e){
e[f]!=o[f]||void 0!==o.ctrlKey&&o.ctrlKey!=e.ctrlKey||void 0!==o.altKey&&o.altKey!=e.altKey||void 0!==o.metaKey&&o.metaKey!=(e.metaKey||!1)||void 0!==o.shiftKey&&o.shiftKey!=e.shiftKey?a._obj==o&&a.stop():(e.stopPropagation(),
e.preventDefault(),a.trigger(e,s,r,l,o,u,c,h))
})),n(r,"keyup",i.hitch(this,function(){a._obj==o&&a.stop()}))];return{
remove:function(){e.forEach(p,function(e){e.remove()})}}},
addMouseListener:function(t,o,s,l,u,c){
var h=[n(t,"mousedown",i.hitch(this,function(e){
e.preventDefault(),a.trigger(e,o,t,s,t,l,u,c)
})),n(t,"mouseup",i.hitch(this,function(e){
this._obj&&e.preventDefault(),a.stop()
})),n(t,"mouseout",i.hitch(this,function(e){
this._obj&&e.preventDefault(),a.stop()
})),n(t,"dblclick",i.hitch(this,function(e){
e.preventDefault(),r("ie")<9&&(a.trigger(e,o,t,s,t,l,u,c),
setTimeout(i.hitch(this,a.stop),50))}))];return{remove:function(){
e.forEach(h,function(e){e.remove()})}}},addListener:function(t,i,n,r,o,a,s,l){
var u=[this.addKeyListener(i,n,r,o,a,s,l),this.addMouseListener(t,r,o,a,s,l)]
;return{remove:function(){e.forEach(u,function(e){e.remove()})}}}};return a
}),define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(e,t,i,n,r,o,a,s,l,u,c,h){
var d=t("dijit._CssStateMixin",[],{hovering:!1,active:!1,
_applyAttributes:function(){
this.inherited(arguments),e.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(e){
this.watch(e,o.hitch(this,"_setStateClass"))},this)
;for(var t in this.cssStateNodes||{})this._trackMouseState(this[t],this.cssStateNodes[t])
;this._trackMouseState(this.domNode,this.baseClass),this._setStateClass()},
_cssMouseEvent:function(e){if(!this.disabled)switch(e.type){case"mouseover":
case"MSPointerOver":case"pointerover":
this._set("hovering",!0),this._set("active",this._mouseDown);break
;case"mouseout":case"MSPointerOut":case"pointerout":
this._set("hovering",!1),this._set("active",!1);break;case"mousedown":
case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":
this._set("active",!0);break;case"mouseup":case"dojotouchend":case"MSPointerUp":
case"pointerup":case"keyup":this._set("active",!1)}},_setStateClass:function(){
function t(t){i=i.concat(e.map(i,function(e){return e+t}),"dijit"+t)}
var i=this.baseClass.split(" ");this.isLeftToRight()||t("Rtl")
;var n="mixed"==this.checked?"Mixed":this.checked?"Checked":""
;this.checked&&t(n),
this.state&&t(this.state),this.selected&&t("Selected"),this._opened&&t("Opened"),
this.disabled?t("Disabled"):this.readOnly?t("ReadOnly"):this.active?t("Active"):this.hovering&&t("Hover"),
this.focused&&t("Focused");var r=this.stateNode||this.domNode,o={}
;if(void 0!==r&&null!=r){e.forEach(r.className.split(" "),function(e){o[e]=!0}),
"_stateClasses"in this&&e.forEach(this._stateClasses,function(e){delete o[e]
}),e.forEach(i,function(e){o[e]=!0});var a=[];for(var s in o)a.push(s)
;r.className=a.join(" "),this._stateClasses=i}},
_subnodeCssMouseEvent:function(e,t,i){function r(i){n.toggle(e,t+"Hover",i)}
function o(i){n.toggle(e,t+"Active",i)}function a(i){n.toggle(e,t+"Focused",i)}
if(!this.disabled&&!this.readOnly)switch(i.type){case"mouseover":
case"MSPointerOver":case"pointerover":r(!0);break;case"mouseout":
case"MSPointerOut":case"pointerout":r(!1),o(!1);break;case"mousedown":
case"touchstart":case"MSPointerDown":case"pointerdown":case"keydown":o(!0);break
;case"mouseup":case"MSPointerUp":case"pointerup":case"dojotouchend":case"keyup":
o(!1);break;case"focus":case"focusin":a(!0);break;case"blur":case"focusout":
a(!1)}},_trackMouseState:function(e,t){e._cssState=t}});return s(function(){
function e(e,t,n){
if(!n||!i.isDescendant(n,t))for(var r=t;r&&r!=n;r=r.parentNode)if(r._cssState){
var o=h.getEnclosingWidget(r)
;o&&(r==o.domNode?o._cssMouseEvent(e):o._subnodeCssMouseEvent(r,r._cssState,e))}
}var t,n=u.body();a(n,l.over,function(t){e(t,t.target,t.relatedTarget)
}),a(n,l.out,function(t){e(t,t.target,t.relatedTarget)
}),a(n,c.press,function(i){t=i.target,e(i,t)}),a(n,c.release,function(i){e(i,t),
t=null}),a(n,"focusin, focusout",function(e){var t=e.target
;if(t._cssState&&!t.getAttribute("widgetId")){var i=h.getEnclosingWidget(t)
;i&&i._subnodeCssMouseEvent(t,t._cssState,e)}})}),d
}),define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(e,t,i,n,r,o,a,s,l,u){
return t("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",
type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",
disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",
_setDisabledAttr:function(t){
if(this._set("disabled",t),i.set(this.focusNode,"disabled",t),
this.valueNode&&i.set(this.valueNode,"disabled",t),
this.focusNode.setAttribute("aria-disabled",t?"true":"false"),t){
this._set("hovering",!1),this._set("active",!1)
;var n="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode"
;e.forEach(r.isArray(n)?n:[n],function(e){var t=this[e]
;s("webkit")||u.hasDefaultTabStop(t)?t.setAttribute("tabIndex","-1"):t.removeAttribute("tabIndex")
},this)}else""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},
_onFocus:function(e){
if("mouse"==e&&this.isFocusable())var t=this.own(a(this.focusNode,"focus",function(){
i.remove(),t.remove()
}))[0],i=this.own(a(this.ownerDocumentBody,"mouseup, touchend",r.hitch(this,function(e){
i.remove(),
t.remove(),this.focused&&("touchend"==e.type?this.defer("focus"):this.focus())
})))[0];this.scrollOnFocus&&this.defer(function(){l.scrollIntoView(this.domNode)
}),this.inherited(arguments)},isFocusable:function(){
return!this.disabled&&this.focusNode&&"none"!=n.get(this.domNode,"display")},
focus:function(){if(!this.disabled&&this.focusNode.focus)try{
this.focusNode.focus()}catch(e){}},compare:function(e,t){
return"number"==typeof e&&"number"==typeof t?isNaN(e)&&isNaN(t)?0:e-t:e>t?1:e<t?-1:0
},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(e,t){
void 0!=this._lastValueReported||null!==t&&this._onChangeActive||(this._resetValue=this._lastValueReported=e),
this._pendingOnChange=this._pendingOnChange||typeof e!=typeof this._lastValueReported||0!=this.compare(e,this._lastValueReported),
(this.intermediateChanges||t||void 0===t)&&this._pendingOnChange&&(this._lastValueReported=e,
this._pendingOnChange=!1,
this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){
this._onChangeHandle=null,this.onChange(e)})))},create:function(){
this.inherited(arguments),this._onChangeActive=!0},destroy:function(){
this._onChangeHandle&&(this._onChangeHandle.remove(),
this.onChange(this._lastValueReported)),this.inherited(arguments)}})
}),define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(e,t,i,n,r,o,a,s){
return t("dijit-legacy-requires")&&n(0,function(){
var e=["dijit/form/_FormValueWidget"];require(e)
}),e("dijit.form._FormWidget",[r,a,o,s],{setDisabled:function(e){
i.deprecated("setDisabled("+e+") is deprecated. Use set('disabled',"+e+") instead.","","2.0"),
this.set("disabled",e)},setValue:function(e){
i.deprecated("dijit.form._FormWidget:setValue("+e+") is deprecated.  Use set('value',"+e+") instead.","","2.0"),
this.set("value",e)},getValue:function(){
return i.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0"),
this.get("value")},postMixInProperties:function(){
this.nameAttrSetting=this.name&&!t("msapp")?'name="'+this.name.replace(/"/g,"&quot;")+'"':"",
this.inherited(arguments)},_setTypeAttr:null})
}),define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(e,t,i,n){
var r=e("dijit.form._ButtonMixin"+(i("dojo-bidi")?"_NoBidi":""),null,{label:"",
type:"button",__onClick:function(e){
return e.stopPropagation(),e.preventDefault(),
this.disabled||this.valueNode.click(e),!1},_onClick:function(e){
if(this.disabled)return e.stopPropagation(),e.preventDefault(),!1
;!1===this.onClick(e)&&e.preventDefault();var t=e.defaultPrevented
;if(!t&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var i=this.domNode;i.parentNode;i=i.parentNode){
var r=n.byNode(i);if(r&&"function"==typeof r._onSubmit){
r._onSubmit(e),e.preventDefault(),t=!0;break}}return!t},postCreate:function(){
this.inherited(arguments),t.setSelectable(this.focusNode,!1)},
onClick:function(){return!0},_setLabelAttr:function(e){
this._set("label",e),(this.containerNode||this.focusNode).innerHTML=e}})
;return i("dojo-bidi")&&(r=e("dijit.form._ButtonMixin",r,{
_setLabelAttr:function(){this.inherited(arguments)
;var e=this.containerNode||this.focusNode;this.applyTextDir(e)}})),r
}),define("dojo/text!dijit/form/templates/Button.html",[],function(){
return'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode pentaho-button"\n\t\tdata-dojo-attach-event="ondijitclick:__onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\tdata-dojo-attach-event="onclick:_onClick"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n'
}),
define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(e,t,i,n,r,o,a,s,l,u){
n("dijit-legacy-requires")&&a(0,function(){
e(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])
});var c=t("dijit.form.Button"+(n("dojo-bidi")?"_NoBidi":""),[s,l],{
showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",
type:"class"},baseClass:"dijitButton",templateString:u,
_setValueAttr:"valueNode",_setNameAttr:function(e){
this.valueNode&&this.valueNode.setAttribute("name",e)},_fillContent:function(e){
if(e&&(!this.params||!("label"in this.params))){var t=o.trim(e.innerHTML)
;t&&(this.label=t)}},_setShowLabelAttr:function(e){
this.containerNode&&i.toggle(this.containerNode,"dijitDisplayNone",!e),
this._set("showLabel",e)},setLabel:function(e){
r.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),
this.set("label",e)},_setLabelAttr:function(e){
this.inherited(arguments),this.showLabel||"title"in this.params||(this.titleNode.title=o.trim(this.containerNode.innerText||this.containerNode.textContent||""))
}});return n("dojo-bidi")&&(c=t("dijit.form.Button",c,{
_setLabelAttr:function(e){
this.inherited(arguments),this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)
},_setTextDirAttr:function(e){
this._created&&this.textDir!=e&&(this._set("textDir",e),
this._setLabelAttr(this.label))}})),c
}),define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(e,t,i,n,r,o,a){
return e("dijit.form._FormValueMixin",a,{readOnly:!1,
_setReadOnlyAttr:function(e){
t.set(this.focusNode,"readOnly",e),this._set("readOnly",e)},
postCreate:function(){
this.inherited(arguments),void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)
},_setValueAttr:function(e,t){this._handleOnChange(e,t)},
_handleOnChange:function(e,t){this._set("value",e),this.inherited(arguments)},
undo:function(){this._setValueAttr(this._lastValueReported,!1)},
reset:function(){this._hasBeenBlurred=!1,this._setValueAttr(this._resetValue,!0)
}})
}),define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(e,t,i,n){
return e("dijit.form._FormValueWidget",[i,n],{_layoutHackIE7:function(){
if(7==t("ie"))for(var e=this.domNode,i=e.parentNode,n=e.firstChild||e,r=n.style.filter,o=this;i&&0==i.clientHeight;)!function(){
var e=o.connect(i,"onscroll",function(){
o.disconnect(e),n.style.filter=(new Date).getMilliseconds(),o.defer(function(){
n.style.filter=r})})}(),i=i.parentNode}})
}),define("dojo/text!dijit/form/templates/HorizontalSlider.html",[],function(){
return'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeydown:_onKeyDown, onkeyup:_onKeyUp"\n\trole="presentation"\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\n\t\t\t/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\n\t\t\t\t><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\n\t\t\t\t\t><div class="dijitSliderMoveable dijitSliderMoveableH"\n\t\t\t\t\t\t><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class="dijitReset"\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\n\t\t></td\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\n\t\t\t><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\n\t\t></td\n\t></tr\n\t><tr class="dijitReset"\n\t\t><td class="dijitReset" colspan="2"></td\n\t\t><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\n\t\t><td class="dijitReset" colspan="2"></td\n\t></tr\n></table>\n'
}),
define("dijit/form/HorizontalSlider",["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","dojo/mouse","dojo/on","../_base/manager","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_){
var x=t("dijit.form._SliderMover",c,{onMouseMove:function(e){
var t=this.widget,i=t._abspos
;i||(i=t._abspos=r.position(t.sliderBarContainer,!0),
t._setPixelValue_=s.hitch(t,"_setPixelValue"),t._isReversed_=t._isReversed())
;var n=e[t._mousePixelCoord]-i[t._startingPixelCoord]
;t._setPixelValue_(t._isReversed_?i[t._pixelCount]-n:n,i[t._pixelCount],!1)},
destroy:function(e){c.prototype.destroy.apply(this,arguments);var t=this.widget
;t._abspos=null,t._setValueAttr(t.value,!0)}
}),w=t("dijit.form.HorizontalSlider",[y,b],{templateString:_,value:0,
showButtons:!0,minimum:0,maximum:100,discreteValues:1/0,pageIncrement:2,
clickSelect:!0,slideDuration:p.defaultDuration,_setIdAttr:"",
_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{
incrementButton:"dijitSliderIncrementButton",
decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},
_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",
_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){
this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey||this._setValueAttr(this.value,!0)
},_onKeyDown:function(e){
if(!(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey)){
switch(e.keyCode){case a.HOME:this._setValueAttr(this.minimum,!1);break
;case a.END:this._setValueAttr(this.maximum,!1);break
;case this._descending||this.isLeftToRight()?a.RIGHT_ARROW:a.LEFT_ARROW:
case!1===this._descending?a.DOWN_ARROW:a.UP_ARROW:
case!1===this._descending?a.PAGE_DOWN:a.PAGE_UP:this.increment(e);break
;case this._descending||this.isLeftToRight()?a.LEFT_ARROW:a.RIGHT_ARROW:
case!1===this._descending?a.UP_ARROW:a.DOWN_ARROW:
case!1===this._descending?a.PAGE_UP:a.PAGE_DOWN:this.decrement(e);break;default:
return}e.stopPropagation(),e.preventDefault()}},_onHandleClick:function(e){
this.disabled||this.readOnly||(l("ie")||m.focus(this.sliderHandle),
e.stopPropagation(),e.preventDefault())},_isReversed:function(){
return!this.isLeftToRight()},_onBarClick:function(e){
if(!this.disabled&&!this.readOnly&&this.clickSelect){m.focus(this.sliderHandle),
e.stopPropagation(),e.preventDefault()
;var t=r.position(this.sliderBarContainer,!0),i=e[this._mousePixelCoord]-t[this._startingPixelCoord]
;this._setPixelValue(this._isReversed()?t[this._pixelCount]-i:i,t[this._pixelCount],!0),
this._movable.onMouseDown(e)}},_setPixelValue:function(e,t,i){
if(!this.disabled&&!this.readOnly){var n=this.discreteValues
;(n<=1||n==1/0)&&(n=t),n--;var r=t/n,o=Math.round(e/r)
;this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*o/n+this.minimum,this.maximum),this.minimum),i)
}},_setValueAttr:function(e,t){
this._set("value",e),this.valueNode.value=e,this.focusNode.setAttribute("aria-valuenow",e),
this.inherited(arguments)
;var i=(e-this.minimum)/(this.maximum-this.minimum),r=!1===this._descending?this.remainingBar:this.progressBar,o=!1===this._descending?this.progressBar:this.remainingBar
;if(this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),
t&&this.slideDuration>0&&r.style[this._progressPixelSize]){
var a=this,s={},l=parseFloat(r.style[this._progressPixelSize]),u=this.slideDuration*(i-l/100)
;if(0==u)return;u<0&&(u=0-u),s[this._progressPixelSize]={start:l,end:100*i,
units:"%"},this._inProgressAnim=n.animateProperty({node:r,duration:u,
onAnimate:function(e){
o.style[a._progressPixelSize]=100-parseFloat(e[a._progressPixelSize])+"%"},
onEnd:function(){delete a._inProgressAnim},properties:s
}),this._inProgressAnim.play()
}else r.style[this._progressPixelSize]=100*i+"%",o.style[this._progressPixelSize]=100*(1-i)+"%"
},_bumpValue:function(e,t){if(!this.disabled&&!this.readOnly){
var i=o.getComputedStyle(this.sliderBarContainer),n=r.getContentBox(this.sliderBarContainer,i),a=this.discreteValues
;(a<=1||a==1/0)&&(a=n[this._pixelCount]),a--
;var s=(this.value-this.minimum)*a/(this.maximum-this.minimum)+e
;s<0&&(s=0),s>a&&(s=a),
s=s*(this.maximum-this.minimum)/a+this.minimum,this._setValueAttr(s,t)}},
_onClkBumper:function(e){
this.disabled||this.readOnly||!this.clickSelect||this._setValueAttr(e,!0)},
_onClkIncBumper:function(){
this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},
_onClkDecBumper:function(){
this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},
decrement:function(e){
this._bumpValue(e.keyCode==a.PAGE_DOWN?-this.pageIncrement:-1)},
increment:function(e){this._bumpValue(e.keyCode==a.PAGE_UP?this.pageIncrement:1)
},_mouseWheeled:function(e){
e.stopPropagation(),e.preventDefault(),this._bumpValue(e.wheelDelta<0?-1:1,!0)},
startup:function(){this._started||(e.forEach(this.getChildren(),function(e){
this[e.container]!=this.containerNode&&this[e.container].appendChild(e.domNode)
},this),this.inherited(arguments))},_typematicCallback:function(e,t,i){
-1==e?this._setValueAttr(this.value,!0):this[t==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](i)
},buildRendering:function(){
this.inherited(arguments),this.showButtons&&(this.incrementButton.style.display="",
this.decrementButton.style.display="");var e=h('label[for="'+this.id+'"]')
;e.length&&(e[0].id||(e[0].id=this.id+"_label"),
this.focusNode.setAttribute("aria-labelledby",e[0].id)),
this.focusNode.setAttribute("aria-valuemin",this.minimum),
this.focusNode.setAttribute("aria-valuemax",this.maximum)},
postCreate:function(){
this.inherited(arguments),this.showButtons&&this.own(g.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),g.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500)),
this.own(f(this.domNode,d.wheel,s.hitch(this,"_mouseWheeled")));var e=t(x,{
widget:this});this._movable=new u(this.sliderHandle,{mover:e
}),this._layoutHackIE7()},destroy:function(){
this._movable.destroy(),this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0),
this.inherited(arguments)}});return w._Mover=x,w
}),define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(e,t,i,n,r,o,a,s){
var l=t("dijit.form._TextBoxMixin"+(n("dojo-bidi")?"_NoBidi":""),null,{trim:!1,
uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,
placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints)},
_setValueAttr:function(e,t,i){var n
;void 0!==e&&(n=this.filter(e),"string"!=typeof i&&(i=null===n||"number"==typeof n&&isNaN(n)?"":this.filter(this.format(n,this.constraints)))),
null==i||"number"==typeof i&&isNaN(i)||this.textbox.value==i||(this.textbox.value=i,
this._set("displayedValue",this.get("displayedValue"))),
this.inherited(arguments,[n,t])},displayedValue:"",
_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},
_setDisplayedValueAttr:function(e){
null==e?e="":"string"!=typeof e&&(e=String(e)),
this.textbox.value=e,this._setValueAttr(this.get("value"),void 0),
this._set("displayedValue",this.get("displayedValue"))},format:function(e){
return null==e?"":e.toString?e.toString():e},parse:function(e){return e},
_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,
_onInput:function(e){
this._processInput(e),this.intermediateChanges&&this.defer(function(){
this._handleOnChange(this.get("value"),!1)})},_processInput:function(e){
this._refreshState(),this._set("displayedValue",this.get("displayedValue"))},
postCreate:function(){
this.textbox.setAttribute("value",this.textbox.value),this.inherited(arguments)
;var e=function(e){var t;if("keydown"==e.type){switch(t=e.keyCode){case r.SHIFT:
case r.ALT:case r.CTRL:case r.META:case r.CAPS_LOCK:case r.NUM_LOCK:
case r.SCROLL_LOCK:return}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(t){
case r.NUMPAD_0:case r.NUMPAD_1:case r.NUMPAD_2:case r.NUMPAD_3:case r.NUMPAD_4:
case r.NUMPAD_5:case r.NUMPAD_6:case r.NUMPAD_7:case r.NUMPAD_8:case r.NUMPAD_9:
case r.NUMPAD_MULTIPLY:case r.NUMPAD_PLUS:case r.NUMPAD_ENTER:
case r.NUMPAD_MINUS:case r.NUMPAD_PERIOD:case r.NUMPAD_DIVIDE:return}
if(t>=65&&t<=90||t>=48&&t<=57||t==r.SPACE)return;var i=!1
;for(var n in r)if(r[n]===e.keyCode){i=!0;break}if(!i)return}}
if(t=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode,
t||(t=e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode==r.SPACE?String.fromCharCode(e.keyCode):e.keyCode),
t||(t=229),"keypress"==e.type){if("string"!=typeof t)return
;if((t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||" "===t)&&(e.ctrlKey||e.metaKey||e.altKey))return
}if("input"==e.type){
if(this.__skipInputEvent)return void(this.__skipInputEvent=!1)
}else this.__skipInputEvent=!0;var a,s={faux:!0}
;for(a in e)if("layerX"!=a&&"layerY"!=a){var l=e[a]
;"function"!=typeof l&&void 0!==l&&(s[a]=l)}o.mixin(s,{charOrCode:t,
_wasConsumed:!1,preventDefault:function(){s._wasConsumed=!0,e.preventDefault()},
stopPropagation:function(){e.stopPropagation()}
}),!1===this.onInput(s)&&(s.preventDefault(),
s.stopPropagation()),s._wasConsumed||(this.defer(function(){this._onInput(s)
}),"keypress"==e.type&&e.stopPropagation())}
;this.own(a(this.textbox,"keydown, keypress, paste, cut, input, compositionend",o.hitch(this,e)))
},_blankValue:"",filter:function(e){
return null===e?this._blankValue:"string"!=typeof e?e:(this.trim&&(e=o.trim(e)),
this.uppercase&&(e=e.toUpperCase()),
this.lowercase&&(e=e.toLowerCase()),this.propercase&&(e=e.replace(/[^\s]+/g,function(e){
return e.substring(0,1).toUpperCase()+e.substring(1)})),e)},
_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},
_onBlur:function(e){
this.disabled||(this._setBlurValue(),this.inherited(arguments))},
_isTextSelected:function(){
return this.textbox.selectionStart!=this.textbox.selectionEnd},
_onFocus:function(e){
this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==e&&(this._selectOnClickHandle=a.once(this.domNode,"mouseup, touchend",o.hitch(this,function(e){
this._isTextSelected()||l.selectInputText(this.textbox)
})),this.own(this._selectOnClickHandle),this.defer(function(){
this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),
this._selectOnClickHandle=null)
},500)),this.inherited(arguments),this._refreshState())},reset:function(){
this.textbox.value="",this.inherited(arguments)}})
;return n("dojo-bidi")&&(l=t("dijit.form._TextBoxMixin",l,{
_setValueAttr:function(){
this.inherited(arguments),this.applyTextDir(this.focusNode)},
_setDisplayedValueAttr:function(){
this.inherited(arguments),this.applyTextDir(this.focusNode)},
_onInput:function(){this.applyTextDir(this.focusNode),this.inherited(arguments)}
})),l._setSelectionRange=s._setSelectionRange=function(e,t,i){
e.setSelectionRange&&e.setSelectionRange(t,i)
},l.selectInputText=s.selectInputText=function(e,t,n){
e=i.byId(e),isNaN(t)&&(t=0),isNaN(n)&&(n=e.value?e.value.length:0);try{
e.focus(),l._setSelectionRange(e,t,n)}catch(e){}},l
}),define("dojo/text!dijit/form/templates/TextBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n'
}),
define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(e,t,i,n,r,o,a,s,l,u,c){
var h=e("dijit.form.TextBox"+(a("dojo-bidi")?"_NoBidi":""),[s,l],{
templateString:u,
_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',
_buttonInputDisabled:a("ie")?"disabled":"",baseClass:"dijitTextBox",
postMixInProperties:function(){var e=this.type.toLowerCase()
;(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==e||"file"==e)&&this.templateString==this.constructor.prototype.templateString)&&(this.templateString=this._singleNodeTemplate),
this.inherited(arguments)},postCreate:function(){
this.inherited(arguments),a("ie")<9&&this.defer(function(){try{
var e=i.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){
var n=this.domNode.getElementsByTagName("INPUT")
;if(n)for(var r=0;r<n.length;r++)n[r].style.fontFamily=t}}}catch(e){}})},
_setPlaceHolderAttr:function(e){
this._set("placeHolder",e),this._phspan||(this._attachPoints.push("_phspan"),
this._phspan=t.create("span",{onmousedown:function(e){e.preventDefault()},
className:"dijitPlaceHolder dijitInputField"
},this.textbox,"after"),this.own(o(this._phspan,"touchend, pointerup, MSPointerUp",r.hitch(this,function(){
this.focus()
})))),this._phspan.innerHTML="",this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(e)),
this._updatePlaceHolder()},_onInput:function(e){
this.inherited(arguments),this._updatePlaceHolder()},
_updatePlaceHolder:function(){
this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")
},_setValueAttr:function(e,t,i){
this.inherited(arguments),this._updatePlaceHolder()},
getDisplayedValue:function(){
return n.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0"),
this.get("displayedValue")},setDisplayedValue:function(e){
n.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0"),
this.set("displayedValue",e)},_onBlur:function(e){
this.disabled||(this.inherited(arguments),
this._updatePlaceHolder(),a("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))
},_onFocus:function(e){this.disabled||this.readOnly||(this.inherited(arguments),
this._updatePlaceHolder())}})
;return a("ie")<9&&(h.prototype._isTextSelected=function(){
var e=this.ownerDocument.selection.createRange()
;return e.parentElement()==this.textbox&&e.text.length>0
},c._setSelectionRange=l._setSelectionRange=function(e,t,i){
if(e.createTextRange){var n=e.createTextRange()
;n.collapse(!0),n.moveStart("character",-99999),
n.moveStart("character",t),n.moveEnd("character",i-t),n.select()}
}),a("dojo-bidi")&&(h=e("dijit.form.TextBox",h,{_setPlaceHolderAttr:function(e){
this.inherited(arguments),this.applyTextDir(this._phspan)}})),h
}),define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(e,t,i,n,r,o,a){
function s(n,a,s,l){var u=o.getEffectiveBox(n.ownerDocument)
;n.parentNode&&"body"==String(n.parentNode.tagName).toLowerCase()||r.body(n.ownerDocument).appendChild(n)
;var c=null;e.some(a,function(e){var i=e.corner,r=e.pos,o=0,a={w:{L:u.l+u.w-r.x,
R:r.x-u.l,M:u.w}[i.charAt(1)],h:{T:u.t+u.h-r.y,B:r.y-u.t,M:u.h}[i.charAt(0)]
},h=n.style;if(h.left=h.right="auto",s){var d=s(n,e.aroundCorner,i,a,l)
;o=void 0===d?0:d}var f=n.style,p=f.display,m=f.visibility
;"none"==f.display&&(f.visibility="hidden",f.display="");var g=t.position(n)
;f.display=p,f.visibility=m;var v={L:r.x,R:r.x-g.w,
M:Math.max(u.l,Math.min(u.l+u.w,r.x+(g.w>>1))-g.w)}[i.charAt(1)],y={T:r.y,
B:r.y-g.h,M:Math.max(u.t,Math.min(u.t+u.h,r.y+(g.h>>1))-g.h)
}[i.charAt(0)],b=Math.max(u.l,v),_=Math.max(u.t,y),x=Math.min(u.l+u.w,v+g.w),w=Math.min(u.t+u.h,y+g.h),C=x-b,S=w-_
;return o+=g.w-C+(g.h-S),(null==c||o<c.overflow)&&(c={corner:i,
aroundCorner:e.aroundCorner,x:b,y:_,w:C,h:S,overflow:o,spaceAvailable:a}),!o
}),c.overflow&&s&&s(n,c.aroundCorner,c.corner,c.spaceAvailable,l)
;var h=t.isBodyLtr(n.ownerDocument),d=c.y,f=h?c.x:u.w-c.x-c.w
;/relative|absolute/.test(i.get(r.body(n.ownerDocument),"position"))&&(d-=i.get(r.body(n.ownerDocument),"marginTop"),
f-=(h?1:-1)*i.get(r.body(n.ownerDocument),h?"marginLeft":"marginRight"))
;var p=n.style
;return p.top=d+"px",p[h?"left":"right"]=f+"px",p[h?"right":"left"]="auto",c}
var l={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},u={at:function(t,i,n,r,o){
return s(t,e.map(n,function(e){var t={corner:e,aroundCorner:l[e],pos:{x:i.x,
y:i.y}}
;return r&&(t.pos.x+="L"==e.charAt(1)?r.x:-r.x,t.pos.y+="T"==e.charAt(0)?r.y:-r.y),
t}),o)},around:function(r,o,a,l,u){function c(e,t){D.push({aroundCorner:e,
corner:t,pos:{x:{L:w,R:w+S,M:w+(S>>1)}[e.charAt(1)],y:{T:C,B:C+k,M:C+(k>>1)
}[e.charAt(0)]}})}var h;if("string"==typeof o||"offsetWidth"in o){
if(h=t.position(o,!0),/^(above|below)/.test(a[0])){
var d=t.getBorderExtents(o),f=o.firstChild?t.getBorderExtents(o.firstChild):{
t:0,l:0,b:0,r:0
},p=t.getBorderExtents(r),m=r.firstChild?t.getBorderExtents(r.firstChild):{t:0,
l:0,b:0,r:0}
;h.y+=Math.min(d.t+f.t,p.t+m.t),h.h-=Math.min(d.t+f.t,p.t+m.t)+Math.min(d.b+f.b,p.b+m.b)
}}else h=o
;if(o.parentNode)for(var g="absolute"==i.getComputedStyle(o).position,v=o.parentNode;v&&1==v.nodeType&&"BODY"!=v.nodeName;){
var y=t.position(v,!0),b=i.getComputedStyle(v)
;if(/relative|absolute/.test(b.position)&&(g=!1),
!g&&/hidden|auto|scroll/.test(b.overflow)){
var _=Math.min(h.y+h.h,y.y+y.h),x=Math.min(h.x+h.w,y.x+y.w)
;h.x=Math.max(h.x,y.x),h.y=Math.max(h.y,y.y),h.h=_-h.y,h.w=x-h.x}
"absolute"==b.position&&(g=!0),v=v.parentNode}
var w=h.x,C=h.y,S="w"in h?h.w:h.w=h.width,k="h"in h?h.h:(n.deprecated("place.around: dijit/place.__Rectangle: { x:"+w+", y:"+C+", height:"+h.height+", width:"+S+" } has been deprecated.  Please use { x:"+w+", y:"+C+", h:"+h.height+", w:"+S+" }","","2.0"),
h.h=h.height),D=[];e.forEach(a,function(e){var t=l;switch(e){
case"above-centered":c("TM","BM");break;case"below-centered":c("BM","TM");break
;case"after-centered":t=!t;case"before-centered":c(t?"ML":"MR",t?"MR":"ML")
;break;case"after":t=!t;case"before":
c(t?"TL":"TR",t?"TR":"TL"),c(t?"BL":"BR",t?"BR":"BL");break;case"below-alt":t=!t
;case"below":c(t?"BL":"BR",t?"TL":"TR"),c(t?"BR":"BL",t?"TR":"TL");break
;case"above-alt":t=!t;case"above":
c(t?"TL":"TR",t?"BL":"BR"),c(t?"TR":"TL",t?"BR":"BL");break;default:
c(e.aroundCorner,e.corner)}});var M=s(r,D,u,{w:S,h:k});return M.aroundNodePos=h,
M}};return a.place=u
}),define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(e,t,i,n,r,o,a,s){
s.add("config-bgIframe",!s("touch"));var l=new function(){var t=[]
;this.pop=function(){var o;if(t.length)o=t.pop(),o.style.display="";else{
if(s("ie")<9){
var a=i.dojoBlankHtmlUrl||e.toUrl("dojo/resources/blank.html")||'javascript:""',l="<iframe src='"+a+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>"
;o=document.createElement(l)
}else o=n.create("iframe"),o.src='javascript:""',o.className="dijitBackgroundIframe",
o.setAttribute("role","presentation"),r.set(o,"opacity",.1);o.tabIndex=-1}
return o},this.push=function(e){e.style.display="none",t.push(e)}}
;return t.BackgroundIframe=function(e){if(!e.id)throw new Error("no id")
;if(s("config-bgIframe")){var t=this.iframe=l.pop()
;e.appendChild(t),s("ie")<7||s("quirks")?(this.resize(e),
this._conn=a(e,"resize",o.hitch(this,"resize",e))):r.set(t,{width:"100%",
height:"100%"})}},o.extend(t.BackgroundIframe,{resize:function(e){
this.iframe&&r.set(this.iframe,{width:e.offsetWidth+"px",
height:e.offsetHeight+"px"})},destroy:function(){
this._conn&&(this._conn.remove(),
this._conn=null),this.iframe&&(l.push(this.iframe),delete this.iframe)}
}),t.BackgroundIframe
}),define("dojo/text!dijit/templates/Tooltip.html",[],function(){
return'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipConnector pentaho-tooltip-contents" data-dojo-attach-point="connectorNode"></div\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n></div>\n'
}),
define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v){
var y=t("dijit._MasterTooltip",[f,p],{duration:h.defaultDuration,
templateString:g,postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode),
this.bgIframe=new m(this.domNode),this.fadeIn=i.fadeIn({node:this.domNode,
duration:this.duration,onEnd:s.hitch(this,"_onShow")}),this.fadeOut=i.fadeOut({
node:this.domNode,duration:this.duration,onEnd:s.hitch(this,"_onHide")})},
show:function(e,t,i,n,r){
if(!this.aroundNode||this.aroundNode!==t||this.containerNode.innerHTML!=e){
if("playing"==this.fadeOut.status())return void(this._onDeck=arguments)
;this.containerNode.innerHTML=e,
r&&this.set("textDir",r),this.containerNode.align=n?"right":"left"
;var o=d.around(this.domNode,t,i&&i.length?i:b.defaultPosition,!n,s.hitch(this,"orient")),l=o.aroundNodePos
;"M"==o.corner.charAt(0)&&"M"==o.aroundCorner.charAt(0)?(this.connectorNode.style.top=l.y+(l.h-this.connectorNode.offsetHeight>>1)-o.y+"px",
this.connectorNode.style.left=""):"M"==o.corner.charAt(1)&&"M"==o.aroundCorner.charAt(1)?this.connectorNode.style.left=l.x+(l.w-this.connectorNode.offsetWidth>>1)-o.x+"px":(this.connectorNode.style.left="",
this.connectorNode.style.top=""),
a.set(this.domNode,"opacity",0),this.fadeIn.play(),
this.isShowingNow=!0,this.aroundNode=t}},orient:function(e,t,i,n,r){
this.connectorNode.style.top="";var a=n.h,s=n.w;e.className="dijitTooltip "+{
"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft",
"TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow",
"BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft",
"BR-TR":"dijitTooltipBelow dijitTooltipABRight",
"TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight",
"BL-BR":"dijitTooltipLeft"}[t+"-"+i],this.domNode.style.width="auto"
;var l=o.position(this.domNode);9==c("ie")&&(l.w+=2)
;var u=Math.min(Math.max(s,1),l.w);if(o.setMarginBox(this.domNode,{w:u
}),"B"==i.charAt(0)&&"B"==t.charAt(0)){
var h=o.position(e),d=this.connectorNode.offsetHeight;if(h.h>a){
var f=a-(r.h+d>>1)
;this.connectorNode.style.top=f+"px",this.connectorNode.style.bottom=""
}else this.connectorNode.style.bottom=Math.min(Math.max(r.h/2-d/2,0),h.h-d)+"px",
this.connectorNode.style.top=""
}else this.connectorNode.style.top="",this.connectorNode.style.bottom=""
;return Math.max(0,l.w-s)},_onShow:function(){
c("ie")&&(this.domNode.style.filter="")},hide:function(e){
this._onDeck&&this._onDeck[1]==e?this._onDeck=null:this.aroundNode===e&&(this.fadeIn.stop(),
this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play())},
_onHide:function(){
this.domNode.style.cssText="",this.containerNode.innerHTML="",
this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}})
;c("dojo-bidi")&&y.extend({_setAutoTextDir:function(t){
this.applyTextDir(t),e.forEach(t.children,function(e){this._setAutoTextDir(e)
},this)},_setTextDirAttr:function(e){
this._set("textDir",e),"auto"==e?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir
}}),v.showTooltip=function(t,i,n,r,o){return n&&(n=e.map(n,function(e){return{
after:"after-centered",before:"before-centered"}[e]||e
})),b._masterTT||(v._masterTT=b._masterTT=new y),b._masterTT.show(t,i,n,r,o)
},v.hideTooltip=function(e){return b._masterTT&&b._masterTT.hide(e)}
;var b=t("dijit.Tooltip",f,{label:"",showDelay:400,connectId:[],position:[],
selector:"",_setConnectIdAttr:function(t){
e.forEach(this._connections||[],function(t){e.forEach(t,function(e){e.remove()})
},this),this._connectIds=e.filter(s.isArrayLike(t)?t:t?[t]:[],function(e){
return n.byId(e,this.ownerDocument)
},this),this._connections=e.map(this._connectIds,function(e){
var t=n.byId(e,this.ownerDocument),i=this.selector,r=i?function(e){
return u.selector(i,e)}:function(e){return e},o=this
;return[u(t,r(l.enter),function(){o._onHover(this)
}),u(t,r("focusin"),function(){o._onHover(this)
}),u(t,r(l.leave),s.hitch(o,"_onUnHover")),u(t,r("focusout"),s.hitch(o,"_onUnHover"))]
},this),this._set("connectId",t)},addTarget:function(t){var i=t.id||t
;-1==e.indexOf(this._connectIds,i)&&this.set("connectId",this._connectIds.concat(i))
},removeTarget:function(t){var i=t.id||t,n=e.indexOf(this._connectIds,i)
;n>=0&&(this._connectIds.splice(n,1),this.set("connectId",this._connectIds))},
buildRendering:function(){
this.inherited(arguments),r.add(this.domNode,"dijitTooltipData")},
startup:function(){this.inherited(arguments);var t=this.connectId
;e.forEach(s.isArrayLike(t)?t:[t],this.addTarget,this)},getContent:function(e){
return this.label||this.domNode.innerHTML},_onHover:function(e){
this._showTimer||(this._showTimer=this.defer(function(){this.open(e)
},this.showDelay))},_onUnHover:function(){
this._showTimer&&(this._showTimer.remove(),delete this._showTimer),this.close()
},open:function(e){
this._showTimer&&(this._showTimer.remove(),delete this._showTimer)
;var t=this.getContent(e)
;t&&(b.show(t,e,this.position,!this.isLeftToRight(),this.textDir),
this._connectNode=e,this.onShow(e,this.position))},close:function(){
this._connectNode&&(b.hide(this._connectNode),
delete this._connectNode,this.onHide()),
this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},
onShow:function(){},onHide:function(){},destroy:function(){
this.close(),e.forEach(this._connections||[],function(t){
e.forEach(t,function(e){e.remove()})},this),this.inherited(arguments)}})
;return b._MasterTooltip=y,
b.show=v.showTooltip,b.hide=v.hideTooltip,b.defaultPosition=["after-centered","before-centered"],
b
}),define("dojo/text!dijit/form/templates/ValidationTextBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n'
}),
define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(e,t,i,n,r,o){
var a;return a=e("dijit.form.ValidationTextBox",n,{templateString:o,required:!1,
promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",
message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},
state:"",tooltipPosition:[],_deprecateRegExp:function(e,i){
i!=a.prototype[e]&&(t.deprecated("ValidationTextBox id="+this.id+", set('"+e+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),
this.set("pattern",i))},_setRegExpGenAttr:function(e){
this._deprecateRegExp("regExpGen",e),this._set("regExpGen",this._computeRegexp)
},_setRegExpAttr:function(e){this._deprecateRegExp("regExp",e)},
_setValueAttr:function(){this.inherited(arguments),this._refreshState()},
validator:function(e,t){
return new RegExp("^(?:"+this._computeRegexp(t)+")"+(this.required?"":"?")+"$").test(e)&&(!this.required||!this._isEmpty(e))&&(this._isEmpty(e)||void 0!==this.parse(e,t))
},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)
},isValid:function(){
return this.validator(this.textbox.value,this.get("constraints"))},
_isEmpty:function(e){return(this.trim?/^\s*$/:/^$/).test(e)},
getErrorMessage:function(){
var e="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:this.invalidMessage?this.invalidMessage:this.promptMessage,t="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:e
;return this.required&&this._isEmpty(this.textbox.value)?t:e},
getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,
validate:function(e){var t="",i=this.disabled||this.isValid(e)
;i&&(this._maskValidSubsetError=!0)
;var n=this._isEmpty(this.textbox.value),r=!i&&e&&this._isValidSubset()
;return this._set("state",i?"":((!this._hasBeenBlurred||e)&&n||r)&&(this._maskValidSubsetError||r&&!this._hasBeenBlurred&&e)?"Incomplete":"Error"),
this.focusNode.setAttribute("aria-invalid",i?"false":"true"),
"Error"==this.state?(this._maskValidSubsetError=e&&r,
t=this.getErrorMessage(e)):"Incomplete"==this.state?(t=this.getPromptMessage(e),
this._maskValidSubsetError=!this._hasBeenBlurred||e):n&&(t=this.getPromptMessage(e)),
this.set("message",t),i},displayMessage:function(e){
e&&this.focused?r.show(e,this.domNode,this.tooltipPosition,!this.isLeftToRight()):r.hide(this.domNode)
},_refreshState:function(){
this._created&&this.validate(this.focused),this.inherited(arguments)},
constructor:function(e){
this.constraints={},this.baseClass+=" dijitValidationTextBox"},
startup:function(){this.inherited(arguments),this._refreshState()},
_setConstraintsAttr:function(e){
!e.locale&&this.lang&&(e.locale=this.lang),this._set("constraints",e),
this._refreshState()},_setPatternAttr:function(e){
this._set("pattern",e),this._refreshState()},_computeRegexp:function(e){
var t=this.pattern
;if("function"==typeof t&&(t=t.call(this,e)),t!=this._lastRegExp){var i=""
;this._lastRegExp=t,
".*"!=t&&t.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(e){
switch(e.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":
case"(":i+=e;break;case")":i+="|$)";break;default:i+="(?:"+e+"|$)"}});try{
"".search(i)}catch(e){
i=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)
}this._partialre="^(?:"+i+")$"}return t},postMixInProperties:function(){
this.inherited(arguments),
this.messages=i.getLocalization("dijit.form","validate",this.lang),
this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(e){
this.inherited(arguments),this._refreshState()},_setRequiredAttr:function(e){
this._set("required",e),
this.focusNode.setAttribute("aria-required",e),this._refreshState()},
_setMessageAttr:function(e){this._set("message",e),this.displayMessage(e)},
reset:function(){this._maskValidSubsetError=!0,this.inherited(arguments)},
_onBlur:function(){this.displayMessage(""),this.inherited(arguments)}})
}),define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(e,t,i){
var n=function(r){function o(t){r[t]||(r[t]=function(){var o=arguments
;return i(r,function(i){
return Array.prototype.unshift.call(o,i),n(e[t].apply(e,o))})})}
return r?(r.then&&(r=t.delegate(r)),
o("forEach"),o("filter"),o("map"),r.total||(r.total=i(r,function(e){
return e.length})),r):r};return t.setObject("dojo.store.util.QueryResults",n),n
}),define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(e){
return function(t,i){function n(n){var r=e.filter(n,t),o=i&&i.sort
;if(o&&r.sort("function"==typeof o?o:function(e,t){for(var i,n=0;i=o[n];n++){
var r=e[i.attribute],a=t[i.attribute]
;if(r=null!=r?r.valueOf():r,a=null!=a?a.valueOf():a,
r!=a)return!!i.descending==(null==r||r>a)?-1:1}return 0
}),i&&(i.start||i.count)){var a=r.length
;r=r.slice(i.start||0,(i.start||0)+(i.count||1/0)),r.total=a}return r}
switch(typeof t){default:throw new Error("Can not query with a "+typeof t)
;case"object":case"undefined":var r=t;t=function(e){for(var t in r){var i=r[t]
;if(i&&i.test){if(!i.test(e[t],e))return!1}else if(i!=e[t])return!1}return!0}
;break;case"string":
if(!this[t])throw new Error("No filter function "+t+" was found in store")
;t=this[t];case"function":}return n.matches=t,n}
}),define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,t,i){
return e("dojo.store.Memory",null,{constructor:function(e){
for(var t in e)this[t]=e[t];this.setData(this.data||[])},data:null,
idProperty:"id",index:null,queryEngine:i,get:function(e){
return this.data[this.index[e]]},getIdentity:function(e){
return e[this.idProperty]},put:function(e,t){
var i=this.data,n=this.idProperty,r=e[n]=t&&"id"in t?t.id:n in e?e[n]:Math.random(),o=!1
;if(r in this.index&&(o=!0),t){
if(!1===t.overwrite&&o)throw new Error("Object already exists");if(t.parent){
var a=this.getIdentity(t.parent)
;if(!(a in this.index))throw new Error("Object specified in options.parent does not exists")
;e.parent=a,o&&this.remove(r)}if(t.before){var s=this.getIdentity(t.before)
;return s in this.index&&o&&this.remove(r),
i.splice(this.index[s],0,e),this.setData(i),r}
throw new Error("Object specified in options.before does not exists")}
return o?i[this.index[r]]=e:this.index[r]=i.push(e)-1,r},add:function(e,t){
return(t=t||{}).overwrite=!1,this.put(e,t)},remove:function(e){
var t=this.index,i=this.data
;if(e in t)return i.splice(t[e],1),this.setData(i),!0},query:function(e,i){
return t(this.queryEngine(e,i)(this.data))},setData:function(e){
e.items?(this.idProperty=e.identifier,
e=this.data=e.items):this.data=e,this.index={}
;for(var t=0,i=e.length;t<i;t++)this.index[e[t][this.idProperty]]=t}})
}),define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(e,t,i,n,r,o){
function a(e){return{id:e.value,value:e.value,
name:i.trim(e.innerText||e.textContent||"")}}return e("dijit.form.DataList",r,{
constructor:function(e,r){
this.domNode=t.byId(r),i.mixin(this,e),this.id&&o.add(this),
this.domNode.style.display="none",this.inherited(arguments,[{
data:n("option",this.domNode).map(a)}])},destroy:function(){o.remove(this.id)},
fetchSelectedItem:function(){
var e=n("> option[selected]",this.domNode)[0]||n("> option",this.domNode)[0]
;return e&&a(e)}})
}),define("dijit/form/_SearchMixin",["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(e,t,i,n,r,o,a){
return e("dijit.form._SearchMixin",null,{pageSize:1/0,store:null,
fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",
ignoreCase:!0,_patternToRegExp:function(e){
return new RegExp("^"+e.replace(/(\\.)|(\*)|(\?)|\W/g,function(e,t,i,n){
return i?".*":n?".":t||"\\"+e})+"$",this.ignoreCase?"mi":"m")},
_abortQuery:function(){
this.searchTimer&&(this.searchTimer=this.searchTimer.remove()),
this._queryDeferHandle&&(this._queryDeferHandle=this._queryDeferHandle.remove()),
this._fetchHandle&&(this._fetchHandle.abort&&(this._cancelingQuery=!0,
this._fetchHandle.abort(),
this._cancelingQuery=!1),this._fetchHandle.cancel&&(this._cancelingQuery=!0,
this._fetchHandle.cancel(),this._cancelingQuery=!1),this._fetchHandle=null)},
_processInput:function(e){if(!this.disabled&&!this.readOnly){var i=e.charOrCode
;if(!("type"in e&&"key"==e.type.substring(0,3)&&(e.altKey||(e.ctrlKey||e.metaKey)&&"x"!=i&&"v"!=i||i==t.SHIFT))){
var n=!1;switch(this._prev_key_backspace=!1,i){case t.DELETE:case t.BACKSPACE:
this._prev_key_backspace=!0,this._maskValidSubsetError=!0,n=!0;break;default:
n="string"==typeof i||229==i}
n&&(this.store?this.searchTimer=this.defer("_startSearchFromInput",1):this.onSearch())
}}},onSearch:function(){},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value)},_startSearch:function(e){
this._abortQuery();var t,n=this,a=i.clone(this.query),s={start:0,
count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}
},l=r.substitute(this.queryExpr,[e.replace(/([\\\*\?])/g,"\\$1")]),u=function(){
var e=n._fetchHandle=n.store.query(a,s)
;n.disabled||n.readOnly||t!==n._lastQuery||o(e,function(i){
n._fetchHandle=null,n.disabled||n.readOnly||t!==n._lastQuery||o(e.total,function(e){
i.total=e;var t=n.pageSize
;(isNaN(t)||t>i.total)&&(t=i.total),i.nextPage=function(e){s.direction=e=!1!==e,
s.count=t,
e?(s.start+=i.length,s.start>=i.total&&(s.count=0)):(s.start-=t,s.start<0&&(s.count=Math.max(t+s.start,0),
s.start=0)),s.count<=0?(i.length=0,n.onSearch(i,a,s)):u()},n.onSearch(i,a,s)})
},function(e){
n._fetchHandle=null,n._cancelingQuery||console.error(n.declaredClass+" "+e.toString())
})}
;i.mixin(s,this.fetchProperties),this.store._oldAPI?t=l:(t=this._patternToRegExp(l),
t.toString=function(){return l
}),this._lastQuery=a[this.searchAttr]=t,this._queryDeferHandle=this.defer(u,this.searchDelay)
},constructor:function(){this.query={},this.fetchProperties={}},
postMixInProperties:function(){if(!this.store){var e=this.list
;e&&(this.store=a.byId(e))}this.inherited(arguments)}})
}),define("dijit/form/_AutoCompleterMixin",["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(e,t,i,n,r,o,a,s,l,u,c){
var h=t("dijit.form._AutoCompleterMixin",c,{item:null,autoComplete:!0,
highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,
_stopClickEvents:!1,_getCaretPos:function(e){var t=0
;if("number"==typeof e.selectionStart)t=e.selectionStart;else if(s("ie")){
var i=e.ownerDocument.selection.createRange().duplicate(),n=e.createTextRange()
;i.move("character",0),n.move("character",0);try{
n.setEndPoint("EndToEnd",i),t=String(n.text).replace(/\r/g,"").length}catch(e){}
}return t},_setCaretPos:function(e,t){t=parseInt(t),u.selectInputText(e,t,t)},
_setDisabledAttr:function(e){
this.inherited(arguments),this.domNode.setAttribute("aria-disabled",e?"true":"false")
},_onKey:function(e){if(!(e.charCode>=32)){var t=e.charCode||e.keyCode
;if(t!=n.ALT&&t!=n.CTRL&&t!=n.META&&t!=n.SHIFT){var i=this.dropDown,r=null
;if(this._abortQuery(),
this.inherited(arguments),!(e.altKey||e.ctrlKey||e.metaKey))switch(this._opened&&(r=i.getHighlightedOption()),
t){case n.PAGE_DOWN:case n.DOWN_ARROW:case n.PAGE_UP:case n.UP_ARROW:
this._opened&&this._announceOption(r),e.stopPropagation(),e.preventDefault()
;break;case n.ENTER:if(r){if(r==i.nextButton){
this._nextSearch(1),e.stopPropagation(),e.preventDefault();break}
if(r==i.previousButton){
this._nextSearch(-1),e.stopPropagation(),e.preventDefault();break}
e.stopPropagation(),e.preventDefault()
}else this._setBlurValue(),this._setCaretPos(this.focusNode,this.focusNode.value.length)
;case n.TAB:var o=this.get("displayedValue")
;if(i&&(o==i._messages.previousMessage||o==i._messages.nextMessage))break
;r&&this._selectOption(r);case n.ESCAPE:
this._opened&&(this._lastQuery=null,this.closeDropDown())}}}},
_autoCompleteText:function(e){var t=this.focusNode
;u.selectInputText(t,t.value.length)
;var i=this.ignoreCase?"toLowerCase":"substr"
;if(0==e[i](0).indexOf(this.focusNode.value[i](0))){
var n=this.autoComplete?this._getCaretPos(t):t.value.length
;n+1>t.value.length&&(t.value=e,u.selectInputText(t,n))
}else t.value=e,u.selectInputText(t)},_openResultList:function(e,t,i){
var n=this.dropDown.getHighlightedOption()
;if(this.dropDown.clearResultList(),!e.length&&0==i.start)return void this.closeDropDown()
;this._nextSearch=this.dropDown.onPage=r.hitch(this,function(t){
e.nextPage(-1!==t),this.focus()
}),this.dropDown.createOptions(e,i,r.hitch(this,"_getMenuLabelFromItem")),
this._showResultList(),
"direction"in i?(i.direction?this.dropDown.highlightFirstOption():i.direction||this.dropDown.highlightLastOption(),
n&&this._announceOption(this.dropDown.getHighlightedOption())):!this.autoComplete||this._prev_key_backspace||/^[*]+$/.test(t[this.searchAttr].toString())||this._announceOption(this.dropDown.containerNode.firstChild.nextSibling)
},_showResultList:function(){
this.closeDropDown(!0),this.openDropDown(),this.domNode.setAttribute("aria-expanded","true")
},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},
closeDropDown:function(){
this._abortQuery(),this._opened&&(this.inherited(arguments),
this.domNode.setAttribute("aria-expanded","false"))},_setBlurValue:function(){
var e=this.get("displayedValue"),t=this.dropDown
;!t||e!=t._messages.previousMessage&&e!=t._messages.nextMessage?void 0===this.item?(this.item=null,
this.set("displayedValue",e)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),
this._refreshState()):this._setValueAttr(this._lastValueReported,!0),
this.focusNode.removeAttribute("aria-activedescendant")},
_setItemAttr:function(e,t,i){var n=""
;e&&(i||(i=this.store._oldAPI?this.store.getValue(e,this.searchAttr):e[this.searchAttr]),
n=this._getValueField()!=this.searchAttr?this.store.getIdentity(e):i),
this.set("value",n,t,i,e)},_announceOption:function(e){if(e){var t
;if(e==this.dropDown.nextButton||e==this.dropDown.previousButton)t=e.innerHTML,
this.item=void 0,this.value="";else{
var n=this.dropDown.items[e.getAttribute("item")]
;t=(this.store._oldAPI?this.store.getValue(n,this.searchAttr):n[this.searchAttr]).toString(),
this.set("item",n,!1,t)}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length),
this.focusNode.setAttribute("aria-activedescendant",i.get(e,"id")),
this._autoCompleteText(t)}},_selectOption:function(e){
this.closeDropDown(),e&&this._announceOption(e),
this._setCaretPos(this.focusNode,this.focusNode.value.length),
this._handleOnChange(this.value,!0),
this.focusNode.removeAttribute("aria-activedescendant")},
_startSearchAll:function(){this._startSearch("")},
_startSearchFromInput:function(){this.item=void 0,this.inherited(arguments)},
_startSearch:function(e){if(!this.dropDown){
var t=this.id+"_popup",i=r.isString(this.dropDownClass)?r.getObject(this.dropDownClass,!1):this.dropDownClass
;this.dropDown=new i({onChange:r.hitch(this,this._selectOption),id:t,
dir:this.dir,textDir:this.textDir})}this._lastInput=e,this.inherited(arguments)
},_getValueField:function(){return this.searchAttr},
postMixInProperties:function(){if(this.inherited(arguments),!this.store){
var e=this.srcNodeRef;if(this.store=new l({},e),!("value"in this.params)){
var t=this.item=this.store.fetchSelectedItem();if(t){var i=this._getValueField()
;this.value=this.store._oldAPI?this.store.getValue(t,i):t[i]}}}},
postCreate:function(){var t=o('label[for="'+this.id+'"]')
;t.length&&(t[0].id||(t[0].id=this.id+"_label"),
this.domNode.setAttribute("aria-labelledby",t[0].id)),this.inherited(arguments),
e.after(this,"onSearch",r.hitch(this,"_openResultList"),!0)},
_getMenuLabelFromItem:function(e){
var t=this.labelFunc(e,this.store),i=this.labelType
;return"none"!=this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(t=this.doHighlight(t,this._lastInput),
i="html"),{html:"html"==i,label:t}},doHighlight:function(e,t){
var i=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),n=this.queryExpr.indexOf("${0}")
;return t=a.escapeString(t),
this._escapeHtml(e.replace(new RegExp((0==n?"^":"")+"("+t+")"+(n==this.queryExpr.length-4?"$":""),i),"$1")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')
},_escapeHtml:function(e){
return e=String(e).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")
},reset:function(){this.item=null,this.inherited(arguments)},
labelFunc:function(e,t){
return(t._oldAPI?t.getValue(e,this.labelAttr||this.searchAttr):e[this.labelAttr||this.searchAttr]).toString()
},_setValueAttr:function(e,t,i,n){
this._set("item",n||null),null==e&&(e=""),this.inherited(arguments)}})
;return s("dojo-bidi")&&h.extend({_setTextDirAttr:function(e){
this.inherited(arguments),this.dropDown&&this.dropDown._set("textDir",e)}}),h}),
define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(e,t,i,n,r){
var o=t("dijit.form._ComboBoxMenuMixin"+(n("dojo-bidi")?"_NoBidi":""),null,{
_messages:null,postMixInProperties:function(){
this.inherited(arguments),this._messages=r.getLocalization("dijit.form","ComboBox",this.lang)
},buildRendering:function(){
this.inherited(arguments),this.previousButton.innerHTML=this._messages.previousMessage,
this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(e){
this._set("value",e),this.onChange(e)},onClick:function(e){
e==this.previousButton?(this._setSelectedAttr(null),
this.onPage(-1)):e==this.nextButton?(this._setSelectedAttr(null),
this.onPage(1)):this.onChange(e)},onChange:function(){},onPage:function(){},
onClose:function(){this._setSelectedAttr(null)},_createOption:function(e,t){
var i=this._createMenuItem(),n=t(e)
;return n.html?i.innerHTML=n.label:i.appendChild(i.ownerDocument.createTextNode(n.label)),
""==i.innerHTML&&(i.innerHTML="&#160;"),i},createOptions:function(t,n,r){
this.items=t,
this.previousButton.style.display=0==n.start?"none":"",i.set(this.previousButton,"id",this.id+"_prev"),
e.forEach(t,function(e,t){var n=this._createOption(e,r)
;n.setAttribute("item",t),
i.set(n,"id",this.id+t),this.nextButton.parentNode.insertBefore(n,this.nextButton)
},this);var o=!1
;t.total&&!t.total.then&&-1!=t.total?n.start+n.count<t.total?o=!0:n.start+n.count>t.total&&n.count==t.length&&(o=!0):n.count==t.length&&(o=!0),
this.nextButton.style.display=o?"":"none",
i.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){
for(var e=this.containerNode;e.childNodes.length>2;)e.removeChild(e.childNodes[e.childNodes.length-2])
;this._setSelectedAttr(null)},highlightFirstOption:function(){
this.selectFirstNode()},highlightLastOption:function(){this.selectLastNode()},
selectFirstNode:function(){
this.inherited(arguments),this.getHighlightedOption()==this.previousButton&&this.selectNextNode()
},selectLastNode:function(){
this.inherited(arguments),this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()
},getHighlightedOption:function(){return this.selected}})
;return n("dojo-bidi")&&(o=t("dijit.form._ComboBoxMenuMixin",o,{
_createOption:function(){var e=this.inherited(arguments)
;return this.applyTextDir(e),e}})),o
}),define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(e,t,i){
return e("dijit.form._ListBase",null,{selected:null,_listConnect:function(e,i){
var n=this;return n.own(t(n.containerNode,t.selector(function(e,t,i){
return e.parentNode==i},e),function(e){
/^touch/.test(e.type)||e.preventDefault(),n[i](e,this)}))},
selectFirstNode:function(){
for(var e=this.containerNode.firstChild;e&&"none"==e.style.display;)e=e.nextSibling
;this._setSelectedAttr(e)},selectLastNode:function(){
for(var e=this.containerNode.lastChild;e&&"none"==e.style.display;)e=e.previousSibling
;this._setSelectedAttr(e)},selectNextNode:function(){var e=this.selected;if(e){
for(var t=e.nextSibling;t&&"none"==t.style.display;)t=t.nextSibling
;t?this._setSelectedAttr(t):this.selectFirstNode()}else this.selectFirstNode()},
selectPreviousNode:function(){var e=this.selected;if(e){
for(var t=e.previousSibling;t&&"none"==t.style.display;)t=t.previousSibling
;t?this._setSelectedAttr(t):this.selectLastNode()}else this.selectLastNode()},
_setSelectedAttr:function(e){if(this.selected!=e){var t=this.selected
;t&&this.onDeselect(t),
e&&(i.scrollIntoView(e),this.onSelect(e)),this._set("selected",e)
}else e&&this.onSelect(e)}})
}),define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(e,t,i,n){
return e("dijit.form._ListMouseMixin",n,{postCreate:function(){
this.inherited(arguments),
this.domNode.dojoClick=!0,this.own(t(this.domNode,"mousedown",function(e){
e.preventDefault()
})),this._listConnect("click","_onClick"),this._listConnect("mousedown","_onMouseDown"),
this._listConnect("mouseup","_onMouseUp"),
this._listConnect("mouseover","_onMouseOver"),
this._listConnect("mouseout","_onMouseOut")},_onClick:function(e,t){
this._setSelectedAttr(t),
this._deferredClick&&this._deferredClick.remove(),this._deferredClick=this.defer(function(){
this._deferredClick=null,this.onClick(t)})},_onMouseDown:function(e,t){
this._hoveredNode&&(this.onUnhover(this._hoveredNode),
this._hoveredNode=null),this._isDragging=!0,this._setSelectedAttr(t)},
_onMouseUp:function(e,t){this._isDragging=!1
;var i=this.selected,n=this._hoveredNode;i&&t==i?this.defer(function(){
this._onClick(e,i)}):n&&this.defer(function(){this._onClick(e,n)})},
_onMouseOut:function(e,t){this._hoveredNode&&(this.onUnhover(this._hoveredNode),
this._hoveredNode=null),
this._isDragging&&(this._cancelDrag=(new Date).getTime()+1e3)},
_onMouseOver:function(e,t){if(this._cancelDrag){
(new Date).getTime()>this._cancelDrag&&(this._isDragging=!1),
this._cancelDrag=null}
this._hoveredNode=t,this.onHover(t),this._isDragging&&this._setSelectedAttr(t)}
})
}),define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(e,t,i,n,r,o,a,s){
return e("dijit.form._ComboBoxMenu",[r,o,s,a],{
templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",
baseClass:"dijitComboBoxMenu",postCreate:function(){
this.inherited(arguments),this.isLeftToRight()||(t.add(this.previousButton,"dijitMenuItemRtl"),
t.add(this.nextButton,"dijitMenuItemRtl")),
this.containerNode.setAttribute("role","listbox")},_createMenuItem:function(){
var e=this.ownerDocument.createElement("div")
;return e.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),
e.setAttribute("role","option"),e},onHover:function(e){
t.add(e,"dijitMenuItemHover")},onUnhover:function(e){
t.remove(e,"dijitMenuItemHover")},onSelect:function(e){
t.add(e,"dijitMenuItemSelected")},onDeselect:function(e){
t.remove(e,"dijitMenuItemSelected")},_page:function(e){
var t=0,n=this.domNode.scrollTop,r=i.get(this.domNode,"height")
;for(this.getHighlightedOption()||this.selectNextNode();t<r;){
var o=this.getHighlightedOption();if(e){
if(!o.previousSibling||"none"==o.previousSibling.style.display)break
;this.selectPreviousNode()}else{
if(!o.nextSibling||"none"==o.nextSibling.style.display)break
;this.selectNextNode()}var a=this.domNode.scrollTop;t+=(a-n)*(e?-1:1),n=a}},
handleKey:function(e){switch(e.keyCode){case n.DOWN_ARROW:
return this.selectNextNode(),!1;case n.PAGE_DOWN:return this._page(!1),!1
;case n.UP_ARROW:return this.selectPreviousNode(),!1;case n.PAGE_UP:
return this._page(!0),!1;default:return!0}}})
}),define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
function g(){
this._popupWrapper&&(o.destroy(this._popupWrapper),delete this._popupWrapper)}
var v=i(null,{_stack:[],_beginZIndex:1e3,_idGen:1,_repositionAll:function(){
if(this._firstAroundNode){
var e=this._firstAroundPosition,t=a.position(this._firstAroundNode,!0),i=t.x-e.x,n=t.y-e.y
;if(i||n){this._firstAroundPosition=t;for(var r=0;r<this._stack.length;r++){
var o=this._stack[r].wrapper.style
;o.top=parseInt(o.top,10)+n+"px","auto"==o.right?o.left=parseInt(o.left,10)+i+"px":o.right=parseInt(o.right,10)-i+"px"
}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),i||n?10:50)
}},_createWrapper:function(e){var i=e._popupWrapper,n=e.domNode;if(!i){
i=o.create("div",{class:"dijitPopup",style:{display:"none"},role:"region",
"aria-label":e["aria-label"]||e.label||e.name||e.id
},e.ownerDocumentBody),i.appendChild(n);var r=n.style
;r.display="",r.visibility="",
r.position="",r.top="0px",e._popupWrapper=i,t.after(e,"destroy",g,!0)}return i},
moveOffScreen:function(e){
var t=this._createWrapper(e),i=a.isBodyLtr(e.ownerDocument),n={
visibility:"hidden",top:"-9999px",display:""}
;return n[i?"left":"right"]="-9999px",n[i?"right":"left"]="auto",s.set(t,n),t},
hide:function(e){var t=this._createWrapper(e);s.set(t,{display:"none",
height:"auto",overflow:"visible",border:""});var i=e.domNode
;"_originalStyle"in i&&(i.style.cssText=i._originalStyle)},
getTopPopup:function(){
for(var e=this._stack,t=e.length-1;t>0&&e[t].parent===e[t-1].widget;t--);
return e[t]},open:function(e){
for(var t=this._stack,i=e.popup,o=i.domNode,m=e.orient||["below","below-alt","above","above-alt"],g=e.parent?e.parent.isLeftToRight():a.isBodyLtr(i.ownerDocument),v=e.around,y=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;t.length&&(!e.parent||!n.isDescendant(e.parent.domNode,t[t.length-1].widget.domNode));)this.close(t[t.length-1].widget)
;var b=this.moveOffScreen(i);i.startup&&!i._started&&i.startup()
;var _,x=a.position(o)
;if("maxHeight"in e&&-1!=e.maxHeight)_=e.maxHeight||1/0;else{
var w=p.getEffectiveBox(this.ownerDocument),C=v?a.position(v,!1):{
y:e.y-(e.padding||0),h:2*(e.padding||0)}
;_=Math.floor(Math.max(C.y,w.h-(C.y+C.h)))}if(x.h>_){
var S=s.getComputedStyle(o),k=S.borderLeftWidth+" "+S.borderLeftStyle+" "+S.borderLeftColor
;s.set(b,{overflowY:"scroll",height:_+"px",border:k
}),o._originalStyle=o.style.cssText,o.style.border="none"}r.set(b,{id:y,style:{
zIndex:this._beginZIndex+t.length},
class:"dijitPopup "+(i.baseClass||i.class||"").split(" ")[0]+"Popup",
dijitPopupParent:e.parent?e.parent.id:""
}),0==t.length&&v&&(this._firstAroundNode=v,
this._firstAroundPosition=a.position(v,!0),
this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),50)),
l("config-bgIframe")&&!i.bgIframe&&(i.bgIframe=new f(b))
;var D=i.orient?c.hitch(i,"orient"):null,M=v?d.around(b,v,m,g,D):d.at(b,e,"R"==m?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding,D)
;b.style.visibility="visible",o.style.visibility="visible";var N=[]
;return N.push(h(b,"keydown",c.hitch(this,function(t){
if(t.keyCode==u.ESCAPE&&e.onCancel)t.stopPropagation(),
t.preventDefault(),e.onCancel();else if(t.keyCode==u.TAB){
t.stopPropagation(),t.preventDefault();var i=this.getTopPopup()
;i&&i.onCancel&&i.onCancel()}
}))),i.onCancel&&e.onCancel&&N.push(i.on("cancel",e.onCancel)),
N.push(i.on(i.onExecute?"execute":"change",c.hitch(this,function(){
var e=this.getTopPopup();e&&e.onExecute&&e.onExecute()}))),t.push({widget:i,
wrapper:b,parent:e.parent,onExecute:e.onExecute,onCancel:e.onCancel,
onClose:e.onClose,handlers:N}),i.onOpen&&i.onOpen(M),M},close:function(t){
for(var i=this._stack;t&&e.some(i,function(e){return e.widget==t
})||!t&&i.length;){var n=i.pop(),r=n.widget,o=n.onClose;r.onClose&&r.onClose()
;for(var a;a=n.handlers.pop();)a.remove();r&&r.domNode&&this.hide(r),o&&o()}
0==i.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}
});return m.popup=new v
}),define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
return e("dijit._HasDropDown",m,{_buttonNode:null,_arrowWrapperNode:null,
_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,
maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,
_onDropDownMouseDown:function(e){
this.disabled||this.readOnly||("MSPointerDown"!=e.type&&"pointerdown"!=e.type&&e.preventDefault(),
this._docHandler=this.own(c(this.ownerDocument,h.release,u.hitch(this,"_onDropDownMouseUp")))[0],
this.toggleDropDown())},_onDropDownMouseUp:function(e){
e&&this._docHandler&&(this._docHandler.remove(),this._docHandler=null)
;var t=this.dropDown,i=!1;if(e&&this._opened){
var n=o.position(this._buttonNode,!0)
;if(!(e.pageX>=n.x&&e.pageX<=n.x+n.w&&e.pageY>=n.y&&e.pageY<=n.y+n.h)){
for(var a=e.target;a&&!i;)r.contains(a,"dijitPopup")?i=!0:a=a.parentNode;if(i){
if(a=e.target,t.onItemClick){for(var s;a&&!(s=d.byNode(a));)a=a.parentNode
;s&&s.onClick&&s.getParent&&s.getParent().onItemClick(s,e)}return}}}
this._opened?t.focus&&(!1!==t.autoFocus||"mouseup"==e.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){
t.focus(),delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},
_onDropDownClick:function(e){
this._stopClickEvents&&(e.stopPropagation(),e.preventDefault())},
buildRendering:function(){
this.inherited(arguments),this._buttonNode=this._buttonNode||this.focusNode||this.domNode,
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode
;var e={after:this.isLeftToRight()?"Right":"Left",
before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",
right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down"
;r.add(this._arrowWrapperNode||this._buttonNode,"dijit"+e+"ArrowButton")},
postCreate:function(){this.inherited(arguments)
;var e=this.focusNode||this.domNode
;this.own(c(this._buttonNode,h.press,u.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",u.hitch(this,"_onDropDownClick")),c(e,"keydown",u.hitch(this,"_onKey")),c(e,"keyup",u.hitch(this,"_onKeyUp")))
},destroy:function(){
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown),this.inherited(arguments)},_onKey:function(e){
if(!this.disabled&&!this.readOnly){var t=this.dropDown,i=e.target
;if(t&&this._opened&&t.handleKey&&!1===t.handleKey(e))return e.stopPropagation(),
void e.preventDefault()
;t&&this._opened&&e.keyCode==l.ESCAPE?(this.closeDropDown(),e.stopPropagation(),
e.preventDefault()):!this._opened&&(e.keyCode==l.DOWN_ARROW||(e.keyCode==l.ENTER||e.keyCode==l.SPACE&&(!this._searchTimer||e.ctrlKey||e.altKey||e.metaKey))&&("input"!==(i.tagName||"").toLowerCase()||i.type&&"text"!==i.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,
e.stopPropagation(),e.preventDefault())}},_onKeyUp:function(){
if(this._toggleOnKeyUp){delete this._toggleOnKeyUp,this.toggleDropDown()
;var e=this.dropDown;e&&e.focus&&this.defer(u.hitch(e,"focus"),1)}},
_onBlur:function(){this.closeDropDown(!1),this.inherited(arguments)},
isLoaded:function(){return!0},loadDropDown:function(e){e()},
loadAndOpenDropDown:function(){var e=new t,i=u.hitch(this,function(){
this.openDropDown(),e.resolve(this.dropDown)})
;return this.isLoaded()?i():this.loadDropDown(i),e},toggleDropDown:function(){
this.disabled||this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())
},openDropDown:function(){
var e=this.dropDown,t=e.domNode,i=this._aroundNode||this.domNode,a=this,s=p.open({
parent:this,popup:e,around:i,orient:this.dropDownPosition,
maxHeight:this.maxHeight,onExecute:function(){a.closeDropDown(!0)},
onCancel:function(){a.closeDropDown(!0)},onClose:function(){
void 0!==a._popupStateNode&&null!=a._popupStateNode&&(n.set(a._popupStateNode,"popupActive",!1),
r.remove(a._popupStateNode,"dijitHasDropDownOpen")),a._set("_opened",!1)}})
;if(this.forceWidth||this.autoWidth&&i.offsetWidth>e._popupWrapper.offsetWidth){
var l={w:i.offsetWidth-(e._popupWrapper.offsetWidth-e.domNode.offsetWidth)}
;u.isFunction(e.resize)?e.resize(l):o.setMarginBox(t,l)}
return void 0!==a._popupStateNode&&null!=a._popupStateNode&&(n.set(this._popupStateNode,"popupActive","true"),
r.add(this._popupStateNode,"dijitHasDropDownOpen")),
this._set("_opened",!0),void 0!==a._popupStateNode&&null!=a._popupStateNode&&(this._popupStateNode.setAttribute("aria-expanded","true"),
this._popupStateNode.setAttribute("aria-owns",e.id)),
"presentation"===t.getAttribute("role")||t.getAttribute("aria-labelledby")||t.setAttribute("aria-labelledby",this.id),
s},closeDropDown:function(e){
this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),
delete this._focusDropDownTimer),
this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),
e&&this.focus(),
p.close(this.dropDown),this._opened=!1,$("#queryOptions").removeClass("checked"))
}})}),define("dojo/text!dijit/form/templates/DropDownBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\taria-haspopup="true"\n\tdata-dojo-attach-point="_popupStateNode"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox"\n\t/></div\n></div>\n'
}),
define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,i,n,r,o,a,s,l){
return e("dijit.form.ComboBoxMixin",[s,o],{dropDownClass:a,hasDownArrow:!0,
templateString:l,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{
_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(e){
this._set("hasDownArrow",e),this._buttonNode.style.display=e?"":"none"},
_showResultList:function(){this.displayMessage(""),this.inherited(arguments)},
_setStoreAttr:function(e){e.get||n.mixin(e,{_oldAPI:!0,get:function(e){
var i=new t;return this.fetchItemByIdentity({identity:e,onItem:function(e){
i.resolve(e)},onError:function(e){i.reject(e)}}),i.promise},query:function(e,i){
var o=new t(function(){a.abort&&a.abort()});o.total=new t
;var a=this.fetch(n.mixin({query:e,onBegin:function(e){o.total.resolve(e)},
onComplete:function(e){o.resolve(e)},onError:function(e){o.reject(e)}},i))
;return r(o)}}),this._set("store",e)},postMixInProperties:function(){
var e=this.params.store||this.store
;if(e&&this._setStoreAttr(e),this.inherited(arguments),
!this.params.store&&!this.store._oldAPI){var t=this.declaredClass
;n.mixin(this.store,{getValue:function(e,n){
return i.deprecated(t+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0"),
e[n]},getLabel:function(e){
return i.deprecated(t+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0"),
e.name},fetch:function(e){
i.deprecated(t+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0")
;var r=["dojo/data/ObjectStore"];require(r,n.hitch(this,function(t){new t({
objectStore:this}).fetch(e)}))}})}}})
}),define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(e,t,i){
return e("dijit.form.ComboBox",[t,i],{})
}),define("dijit/form/_FormSelectWidget",["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(e,t,i,n,r,o,a,s,l,u,c,h,d){
return r("dijit.form._FormSelectWidget",d,{multiple:!1,options:null,store:null,
query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:!0,
loadChildrenOnOpen:!1,onLoadDeferred:null,getOptions:function(t){
var i=this.options||[]
;return null==t?i:l.isArray(t)?e.map(t,"return this.getOptions(item);",this):(l.isString(t)&&(t={
value:t}),l.isObject(t)&&(e.some(i,function(e,i){
for(var n in t)if(!(n in e)||e[n]!=t[n])return!1;return t=i,!0
})||(t=-1)),t>=0&&t<i.length?i[t]:null)},addOption:function(t){
e.forEach(l.isArray(t)?t:[t],function(e){e&&l.isObject(e)&&this.options.push(e)
},this),this._loadChildren()},removeOption:function(t){
var i=this.getOptions(l.isArray(t)?t:[t]);e.forEach(i,function(t){
t&&(this.options=e.filter(this.options,function(e){
return e.value!==t.value||e.label!==t.label}),this._removeOptionItem(t))},this),
this._loadChildren()},updateOption:function(t){
e.forEach(l.isArray(t)?t:[t],function(e){var t,i=this.getOptions({value:e.value
});if(i)for(t in e)i[t]=e[t]},this),this._loadChildren()},
setStore:function(r,o,a){var s=this.store;if(a=a||{},s!==r){
for(var u;u=this._notifyConnections.pop();)u.remove();r.get||(l.mixin(r,{
_oldAPI:!0,get:function(e){var i=new t;return this.fetchItemByIdentity({
identity:e,onItem:function(e){i.resolve(e)},onError:function(e){i.reject(e)}
}),i.promise},query:function(e,i){var n=new t(function(){r.abort&&r.abort()})
;n.total=new t;var r=this.fetch(l.mixin({query:e,onBegin:function(e){
n.total.resolve(e)},onComplete:function(e){n.resolve(e)},onError:function(e){
n.reject(e)}},i));return new h(n)}
}),r.getFeatures()["dojo.data.api.Notification"]&&(this._notifyConnections=[i.after(r,"onNew",l.hitch(this,"_onNewItem"),!0),i.after(r,"onDelete",l.hitch(this,"_onDeleteItem"),!0),i.after(r,"onSet",l.hitch(this,"_onSetItem"),!0)])),
this._set("store",r)}
return this.options&&this.options.length&&this.removeOption(this.options),
this._queryRes&&this._queryRes.close&&this._queryRes.close(),
this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),
this._observeHandle=null),
a.query&&(this._set("query",a.query),this._set("queryOptions",a.queryOptions)),
r&&(this._loadingStore=!0,
this.onLoadDeferred=new t,this._queryRes=r.query(this.query,this.queryOptions),
c(this._queryRes,l.hitch(this,function(t){
if(this.sortByLabel&&!a.sort&&t.length)if(r.getValue)t.sort(n.createSortFunction([{
attribute:r.getLabelAttributes(t[0])[0]}],r));else{var i=this.labelAttr
;t.sort(function(e,t){return e[i]>t[i]?1:t[i]>e[i]?-1:0})}
a.onFetch&&(t=a.onFetch.call(this,t,a)),e.forEach(t,function(e){
this._addOptionForItem(e)
},this),this._queryRes.observe&&(this._observeHandle=this._queryRes.observe(l.hitch(this,function(e,t,i){
t==i?this._onSetItem(e):(-1!=t&&this._onDeleteItem(e),-1!=i&&this._onNewItem(e))
}),!0)),
this._loadingStore=!1,this.set("value","_pendingValue"in this?this._pendingValue:o),
delete this._pendingValue,
this.loadChildrenOnOpen?this._pseudoLoadChildren(t):this._loadChildren(),
this.onLoadDeferred.resolve(!0),this.onSetStore()}),function(e){
console.error("dijit.form.Select: "+e.toString()),this.onLoadDeferred.reject(e)
})),s},_setValueAttr:function(t,i){
if(this._onChangeActive||(i=null),this._loadingStore)return void(this._pendingValue=t)
;if(null!=t){t=l.isArray(t)?e.map(t,function(e){return l.isObject(e)?e:{value:e}
}):l.isObject(t)?[t]:[{value:t}],t=e.filter(this.getOptions(t),function(e){
return e&&e.value});var n=this.getOptions()||[]
;this.multiple||t[0]&&t[0].value||!n.length||(t[0]=n[0]),
e.forEach(n,function(i){i.selected=e.some(t,function(e){return e.value===i.value
})});var r=e.map(t,function(e){return e.value});if(void 0!==r&&void 0!==r[0]){
var o=e.map(t,function(e){return e.label})
;this._setDisplay(this.multiple?o:o[0]),
this.inherited(arguments,[this.multiple?r:r[0],i]),this._updateSelection()}}},
_getDisplayedValueAttr:function(){
var t=e.map([].concat(this.get("selectedOptions")),function(e){
return e&&"label"in e?e.label:e?e.value:null},this);return this.multiple?t:t[0]
},_setDisplayedValueAttr:function(e){
this.set("value",this.getOptions("string"==typeof e?{label:e}:e))},
_loadChildren:function(){
this._loadingStore||(e.forEach(this._getChildren(),function(e){
e.destroyRecursive()
}),e.forEach(this.options,this._addOptionItem,this),this._updateSelection())},
_updateSelection:function(){
this.focusedChild=null,this._set("value",this._getValueFromOpts())
;var t=[].concat(this.value);if(t&&t[0]){var i=this
;e.forEach(this._getChildren(),function(n){var r=e.some(t,function(e){
return n.option&&e===n.option.value})
;r&&!i.multiple&&(i.focusedChild=n),a.toggle(n.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),r),
n.domNode.setAttribute("aria-selected",r?"true":"false")},this)}},
_getValueFromOpts:function(){var t=this.getOptions()||[]
;if(!this.multiple&&t.length){var i=e.filter(t,function(e){return e.selected
})[0];return i&&i.value?i.value:(t[0].selected=!0,t[0].value)}
return this.multiple?e.map(e.filter(t,function(e){return e.selected
}),function(e){return e.value})||[]:""},_onNewItem:function(e,t){
t&&t.parent||this._addOptionForItem(e)},_onDeleteItem:function(e){
var t=this.store;this.removeOption({value:t.getIdentity(e)})},
_onSetItem:function(e){this.updateOption(this._getOptionObjForItem(e))},
_getOptionObjForItem:function(e){
var t=this.store,i=this.labelAttr&&this.labelAttr in e?e[this.labelAttr]:t.getLabel(e)
;return{value:i?t.getIdentity(e):null,label:i,item:e}},
_addOptionForItem:function(e){var t=this.store
;if(t.isItemLoaded&&!t.isItemLoaded(e))return void t.loadItem({item:e,
onItem:function(e){this._addOptionForItem(e)},scope:this})
;var i=this._getOptionObjForItem(e);this.addOption(i)},constructor:function(e){
this._oValue=(e||{}).value||null,this._notifyConnections=[]},
buildRendering:function(){
this.inherited(arguments),o.setSelectable(this.focusNode,!1)},
_fillContent:function(){
this.options||(this.options=this.srcNodeRef?u("> *",this.srcNodeRef).map(function(e){
return"separator"===e.getAttribute("type")?{value:"",label:"",selected:!1,
disabled:!1}:{
value:e.getAttribute("data-"+s._scopeName+"-value")||e.getAttribute("value"),
label:String(e.innerHTML),selected:e.getAttribute("selected")||!1,
disabled:e.getAttribute("disabled")||!1}
},this):[]),this.value?this.multiple&&"string"==typeof this.value&&this._set("value",this.value.split(",")):this._set("value",this._getValueFromOpts())
},postCreate:function(){
this.inherited(arguments),i.after(this,"onChange",l.hitch(this,"_updateSelection"))
;var e=this.store
;e&&(e.getIdentity||e.getFeatures()["dojo.data.api.Identity"])&&(this.store=null,
this.setStore(e,this._oValue))},startup:function(){
this._loadChildren(),this.inherited(arguments)},destroy:function(){
for(var e;e=this._notifyConnections.pop();)e.remove()
;this._queryRes&&this._queryRes.close&&this._queryRes.close(),
this._observeHandle&&this._observeHandle.remove&&(this._observeHandle.remove(),
this._observeHandle=null),this.inherited(arguments)},
_addOptionItem:function(){},_removeOptionItem:function(){},
_setDisplay:function(){},_getChildren:function(){return[]},
_getSelectedOptionsAttr:function(){return this.getOptions({selected:!0})},
_pseudoLoadChildren:function(){},onSetStore:function(){}})
}),define("dojo/text!dijit/templates/Menu.html",[],function(){
return'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n'
}),
define("dijit/_KeyNavMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(e,t,i,n,r,o,a,s){
return t("dijit._KeyNavMixin",s,{tabIndex:"0",childSelector:null,
postCreate:function(){
if(this.inherited(arguments),i.set(this.domNode,"tabIndex",this.tabIndex),
!this._keyNavCodes){var e=this._keyNavCodes={}
;e[n.HOME]=r.hitch(this,"focusFirstChild"),
e[n.END]=r.hitch(this,"focusLastChild"),
e[this.isLeftToRight()?n.LEFT_ARROW:n.RIGHT_ARROW]=r.hitch(this,"_onLeftArrow"),
e[this.isLeftToRight()?n.RIGHT_ARROW:n.LEFT_ARROW]=r.hitch(this,"_onRightArrow"),
e[n.UP_ARROW]=r.hitch(this,"_onUpArrow"),
e[n.DOWN_ARROW]=r.hitch(this,"_onDownArrow")}
var t=this,s="string"==typeof this.childSelector?this.childSelector:r.hitch(this,"childSelector")
;this.own(o(this.domNode,"keypress",r.hitch(this,"_onContainerKeypress")),o(this.domNode,"keydown",r.hitch(this,"_onContainerKeydown")),o(this.domNode,"focus",r.hitch(this,"_onContainerFocus")),o(this.containerNode,o.selector(s,"focusin"),function(e){
t._onChildFocus(a.getEnclosingWidget(this),e)}))},_onLeftArrow:function(){},
_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},
focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){
return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){
return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){
this.focusChild(this._getLastFocusableChild())},focusChild:function(e,t){
e&&(this.focusedChild&&e!==this.focusedChild&&this._onChildBlur(this.focusedChild),
e.set("tabIndex",this.tabIndex),e.focus(t?"end":"start"))},
_onContainerFocus:function(e){
e.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){
i.set(this.domNode,"tabIndex","-1"),this.inherited(arguments)},
_onBlur:function(e){
i.set(this.domNode,"tabIndex",this.tabIndex),this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),
this.lastFocusedChild=this.focusedChild,
this._set("focusedChild",null)),this.inherited(arguments)},
_onChildFocus:function(e){
e&&e!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),
e.set("tabIndex",this.tabIndex),this.lastFocused=e,this._set("focusedChild",e))
},_searchString:"",multiCharSearchDuration:1e3,
onKeyboardSearch:function(e,t,i,n){e&&this.focusChild(e)},
_keyboardSearchCompare:function(e,t){
var i=e.domNode,n=e.label||(i.focusNode?i.focusNode.label:"")||i.innerText||i.textContent||"",r=n.replace(/^\s+/,"").substr(0,t.length).toLowerCase()
;return t.length&&r==t?-1:0},_onContainerKeydown:function(e){
var t=this._keyNavCodes[e.keyCode]
;t?(t(e,this.focusedChild),e.stopPropagation(),
e.preventDefault(),this._searchString=""):e.keyCode==n.SPACE&&this._searchTimer&&!(e.ctrlKey||e.altKey||e.metaKey)&&(e.stopImmediatePropagation(),
e.preventDefault(),this._keyboardSearch(e," "))},
_onContainerKeypress:function(e){
e.charCode<n.SPACE||e.ctrlKey||e.altKey||e.metaKey||e.charCode==n.SPACE&&this._searchTimer||(e.preventDefault(),
e.stopPropagation(),
this._keyboardSearch(e,String.fromCharCode(e.charCode).toLowerCase()))},
_keyboardSearch:function(e,t){var i,n=null,o=0;r.hitch(this,function(){
this._searchTimer&&this._searchTimer.remove(),this._searchString+=t
;var e=/^(.)\1*$/.test(this._searchString),r=e?1:this._searchString.length
;i=this._searchString.substr(0,r),this._searchTimer=this.defer(function(){
this._searchTimer=null,this._searchString=""},this.multiCharSearchDuration)
;var a=this.focusedChild||null
;if(1!=r&&a||(a=this._getNextFocusableChild(a,1))){var s=a;do{
var l=this._keyboardSearchCompare(a,i);if(l&&0==o++&&(n=a),-1==l){o=-1;break}
a=this._getNextFocusableChild(a,1)}while(a!=s)}
})(),this.onKeyboardSearch(n,e,i,o)},_onChildBlur:function(){},
_getNextFocusableChild:function(e,t){var i=e;do{
if(e)e=this._getNext(e,t);else if(!(e=this[t>0?"_getFirst":"_getLast"]()))break
;if(null!=e&&e!=i&&e.isFocusable())return e}while(e!=i);return null},
_getFirst:function(){return null},_getLast:function(){return null},
_getNext:function(e,t){
if(e)for(e=e.domNode;e;)if((e=e[t<0?"previousSibling":"nextSibling"])&&"getAttribute"in e){
var i=a.byNode(e);if(i)return i}return null}})
}),define("dijit/_KeyNavContainer",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(e,t,i,n,r,o,a,s,l,u){
return t("dijit._KeyNavContainer",[l,u,s],{connectKeyNavHandlers:function(t,i){
var n=this._keyNavCodes={},a=o.hitch(this,"focusPrev"),s=o.hitch(this,"focusNext")
;e.forEach(t,function(e){n[e]=a}),e.forEach(i,function(e){n[e]=s
}),n[r.HOME]=o.hitch(this,"focusFirstChild"),
n[r.END]=o.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){
n.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},
startup:function(){
this.inherited(arguments),e.forEach(this.getChildren(),o.hitch(this,"_startupChild"))
},addChild:function(e,t){this.inherited(arguments),this._startupChild(e)},
_startupChild:function(e){e.set("tabIndex","-1")},_getFirst:function(){
var e=this.getChildren();return e.length?e[0]:null},_getLast:function(){
var e=this.getChildren();return e.length?e[e.length-1]:null},
focusNext:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},
focusPrev:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},
childSelector:function(e){var e=a.byNode(e);return e&&e.getParent()==this}})
}),define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p){
return t("dijit._MenuBase",[h,p,f,d],{selected:null,
_setSelectedAttr:function(e){
this.selected!=e&&(this.selected&&(this.selected._setSelected(!1),
this._onChildDeselect(this.selected)),
e&&e._setSelected(!0),this._set("selected",e))},activated:!1,
_setActivatedAttr:function(e){
r.toggle(this.domNode,"dijitMenuActive",e),r.toggle(this.domNode,"dijitMenuPassive",!e),
this._set("activated",e)},parentMenu:null,popupDelay:500,passivePopupDelay:1/0,
autoFocus:!1,childSelector:function(e){var t=c.byNode(e)
;return e.parentNode==this.containerNode&&t&&t.focus},postCreate:function(){
var e=this,t="string"==typeof this.childSelector?this.childSelector:o.hitch(this,"childSelector")
;this.own(s(this.containerNode,s.selector(t,a.enter),function(){
e.onItemHover(c.byNode(this))
}),s(this.containerNode,s.selector(t,a.leave),function(){
e.onItemUnhover(c.byNode(this))
}),s(this.containerNode,s.selector(t,u),function(t){
e.onItemClick(c.byNode(this),t),t.stopPropagation(),t.preventDefault()
})),this.inherited(arguments)},onKeyboardSearch:function(e,t,i,n){
this.inherited(arguments),e&&(-1==n||e.popup&&1==n)&&this.onItemClick(e,t)},
_keyboardSearchCompare:function(e,t){
return e.shortcutKey?t==e.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0
},onExecute:function(){},onCancel:function(){},_moveToPopup:function(e){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,e);else{
var t=this._getTopMenu();t&&t._isMenuBar&&t.focusNext()}},
_onPopupHover:function(){
this.set("selected",this.currentPopupItem),this._stopPendingCloseTimer()},
onItemHover:function(e){
this.activated?(this.set("selected",e),!e.popup||e.disabled||this.hover_timer||(this.hover_timer=this.defer(function(){
this._openItemPopup(e)
},this.popupDelay))):this.passivePopupDelay<1/0&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),
this.passive_hover_timer=this.defer(function(){this.onItemClick(e,{type:"click"
})},this.passivePopupDelay)),this._hoveredChild=e,e._set("hovering",!0)},
_onChildDeselect:function(e){
this._stopPopupTimer(),this.currentPopupItem==e&&(this._stopPendingCloseTimer(),
this._pendingClose_timer=this.defer(function(){
this._pendingClose_timer=null,this.currentPopupItem=null,e._closePopup()
},this.popupDelay))},onItemUnhover:function(e){
this._hoveredChild==e&&(this._hoveredChild=null),
this.passive_hover_timer&&(this.passive_hover_timer.remove(),
this.passive_hover_timer=null),e._set("hovering",!1)},
_stopPopupTimer:function(){
this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},
_stopPendingCloseTimer:function(){
this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())
},_getTopMenu:function(){for(var e=this;e.parentMenu;e=e.parentMenu);return e},
onItemClick:function(e,t){
if(this.passive_hover_timer&&this.passive_hover_timer.remove(),
this.focusChild(e),e.disabled)return!1;if(e.popup){
this.set("selected",e),this.set("activated",!0)
;var i=/^key/.test(t._origType||t.type)||0==t.clientX&&0==t.clientY
;this._openItemPopup(e,i)
}else this.onExecute(),e._onClick?e._onClick(t):e.onClick(t)},
_openItemPopup:function(e,t){if(e!=this.currentPopupItem){
this.currentPopupItem&&(this._stopPendingCloseTimer(),
this.currentPopupItem._closePopup()),this._stopPopupTimer();var i=e.popup
;i.parentMenu=this,
this.own(this._mouseoverHandle=s.once(i.domNode,"mouseover",o.hitch(this,"_onPopupHover")))
;var n=this;e._openPopup({parent:this,orient:this._orient||["after","before"],
onCancel:function(){t&&n.focusChild(e),n._cleanUp()},
onExecute:o.hitch(this,"_cleanUp",!0),onClose:function(){
n._mouseoverHandle&&(n._mouseoverHandle.remove(),delete n._mouseoverHandle)}
},t),this.currentPopupItem=e}},onOpen:function(){
this.isShowingNow=!0,this.set("activated",!0)},onClose:function(){
this.set("activated",!1),
this.set("selected",null),this.isShowingNow=!1,this.parentMenu=null},
_closeChild:function(){
this._stopPopupTimer(),this.currentPopupItem&&(this.focused&&(n.set(this.selected.focusNode,"tabIndex",this.tabIndex),
this.selected.focusNode.focus()),
this.currentPopupItem._closePopup(),this.currentPopupItem=null)},
_onItemFocus:function(e){
this._hoveredChild&&this._hoveredChild!=e&&this.onItemUnhover(this._hoveredChild),
this.set("selected",e)},_onBlur:function(){
this._cleanUp(!0),this.inherited(arguments)},_cleanUp:function(e){
this._closeChild(),
void 0===this.isShowingNow&&this.set("activated",!1),e&&this.set("selected",null)
}})
}),define("dijit/DropDownMenu",["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(e,t,i,n,r){
return e("dijit.DropDownMenu",[r,n],{templateString:i,baseClass:"dijitMenu",
_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()
},_onRightArrow:function(e){
this._moveToPopup(e),e.stopPropagation(),e.preventDefault()},
_onLeftArrow:function(e){
this.parentMenu?this.parentMenu._isMenuBar?this.parentMenu.focusPrev():this.onCancel(!1):(e.stopPropagation(),
e.preventDefault())}})
}),define("dojo/text!dijit/templates/MenuItem.html",[],function(){
return'<tr class="dijitReset dijitMenuItem pentaho-menuitem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<span role="presentation" class="dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"></span>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,textDirNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<span data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<span class="dijitInline dijitIcon dijitMenuExpand"></span>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</span>\n\t</td>\n</tr>\n'
}),
define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(e,t,i,n,r,o,a,s,l,u,c,h){
var d=e("dijit.MenuItem"+(o("dojo-bidi")?"_NoBidi":""),[s,l,u,c],{
templateString:h,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(e){
this._set("label",e);var t,i="",n=e.search(/{\S}/);if(n>=0){i=e.charAt(n+1)
;var r=e.substr(0,n),o=e.substr(n+3)
;t=r+i+o,e=r+'<span class="dijitMenuItemShortcutKey">'+i+"</span>"+o}else t=e
;this.domNode.setAttribute("aria-label",t+" "+this.accelKey),
this.containerNode.innerHTML=e,this._set("shortcutKey",i)},
iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},
accelKey:"",disabled:!1,_fillContent:function(e){
!e||"label"in this.params||this._set("label",e.innerHTML)},
buildRendering:function(){this.inherited(arguments);var e=this.id+"_text"
;i.set(this.containerNode,"id",e),
this.accelKeyNode&&i.set(this.accelKeyNode,"id",this.id+"_accel"),
t.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{
8==o("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(e){}},
_onFocus:function(){
this.getParent()._onItemFocus(this),this.inherited(arguments)},
_setSelected:function(e){n.toggle(this.domNode,"dijitMenuItemSelected",e)},
setLabel:function(e){
r.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0"),
this.set("label",e)},setDisabled:function(e){
r.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0"),
this.set("disabled",e)},_setDisabledAttr:function(e){
this.focusNode.setAttribute("aria-disabled",e?"true":"false"),
this._set("disabled",e)},_setAccelKeyAttr:function(e){
this.accelKeyNode&&(this.accelKeyNode.style.display=e?"":"none",
this.accelKeyNode.innerHTML=e,
i.set(this.containerNode,"colSpan",e?"1":"2")),this._set("accelKey",e)}})
;return o("dojo-bidi")&&(d=e("dijit.MenuItem",d,{_setLabelAttr:function(e){
this.inherited(arguments),
"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}})),d
}),define("dojo/text!dijit/templates/MenuSeparator.html",[],function(){
return'<tr class="dijitMenuSeparator" role="separator">\n\t<td class="dijitMenuSeparatorIconCell">\n\t\t<div class="dijitMenuSeparatorTop"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\n\t\t<div class="dijitMenuSeparatorBottom"></div>\n\t</td>\n</tr>\n'
}),
define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(e,t,i,n,r,o){
return e("dijit.MenuSeparator",[i,n,r],{templateString:o,
buildRendering:function(){
this.inherited(arguments),t.setSelectable(this.domNode,!1)},
isFocusable:function(){return!1}})
}),define("dojo/text!dijit/form/templates/Select.html",[],function(){
return'<table class="dijit dijitReset dijitInline dijitLeft"\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode,_popupStateNode" cellspacing=\'0\' cellpadding=\'0\'\n\trole="listbox" aria-haspopup="true"\n\t><tbody role="presentation"><tr role="presentation"\n\t\t><td class="dijitReset dijitStretch dijitButtonContents" role="presentation"\n\t\t\t><div class="dijitReset dijitInputField dijitButtonText"  data-dojo-attach-point="containerNode,textDirNode" role="presentation"></div\n\t\t\t><div class="dijitReset dijitValidationContainer"\n\t\t\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t/></div\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\n\t\t/></td\n\t\t><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer"\n\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\n\t\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n'
}),
define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v){
function y(e){return function(t){
this._isLoaded?this.inherited(e,arguments):this.loadDropDown(a.hitch(this,e,t))}
}var b=t("dijit.form._SelectMenu",h,{autoFocus:!0,buildRendering:function(){
this.inherited(arguments),this.domNode.setAttribute("role","listbox")},
postCreate:function(){
this.inherited(arguments),this.own(s(this.domNode,"selectstart",function(e){
e.preventDefault(),e.stopPropagation()}))},focus:function(){
var t=!1,i=this.parentWidget.value
;a.isArray(i)&&(i=i[i.length-1]),i&&e.forEach(this.parentWidget._getChildren(),function(e){
e.option&&i===e.option.value&&(t=!0,this.focusChild(e,!1))
},this),t||this.inherited(arguments)}
}),_=t("dijit.form.Select"+(l("dojo-bidi")?"_NoBidi":""),[u,c,m],{
baseClass:"dijitSelect dijitValidationTextBox",templateString:v,
_buttonInputDisabled:l("ie")?"disabled":"",required:!1,state:"",message:"",
tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:!1,_childrenLoaded:!1,
_fillContent:function(){
if(this.inherited(arguments),this.options.length&&!this.value&&this.srcNodeRef){
var e=this.srcNodeRef.selectedIndex||0
;this._set("value",this.options[e>=0?e:0].value)}this.dropDown=new b({
id:this.id+"_menu",parentWidget:this
}),n.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "))},
_getMenuItemForOption:function(e){if(e.value||e.label){
var t=a.hitch(this,"_setValueAttr",e),i=new d({option:e,
label:e.label||this.emptyLabel,onClick:t,ownerDocument:this.ownerDocument,
dir:this.dir,textDir:this.textDir,disabled:e.disabled||!1})
;return i.focusNode.setAttribute("role","option"),i}return new f({
ownerDocument:this.ownerDocument})},_addOptionItem:function(e){
this.dropDown&&this.dropDown.addChild(this._getMenuItemForOption(e))},
_getChildren:function(){return this.dropDown?this.dropDown.getChildren():[]},
focus:function(){if(!this.disabled&&this.focusNode.focus)try{
this.focusNode.focus()}catch(e){}},focusChild:function(e){
e&&this.set("value",e.option)},_getFirst:function(){var e=this._getChildren()
;return e.length?e[0]:null},_getLast:function(){var e=this._getChildren()
;return e.length?e[e.length-1]:null},childSelector:function(e){var e=g.byNode(e)
;return e&&e.getParent()==this.dropDown},onKeyboardSearch:function(e,t,i,n){
e&&this.focusChild(e)},_loadChildren:function(t){
if(!0===t)if(this.dropDown&&(delete this.dropDown.focusedChild,
this.focusedChild=null),this.options.length)this.inherited(arguments);else{
e.forEach(this._getChildren(),function(e){e.destroyRecursive()});var i=new d({
ownerDocument:this.ownerDocument,label:this.emptyLabel})
;this.dropDown.addChild(i)}else this._updateSelection()
;this._isLoaded=!1,this._childrenLoaded=!0,
this._loadingStore||this._setValueAttr(this.value,!1)},_refreshState:function(){
this._started&&this.validate(this.focused)},startup:function(){
this.inherited(arguments),this._refreshState()},_setValueAttr:function(e){
this.inherited(arguments),
i.set(this.valueNode,"value",this.get("value")),this._refreshState()},
_setNameAttr:"valueNode",_setDisabledAttr:function(e){this.inherited(arguments),
this._refreshState()},_setRequiredAttr:function(e){
this._set("required",e),this.focusNode.setAttribute("aria-required",e),
this._refreshState()},_setOptionsAttr:function(e){
this._isLoaded=!1,this._set("options",e)},_setDisplay:function(e){
var t=e||this.emptyLabel
;this.containerNode.innerHTML='<span role="option" class="dijitReset dijitInline '+this.baseClass.replace(/\s+|$/g,"Label ")+'">'+t+"</span>"
},validate:function(e){var t=this.disabled||this.isValid(e)
;this._set("state",t?"":this._hasBeenBlurred?"Error":"Incomplete"),
this.focusNode.setAttribute("aria-invalid",t?"false":"true")
;var i=t?"":this._missingMsg
;return i&&this.focused&&this._hasBeenBlurred?p.show(i,this.domNode,this.tooltipPosition,!this.isLeftToRight()):p.hide(this.domNode),
this._set("message",i),t},isValid:function(){
return!this.required||0===this.value||!/^\s*$/.test(this.value||"")},
reset:function(){
this.inherited(arguments),p.hide(this.domNode),this._refreshState()},
postMixInProperties:function(){
this.inherited(arguments),this._missingMsg=o.getLocalization("dijit.form","validate",this.lang).missingMessage
},postCreate:function(){
this.inherited(arguments),this.own(s(this.domNode,"selectstart",function(e){
e.preventDefault(),e.stopPropagation()
})),this.domNode.setAttribute("aria-expanded","false"),
l("ie")<9&&this.defer(function(){try{
var e=domStyle.getComputedStyle(this.domNode);if(e){var t=e.fontFamily;if(t){
var i=this.domNode.getElementsByTagName("INPUT")
;if(i)for(var n=0;n<i.length;n++)i[n].style.fontFamily=t}}}catch(e){}})},
_setStyleAttr:function(e){
this.inherited(arguments),n.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width)
},isLoaded:function(){return this._isLoaded},loadDropDown:function(e){
this._loadChildren(!0),this._isLoaded=!0,e()},destroy:function(e){
this.dropDown&&!this.dropDown._destroyed&&(this.dropDown.destroyRecursive(e),
delete this.dropDown),this.inherited(arguments)},_onFocus:function(){
this.validate(!0)},_onBlur:function(){
p.hide(this.domNode),this.inherited(arguments),this.validate(!1)}})
;return l("dojo-bidi")&&(_=t("dijit.form.Select",_,{_setDisplay:function(e){
this.inherited(arguments),this.applyTextDir(this.containerNode)}
})),_._Menu=b,_.prototype._onContainerKeydown=y("_onContainerKeydown"),
_.prototype._onContainerKeypress=y("_onContainerKeypress"),_
}),define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){
return e("dijit.form._ToggleButtonMixin",null,{checked:!1,
_aria_attr:"aria-pressed",_onClick:function(e){var t=this.checked
;this._set("checked",!t);var i=this.inherited(arguments)
;return this.set("checked",i?this.checked:t),i},_setCheckedAttr:function(e,i){
this._set("checked",e);var n=this.focusNode||this.domNode
;this._created&&t.get(n,"checked")!=!!e&&t.set(n,"checked",!!e),
n.setAttribute(this._aria_attr,String(e)),this._handleOnChange(e,i)},
postCreate:function(){this.inherited(arguments)
;var e=this.focusNode||this.domNode
;this.checked&&e.setAttribute("checked","checked")},reset:function(){
this._hasBeenBlurred=!1,this.set("checked",this.params.checked||!1)}})
}),define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(e,t,i,n){
return e("dijit.form.ToggleButton",[i,n],{baseClass:"dijitToggleButton",
setChecked:function(e){
t.deprecated("setChecked("+e+") is deprecated. Use set('checked',"+e+") instead.","","2.0"),
this.set("checked",e)}})
}),define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr"],function(e,t){
return e("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",
readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(e){
this._set("readOnly",e),t.set(this.focusNode,"readOnly",e)},
_setLabelAttr:void 0,_getSubmitValue:function(e){return null==e||""===e?"on":e},
_setValueAttr:function(e){
e=this._getSubmitValue(e),this._set("value",e),t.set(this.focusNode,"value",e)},
reset:function(){
this.inherited(arguments),this._set("value",this._getSubmitValue(this.params.value)),
t.set(this.focusNode,"value",this.value)},_onClick:function(e){
return this.readOnly?(e.stopPropagation(),
e.preventDefault(),!1):this.inherited(arguments)}})
}),define("dojo/text!dijit/form/templates/CheckBox.html",[],function(){
return'<div class="dijit dijitReset dijitInline" role="presentation"\n\t><input\n\t \t${!nameAttrSetting} type="${type}" role="${type}" aria-checked="false" ${checkedAttrSetting}\n\t\tclass="dijitReset dijitCheckBoxInput"\n\t\tdata-dojo-attach-point="focusNode"\n\t \tdata-dojo-attach-event="ondijitclick:_onClick"\n/></div>\n'
}),
define("dojo/NodeList-dom",["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(e,t,i,n,r,o,a,s,l){
function u(e){return function(t,i,n){
return 2==arguments.length?e["string"==typeof i?"get":"set"](t,i):e.set(t,i,n)}}
var c=function(e){return 1==e.length&&"string"==typeof e[0]},h=function(e){
var t=e.parentNode;t&&t.removeChild(e)
},d=t.NodeList,f=d._adaptWithCondition,p=d._adaptAsForEach,m=d._adaptAsMap
;return n.extend(d,{_normalize:function(t,i){var r=!0===t.parse
;if("string"==typeof t.template){
var a=t.templateFunc||e.string&&e.string.substitute;t=a?a(t.template,t):t}
var s=typeof t
;return"string"==s||"number"==s?(t=o.toDom(t,i&&i.ownerDocument),t=11==t.nodeType?n._toArray(t.childNodes):[t]):n.isArrayLike(t)?n.isArray(t)||(t=n._toArray(t)):t=[t],
r&&(t._runParse=!0),t},_cloneNode:function(e){return e.cloneNode(!0)},
_place:function(t,i,n,r){
if(1==i.nodeType||"only"!=n)for(var a,s=i,l=t.length,u=l-1;u>=0;u--){
var c=r?this._cloneNode(t[u]):t[u]
;if(t._runParse&&e.parser&&e.parser.parse)for(a||(a=s.ownerDocument.createElement("div")),
a.appendChild(c),
e.parser.parse(a),c=a.firstChild;a.firstChild;)a.removeChild(a.firstChild)
;u==l-1?o.place(c,s,n):s.parentNode.insertBefore(c,s),s=c}},
position:m(a.position),attr:f(u(s),c),style:f(u(l),c),addClass:p(r.add),
removeClass:p(r.remove),toggleClass:p(r.toggle),replaceClass:p(r.replace),
empty:p(o.empty),removeAttr:p(s.remove),marginBox:m(a.getMarginBox),
place:function(e,i){var n=t(e)[0];return this.forEach(function(e){o.place(e,n,i)
})},orphan:function(e){return(e?t._filterResult(this,e):this).forEach(h)},
adopt:function(e,i){return t(e).place(this[0],i)._stash(this)},
query:function(e){if(!e)return this;var i=new d;return this.map(function(n){
t(e,n).forEach(function(e){void 0!==e&&i.push(e)})}),i._stash(this)},
filter:function(e){var n=arguments,r=this,o=0;if("string"==typeof e){
if(r=t._filterResult(this,n[0]),1==n.length)return r._stash(this);o=1}
return this._wrap(i.filter(r,n[o],n[o+1]),this)},addContent:function(e,t){
e=this._normalize(e,this[0])
;for(var i,n=0;i=this[n];n++)e.length?this._place(e,i,t,n>0):o.empty(i)
;return this}}),d
}),define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(e,t,i,n,r,o,a,s,l){
return n("dijit-legacy-requires")&&o(0,function(){e(["dijit/form/RadioButton"])
}),t("dijit.form.CheckBox",[a,s],{templateString:l,baseClass:"dijitCheckBox",
_setValueAttr:function(e,t){
"string"==typeof e&&(this.inherited(arguments),e=!0),
this._created&&this.set("checked",e,t)},_getValueAttr:function(){
return this.checked&&this._get("value")},_setIconClassAttr:null,
_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments),this.checkedAttrSetting=""},_fillContent:function(){},
_onFocus:function(){
this.id&&r("label[for='"+this.id+"']").addClass("dijitFocusedLabel"),
this.inherited(arguments)},_onBlur:function(){
this.id&&r("label[for='"+this.id+"']").removeClass("dijitFocusedLabel"),
this.inherited(arguments)}})
}),define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(e,t,i,n,r,o,a,s,l,u,c){
i.isAsync||u(0,function(){c(["./fx/Toggler"])});var h=i.fx={},d={
_fire:function(e,t){return this[e]&&this[e].apply(this,t||[]),this}
},f=function(e){
this._index=-1,this._animations=e||[],this._current=this._onAnimateCtx=this._onEndCtx=null,
this.duration=0,n.forEach(this._animations,function(e){
this.duration+=e.duration,e.delay&&(this.duration+=e.delay)},this)}
;f.prototype=new t,e.extend(f,{_onAnimate:function(){
this._fire("onAnimate",arguments)},_onEnd:function(){
this._onAnimateCtx.remove(),
this._onEndCtx.remove(),this._onAnimateCtx=this._onEndCtx=null,
this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=r.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),
this._onEndCtx=r.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),
this._current.play(0,!0))},play:function(t,i){
if(this._current||(this._current=this._animations[this._index=0]),
!i&&"playing"==this._current.status())return this
;var n=r.after(this._current,"beforeBegin",e.hitch(this,function(){
this._fire("beforeBegin")
}),!0),o=r.after(this._current,"onBegin",e.hitch(this,function(e){
this._fire("onBegin",arguments)
}),!0),a=r.after(this._current,"onPlay",e.hitch(this,function(e){
this._fire("onPlay",arguments),n.remove(),o.remove(),a.remove()}))
;return this._onAnimateCtx&&this._onAnimateCtx.remove(),
this._onAnimateCtx=r.after(this._current,"onAnimate",e.hitch(this,"_onAnimate"),!0),
this._onEndCtx&&this._onEndCtx.remove(),
this._onEndCtx=r.after(this._current,"onEnd",e.hitch(this,"_onEnd"),!0),
this._current.play.apply(this._current,arguments),this},pause:function(){
if(this._current){
var t=r.after(this._current,"onPause",e.hitch(this,function(e){
this._fire("onPause",arguments),t.remove()}),!0);this._current.pause()}
return this},gotoPercent:function(e,t){this.pause();var i=this.duration*e
;return this._current=null,n.some(this._animations,function(e){
return e.duration<=i?(this._current=e,!0):(i-=e.duration,!1)
}),this._current&&this._current.gotoPercent(i/this._current.duration,t),this},
stop:function(t){if(this._current){if(t){
for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0)
;this._current=this._animations[this._index]}
var i=r.after(this._current,"onStop",e.hitch(this,function(e){
this._fire("onStop",arguments),i.remove()}),!0);this._current.stop()}return this
},status:function(){return this._current?this._current.status():"stopped"},
destroy:function(){
this._onAnimateCtx&&this._onAnimateCtx.remove(),this._onEndCtx&&this._onEndCtx.remove()
}}),e.extend(f,d),h.chain=function(e){return new f(e)};var p=function(t){
this._animations=t||[],
this._connects=[],this._finished=0,this.duration=0,n.forEach(t,function(t){
var i=t.duration
;t.delay&&(i+=t.delay),this.duration<i&&(this.duration=i),this._connects.push(r.after(t,"onEnd",e.hitch(this,"_onEnd"),!0))
},this),this._pseudoAnimation=new o.Animation({curve:[0,1],
duration:this.duration});var i=this
;n.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(e){
i._connects.push(r.after(i._pseudoAnimation,e,function(){i._fire(e,arguments)
},!0))})};return e.extend(p,{_doAction:function(e,t){
return n.forEach(this._animations,function(i){i[e].apply(i,t)}),this},
_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")
},_call:function(e,t){var i=this._pseudoAnimation;i[e].apply(i,t)},
play:function(e,t){
return this._finished=0,this._doAction("play",arguments),this._call("play",arguments),
this},pause:function(){
return this._doAction("pause",arguments),this._call("pause",arguments),this},
gotoPercent:function(e,t){var i=this.duration*e
;return n.forEach(this._animations,function(e){
e.gotoPercent(e.duration<i?1:i/e.duration,t)
}),this._call("gotoPercent",arguments),this},stop:function(e){
return this._doAction("stop",arguments),this._call("stop",arguments),this},
status:function(){return this._pseudoAnimation.status()},destroy:function(){
n.forEach(this._connects,function(e){e.remove()})}
}),e.extend(p,d),h.combine=function(e){return new p(e)},h.wipeIn=function(t){
var i,n=t.node=a.byId(t.node),l=n.style,u=o.animateProperty(e.mixin({
properties:{height:{start:function(){
if(i=l.overflow,l.overflow="hidden","hidden"==l.visibility||"none"==l.display)return l.height="1px",
l.display="",l.visibility="",1;var e=s.get(n,"height");return Math.max(e,1)},
end:function(){return n.scrollHeight}}}},t)),c=function(){
l.height="auto",l.overflow=i}
;return r.after(u,"onStop",c,!0),r.after(u,"onEnd",c,!0),u
},h.wipeOut=function(t){
var i,n=t.node=a.byId(t.node),s=n.style,l=o.animateProperty(e.mixin({
properties:{height:{end:1}}},t));r.after(l,"beforeBegin",function(){
i=s.overflow,s.overflow="hidden",s.display=""},!0);var u=function(){
s.overflow=i,s.height="auto",s.display="none"}
;return r.after(l,"onStop",u,!0),r.after(l,"onEnd",u,!0),l
},h.slideTo=function(t){var i=t.node=a.byId(t.node),n=null,u=null,c=function(e){
return function(){var t=s.getComputedStyle(e),i=t.position
;if(n="absolute"==i?e.offsetTop:parseInt(t.top)||0,
u="absolute"==i?e.offsetLeft:parseInt(t.left)||0,"absolute"!=i&&"relative"!=i){
var r=l.position(e,!0)
;n=r.y,u=r.x,e.style.position="absolute",e.style.top=n+"px",e.style.left=u+"px"}
}}(i);c();var h=o.animateProperty(e.mixin({properties:{top:t.top||0,
left:t.left||0}},t));return r.after(h,"beforeBegin",c,!0),h},h
}),define("dojo/text!dijit/templates/TitlePane.html",[],function(){
return'<div>\n\t<div data-dojo-attach-event="ondijitclick:_onTitleClick, onkeydown:_onTitleKey"\n\t\t\tclass="pentaho-titled-toolbar section-header-inner pentaho-padding-sm" data-dojo-attach-point="titleBarNode" id="${id}_titleBarNode">\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\n\t\t\t<span data-dojo-attach-point="arrowNode" class="dijitInline dijitArrowNode" role="presentation"></span\n\t\t\t><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\n\t\t</div>\n\t</div>\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane" aria-labelledby="${id}_titleBarNode">\n\t\t\t\t\x3c!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. --\x3e\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n'
}),
define("dijit/TitlePane",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager","./a11yclick"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p){
var m=t("dijit.TitlePane",[d,h,c],{title:"",_setTitleAttr:{node:"titleNode",
type:"innerHTML"},open:!0,toggleable:!0,tabIndex:"0",duration:p.defaultDuration,
baseClass:"dijitTitlePane",templateString:f,doLayout:!1,_setTooltipAttr:{
node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){
this.inherited(arguments),i.setSelectable(this.titleNode,!1)},
postCreate:function(){
this.inherited(arguments),this.toggleable&&this._trackMouseState(this.titleBarNode,this.baseClass+"Title")
;var e=this.hideNode,t=this.wipeNode;this._wipeIn=a.wipeIn({node:t,
duration:this.duration,beforeBegin:function(){e.style.display=""}
}),this._wipeOut=a.wipeOut({node:t,duration:this.duration,onEnd:function(){
e.style.display="none"}})},_setOpenAttr:function(t,i){
if(e.forEach([this._wipeIn,this._wipeOut],function(e){
e&&"playing"==e.status()&&e.stop()}),i){this[t?"_wipeIn":"_wipeOut"].play()
}else this.hideNode.style.display=this.wipeNode.style.display=t?"":"none"
;this._started&&(t?this._onShow():this.onHide()),
this.containerNode.setAttribute("aria-hidden",t?"false":"true"),
this.focusNode.setAttribute("aria-pressed",t?"true":"false"),
this._set("open",t),this._setCss()},_setToggleableAttr:function(e){
this.focusNode.setAttribute("role",e?"button":"heading"),
e?(this.focusNode.setAttribute("aria-controls",this.id+"_pane"),
this.focusNode.setAttribute("tabIndex",this.tabIndex),
this.focusNode.setAttribute("aria-pressed",this.open)):(n.remove(this.focusNode,"aria-controls"),
n.remove(this.focusNode,"tabIndex"),
n.remove(this.focusNode,"aria-pressed")),this._set("toggleable",e),
this._setCss()},_setContentAttr:function(e){
this.open&&this._wipeOut&&"playing"!=this._wipeOut.status()?(this._wipeIn&&"playing"==this._wipeIn.status()&&this._wipeIn.stop(),
o.setMarginBox(this.wipeNode,{h:o.getMarginBox(this.wipeNode).h
}),this.inherited(arguments),
this._wipeIn?this._wipeIn.play():this.hideNode.style.display=""):this.inherited(arguments)
},toggle:function(){this._setOpenAttr(!this.open,!0)},_setCss:function(){
var e=this.titleBarNode||this.focusNode,t=this._titleBarClass
;this._titleBarClass=this.baseClass+"Title"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed"),
r.replace(e,this._titleBarClass,t||""),
r.replace(e,this._titleBarClass.replace("TitlePaneTitle",""),(t||"").replace("TitlePaneTitle","")),
this.arrowNodeInner.innerHTML=this.open?"-":"+"},_onTitleKey:function(e){
e.keyCode==u.DOWN_ARROW&&this.open&&(this.containerNode.focus(),
e.preventDefault())},_onTitleClick:function(){this.toggleable&&this.toggle()},
setTitle:function(e){
l.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0"),
this.set("title",e)}});return s("dojo-bidi")&&m.extend({
_setTitleAttr:function(e){
this._set("title",e),this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)
},_setTooltipAttr:function(e){
this._set("tooltip",e),this.textDir&&(e=this.enforceTextDirWithUcc(null,e)),
n.set(this.focusNode,"title",e)},_setTextDirAttr:function(e){
this._created&&this.textDir!=e&&(this._set("textDir",e),
this.set("title",this.title),this.set("tooltip",this.tooltip))}}),m
}),define("dojo/_base/html",["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(e,t,i,n,r,o,a,s){
return e.byId=t.byId,
e.isDescendant=t.isDescendant,e.setSelectable=t.setSelectable,
e.getAttr=n.get,e.setAttr=n.set,
e.hasAttr=n.has,e.removeAttr=n.remove,e.getNodeProp=n.getNodeProp,
e.attr=function(e,t,i){
return 2==arguments.length?n["string"==typeof t?"get":"set"](e,t):n.set(e,t,i)},
e.hasClass=o.contains,
e.addClass=o.add,e.removeClass=o.remove,e.toggleClass=o.toggle,
e.replaceClass=o.replace,
e._toDom=e.toDom=a.toDom,e.place=a.place,e.create=a.create,e.empty=function(e){
a.empty(e)},e._destroyElement=e.destroy=function(e){a.destroy(e)
},e._getPadExtents=e.getPadExtents=s.getPadExtents,
e._getBorderExtents=e.getBorderExtents=s.getBorderExtents,
e._getPadBorderExtents=e.getPadBorderExtents=s.getPadBorderExtents,
e._getMarginExtents=e.getMarginExtents=s.getMarginExtents,
e._getMarginSize=e.getMarginSize=s.getMarginSize,
e._getMarginBox=e.getMarginBox=s.getMarginBox,
e.setMarginBox=s.setMarginBox,e._getContentBox=e.getContentBox=s.getContentBox,
e.setContentSize=s.setContentSize,
e._isBodyLtr=e.isBodyLtr=s.isBodyLtr,e._docScroll=e.docScroll=s.docScroll,
e._getIeDocumentElementOffset=e.getIeDocumentElementOffset=s.getIeDocumentElementOffset,
e._fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft=s.fixIeBiDiScrollLeft,
e.position=s.position,e.marginBox=function(e,t){
return t?s.setMarginBox(e,t):s.getMarginBox(e)},e.contentBox=function(e,t){
return t?s.setContentSize(e,t):s.getContentBox(e)},e.coords=function(n,r){
e.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox()."),
n=t.byId(n);var o=i.getComputedStyle(n),a=s.getMarginBox(n,o),l=s.position(n,r)
;return a.x=l.x,a.y=l.y,a
},e.getProp=r.get,e.setProp=r.set,e.prop=function(e,t,i){
return 2==arguments.length?r["string"==typeof t?"get":"set"](e,t):r.set(e,t,i)},
e.getStyle=i.get,
e.setStyle=i.set,e.getComputedStyle=i.getComputedStyle,e.__toPixelValue=e.toPixelValue=i.toPixelValue,
e.style=function(e,t,n){switch(arguments.length){case 1:return i.get(e);case 2:
return i["string"==typeof t?"get":"set"](e,t)}return i.set(e,t,n)},e
}),define("dojo/_base/NodeList",["./kernel","../query","./array","./html","../NodeList-dom"],function(e,t,i){
var n=t.NodeList,r=n.prototype;return r.connect=n._adaptAsForEach(function(){
return e.connect.apply(this,arguments)
}),r.coords=n._adaptAsMap(e.coords),n.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"],
i.forEach(n.events,function(e){var t="on"+e;r[t]=function(e,i){
return this.connect(t,e,i)}}),e.NodeList=n,n
}),define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f){
var p=t("dojo.dnd.Container",l,{skipForm:!1,allowNested:!1,
constructor:function(e,t){
this.node=o.byId(e),t||(t={}),this.creator=t.creator||null,
this.skipForm=t.skipForm,
this.parent=t.dropParent&&o.byId(t.dropParent),this.map={},
this.current=null,this.containerState="",
a.add(this.node,"dojoDndContainer"),t&&t._skipStartup||this.startup(),
this.events=[c(this.node,d.over,n.hitch(this,"onMouseOver")),c(this.node,d.out,n.hitch(this,"onMouseOut")),c(this.node,"dragstart",n.hitch(this,"onSelectStart")),c(this.node,"selectstart",n.hitch(this,"onSelectStart"))]
},creator:function(){},getItem:function(e){return this.map[e]},
setItem:function(e,t){this.map[e]=t},delItem:function(e){delete this.map[e]},
forInItems:function(e,t){t=t||i.global;var n=this.map,r=f._empty
;for(var o in n)o in r||e.call(t,n[o],o,this);return t},clearItems:function(){
this.map={}},getAllNodes:function(){
return h((this.allowNested?"":"> ")+".dojoDndItem",this.parent)},
sync:function(){var e={};return this.getAllNodes().forEach(function(t){if(t.id){
var i=this.getItem(t.id);if(i)return void(e[t.id]=i)}else t.id=f.getUniqueId()
;var n=t.getAttribute("dndType"),r=t.getAttribute("dndData");e[t.id]={
data:r||t.innerHTML,type:n?n.split(/\s*,\s*/):["text"]}},this),this.map=e,this},
insertNodes:function(e,t,i){
this.parent.firstChild?t?i||(i=this.parent.firstChild):i&&(i=i.nextSibling):i=null
;var n,r
;if(i)for(n=0;n<e.length;++n)r=this._normalizedCreator(e[n]),this.setItem(r.node.id,{
data:r.data,type:r.type
}),i.parentNode.insertBefore(r.node,i);else for(n=0;n<e.length;++n)r=this._normalizedCreator(e[n]),
this.setItem(r.node.id,{data:r.data,type:r.type
}),this.parent.appendChild(r.node);return this},destroy:function(){
e.forEach(this.events,function(e){e.remove()
}),this.clearItems(),this.node=this.parent=this.current=null},
markupFactory:function(e,t,i){return e._skipStartup=!0,new i(t,e)},
startup:function(){
if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){
var e=this.parent.getElementsByTagName("tbody");e&&e.length&&(this.parent=e[0])}
this.defaultCreator=f._defaultCreator(this.parent),this.sync()},
onMouseOver:function(e){for(var t=e.relatedTarget;t&&t!=this.node;)try{
t=t.parentNode}catch(e){t=null}
t||(this._changeState("Container","Over"),this.onOverEvent()),
t=this._getChildByEvent(e),
this.current!=t&&(this.current&&this._removeItemClass(this.current,"Over"),
t&&this._addItemClass(t,"Over"),this.current=t)},onMouseOut:function(e){
for(var t=e.relatedTarget;t;){if(t==this.node)return;try{t=t.parentNode
}catch(e){t=null}}
this.current&&(this._removeItemClass(this.current,"Over"),this.current=null),
this._changeState("Container",""),this.onOutEvent()},onSelectStart:function(e){
this.skipForm&&f.isFormElement(e)||(e.stopPropagation(),e.preventDefault())},
onOverEvent:function(){},onOutEvent:function(){},_changeState:function(e,t){
var i="dojoDnd"+e,n=e.toLowerCase()+"State"
;a.replace(this.node,i+t,i+this[n]),this[n]=t},_addItemClass:function(e,t){
a.add(e,"dojoDndItem"+t)},_removeItemClass:function(e,t){
a.remove(e,"dojoDndItem"+t)},_getChildByEvent:function(e){var t=e.target
;if(t)for(var i=t.parentNode;i;t=i,
i=t.parentNode)if((i==this.parent||this.allowNested)&&a.contains(t,"dojoDndItem"))return t
;return null},_normalizedCreator:function(e,t){
var i=(this.creator||this.defaultCreator).call(this,e,t)
;return n.isArray(i.type)||(i.type=["text"]),
i.node.id||(i.node.id=f.getUniqueId()),a.add(i.node,"dojoDndItem"),i}})
;return f._createNode=function(e){return e?function(t){return s.create(e,{
innerHTML:t})}:f._createSpan},f._createTrTd=function(e){var t=s.create("tr")
;return s.create("td",{innerHTML:e},t),t},f._createSpan=function(e){
return s.create("span",{innerHTML:e})},f._defaultCreatorNodes={ul:"li",ol:"li",
div:"div",p:"div"},f._defaultCreator=function(e){
var t=e.tagName.toLowerCase(),i="tbody"==t||"thead"==t?f._createTrTd:f._createNode(f._defaultCreatorNodes[t])
;return function(e,t){var r,o,a,s=e&&n.isObject(e)
;return s&&e.tagName&&e.nodeType&&e.getAttribute?(r=e.getAttribute("dndData")||e.innerHTML,
o=e.getAttribute("dndType"),
o=o?o.split(/\s*,\s*/):["text"],a=e):(r=s&&e.data?e.data:e,
o=s&&e.type?e.type:["text"],
a=("avatar"==t?f._createSpan:i)(String(r))),a.id||(a.id=f.getUniqueId()),{
node:a,data:r,type:o}}},p
}),define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(e,t,i,n,r,o,a,s,l,u,c,h){
var d=t("dojo.dnd.Selector",h,{constructor:function(e,t){
t||(t={}),this.singular=t.singular,
this.autoSync=t.autoSync,this.selection={},this.anchor=null,
this.simpleSelection=!1,
this.events.push(l(this.node,u.press,n.hitch(this,"onMouseDown")),l(this.node,u.release,n.hitch(this,"onMouseUp")))
},singular:!1,getSelectedNodes:function(){var e=new s,t=c._empty
;for(var i in this.selection)i in t||e.push(r.byId(i));return e},
selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){return this.forInItems(function(e,t){
this._addItemClass(r.byId(t),"Selected"),this.selection[t]=1
},this),this._removeAnchor()},deleteSelectedNodes:function(){var e=c._empty
;for(var t in this.selection)if(!(t in e)){var i=r.byId(t)
;this.delItem(t),o.destroy(i)}return this.anchor=null,this.selection={},this},
forInSelectedItems:function(e,t){t=t||i.global;var n=this.selection,r=c._empty
;for(var o in n)o in r||e.call(t,this.getItem(o),o,this)},sync:function(){
d.superclass.sync.call(this),
this.anchor&&(this.getItem(this.anchor.id)||(this.anchor=null))
;var t=[],i=c._empty
;for(var n in this.selection)n in i||this.getItem(n)||t.push(n)
;return e.forEach(t,function(e){delete this.selection[e]},this),this},
insertNodes:function(e,t,i,n){var r=this._normalizedCreator
;return this._normalizedCreator=function(t,i){var n=r.call(this,t,i)
;return e?(this.anchor?this.anchor!=n.node&&(this._removeItemClass(n.node,"Anchor"),
this._addItemClass(n.node,"Selected")):(this.anchor=n.node,
this._removeItemClass(n.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),
this.selection[n.node.id]=1):(this._removeItemClass(n.node,"Selected"),
this._removeItemClass(n.node,"Anchor")),n
},d.superclass.insertNodes.call(this,t,i,n),this._normalizedCreator=r,this},
destroy:function(){
d.superclass.destroy.call(this),this.selection=this.anchor=null},
onMouseDown:function(e){if(this.autoSync&&this.sync(),this.current){
if(!this.singular&&!c.getCopyKeyState(e)&&!e.shiftKey&&this.current.id in this.selection)return this.simpleSelection=!0,
void(a.isLeft(e)&&(e.stopPropagation(),e.preventDefault()))
;if(!this.singular&&e.shiftKey){c.getCopyKeyState(e)||this._removeSelection()
;var t=this.getAllNodes()
;if(t.length&&(this.anchor||(this.anchor=t[0],this._addItemClass(this.anchor,"Anchor")),
this.selection[this.anchor.id]=1,this.anchor!=this.current)){
for(var i,n=0;n<t.length&&((i=t[n])!=this.anchor&&i!=this.current);++n);
for(++n;n<t.length&&((i=t[n])!=this.anchor&&i!=this.current);++n)this._addItemClass(i,"Selected"),
this.selection[i.id]=1
;this._addItemClass(this.current,"Selected"),this.selection[this.current.id]=1}
}else this.singular?this.anchor==this.current?c.getCopyKeyState(e)&&this.selectNone():(this.selectNone(),
this.anchor=this.current,
this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):c.getCopyKeyState(e)?this.anchor==this.current?(delete this.selection[this.anchor.id],
this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),
delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),
this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),
this.anchor=this.current,
this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1)
;e.stopPropagation(),e.preventDefault()}},onMouseUp:function(){
this.simpleSelection&&(this.simpleSelection=!1,
this.selectNone(),this.current&&(this.anchor=this.current,
this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){
this.onmousemoveEvent=l(this.node,u.move,n.hitch(this,"onMouseMove"))},
onOutEvent:function(){
this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)
},_removeSelection:function(){var e=c._empty
;for(var t in this.selection)if(!(t in e)){var i=r.byId(t)
;i&&this._removeItemClass(i,"Selected")}return this.selection={},this},
_removeAnchor:function(){
return this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null),this}});return d
}),define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(e,t,i,n,r,o,a,s){
return e("dojo.dnd.Avatar",null,{constructor:function(e){
this.manager=e,this.construct()},construct:function(){var e,t=o.create("table",{
class:"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}
}),i=this.manager.source,r=o.create("tbody",null,t),s=o.create("tr",null,r),l=o.create("td",null,s),u=Math.min(5,this.manager.nodes.length),c=0
;for(a("highcontrast")&&o.create("span",{id:"a11yIcon",
innerHTML:this.manager.copy?"+":"<"},l),o.create("span",{
innerHTML:i.generateText?this._generateText():""},l),n.set(s,{
class:"dojoDndAvatarHeader",style:{opacity:.9}});c<u;++c){
if(i.creator)e=i._normalizedCreator(i.getItem(this.manager.nodes[c].id).data,"avatar").node;else if(e=this.manager.nodes[c].cloneNode(!0),
"tr"==e.tagName.toLowerCase()){
var h=o.create("table"),d=o.create("tbody",null,h);d.appendChild(e),e=h}e.id="",
s=o.create("tr",null,r),l=o.create("td",null,s),l.appendChild(e),n.set(s,{
class:"dojoDndAvatarItem",style:{opacity:(9-c)/10}})}this.node=t},
destroy:function(){o.destroy(this.node),this.node=!1},update:function(){
if(r.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag),
a("highcontrast")){var e=i.byId("a11yIcon"),t="+"
;this.manager.canDropFlag&&!this.manager.copy?t="< ":this.manager.canDropFlag||this.manager.copy?this.manager.canDropFlag||(t="x"):t="o",
e.innerHTML=t}
s("tr.dojoDndAvatarHeader td span"+(a("highcontrast")?" span":""),this.node).forEach(function(e){
e.innerHTML=this.manager.source.generateText?this._generateText():""},this)},
_generateText:function(){return this.manager.nodes.length.toString()}})
}),define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f){
var p=t("dojo.dnd.Manager",[o],{constructor:function(){
this.avatar=null,this.source=null,
this.nodes=[],this.copy=!0,this.target=null,this.canDropFlag=!1,this.events=[]},
OFFSET_X:a("touch")?0:16,OFFSET_Y:a("touch")?-64:16,overSource:function(e){
this.avatar&&(this.target=e&&"Disabled"!=e.targetState?e:null,
this.canDropFlag=Boolean(this.target),
this.avatar.update()),u.publish("/dnd/source/over",e)},outSource:function(e){
this.avatar?this.target==e&&(this.target=null,
this.canDropFlag=!1,this.avatar.update(),
u.publish("/dnd/source/over",null)):u.publish("/dnd/source/over",null)},
startDrag:function(e,t,o){function a(e){e.preventDefault(),e.stopPropagation()}
d.autoScrollStart(n.doc),
this.source=e,this.nodes=t,this.copy=Boolean(o),this.avatar=this.makeAvatar(),
n.body().appendChild(this.avatar.node),
u.publish("/dnd/start",e,t,this.copy),this.events=[l(n.doc,c.move,i.hitch(this,"onMouseMove")),l(n.doc,c.release,i.hitch(this,"onMouseUp")),l(n.doc,"keydown",i.hitch(this,"onKeyDown")),l(n.doc,"keyup",i.hitch(this,"onKeyUp")),l(n.doc,"dragstart",a),l(n.body(),"selectstart",a)]
;var s="dojoDnd"+(o?"Copy":"Move");r.add(n.body(),s)},canDrop:function(e){
var t=Boolean(this.target&&e)
;this.canDropFlag!=t&&(this.canDropFlag=t,this.avatar.update())},
stopDrag:function(){
r.remove(n.body(),["dojoDndCopy","dojoDndMove"]),e.forEach(this.events,function(e){
e.remove()
}),this.events=[],this.avatar.destroy(),this.avatar=null,this.source=this.target=null,
this.nodes=[]},makeAvatar:function(){return new f(this)},
updateAvatar:function(){this.avatar.update()},onMouseMove:function(e){
var t=this.avatar;if(t){d.autoScrollNodes(e);var i=t.node.style
;i.left=e.pageX+this.OFFSET_X+"px",i.top=e.pageY+this.OFFSET_Y+"px"
;var n=Boolean(this.source.copyState(h.getCopyKeyState(e)))
;this.copy!=n&&this._setCopyStatus(n)}a("touch")&&e.preventDefault()},
onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){
var t=Boolean(this.source.copyState(h.getCopyKeyState(e)))
;u.publish("/dnd/drop/before",this.source,this.nodes,t,this.target,e),
u.publish("/dnd/drop",this.source,this.nodes,t,this.target,e)
}else u.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(e){
if(this.avatar)switch(e.keyCode){case s.CTRL:
var t=Boolean(this.source.copyState(!0));this.copy!=t&&this._setCopyStatus(t)
;break;case s.ESCAPE:u.publish("/dnd/cancel"),this.stopDrag()}},
onKeyUp:function(e){if(this.avatar&&e.keyCode==s.CTRL){
var t=Boolean(this.source.copyState(!1));this.copy!=t&&this._setCopyStatus(t)}},
_setCopyStatus:function(e){
this.copy=e,this.source._markDndStatus(this.copy),this.updateAvatar(),
r.replace(n.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))
}});return h._manager=null,p.manager=h.manager=function(){
return h._manager||(h._manager=new p),h._manager},p
}),define("dojo/dnd/Source",["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(e,t,i,n,r,o,a,s,l,u,c,h){
i.isAsync||s(0,function(){var e=["dojo/dnd/AutoSource","dojo/dnd/Target"]
;require(e)});var d=t("dojo.dnd.Source",c,{isSource:!0,horizontal:!1,
copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,
delay:0,accept:["text"],generateText:!0,constructor:function(e,t){
n.mixin(this,n.mixin({},t));var i=this.accept;if(i.length){this.accept={}
;for(var o=0;o<i.length;++o)this.accept[i[o]]=1}
this.isDragging=!1,this.mouseDown=!1,this.targetAnchor=null,this.targetBox=null,
this.before=!0,
this._lastX=0,this._lastY=0,this.sourceState="",this.isSource&&r.add(this.node,"dojoDndSource"),
this.targetState="",
this.accept&&r.add(this.node,"dojoDndTarget"),this.horizontal&&r.add(this.node,"dojoDndHorizontal"),
this.topics=[l.subscribe("/dnd/source/over",n.hitch(this,"onDndSourceOver")),l.subscribe("/dnd/start",n.hitch(this,"onDndStart")),l.subscribe("/dnd/drop",n.hitch(this,"onDndDrop")),l.subscribe("/dnd/cancel",n.hitch(this,"onDndCancel"))]
},checkAcceptance:function(e,t){if(this==e)return!this.copyOnly||this.selfAccept
;for(var i=0;i<t.length;++i){
for(var n=e.getItem(t[i].id).type,r=!1,o=0;o<n.length;++o)if(n[o]in this.accept){
r=!0;break}if(!r)return!1}return!0},copyState:function(e,t){
return!!e||(arguments.length<2&&(t=this==h.manager().target),
t?!!this.copyOnly&&this.selfCopy:this.copyOnly)},destroy:function(){
d.superclass.destroy.call(this),e.forEach(this.topics,function(e){e.remove()
}),this.targetAnchor=null},onMouseMove:function(e){
if(!this.isDragging||"Disabled"!=this.targetState){
d.superclass.onMouseMove.call(this,e);var t=h.manager()
;if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){
var i=this.getSelectedNodes()
;i.length&&t.startDrag(this,i,this.copyState(u.getCopyKeyState(e),!0))}
if(this.isDragging){var n=!1
;this.current&&(this.targetBox&&this.targetAnchor==this.current||(this.targetBox=o.position(this.current,!0)),
n=this.horizontal?e.pageX-this.targetBox.x<this.targetBox.w/2==o.isBodyLtr(this.current.ownerDocument):e.pageY-this.targetBox.y<this.targetBox.h/2),
this.current==this.targetAnchor&&n==this.before||(this._markTargetAnchor(n),
t.canDrop(!(this.current&&t.source==this&&this.current.id in this.selection)))}}
},onMouseDown:function(e){
this.mouseDown||!this._legalMouseDown(e)||this.skipForm&&u.isFormElement(e)||(this.mouseDown=!0,
this._lastX=e.pageX,this._lastY=e.pageY,d.superclass.onMouseDown.call(this,e))},
onMouseUp:function(e){
this.mouseDown&&(this.mouseDown=!1,d.superclass.onMouseUp.call(this,e))},
onDndSourceOver:function(e){
if(this!==e)this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor();else if(this.isDragging){
var t=h.manager()
;t.canDrop(!("Disabled"==this.targetState||this.current&&t.source==this&&this.current.id in this.selection))
}},onDndStart:function(e,t,i){
this.autoSync&&this.sync(),this.isSource&&this._changeState("Source",this==e?i?"Copied":"Moved":"")
;var n=this.accept&&this.checkAcceptance(e,t)
;this._changeState("Target",n?"":"Disabled"),
this==e&&h.manager().overSource(this),this.isDragging=!0},
onDndDrop:function(e,t,i,n){this==n&&this.onDrop(e,t,i),this.onDndCancel()},
onDndCancel:function(){
this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null),
this.before=!0,
this.isDragging=!1,this.mouseDown=!1,this._changeState("Source",""),
this._changeState("Target","")},onDrop:function(e,t,i){
this!=e?this.onDropExternal(e,t,i):this.onDropInternal(t,i)},
onDropExternal:function(e,t,i){var n=this._normalizedCreator
;this.creator?this._normalizedCreator=function(t,i){
return n.call(this,e.getItem(t.id).data,i)
}:this._normalizedCreator=i?function(t){var i=e.getItem(t.id),n=t.cloneNode(!0)
;return n.id=u.getUniqueId(),{node:n,data:i.data,type:i.type}}:function(t){
var i=e.getItem(t.id);return e.delItem(t.id),{node:t,data:i.data,type:i.type}
},this.selectNone(),
i||this.creator||e.selectNone(),this.insertNodes(!0,t,this.before,this.current),
!i&&this.creator&&e.deleteSelectedNodes(),this._normalizedCreator=n},
onDropInternal:function(e,t){var i=this._normalizedCreator
;if(!(this.current&&this.current.id in this.selection)){
if(t)this.creator?this._normalizedCreator=function(e,t){
return i.call(this,this.getItem(e.id).data,t)
}:this._normalizedCreator=function(e){var t=this.getItem(e.id),i=e.cloneNode(!0)
;return i.id=u.getUniqueId(),{node:i,data:t.data,type:t.type}};else{
if(!this.current)return;this._normalizedCreator=function(e){
var t=this.getItem(e.id);return{node:e,data:t.data,type:t.type}}}
this._removeSelection(),
this.insertNodes(!0,e,this.before,this.current),this._normalizedCreator=i}},
onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){
d.superclass.onOverEvent.call(this),
h.manager().overSource(this),this.isDragging&&"Disabled"!=this.targetState&&this.onDraggingOver()
},onOutEvent:function(){
d.superclass.onOutEvent.call(this),h.manager().outSource(this),
this.isDragging&&"Disabled"!=this.targetState&&this.onDraggingOut()},
_markTargetAnchor:function(e){
this.current==this.targetAnchor&&this.before==e||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),
this.targetAnchor=this.current,
this.targetBox=null,this.before=e,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))
},_unmarkTargetAnchor:function(){
this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),
this.targetAnchor=null,this.targetBox=null,this.before=!0)},
_markDndStatus:function(e){this._changeState("Source",e?"Copied":"Moved")},
_legalMouseDown:function(e){if("touchstart"!=e.type&&!a.isLeft(e))return!1
;if(!this.withHandles)return!0
;for(var t=e.target;t&&t!==this.node;t=t.parentNode){
if(r.contains(t,"dojoDndHandle"))return!0
;if(r.contains(t,"dojoDndItem")||r.contains(t,"dojoDndIgnore"))break}return!1}})
;return d
}),define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(e,t,i){
return e("dojo.dnd.Target",i,{constructor:function(){
this.isSource=!1,t.remove(this.node,"dojoDndSource")}})
}),define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(e,t,i,n,r,o,a){
return o.extend(e,{waiRole:"",waiState:""}),r("dijit._Templated",[t,i],{
widgetsInTemplate:!1,constructor:function(){
a.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")
},_processNode:function(e,t){var i=this.inherited(arguments),r=t(e,"waiRole")
;r&&e.setAttribute("role",r);var o=t(e,"waiState")
;return o&&n.forEach(o.split(/\s*,\s*/),function(t){if(-1!=t.indexOf("-")){
var i=t.split("-");e.setAttribute("aria-"+i[0],i[1])}}),i}})
}),define("dojo/request/default",["exports","require","../has"],function(e,t,i){
var n,r=i("config-requestProvider")
;i("host-browser")?n="./xhr":i("host-node")&&(n="./node"),
r||(r=n),e.getPlatformDefaultId=function(){return n},e.load=function(e,i,o,a){
if(a&&a.isBuild)return o();t(["platform"==e?n:r],function(e){o(e)})}
}),define("dojo/request",["./request/default!"],function(e){return e
}),define("pentaho/common/Messages",["dojo/_base/declare","dijit/_WidgetBase","dijit/_Templated","dojo/on","dojo/query","dojo/_base/lang","dojo/request","dojo/i18n","dojo/string"],function(e,t,i,n,r,o,a,s,l){
var u=e("pentaho.common.Messages",[],{});u.init=function(){
void 0===u.messageBundle&&(u.messageBundle={})
},pentaho="undefined"==typeof pentaho?{}:pentaho,
pentaho.common=pentaho.common||{},
pentaho.common.Messages=pentaho.common.Messages||u,u.addBundle=function(e,t){
if(t&&"object"==typeof t)return void(u.messageBundle[e]=t)
;dojo.requireLocalization(e,t,"ROOT","ROOT"),
u.messageBundle[e]=s.getLocalization(e,t)},u.getBundle=function(e){
return u.messageBundle[e]
},u.entityDecoder=document.createElement("textarea"),u.getString=function(e,t){
var i,n,r=e
;for(i in u.messageBundle)if(u.messageBundle.hasOwnProperty(i)&&(n=u.messageBundle[i],
n.hasOwnProperty(e))){if(r=n[e],void 0!=t){var a={}
;if("string"==typeof t)a[0]=t;else if("array"==typeof t)for(var s=0;s<t.length;s++)a[""+s]=t[s];else o.isObject(t)&&(a=t)
;r=o.replace(r,a)}break}return r};return u.setElementText=function(e,t){var i
;(i="string"==typeof e?document.getElementById(e):e)&&(i.innerHTML=u.getString(t))
},u.addUrlBundle=function(e,t,i){if(i||!u.messageBundle.hasOwnProperty(e)){a(t,{
handleAs:"json",sync:!0}).then(function(t){u.messageBundle[e]=t},function(e){
"undefined"!=typeof console&&console.log("error loading message bundle at:"+t)})
}
},u.init(),u.addUrlBundle("pentaho.common",CONTEXT_PATH+"i18n?plugin=common-ui&name=resources/web/dojo/pentaho/common/nls/messages"),
u
}),define("pentaho/common/propertiesPanel/Configuration",["dojo/_base/declare","dojo/Stateful","dojo/_base/array","dojo/Evented","dojo/_base/lang","dojo/aspect"],function(e,t,i,n,r,o){
var a=Object.prototype.hasOwnProperty,s=e("pentaho.common.propertiesPanel.Configuration",[t,n],{
constructor:function(e){this.items=[],this.itemsById={},this.rawConfiguration=e,
e&&e.properties&&i.forEach(e.properties,this.initializeItem,this)},
initializeItem:function(e){var t=s.registeredTypes[e.ui.type]
;if(!t)throw"No Properties Panel UI implementation found for "+e.ui.type
;var i=new t(e)
;i.postCreate(),o.after(i,"onModelEvent",r.hitch(this,function(e,t){
this.onModelEvent(i,e,t)}),!0),i.watch(r.hitch(this,function(e,t,n){
this.onModelEvent(i,e,{prevVal:t,newVal:n})
})),this.items.push(i),this.itemsById[i.id]=i},onModelEvent:function(e,t,i){},
byId:function(e){if(a.call(this.itemsById,e))return this.itemsById[e]}})
;s.registeredTypes={}
;var l=pentaho.common.propertiesPanel,u=e("pentaho.common.propertiesPanel.Property",[t,n],{
value:null,constructor:function(e){
this.item=e,r.mixin(this,e),null==this.value&&this.values&&this.values.length&&(this.value=this.values[0])
},postCreate:function(){},setValue:function(e){this.value=e},
onModelEvent:function(e,t){}})
;return e("pentaho.common.propertiesPanel.GemBar",[u],{gems:null,_value:null,
selectedGem:null,allowMultiple:!0,constructor:function(e){},
postCreate:function(){var e=this.gems
;this.gems=[],i.forEach(e,this.initializeGem,this)},initializeGem:function(e){
var t=new s.registeredTypes.gem(e)
;t.postCreate(),this._value=null,this.gems.push(t)},
createGemFromNode:function(e){var t=s.registeredTypes.gem,i={id:"gem-"+e.id,
value:e.innerHTML.replace(/'/g,"&#39;"),gemBar:this,sourceNode:e,
dndType:e.getAttribute("dndType")};return t.create?t.create(i):new t(i)},
createGemByFormula:function(e,t){var i=s.registeredTypes.gem,n={formula:e,
value:t,gemBar:this};return i.create?i.create(n):new i(n)},remove:function(e){
this._value=null,
this.gems.splice(this.gems.indexOf(e),1),this.set("gems",this.gems),
this.onModelEvent("removedGem",{gem:e})},add:function(e){
this._value=null,this.gems.push(e),
this.set("gems",this.gems),this.onModelEvent("insertAt",{gem:e,
idx:this.gems.length,oldIdx:-1})},reorder:function(){
this._value=null,this.set("gems",this.gems),
this.onModelEvent("reorderedGems",{})},insertAt:function(e,t,n){this._value=null
;var r=n=i.indexOf(this.gems,e)
;this.gems.splice(t,0,e),r>-1&&(r>=t&&r++,this.gems.splice(r,1)),r>-1&&r<t&&t--,
this.onModelEvent("insertAt",{gem:e,idx:t,oldIdx:n})}
}),s.registeredTypes.gemBar=l.GemBar,
s.registeredTypes.gem=u,s.registeredTypes.combo=u,
s.registeredTypes.slider=u,s.registeredTypes.textbox=u,
s.registeredTypes.checkbox=u,s.registeredTypes.button=u,s
}),define("pentaho/common/propertiesPanel/Panel",["dojo/_base/declare","dojo/data/ItemFileReadStore","dijit/registry","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/HorizontalSlider","dijit/form/TextBox","dijit/form/ComboBox","dijit/form/Select","dijit/form/CheckBox","dijit/TitlePane","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/html","dojo/dom-construct","dojo/string","dojo/dom-class","dojo/dnd/Target","dojo/dnd/Source","dojo/dnd/Manager","dojo/Evented","dojo/topic","dojo/dom","dojo/dom-geometry","dojo/aspect","pentaho/common/Messages","pentaho/common/propertiesPanel/Configuration"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w,C,S,k,D,M,N,T,A,j){
function I(e){return e+ ++P}
var P=0,L=e("pentaho.common.propertiesPanel.Panel",[a,k],{
captionTemplate:"<div class='caption'><span class='caption-text'>${ui.caption:i18n}</span><i class='captionIcon'></i></div>",
seperatorTemplate:"<div class='propPanel-seperator'></div>",propUIs:null,
groups:null,previousGroupsOpenState:null,gutters:!1,
baseClass:"pentahoPropertiesPanel",minHeightDeviation:0,_gemUIByGemId:null,
constructor:function(e){this.configuration=e,this._gemUIByGemId={}},
postCreate:function(){
g.forEach(this.configuration.items,v.hitch(this,"initializeItem")),
this.inherited(arguments)},resize:function(){
this.minHeightDeviation=0,this.inherited(arguments)},initializeItem:function(e){
if(!e.ui.hidden){var t=L.registeredTypes[e.ui.type]
;if(!t)throw"No Properties Panel UI implementation found for "+e.ui.type;var i
;i=t.create?t.create({model:e,propPanel:this}):new t({model:e,propPanel:this})
;var n=this.domNode,r=e.ui.group;if(r){var o=this._getOrCreateGroup(r)
;o&&(n=o.content)}
if(e.ui.seperator&&n.appendChild(b.toDom(this.seperatorTemplate)),e.ui.caption){
var a=b.toDom(_.substitute(this.captionTemplate,e,null,{i18n:function(e,t){
var i=A.getString(e,e);return i.length&&":"===i[i.length-1]?i.slice(0,-1):i}
})),s=m("i",a)
;s&&null!=s&&s.length>0&&(s=s[s.length-1],e.ui.captionIcon?x.add(s,e.ui.captionIcon):s.style.display="none"),
n.appendChild(a)}
this.setupEventHandling(i),i instanceof F&&this.registerGemUI(i),
this.propUIs.push(i),
this.own(p(i,"UIEvent",v.hitch(this,"onUIEvent"))),x.add(i.domNode,"propPanelItem"),
n.appendChild(i.domNode),this.resize()}},_getOrCreateGroup:function(e){
var t=this.groups[e];if(!t){var i=this.configuration.groups[e]
;i&&(t=this._createGroup(e,i))}return t},_createGroup:function(e,t){
var i=new f({title:A.getString(t.title,t.title),
content:document.createElement("div"),region:"top",splitter:!1})
;return null!==this.previousGroupsOpenState&&void 0!==this.previousGroupsOpenState[e]&&i.open&&!1===this.previousGroupsOpenState[e].open&&i.toggle(),
T.after(i,"resize",v.hitch(this,function(){this._resizeGroup(i)
})),T.after(i._wipeOut,"onEnd",v.hitch(this,"resize")),
T.after(i._wipeIn,"onEnd",v.hitch(this,"resize")),
this.domNode.appendChild(i.domNode),this.groups[e]=i},_resizeGroup:function(e){
var t=(N.position(this.domNode.children[this.domNode.children.length-1]),
0),i=0,n=0,r=0;for(var o in this.groups){t++
;var a=this.groups[o],s=N.position(a.titleBarNode).h
;i+=a.open?s+a.hideNode.scrollHeight:0,
a.open?r+=a.usingMinHeight?a.heightAdjustment:0:r+=s}
g.forEach(this.domNode.children,function(e){
e.className.match(/dijitTitlePane/)||(n+=N.position(e).h)})
;var l=(N.position(this.domNode).h,
N.position(this.domNode).h-n-r),u=N.position(e.titleBarNode),s=u.h,c=u.w
;if(e.open){var h=s+e.hideNode.scrollHeight,d=h/i*l
;d>h?(e.hideNode.style.overflow="hidden",
e.wipeNode.style.width=c+"px"):(e.hideNode.style.overflow="auto",
e.wipeNode.style.width="")
;d<2.2*s?(e.usingMinHeight=!0,e.heightAdjustment=2.2*s-d,
d=2.2*s):e.usingMinHeight=!1,
isNaN(d)||(e.domNode.style.height=d+"px"),N.position(e.domNode).h>0&&(e.hideNode.style.height=Math.min(N.position(e.domNode).h-s,e.hideNode.scrollHeight)+"px")
}else isNaN(s)||(e.domNode.style.height=s+"px"),e.usingMinHeight=!1
;e.domNode.style.width=""},onUIEvent:function(e,t){p.emit(this,e,t)},
registerGemUI:function(e){this._gemUIByGemId[e.model.id]=e},
unregisterGemUI:function(e){delete this._gemUIByGemId[e.model.id]},
getGemUIById:function(e){if(e){var t=/^gem_(.*?)(:?_\d+)?$/.exec(e)
;return t&&(e=t[1]),this._gemUIByGemId[e]}},setupEventHandling:function(e){
this.own(p(e,"contextMenu",function(t){this.onUIEvent("onContextMenu",{item:e,
args:[e,t]})})),this.own(p(e,"click",function(t){this.onUIEvent("onClick",{
item:e,args:[e,t]})})),this.own(p(e,"dblclick",function(t){
this.onUIEvent("onDblClick",{item:e,args:[e,t]})}))},
setConfiguration:function(e){this._setConfiguration(new j(e))},
_setConfiguration:function(e){
if(this.propUIs&&this.propUIs.length&&this._destroyChildrenDeferred(),
this.groups){this.previousGroupsOpenState={}
;for(var t in this.groups)this.groups.hasOwnProperty(t)&&(this.previousGroupsOpenState[t]={},
this.previousGroupsOpenState[t].open=this.groups[t].open||!1)}
for(this.propUIs=[],
this.groups={},this._gemUIByGemId={};null!==this.domNode.firstChild;)this.domNode.removeChild(this.domNode.firstChild)
;this.configuration=e,this.postCreate()},_destroyChildrenDeferred:function(){
function e(){g.forEach(t,function(e){e.destroyRecursive()})}
var t=this.getChildren();window.setTimeout(e,0)},reload:function(){
this._setConfiguration(this.configuration)},set:function(e,t,i){
g.forEach(this.propUIs,function(n){n.model.id==t&&n.model.set(e,i)})}})
;L.registeredTypes={};var R=e([],{constructor:function(e){
this.model=e.model,this.propPanel=e.propPanel,
this._watchHandle=this.model.watch(v.hitch(this,function(e,t,i){switch(e){
case"value":case"default":this._destroyed||this.set(e,i)}}))},
onUIEvent:function(e,t){},destroy:function(){
this.inherited(arguments),this.model=this.propPanel=null,
this._watchHandle&&(this._watchHandle.remove(),this._watchHandle=null)}
}),O=e([C],{constructor:function(e){
this.dropIndicator=document.createElement("div"),
this.dropIndicator.className="indicator",
this.dropIndicator.id="propertyPanelIndicator",
this.dropIndicator.style.display="none";var t=document.createElement("div")
;t.className="indicatorLine",
this.dropIndicator.appendChild(t),this.node.parentNode.appendChild(this.dropIndicator)
},destroy:function(){
this.inherited(arguments),null!==this.__autoHideDropIndicatorCallback&&this.__autoHideDropIndicatorCallback(),
this.gemBar=this.dropIndicator=this.gemUIbeingInserted=null},
onDropAtEnd:function(e,t,i){var n=this.__getEndDropInfo()
;return this.onDrop(e,t,i,n)},onDrop:function(e,t,i,n){if(this.dropZone2Zone=!1,
!t||0===t.length)return!1;var r=t[0]
;if(null!=n&&(this.current=n.anchor,this.before=n.before),
!this.checkAcceptanceAtDropInfo(this,t,!0))return!1
;var o,a=this.gemBar.propPanel.getGemUIById(r.id)
;a?(o=a.model,a.gemBar===this.gemBar||(this.dropZone2Zone=!0,
a.gemBar.remove(a,!0),
a.model.previousGemBar=a.gemBar.model,a.gemBar=this.gemBar)):(o=this.createGemFromNode(r),
a=this.createGemUI(o,r),t[0]=a.domNode),this.gemUIbeingInserted=a;var s=t[0].id
;t[0].id=r.id,this.inherited(arguments),t[0].id=s,this.sync(),e.sync()
;var l=e.postDrop||o.postDrop
;return this._executePostDrop(r.getAttribute("formula"),l),!0},
_onDrop:function(e,t,i,n,r,o,a,s){var l=this.gemBar,u=this.node
;this.gemBar=n,this.node=a;var c=this.createGemByFormula(e,i)
;this.gemUIbeingInserted=this.createGembarUIFromGembar(c,n,t),
this.insertNodes(null,null,r,o,!0),
this.gemBar=l,this.node=u,this._executePostDrop(e,s)},
_executePostDrop:function(e,t){t&&t.f.call(t.scope,e,this.gemBar.id)},
createGemFromNode:function(e){return this.gemBar.model.createGemFromNode(e)},
createGemByFormula:function(e,t){
return this.gemBar.model.createGemByFormula(e,t)},
createGembarUIFromGembar:function(e,t){var i=L.registeredTypes.gem,n={model:e,
gemBar:this.gemBar,dndType:t};return i.create?i.create(n):new i(n)},
createGemUI:function(e,t){return this.gemBar.createGemUI(e,t)},
onDraggingOver:function(){
this.inherited(arguments),this.__previousDropInfo=void 0,
this.updateDropIndicatorAtDropInfo()},onMouseMove:function(){
this.inherited(arguments),
this.__isDraggingAndEnabled()&&this.updateDropIndicatorAtDropInfo()},
onDraggingOut:function(){
this.inherited(arguments),this.__autoHideDropIndicatorCallback?this.__autoHideDropIndicatorCallback():this._hideDropIndicator()
},updateDropIndicatorAtEnd:function(){var e=this.__getEndDropInfo()
;this.updateDropIndicatorAtDropInfo(e)},
updateDropIndicatorAtDropInfo:function(e){var t=this.__previousDropInfo
;if(void 0===e&&(e=this.__getCurrentDropInfo()),
null===e||this.__shouldShowDropIndicator(e)||(e=null),
void 0===t||!this.__areEqualDropInfos(e,t)){this.__previousDropInfo=e
;null!==e&&this.checkAcceptanceAtDropInfo(this,S.manager().nodes,void 0,e)?(this.__placeIndicator(e.anchor,e.before),
this.__hideDropIndicatorOnDndEnd()):this.__autoHideDropIndicatorCallback?this.__autoHideDropIndicatorCallback():this._hideDropIndicator()
}},__previousDropInfo:void 0,__autoHideDropIndicatorCallback:null,
__hideDropIndicatorOnDndEnd:function(){
if(null===this.__autoHideDropIndicatorCallback){
var e,t,i=v.hitch(this,function(){
this.__previousDropInfo=void 0,this.__autoHideDropIndicatorCallback=null,
this._hideDropIndicator(),e.remove(),t.remove()})
;e=D.subscribe("/dnd/cancel",i),
t=D.subscribe("/dnd/drop",i),this.__autoHideDropIndicatorCallback=i}},
__shouldShowDropIndicator:function(e){var t=e.anchor;if(null==t)return!1
;var i=this.node.children,n=e.before,r=this.__getChildIndex(t),o=S.manager().nodes[0]
;return t!==o&&(!(!n&&r+1<i.length&&i[r+1]===o)&&!(n&&r>0&&i[r-1]===o))},
_showDropIndicator:function(){var e=this.__getCurrentDropInfo()
;return this.__shouldShowDropIndicator(e)?(this.__placeIndicator(e.anchor,e.before),
e):(this._hideDropIndicator(),null)},_hideDropIndicator:function(){
this.dropIndicator&&(this.dropIndicator.style.display="none")},
__placeIndicator:function(e,t){
var i,n=this.node.children,r=N.position(this.node,!0),o=this.dropIndicator.style
;if(null==e)n.length?(e=n[n.length-1],
i=N.position(e,!0),o.left=i.x-7-(r.x-5)+"px",
i=N.position(n[0]),o.top=(t?i.y- -5:e.y+e.h+-5)-(r.y-5)+"px",
o.width=i.w+"px"):(o.left="-2px",o.top=r.h+5+"px",o.width=r.w+"px");else{
var a=this.__getChildIndex(e),s=n.length
;!t&&a<s-1&&(t=!0,a++,e=n[a]),i=N.position(e,!0)
;var l=N.getPadExtents(this.dropIndicator.parentNode),u=i.x-r.x;o.left=u-2+"px",
o.width=i.w+"px",this.dropIndicator.style.display=""
;var c=N.position(this.dropIndicator,!0);this.dropIndicator.style.display="none"
;var h,d=i.y-r.y;if(t)if(0===a)h=d;else{
var f=N.position(n[a-1],!0),p=f.y-r.y,m=p+f.h;h=(d+m)/2}else h=d+i.h
;var g=l.t-c.h/2;o.top=g+h+"px"}this.dropIndicator.style.display=""},
_getChildByEvent:function(e){var t=this.inherited(arguments);if(null===t){
var i=this.__getIndexOfChildClosestToMouse(e);i>=0&&(t=this.node.children[i])}
return t},__calculateInsertPosition:function(e,t){var i
;return i=null==e||(i=this.__getChildIndex(e))<0?this.node.children.length:t?i:i+1
},insertNodes:function(e,t,i,n,r){var o=this.__calculateInsertPosition(n,i)
;this.gemBar.insertAt(this.gemUIbeingInserted,o,this.dropZone2Zone),
r||this.inherited(arguments),this.gemBar.propPanel.resize()},
checkAcceptance:function(e,t,i){return this.gemBar.checkAcceptance(e,t,i,null)},
checkAcceptanceAtDropInfo:function(e,t,i,n){
null==n&&(n=this.__getCurrentDropInfo())
;var r=this.__calculateInsertPosition(n.anchor,n.before)
;return this.gemBar.checkAcceptance(e,t,i,r)},
checkAcceptanceAtEnd:function(e,t,i){var n=this.__getEndDropInfo()
;return this.checkAcceptanceAtDropInfo(e,t,i,n)},
__getCurrentDropInfo:function(){return{anchor:this.current,before:this.before}},
__getEndDropInfo:function(){var e=this.node.children;return{
anchor:e.length>0?e[e.length-1]:null,before:!1}},
__areEqualDropInfos:function(e,t){
return e===t||null!==e&&null!==t&&e.before===t.before&&e.anchor===t.anchor},
__getChildIndex:function(e){
return Array.prototype.indexOf.call(this.node.children,e)},
__getIndexOfChildClosestToMouse:function(e){
for(var t=e.clientX,i=e.clientY,n=-1,r=1/0,o=this.node.children,a=0;o&&a<o.length;++a){
var s=N.position(o[a],!0),l=s.x+s.w,u=s.x,c=s.y,h=s.y+s.h
;if(t>=u-6&&t<=l+6&&i>=c-6&&i<=h+6){if(t>=u&&t<=l&&i>=c&&i<=h)return a
;var d=c+s.h/2,f=Math.abs(i-d);(n<0||f<r)&&(n=a,r=f)}}return n},
__isDraggingAndEnabled:function(){
return this.isDragging&&"Disabled"!==this.targetState}}),E=e([w],{
constructor:function(e,t){this.dropZone=t.dropZone},onDraggingOver:function(){
this.inherited(arguments),this.dropZone.updateDropIndicatorAtEnd()},
onDraggingOut:function(){
this.inherited(arguments),this.dropZone.updateDropIndicatorAtDropInfo(null)},
onDrop:function(e,t,i){return this.dropZone.onDropAtEnd(e,t,i)},
checkAcceptance:function(e,t,i){return this.dropZone.checkAcceptanceAtEnd(e,t,i)
},destroy:function(){this.inherited(arguments),this.dropZone=null}
}),B=e([n,r,o,k,R],{className:"propPanel_gemBar",gemLimit:-1,
templateString:"<div class='${className}' data-dojo-type='dijit.layout.BorderContainer' data-dojo-props='gutters:false'><div class='gemDropZone' data-dojo-props='region:center'></div><div class='gemPlaceholder'><span>${placeholderText}</span></div></div>",
gems:null,accept:["gem"],showPlaceholder:!0,placeholderText:"Drop Level Here",
constructor:function(e){
this.id=I(this.model.id+"_ui"),this.showPlaceholder=this.model.ui.showPlaceholder,
this.model.ui.placeholderText&&(this.placeholderText=this.model.ui.placeholderText)
},postCreate:function(){this.gems=[];var e=this.model.dataType
;e&&x.add(this.domNode,e),
this.dropZoneNode=this.domNode.firstChild,this.dropZone=new O(this.dropZoneNode,{
accept:this.model.ui.dndType,gemBar:this})
;var t=0===this.model.gems.length,i=this.showPlaceholder;if(i){
!this.model.allowMultiple&&!t&&(i=!1)}
this.placeholder=m(".gemPlaceholder",this.domNode)[0],
this.placeholder.style.display=i?"":"none",
this.model.required&&t&&x.add(this.placeholder,"reqiured"),
i&&(this._placeHolderSource=new E(this.placeholder,{
accept:this.model.ui.dndType,dropZone:this.dropZone
})),this.own(T.after(this.dropZone,"onDndStart",v.hitch(this,"__onDndStart"),!0),T.after(this.dropZone,"onDndCancel",v.hitch(this,"__onDndEnd")),p(this.domNode,"mouseover",v.hitch(this,"__onDndOver")),p(this.domNode,"mouseout",v.hitch(this,"_hideOver"))),
g.forEach(this.model.gems,function(e){var t=this.createGemUI(e,e.sourceNode)
;this.dropZoneNode.appendChild(t.domNode),this.add(t)
},this),this.dropZone.sync(),this.inherited(arguments)},
__onDndStart:function(e){
this.dropZone.__isDraggingAndEnabled()?e===this.dropZone&&this._showOver():this._showDiminish()
},__onDndOver:function(){
this.dropZone.__isDraggingAndEnabled()&&this._showOver()},__onDndEnd:function(){
this._hideDiminish(),this._hideOver()},_showOver:function(){
this.domNode&&x.add(this.domNode,"over")},_hideOver:function(){
this.domNode&&x.remove(this.domNode,"over")},_showDiminish:function(){
this.domNode&&x.add(this.domNode,"dimished")},_hideDiminish:function(){
this.domNode&&x.remove(this.domNode,"dimished")},add:function(e){
e.model.gemBar=this.model,
e.gemBar=this,this.gems.push(e),this.propPanel.setupEventHandling(e),
this.propPanel.registerGemUI(e),
this.model.required&&x.remove(this.placeholder,"reqiured")},
insertAt:function(e,t,i){var n=g.indexOf(this.gems,e)
;n>-1&&this.gems.splice(n,1),
this.gems.splice(t,0,e),this.propPanel.registerGemUI(e),
this.model.insertAt(e.model,t,n,i),
this.model.allowMultiple||(this.placeholder.style.display="none"),
this.model.required&&x.remove(this.placeholder,"reqiured")},
remove:function(e,t){this.dropZoneNode.removeChild(e.domNode)
;var i=g.indexOf(this.gems,e)
;this.gems.splice(i,1),this.model.remove(e.model,t),
(this.model.allowMultiple||0===this.model.gems.length)&&(this.placeholder.style.display=""),
this.propPanel.unregisterGemUI(e),this.propPanel.resize()},
onContextMenu:function(e,t){},checkAcceptance:function(e,t,i,n){
return this.model.allowMultiple||0===this.model.gems.length},
validateGem:function(e){return!0},createGemFromNode:function(e){var t={
id:e.innerHTML};return new j.registeredTypes.gem(t)},createGemUI:function(e,t){
var i=L.registeredTypes.gem,n={model:e,postDrop:e.postDrop,dndType:e.dndType,
gemBar:this,sourceNode:t};return i.create?i.create(n):new i(n)},
destroyRecursive:function(){
this.inherited(arguments),g.forEach(this.gems,function(e){
e._destroyed||e.destroyRecursive()})},destroy:function(){
this.dropZone&&(this.dropZone.destroy(),
this.dropZone=null),this._placeHolderSource&&(this._placeHolderSource.destroy(),
this._placeHolderSource=null),
this.inherited(arguments),this.dropZoneNode=this.placeholder=this._startupWidgets=this._supportingWidgets=null
}});L.registeredTypes.gemBar=B;var F=e([n,r,k,R],{className:"gem",
templateString:"<div id='${id}' class='${className} dojoDndItem' dndType='${dndType}'><div class='gem-label' title='${model.value}'></div><div class='gemMenuHandle'></div></div>",
constructor:function(e){
e.id=I("gem_"+this.model.id+"_"),this.gemBar=e.gemBar,this.dndType=e.dndType},
detach:function(){model.detach()},destroy:function(){
this.inherited(arguments),this.menuHandle=this.postDrop=this.gemBar=this._startupWidgets=this._supportingWidgets=null
},postCreate:function(){
this.menuHandle=m("div.gemMenuHandle",this.domNode)[0],this.menuHandle||(this.menuHandle=m(".gemMenuHandle",this.domNode)[0])
;var e=m("div.gem-label",this.domNode)[0]
;e||(e=m(".gem-label",this.domNode)[0]),
e.innerHTML=this.model.value,this.own(p(this.domNode,"contextmenu",v.hitch(this,"onContextMenu")),p(this.menuHandle,"mouseover",function(e){
S.manager().source||x.add(e.target,"over")
}),p(this.menuHandle,"mouseout",function(e){
S.manager().source||x.remove(e.target,"over")
}),p(this.menuHandle,"click",v.hitch(this,"onContextMenu")),p(this.domNode,"mouseover",v.hitch(this,"onMouseOver")),p(this.domNode,"mouseout",v.hitch(this,"onMouseOut"))),
this.inherited(arguments)},onMouseOver:function(){
S.manager().source||x.add(this.domNode,"over")},onMouseOut:function(){
x.remove(this.domNode,"over")},onContextMenu:function(e){}})
;L.registeredTypes.gem=F;var z=e([n,r,o,R,k],{
className:"propPanel_combobox propPanel_control",options:null,
templateString:"<div class='${className}' id='${id}'></div>",
constructor:function(e){
this.name=this.model.id,e.id=I(this.name),this.options=[],
g.forEach(this.model.values,function(e,t){var i={label:e,value:e}
;if(this.model.ui.labels){var n=this.model.ui.labels[t];i.label=A.getString(n,n)
}this.options.push(i)
},this),null==this.model.value&&this.model.set("value",this.model.values[0]),
this.value=this.model.value},postCreate:function(){var e=this,t=this.options
;if(g.forEach(t,function(i,n){
void 0===e.value?t.selected=!0:e.value==i.value&&(i.selected=!0)
},this),this.isMobile()){var i=this.id+"_select",n=b.create("select",{id:i})
;g.forEach(t,function(e,t){var i;i=void 0!==e.selected&&1==e.selected?{
label:e.label,value:e.value,selected:!0}:{label:e.label,value:e.value
},b.create("option",i,n)
},this),this.domNode.appendChild(n),this.own(p(n,"onchange",function(){
e.model.set("value",this.value),e.value=this.value}))}else{
x.add(this.domNode,this.className);(this.selNode=new h({options:t,
onChange:function(){e.model.set("value",this.value),e.value=this.value}
})).placeAt(this.domNode)}this.inherited(arguments)},isMobile:function(){
return this.isMobileSafari()||void 0!==window.orientation},
isMobileSafari:function(){
return null!=navigator.userAgent.match(/(iPad|iPod|iPhone)/)},
destroy:function(){
this.inherited(arguments),this.selNode&&(this.selNode.destroyRecursive(),
this.selNode=null),this._startupWidgets=null,this._supportingWidgets=null}})
;L.registeredTypes.combo=z;var V=e([l,R,k],{
className:"propPanel_slider propPanel_control",minimum:0,maximum:100,
style:"width: 100%",intermediateChanges:!0,discreteValues:!0,
constructor:function(e){
e.id=I(this.model.id+"_slider"),this.value=this.model.value,
this.model.minimum&&(this.minimum=this.model.minimum),
this.model.maximum&&(this.maximum=this.model.maximum),
this.discreteValues=this.maximum-this.minimum+1},onChange:function(){
this.model.set("value",this.value)}});L.registeredTypes.slider=V
;var q=e([u,R,k],{className:"propPanel_control",constructor:function(e){
this.disabled=this.model.disabled,
this.value=this.model.value,e.id=null,this.inherited(arguments)},
onChange:function(){this.model.set("value",this.value)}})
;L.registeredTypes.textbox=q;var H=e([n,r,o,R,k],{
className:"propPanel_checkbox propPanel_control",value:!1,
templateString:"<div class='${className}'><label for='${checkBoxId}'>${label}</label></div>",
constructor:function(e){
e.id=null,this.checkBoxId=I(this.model.id+"_checkbox"),null!=this.model.value?this.value=this.model.value:this.model.set("value",this.value),
this.label=A.getString(this.model.ui.label,this.model.ui.label)},
postCreate:function(){var e=this.checkBoxId;this.checkbox=new d({id:e,name:e,
checked:this.model.get("value"),onChange:v.hitch(this,function(e){
this.model.set("value",e)})},e),this.checkbox.placeAt(this.domNode,"first")},
destroy:function(){
this.inherited(arguments),this.checkbox&&(this.checkbox.destroyRecursive(),
this.checkbox=null),this._startupWidgets=this._supportingWidgets=null}})
;L.registeredTypes.checkbox=H;var W=e([n,r,o,R,k],{
templateString:"<div class='button-wrapper'><button id='${buttonId}' name='${buttonId}' data-dojo-type='dijit.form.Button' type='button' >${label}</button></div>",
constructor:function(e){
this.buttonId=I(this.model.id+"_button"),this.disabled=this.model.disabled,
e.id=null;var t=this.model.ui.label
;this.label=A.getString(t,t),this.inherited(arguments)},postCreate:function(){
var e=i.byId(this.buttonId);this.own(p(e,"click",v.hitch(this,"onClick")))},
onClick:function(){this.model.set("clicked",!0)},destroy:function(){
this.inherited(arguments),this._startupWidgets=this._supportingWidgets=null}})
;return L.registeredTypes.button=W,L
}),define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(e,t,i){
var n=e.NodeList;return t.extend(n,{_buildArrayFromCallback:function(e){
for(var t=[],i=0;i<this.length;i++){var n=e.call(this[i],this[i],t)
;n&&(t=t.concat(n))}return t},_getUniqueAsNodeList:function(e){
for(var t,n=[],r=0;t=e[r];r++)1==t.nodeType&&-1==i.indexOf(n,t)&&n.push(t)
;return this._wrap(n,null,this._NodeListCtor)},
_getUniqueNodeListWithParent:function(t,i){var n=this._getUniqueAsNodeList(t)
;return n=i?e._filterResult(n,i):n,n._stash(this)},
_getRelatedUniqueNodes:function(e,t){
return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(t),e)},
children:function(e){return this._getRelatedUniqueNodes(e,function(e,i){
return t._toArray(e.childNodes)})},closest:function(t,i){
return this._getRelatedUniqueNodes(null,function(n,r){do{
if(e._filterResult([n],t,i).length)return n
}while(n!=i&&(n=n.parentNode)&&1==n.nodeType);return null})},parent:function(e){
return this._getRelatedUniqueNodes(e,function(e,t){return e.parentNode})},
parents:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=[];e.parentNode;)e=e.parentNode,i.push(e);return i})},
siblings:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=[],n=e.parentNode&&e.parentNode.childNodes,r=0;r<n.length;r++)n[r]!=e&&i.push(n[r])
;return i})},next:function(e){
return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=e.nextSibling;i&&1!=i.nodeType;)i=i.nextSibling;return i})},
nextAll:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=[],n=e;n=n.nextSibling;)1==n.nodeType&&i.push(n);return i})},
prev:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=e.previousSibling;i&&1!=i.nodeType;)i=i.previousSibling;return i})},
prevAll:function(e){return this._getRelatedUniqueNodes(e,function(e,t){
for(var i=[],n=e;n=n.previousSibling;)1==n.nodeType&&i.push(n);return i})},
andSelf:function(){return this.concat(this._parent)},first:function(){
return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){
return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){
return this.filter(function(e,t){return t%2!=0})},odd:function(){
return this.filter(function(e,t){return t%2==0})}}),n
}),define("dojo/fx/easing",["../_base/lang"],function(e){var t={
linear:function(e){return e},quadIn:function(e){return Math.pow(e,2)},
quadOut:function(e){return e*(e-2)*-1},quadInOut:function(e){
return e*=2,e<1?Math.pow(e,2)/2:-1*(--e*(e-2)-1)/2},cubicIn:function(e){
return Math.pow(e,3)},cubicOut:function(e){return Math.pow(e-1,3)+1},
cubicInOut:function(e){return(e*=2)<1?Math.pow(e,3)/2:(e-=2,(Math.pow(e,3)+2)/2)
},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){
return-1*(Math.pow(e-1,4)-1)},quartInOut:function(e){
return(e*=2)<1?Math.pow(e,4)/2:(e-=2,-.5*(Math.pow(e,4)-2))},
quintIn:function(e){return Math.pow(e,5)},quintOut:function(e){
return Math.pow(e-1,5)+1},quintInOut:function(e){
return(e*=2)<1?Math.pow(e,5)/2:(e-=2,(Math.pow(e,5)+2)/2)},sineIn:function(e){
return-1*Math.cos(e*(Math.PI/2))+1},sineOut:function(e){
return Math.sin(e*(Math.PI/2))},sineInOut:function(e){
return-1*(Math.cos(Math.PI*e)-1)/2},expoIn:function(e){
return 0==e?0:Math.pow(2,10*(e-1))},expoOut:function(e){
return 1==e?1:-1*Math.pow(2,-10*e)+1},expoInOut:function(e){
return 0==e?0:1==e?1:(e*=2)<1?Math.pow(2,10*(e-1))/2:(--e,
(-1*Math.pow(2,-10*e)+2)/2)},circIn:function(e){
return-1*(Math.sqrt(1-Math.pow(e,2))-1)},circOut:function(e){
return e-=1,Math.sqrt(1-Math.pow(e,2))},circInOut:function(e){
return(e*=2)<1?-.5*(Math.sqrt(1-Math.pow(e,2))-1):(e-=2,
.5*(Math.sqrt(1-Math.pow(e,2))+1))},backIn:function(e){var t=1.70158
;return Math.pow(e,2)*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158
;return Math.pow(e,2)*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095
;return(e*=2)<1?Math.pow(e,2)*((t+1)*e-t)/2:(e-=2,
(Math.pow(e,2)*((t+1)*e+t)+2)/2)},elasticIn:function(e){if(0==e||1==e)return e
;return e-=1,-1*Math.pow(2,10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)},
elasticOut:function(e){if(0==e||1==e)return e
;return Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1},
elasticInOut:function(e){if(0==e)return 0;if(2==(e*=2))return 1
;var t=.3*1.5,i=t/4
;return e<1?(e-=1,Math.pow(2,10*e)*Math.sin((e-i)*(2*Math.PI)/t)*-.5):(e-=1,
Math.pow(2,-10*e)*Math.sin((e-i)*(2*Math.PI)/t)*.5+1)},bounceIn:function(e){
return 1-t.bounceOut(1-e)},bounceOut:function(e){var t,i=7.5625,n=2.75
;return e<1/n?t=i*Math.pow(e,2):e<2/n?(e-=1.5/n,
t=i*Math.pow(e,2)+.75):e<2.5/n?(e-=2.25/n,
t=i*Math.pow(e,2)+.9375):(e-=2.625/n,t=i*Math.pow(e,2)+.984375),t},
bounceInOut:function(e){return e<.5?t.bounceIn(2*e)/2:t.bounceOut(2*e-1)/2+.5}}
;return e.setObject("dojo.fx.easing",t),t
}),define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
return c("dijit-legacy-requires")&&m(0,function(){
e(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])
}),i("dijit.Menu",p,{constructor:function(){this._bindings=[]},targetNodeIds:[],
selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,
postCreate:function(){
this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):t.forEach(this.targetNodeIds,this.bindDomNode,this),
this.inherited(arguments)},_iframeContentWindow:function(e){
return d.get(this._iframeContentDocument(e))||this._iframeContentDocument(e).__parent__||e.name&&document.frames[e.name]||null
},_iframeContentDocument:function(e){
return e.contentDocument||e.contentWindow&&e.contentWindow.document||e.name&&document.frames[e.name]&&document.frames[e.name].document||null
},bindDomNode:function(e){e=n.byId(e,this.ownerDocument);var t
;if("iframe"==e.tagName.toLowerCase()){var i=e,o=this._iframeContentWindow(i)
;t=h.body(o.document)
}else t=e==h.body(this.ownerDocument)?this.ownerDocument.documentElement:e
;var a={node:e,iframe:i};r.set(e,"_dijitMenu"+this.id,this._bindings.push(a))
;var c=l.hitch(this,function(e){var t=this.selector,n=t?function(e){
return u.selector(t,e)}:function(e){return e},r=this
;return[u(e,n(this.leftClickToOpen?"click":"contextmenu"),function(e){
e.stopPropagation(),e.preventDefault(),r._scheduleOpen(this,i,{x:e.pageX,
y:e.pageY})}),u(e,n("keydown"),function(e){
e.shiftKey&&e.keyCode==s.F10&&(e.stopPropagation(),
e.preventDefault(),r._scheduleOpen(this,i))})]})
;a.connects=t?c(t):[],i&&(a.onloadHandler=l.hitch(this,function(){
var e=this._iframeContentWindow(i),t=h.body(e.document);a.connects=c(t)
}),i.addEventListener?i.addEventListener("load",a.onloadHandler,!1):i.attachEvent("onload",a.onloadHandler))
},unBindDomNode:function(e){var t;try{t=n.byId(e,this.ownerDocument)}catch(e){
return}var i="_dijitMenu"+this.id;if(t&&r.has(t,i)){
for(var o,a=r.get(t,i)-1,s=this._bindings[a];o=s.connects.pop();)o.remove()
;var l=s.iframe
;l&&(l.removeEventListener?l.removeEventListener("load",s.onloadHandler,!1):l.detachEvent("onload",s.onloadHandler)),
r.remove(t,i),delete this._bindings[a]}},_scheduleOpen:function(e,t,i){
this._openTimer||(this._openTimer=this.defer(function(){
delete this._openTimer,this._openMyself({target:e,iframe:t,coords:i})},1))},
_openMyself:function(e){function t(){y.refocus&&x&&x.focus(),f.close(y)}
var i=e.target,r=e.iframe,s=e.coords,l=!s;if(this.currentTarget=i,s){if(r){
var u=o.position(r,!0),h=this._iframeContentWindow(r),d=o.docScroll(h.document),p=a.getComputedStyle(r),m=a.toPixelValue,g=(c("ie")&&c("quirks")?0:m(r,p.paddingLeft))+(c("ie")&&c("quirks")?m(r,p.borderLeftWidth):0),v=(c("ie")&&c("quirks")?0:m(r,p.paddingTop))+(c("ie")&&c("quirks")?m(r,p.borderTopWidth):0)
;s.x+=u.x+g-d.x,s.y+=u.y+v-d.y}}else s=o.position(i,!0),s.x+=10,s.y+=10
;var y=this,b=this._focusManager.get("prevNode"),_=this._focusManager.get("curNode"),x=!_||n.isDescendant(_,this.domNode)?b:_
;f.open({popup:this,x:s.x,y:s.y,onExecute:t,onCancel:t,
orient:this.isLeftToRight()?"L":"R"}),this.focus(),l||this.defer(function(){
this._cleanUp(!0)}),this._onBlur=function(){this.inherited("_onBlur",arguments),
f.close(this)}},destroy:function(){t.forEach(this._bindings,function(e){
e&&this.unBindDomNode(e.node)},this),this.inherited(arguments)}})
}),define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(e,t,i,n,r,o,a){
return e("dijit.PopupMenuItem",a,{_fillContent:function(){if(this.srcNodeRef){
var e=n("*",this.srcNodeRef)
;this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},
_openPopup:function(e,t){var n=this.popup;r.open(i.delegate(e,{popup:this.popup,
around:this.domNode})),t&&n.focus&&n.focus()},_closePopup:function(){
r.close(this.popup),this.popup.parentMenu=null},startup:function(){
if(!this._started){if(this.inherited(arguments),!this.popup){
var e=n("[widgetId]",this.dropDownContainer)[0];this.popup=o.byNode(e)}
this.ownerDocumentBody.appendChild(this.popup.domNode),
this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id),
this.popup.startup(),
this.popup.domNode.style.display="none",this.arrowWrapper&&t.set(this.arrowWrapper,"visibility",""),
this.focusNode.setAttribute("aria-haspopup","true")}},
destroyDescendants:function(e){
this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(e),
delete this.popup),this.inherited(arguments)}})
}),define("dojo/date",["./has","./_base/lang"],function(e,t){var i={}
;return i.getDaysInMonth=function(e){
var t=e.getMonth(),n=[31,28,31,30,31,30,31,31,30,31,30,31]
;return 1==t&&i.isLeapYear(e)?29:n[t]},i.isLeapYear=function(e){
var t=e.getFullYear();return!(t%400&&(t%4||!(t%100)))
},i.getTimezoneName=function(e){var t,i=e.toString(),n="",r=i.indexOf("(")
;if(r>-1)n=i.substring(++r,i.indexOf(")"));else{var o=/([A-Z\/]+) \d{4}$/
;(t=i.match(o))?n=t[1]:(i=e.toLocaleString(),
o=/ ([A-Z\/]+)$/,(t=i.match(o))&&(n=t[1]))}return"AM"==n||"PM"==n?"":n
},i.compare=function(e,t,i){
return e=new Date(+e),t=new Date(+(t||new Date)),"date"==i?(e.setHours(0,0,0,0),
t.setHours(0,0,0,0)):"time"==i&&(e.setFullYear(0,0,0),
t.setFullYear(0,0,0)),e>t?1:e<t?-1:0},i.add=function(e,t,i){
var n=new Date(+e),r=!1,o="Date";switch(t){case"day":break;case"weekday":
var a,s,l=i%5;l?(a=l,s=parseInt(i/5)):(a=i>0?5:-5,s=i>0?(i-5)/5:(i+5)/5)
;var u=e.getDay(),c=0;6==u&&i>0?c=1:0==u&&i<0&&(c=-1);var h=u+a
;0!=h&&6!=h||(c=i>0?2:-2),i=7*s+a+c;break;case"year":o="FullYear",r=!0;break
;case"week":i*=7;break;case"quarter":i*=3;case"month":r=!0,o="Month";break
;default:o="UTC"+t.charAt(0).toUpperCase()+t.substring(1)+"s"}
return o&&n["set"+o](n["get"+o]()+i),r&&n.getDate()<e.getDate()&&n.setDate(0),n
},i.difference=function(e,t,n){t=t||new Date,n=n||"day"
;var r=t.getFullYear()-e.getFullYear(),o=1;switch(n){case"quarter":
var a=e.getMonth(),s=t.getMonth(),l=Math.floor(a/3)+1,u=Math.floor(s/3)+1
;u+=4*r,o=u-l;break;case"weekday":
var c=Math.round(i.difference(e,t,"day")),h=parseInt(i.difference(e,t,"week")),d=c%7
;if(0==d)c=5*h;else{var f=0,p=e.getDay(),m=t.getDay();h=parseInt(c/7),d=c%7
;var g=new Date(e);g.setDate(g.getDate()+7*h);var v=g.getDay()
;if(c>0)switch(!0){case 6==p:f=-1;break;case 0==p:f=0;break;case 6==m:f=-1;break
;case 0==m:f=-2;break;case v+d>5:f=-2}else if(c<0)switch(!0){case 6==p:f=0;break
;case 0==p:f=1;break;case 6==m:f=2;break;case 0==m:f=1;break;case v+d<0:f=2}
c+=f,c-=2*h}o=c;break;case"year":o=r;break;case"month":
o=t.getMonth()-e.getMonth()+12*r;break;case"week":
o=parseInt(i.difference(e,t,"day")/7);break;case"day":o/=24;case"hour":o/=60
;case"minute":o/=60;case"second":o/=1e3;case"millisecond":
o*=t.getTime()-e.getTime()}return Math.round(o)
},e("extend-dojo")&&t.mixin(t.getObject("dojo.date",!0),i),i
}),define("dojo/cldr/supplemental",["../_base/lang","../i18n"],function(e,t){
var i={}
;return e.setObject("dojo.cldr.supplemental",i),i.getFirstDayOfWeek=function(e){
var t={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,
om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,
ca:0,cn:0,co:0,dm:0,do:0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,in:0,jm:0,jp:0,
ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,
pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0
},n=i._region(e),r=t[n];return void 0===r?1:r},i._region=function(e){
e=t.normalizeLocale(e);var i=e.split("-"),n=i[1]
;return n?4==n.length&&(n=i[2]):n={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",
ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",
bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",
cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",
et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",
gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",
ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us",in:"id",is:"is",
it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",
ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",
mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",
my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",
nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",
qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",
si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",
su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",
tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",
ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",
ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",
bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",
bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",
bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",
bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",
chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",
dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",
dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",
gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",
grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",
hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",
kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",
ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",
kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",
krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",
lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",
lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",
mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",
mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",
mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de",new:"np",niu:"nu",
nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",
pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",
rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",
sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",
shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",
srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",
syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",
tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",
tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",
unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",
yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[i[0]],n},i.getWeekend=function(e){var t={
in:0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,
qa:5,sd:5,sy:5,tn:5},n={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,
jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},r=i._region(e),o=t[r],a=n[r]
;return void 0===o&&(o=6),void 0===a&&(a=0),{start:o,end:a}},i
}),define("dojo/date/locale",["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(e,t,i,n,r,o,a,s,l){
function u(e,t,i,r){return r.replace(/([a-z])\1*/gi,function(o){
var s,l,u=o.charAt(0),c=o.length,h=["abbr","wide","narrow"];switch(u){case"G":
s=t[c<4?"eraAbbr":"eraNames"][e.getFullYear()<0?0:1];break;case"y":
switch(s=e.getFullYear(),c){case 1:break;case 2:if(!i.fullYear){
s=String(s),s=s.substr(s.length-2);break}default:l=!0}break;case"Q":case"q":
s=Math.ceil((e.getMonth()+1)/3),l=!0;break;case"M":case"L":var f=e.getMonth()
;if(c<3)s=f+1,l=!0;else{
var p=["months","L"==u?"standAlone":"format",h[c-3]].join("-");s=t[p][f]}break
;case"w":;s=d._getWeekOfYear(e,0),l=!0;break;case"d":s=e.getDate(),l=!0;break
;case"D":s=d._getDayOfYear(e),l=!0;break;case"e":case"c":var m=e.getDay()
;if(c<2){s=(m-n.getFirstDayOfWeek(i.locale)+8)%7;break}case"E":
if(m=e.getDay(),c<3)s=m+1,l=!0;else{
var g=["days","c"==u?"standAlone":"format",h[c-3]].join("-");s=t[g][m]}break
;case"a":var v=e.getHours()<12?"am":"pm";s=i[v]||t["dayPeriods-format-wide-"+v]
;break;case"h":case"H":case"K":case"k":var y=e.getHours();switch(u){case"h":
s=y%12||12;break;case"H":s=y;break;case"K":s=y%12;break;case"k":s=y||24}l=!0
;break;case"m":s=e.getMinutes(),l=!0;break;case"s":s=e.getSeconds(),l=!0;break
;case"S":s=Math.round(e.getMilliseconds()*Math.pow(10,c-3)),l=!0;break;case"v":
case"z":if(s=d._getZone(e,!0,i))break;c=4;case"Z":
var b=d._getZone(e,!1,i),_=[b<=0?"+":"-",a.pad(Math.floor(Math.abs(b)/60),2),a.pad(Math.abs(b)%60,2)]
;4==c&&(_.splice(0,0,"GMT"),_.splice(3,0,":")),s=_.join("");break;default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+r)}
return l&&(s=a.pad(s,c)),s})}function c(e,i,n,r){var o=function(e){return e}
;i=i||o,n=n||o,r=r||o;var a=e.match(/(''|[^'])+/g),s="'"==e.charAt(0)
;return t.forEach(a,function(e,t){
e?(a[t]=(s?n:i)(e.replace(/''/g,"'")),s=!s):a[t]=""}),r(a.join(""))}
function h(e,t,i,n){
return n=o.escapeString(n),i.strict||(n=n.replace(" a"," ?a")),
n.replace(/([a-z])\1*/gi,function(n){var r,o=n.charAt(0),a=n.length,s="",l=""
;switch(i.strict?(a>1&&(s="0{"+(a-1)+"}"),
a>2&&(l="0{"+(a-2)+"}")):(s="0?",l="0{0,2}"),o){case"y":r="\\d{2,4}";break
;case"M":case"L":r=a>2?"\\S+?":"1[0-2]|"+s+"[1-9]";break;case"D":
r="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+s+"[1-9][0-9]|"+l+"[1-9]";break;case"d":
r="3[01]|[12]\\d|"+s+"[1-9]";break;case"w":r="[1-4][0-9]|5[0-3]|"+s+"[1-9]"
;break;case"E":case"e":case"c":r=".+?";break;case"h":r="1[0-2]|"+s+"[1-9]";break
;case"k":r="1[01]|"+s+"\\d";break;case"H":r="1\\d|2[0-3]|"+s+"\\d";break
;case"K":r="1\\d|2[0-4]|"+s+"[1-9]";break;case"m":case"s":r="[0-5]\\d";break
;case"S":r="\\d{"+a+"}";break;case"a":
var u=i.am||t["dayPeriods-format-wide-am"],c=i.pm||t["dayPeriods-format-wide-pm"]
;r=u+"|"+c,
i.strict||(u!=u.toLowerCase()&&(r+="|"+u.toLowerCase()),c!=c.toLowerCase()&&(r+="|"+c.toLowerCase()),
-1!=r.indexOf(".")&&(r+="|"+r.replace(/\./g,""))),r=r.replace(/\./g,"\\.");break
;default:r=".*"}return e&&e.push(n),"("+r+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")
}var d={};e.setObject(l.id.replace(/\//g,"."),d),d._getZone=function(e,t,n){
return t?i.getTimezoneName(e):e.getTimezoneOffset()},d.format=function(t,i){
i=i||{}
;var n=r.normalizeLocale(i.locale),o=i.formatLength||"short",a=d._getGregorianBundle(n),s=[],l=e.hitch(this,u,t,a,i)
;if("year"==i.selector)return c(a["dateFormatItem-yyyy"]||"yyyy",l);var h
;return"date"!=i.selector&&(h=i.timePattern||a["timeFormat-"+o])&&s.push(c(h,l)),
"time"!=i.selector&&(h=i.datePattern||a["dateFormat-"+o])&&s.push(c(h,l)),
1==s.length?s[0]:a["dateTimeFormat-"+o].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(e,t){
return s[t]})},d.regexp=function(e){return d._parseInfo(e).regexp
},d._parseInfo=function(t){t=t||{}
;var i,n=r.normalizeLocale(t.locale),o=d._getGregorianBundle(n),a=t.formatLength||"short",s=t.datePattern||o["dateFormat-"+a],l=t.timePattern||o["timeFormat-"+a]
;i="date"==t.selector?s:"time"==t.selector?l:o["dateTimeFormat-"+a].replace(/\{(\d+)\}/g,function(e,t){
return[l,s][t]});var u=[];return{regexp:c(i,e.hitch(this,h,u,o,t)),tokens:u,
bundle:o}},d.parse=function(e,n){
var r=/[\u200E\u200F\u202A\u202E]/g,o=d._parseInfo(n),a=o.tokens,s=o.bundle,l=new RegExp("^"+o.regexp.replace(r,"")+"$",o.strict?"":"i"),u=l.exec(e&&e.replace(r,""))
;if(!u)return null
;var c=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],f="",p=t.every(u,function(e,i){
if(!i)return!0;var r=a[i-1],o=r.length,l=r.charAt(0);switch(l){case"y":
if(2!=o&&n.strict)h[0]=e;else if(e<100){e=Number(e)
;var u=""+(new Date).getFullYear(),d=100*u.substring(0,2),p=Math.min(Number(u.substring(2,4))+20,99)
;h[0]=e<p?d+e:d-100+e}else{if(n.strict)return!1;h[0]=e}break;case"M":case"L":
if(o>2){var m=s["months-"+("L"==l?"standAlone":"format")+"-"+c[o-3]].concat()
;if(n.strict||(e=e.replace(".","").toLowerCase(),m=t.map(m,function(e){
return e.replace(".","").toLowerCase()})),-1==(e=t.indexOf(m,e)))return!1
}else e--;h[1]=e;break;case"E":case"e":case"c":
var g=s["days-"+("c"==l?"standAlone":"format")+"-"+c[o-3]].concat()
;if(n.strict||(e=e.toLowerCase(),g=t.map(g,function(e){return e.toLowerCase()
})),-1==(e=t.indexOf(g,e)))return!1;break;case"D":h[1]=0;case"d":h[2]=e;break
;case"a":
var v=n.am||s["dayPeriods-format-wide-am"],y=n.pm||s["dayPeriods-format-wide-pm"]
;if(!n.strict){var b=/\./g
;e=e.replace(b,"").toLowerCase(),v=v.replace(b,"").toLowerCase(),
y=y.replace(b,"").toLowerCase()}if(n.strict&&e!=v&&e!=y)return!1
;f=e==y?"p":e==v?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":
if(e>23)return!1;h[3]=e;break;case"m":h[4]=e;break;case"s":h[5]=e;break;case"S":
h[6]=e}return!0}),m=+h[3];"p"===f&&m<12?h[3]=m+12:"a"===f&&12==m&&(h[3]=0)
;var g=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6])
;n.strict&&g.setFullYear(h[0])
;var v=a.join(""),y=-1!=v.indexOf("d"),b=-1!=v.indexOf("M")
;return!p||b&&g.getMonth()>h[1]||y&&g.getDate()>h[2]?null:((b&&g.getMonth()<h[1]||y&&g.getDate()<h[2])&&(g=i.add(g,"hour",1)),
g)};var f=[];return d.addCustomFormats=function(e,t){f.push({pkg:e,name:t})
},d._getGregorianBundle=function(i){var n={};return t.forEach(f,function(t){
var o=r.getLocalization(t.pkg,t.name,i);n=e.mixin(n,o)},this),n
},d.addCustomFormats(l.id.replace(/\/date\/locale$/,".cldr"),"gregorian"),
d.getNames=function(e,t,i,n){var r,o=d._getGregorianBundle(n),a=[e,i,t]
;if("standAlone"==i){r=o[a.join("-")],1==r[0]&&(r=void 0)}
return a[1]="format",(r||o[a.join("-")]).concat()},d.isWeekend=function(e,t){
var i=n.getWeekend(t),r=(e||new Date).getDay()
;return i.end<i.start&&(i.end+=7,r<i.start&&(r+=7)),r>=i.start&&r<=i.end
},d._getDayOfYear=function(e){
return i.difference(new Date(e.getFullYear(),0,1,e.getHours()),e)+1
},d._getWeekOfYear=function(e,t){1==arguments.length&&(t=0)
;var i=new Date(e.getFullYear(),0,1).getDay(),n=(i-t+7)%7,r=Math.floor((d._getDayOfYear(e)+n-1)/7)
;return i==t&&r++,r},d
}),define("dojo/text!dijit/templates/Calendar.html",[],function(){
return'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year" data-dojo-attach-point="gridNode">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth" scope="col">\n\t\t\t\t<span class="dijitInline dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"></span>\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5" scope="col">\n\t\t\t\t<div data-dojo-attach-point="monthNode">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' scope="col" data-dojo-attach-point="incrementMonth">\n\t\t\t\t<span class="dijitInline dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"></span>\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role="row">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="ondijitclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\n\t\t\t\t<div class="dijitCalendarYearLabel">\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n'
}),
define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p){
var m=t("dijit.CalendarLite",[d,f],{templateString:p,
dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader" scope="col"><span class="dijitCalendarDayLabel">${d}</span></th>',
dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',
weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',
value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",
currentFocus:new Date,_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",
_isValidDate:function(e){
return e&&!isNaN(e)&&"object"==typeof e&&e.toString()!=this.constructor.prototype.value.toString()
},_getValueAttr:function(){var e=this._get("value");if(e&&!isNaN(e)){
var t=new this.dateClassObj(e)
;return t.setHours(0,0,0,0),t.getDate()<e.getDate()&&(t=this.dateModule.add(t,"hour",1)),
t}return null},_setValueAttr:function(e,t){
"string"==typeof e&&(e=o.fromISOString(e)),
e=this._patchDate(e),this._isValidDate(e)&&!this.isDisabledDate(e,this.lang)?(this._set("value",e),
this.set("currentFocus",e),
this._markSelectedDates([e]),this._created&&(t||void 0===t)&&this.onChange(this.get("value"))):(this._set("value",null),
this._markSelectedDates([]))},_patchDate:function(e){
return e&&(e=new this.dateClassObj(e),e.setHours(1,0,0,0)),e},
_setText:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild)
;e.appendChild(e.ownerDocument.createTextNode(t))},_populateGrid:function(){
var t=new this.dateClassObj(this.currentFocus);t.setDate(1)
;var n=t.getDay(),r=this.dateModule.getDaysInMonth(t),o=this.dateModule.getDaysInMonth(this.dateModule.add(t,"month",-1)),a=new this.dateClassObj,s=i.getFirstDayOfWeek(this.lang)
;if(s>n&&(s-=7),!this.summary){
var l=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t)
;this.gridNode.setAttribute("summary",l[t.getMonth()])}
this._date2cell={},e.forEach(this.dateCells,function(e,i){
var l,u=i+s,c=new this.dateClassObj(t),h="dijitCalendar",d=0
;u<n?(l=o-n+u+1,d=-1,
h+="Previous"):u>=n+r?(l=u-n-r+1,d=1,h+="Next"):(l=u-n+1,h+="Current"),
d&&(c=this.dateModule.add(c,"month",d)),
c.setDate(l),this.dateModule.compare(c,a,"date")||(h="dijitCalendarCurrentDate "+h),
this.isDisabledDate(c,this.lang)?(h="dijitCalendarDisabledDate "+h,
e.setAttribute("aria-disabled","true")):(h="dijitCalendarEnabledDate "+h,
e.removeAttribute("aria-disabled"),e.setAttribute("aria-selected","false"))
;var f=this.getClassForDate(c,this.lang)
;f&&(h=f+" "+h),e.className=h+"Month dijitCalendarDateTemplate"
;var p=c.valueOf()
;this._date2cell[p]=e,e.dijitDateValue=p,this._setText(this.dateLabels[i],c.getDateLocalized?c.getDateLocalized(this.lang):c.getDate())
},this)},_populateControls:function(){
var t=new this.dateClassObj(this.currentFocus)
;t.setDate(1),this.monthWidget.set("month",t)
;var i=t.getFullYear()-1,n=new this.dateClassObj
;e.forEach(["previous","current","next"],function(e){
n.setFullYear(i++),this._setText(this[e+"YearLabelNode"],this.dateLocaleModule.format(n,{
selector:"year",locale:this.lang}))},this)},goToToday:function(){
this.set("value",new this.dateClassObj)},constructor:function(e){
this.dateModule=e.datePackage?l.getObject(e.datePackage,!1):n,
this.dateClassObj=this.dateModule.Date||Date,
this.dateLocaleModule=e.datePackage?l.getObject(e.datePackage+".locale",!1):r},
_createMonthWidget:function(){return m._MonthWidget({id:this.id+"_mddb",
lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode)},
buildRendering:function(){
var e=this.dowTemplateString,t=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),n=i.getFirstDayOfWeek(this.lang)
;this.dayCellsHtml=h.substitute([e,e,e,e,e,e,e].join(""),{d:""},function(){
return t[n++%7]});var r=h.substitute(this.weekTemplateString,{
d:this.dateTemplateString})
;this.dateRowsHtml=[r,r,r,r,r,r].join(""),this.dateCells=[],
this.dateLabels=[],this.inherited(arguments),a.setSelectable(this.domNode,!1)
;var o=new this.dateClassObj(this.currentFocus)
;this.monthWidget=this._createMonthWidget(),this.set("currentFocus",o,!1)},
postCreate:function(){this.inherited(arguments),this._connectControls()},
_connectControls:function(){var e=l.hitch(this,function(e,t,i){
return u(this[e],"click",l.hitch(this,function(){
this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,t,i))}))})
;this.own(e("incrementMonth","month",1),e("decrementMonth","month",-1),e("nextYearLabelNode","year",1),e("previousYearLabelNode","year",-1))
},_setCurrentFocusAttr:function(e,t){
var i=this.currentFocus,n=this._getNodeByDate(i)
;e=this._patchDate(e),this._set("currentFocus",e),
this._date2cell&&0==this.dateModule.difference(i,e,"month")||(this._populateGrid(),
this._populateControls(),this._markSelectedDates([this.value]))
;var r=this._getNodeByDate(e)
;r.setAttribute("tabIndex",this.tabIndex),(this.focused||t)&&r.focus(),
n&&n!=r&&(c("webkit")?n.setAttribute("tabIndex","-1"):n.removeAttribute("tabIndex"))
},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},
_onDayClick:function(e){e.stopPropagation(),e.preventDefault()
;for(var t=e.target;t&&!t.dijitDateValue;t=t.parentNode);
t&&!s.contains(t,"dijitCalendarDisabledDate")&&this.set("value",t.dijitDateValue)
},_getNodeByDate:function(e){
return e=this._patchDate(e),e&&this._date2cell?this._date2cell[e.valueOf()]:null
},_markSelectedDates:function(t){function i(e,t){
s.toggle(t,"dijitCalendarSelectedDate",e),
t.setAttribute("aria-selected",e?"true":"false")}
e.forEach(this._selectedCells||[],l.partial(i,!1)),
this._selectedCells=e.filter(e.map(t,this._getNodeByDate,this),function(e){
return e}),e.forEach(this._selectedCells,l.partial(i,!0))},
onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}})
;return m._MonthWidget=t("dijit.CalendarLite._MonthWidget",d,{
_setMonthAttr:function(t){
var i=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,t),n=6==c("ie")?"":"<div class='dijitSpacer'>"+e.map(i,function(e){
return"<div>"+e+"</div>"}).join("")+"</div>"
;this.domNode.innerHTML=n+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+i[t.getMonth()]+"</div>"
}}),m
}),define("dojo/text!dijit/form/templates/DropDownButton.html",[],function(){
return'<span class="dijit dijitReset dijitInline"\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event="ondijitclick:__onClick" data-dojo-attach-point="_buttonNode"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point="iconNode"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t\tid="${id}_label"\n\t\t\t></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\n\t\tdata-dojo-attach-event="onclick:_onClick"\n\t\tdata-dojo-attach-point="valueNode" role="presentation"\n/></span>\n'
}),
define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(e,t,i,n,r,o,a,s,l){
return e("dijit.form.DropDownButton",[o,a,s],{baseClass:"dijitDropDownButton",
templateString:l,_fillContent:function(){if(this.srcNodeRef){
var e=i("*",this.srcNodeRef)
;this.inherited(arguments,[e[0]]),this.dropDownContainer=this.srcNodeRef}},
startup:function(){if(!this._started){
if(!this.dropDown&&this.dropDownContainer){
var e=i("[widgetId]",this.dropDownContainer)[0]
;e&&(this.dropDown=n.byNode(e)),delete this.dropDownContainer}
this.dropDown&&r.hide(this.dropDown),this.inherited(arguments)}},
isLoaded:function(){var e=this.dropDown;return!!e&&(!e.href||e.isLoaded)},
loadDropDown:function(e){
var i=this.dropDown,n=i.on("load",t.hitch(this,function(){n.remove(),e()}))
;i.refresh()},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown}})
}),define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m){
var g=n("dijit.Calendar",[h,d,f],{cssStateNodes:{
decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",
previousYearLabelNode:"dijitCalendarPreviousYear",
nextYearLabelNode:"dijitCalendarNextYear"},setValue:function(e){
a.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0"),
this.set("value",e)},_createMonthWidget:function(){
return new g._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,
onMonthSelect:l.hitch(this,"_onMonthSelect"),lang:this.lang,
dateLocaleModule:this.dateLocaleModule},this.monthNode)},postCreate:function(){
this.inherited(arguments),
this.own(u(this.domNode,"keydown",l.hitch(this,"_onKeyDown")),u(this.dateRowsNode,"mouseover",l.hitch(this,"_onDayMouseOver")),u(this.dateRowsNode,"mouseout",l.hitch(this,"_onDayMouseOut")),u(this.dateRowsNode,"mousedown",l.hitch(this,"_onDayMouseDown")),u(this.dateRowsNode,"mouseup",l.hitch(this,"_onDayMouseUp")))
},_onMonthSelect:function(e){var t=new this.dateClassObj(this.currentFocus)
;t.setDate(1),t.setMonth(e)
;var i=this.dateModule.getDaysInMonth(t),n=this.currentFocus.getDate()
;t.setDate(Math.min(n,i)),this._setCurrentFocusAttr(t)},
_onDayMouseOver:function(e){
var t=o.contains(e.target,"dijitCalendarDateLabel")?e.target.parentNode:e.target
;t&&(t.dijitDateValue&&!o.contains(t,"dijitCalendarDisabledDate")||t==this.previousYearLabelNode||t==this.nextYearLabelNode)&&(o.add(t,"dijitCalendarHoveredDate"),
this._currentNode=t)},_onDayMouseOut:function(e){
if(this._currentNode&&(!e.relatedTarget||e.relatedTarget.parentNode!=this._currentNode)){
var t="dijitCalendarHoveredDate"
;o.contains(this._currentNode,"dijitCalendarActiveDate")&&(t+=" dijitCalendarActiveDate"),
o.remove(this._currentNode,t),this._currentNode=null}},
_onDayMouseDown:function(e){var t=e.target.parentNode
;t&&t.dijitDateValue&&!o.contains(t,"dijitCalendarDisabledDate")&&(o.add(t,"dijitCalendarActiveDate"),
this._currentNode=t)},_onDayMouseUp:function(e){var t=e.target.parentNode
;t&&t.dijitDateValue&&o.remove(t,"dijitCalendarActiveDate")},
handleKey:function(e){var t,i=-1,n=this.currentFocus;switch(e.keyCode){
case s.RIGHT_ARROW:i=1;case s.LEFT_ARROW:t="day",this.isLeftToRight()||(i*=-1)
;break;case s.DOWN_ARROW:i=1;case s.UP_ARROW:t="week";break;case s.PAGE_DOWN:i=1
;case s.PAGE_UP:t=e.ctrlKey||e.altKey?"year":"month";break;case s.END:
n=this.dateModule.add(n,"month",1),t="day";case s.HOME:
n=new this.dateClassObj(n),n.setDate(1);break;default:return!0}
return t&&(n=this.dateModule.add(n,t,i)),this._setCurrentFocusAttr(n),!1},
_onKeyDown:function(e){
this.handleKey(e)||(e.stopPropagation(),e.preventDefault())},
onValueSelected:function(){},onChange:function(e){this.onValueSelected(e)},
getClassForDate:function(){}})
;return g._MonthDropDownButton=n("dijit.Calendar._MonthDropDownButton",m,{
onMonthSelect:function(){},postCreate:function(){
this.inherited(arguments),this.dropDown=new g._MonthDropDown({id:this.id+"_mdd",
onChange:this.onMonthSelect})},_setMonthAttr:function(e){
var t=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,e)
;this.dropDown.set("months",t),
this.containerNode.innerHTML=(6==c("ie")?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+t[e.getMonth()]+"</div>"
}}),g._MonthDropDown=n("dijit.Calendar._MonthDropDown",[d,p],{months:[],
templateString:"<div class='dijitCalendarMonthMenu dijitMenu' data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",
_setMonthsAttr:function(t){this.domNode.innerHTML=e.map(t,function(e,t){
return e?"<div class='dijitCalendarMonthLabel' month='"+t+"'>"+e+"</div>":""
}).join("")},_onClick:function(e){this.onChange(r.get(e.target,"month"))},
onChange:function(){},_onMenuHover:function(e){
o.toggle(e.target,"dijitCalendarMonthLabelHover","mouseover"==e.type)}}),g
}),define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(e,t,i,n){
return e("dijit.form.MappedTextBox",n,{postMixInProperties:function(){
this.inherited(arguments),this.nameAttrSetting=""},_setNameAttr:"valueNode",
serialize:function(e){return e.toString?e.toString():""},toString:function(){
var e=this.filter(this.get("value"))
;return null!=e?"string"==typeof e?e:this.serialize(e,this.constraints):""},
validate:function(){
return this.valueNode.value=this.toString(),this.inherited(arguments)},
buildRendering:function(){
this.inherited(arguments),this.valueNode=i.place("<input type='hidden'"+(this.name&&!t("msapp")?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")
},reset:function(){this.valueNode.value="",this.inherited(arguments)}})
}),define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(e,t,i){
return e("dijit.form.RangeBoundTextBox",i,{rangeMessage:"",
rangeCheck:function(e,t){
return!("min"in t&&!(this.compare(e,t.min)>=0)||"max"in t&&!(this.compare(e,t.max)<=0))
},isInRange:function(){
return this.rangeCheck(this.get("value"),this.constraints)},
_isDefinitelyOutOfRange:function(){var e=this.get("value");if(null==e)return!1
;var t=!1;if("min"in this.constraints){var i=this.constraints.min
;t=this.compare(e,"number"==typeof i&&i>=0&&0!=e?0:i)<0}
if(!t&&"max"in this.constraints){var n=this.constraints.max
;t=this.compare(e,"number"!=typeof n||n>0?n:0)>0}return t},
_isValidSubset:function(){
return this.inherited(arguments)&&!this._isDefinitelyOutOfRange()},
isValid:function(e){
return this.inherited(arguments)&&(this._isEmpty(this.textbox.value)&&!this.required||this.isInRange(e))
},getErrorMessage:function(e){var t=this.get("value")
;return null==t||""===t||"number"==typeof t&&isNaN(t)||this.isInRange(e)?this.inherited(arguments):this.rangeMessage
},postMixInProperties:function(){
this.inherited(arguments),this.rangeMessage||(this.messages=t.getLocalization("dijit.form","validate",this.lang),
this.rangeMessage=this.messages.rangeMessage)}})
}),define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(e,t,i,n,r,o,a,s){
return new Date("X"),n("dijit.form._DateTimeTextBox",[o,a],{templateString:s,
hasDownArrow:!0,cssStateNodes:{_buttonNode:"dijitDownArrowButton"},
pattern:t.regexp,datePackage:"",postMixInProperties:function(){
this.inherited(arguments),this._set("type","text")},compare:function(t,i){
var n=this._isInvalidDate(t),r=this._isInvalidDate(i)
;return n?r?0:-1:r?1:e.compare(t,i,this._selector)},autoWidth:!0,
format:function(e,t){return e?this.dateLocaleModule.format(e,t):""},
parse:function(e,t){
return this.dateLocaleModule.parse(e,t)||(this._isEmpty(e)?null:void 0)},
serialize:function(e,t){
return e.toGregorian&&(e=e.toGregorian()),i.toISOString(e,t)},
dropDownDefaultValue:new Date,value:new Date(""),_blankValue:null,popupClass:"",
_selector:"",constructor:function(i){
this.dateModule=i.datePackage?r.getObject(i.datePackage,!1):e,
this.dateClassObj=this.dateModule.Date||Date,
this.dateLocaleModule=i.datePackage?r.getObject(i.datePackage+".locale",!1):t,
this._set("pattern",this.dateLocaleModule.regexp),
this._invalidDate=this.constructor.prototype.value.toString()},
buildRendering:function(){
this.inherited(arguments),this.hasDownArrow||(this._buttonNode.style.display="none"),
this.hasDownArrow||(this._buttonNode=this.domNode,
this.baseClass+=" dijitComboBoxOpenOnClick")},_setConstraintsAttr:function(e){
e.selector=this._selector,e.fullYear=!0;var t=i.fromISOString
;"string"==typeof e.min&&(e.min=t(e.min)),
"string"==typeof e.max&&(e.max=t(e.max)),this.inherited(arguments)},
_isInvalidDate:function(e){
return!e||isNaN(e)||"object"!=typeof e||e.toString()==this._invalidDate},
_setValueAttr:function(e,t,n){
void 0!==e&&("string"==typeof e&&(e=i.fromISOString(e)),
this._isInvalidDate(e)&&(e=null),
e instanceof Date&&!(this.dateClassObj instanceof Date)&&(e=new this.dateClassObj(e))),
this.inherited(arguments),
this.value instanceof Date&&(this.filterString=""),this.dropDown&&this.dropDown.set("value",e,!1)
},_set:function(e,t){var i=this._get("value")
;"value"==e&&i instanceof Date&&0==this.compare(t,i)||this.inherited(arguments)
},_setDropDownDefaultValueAttr:function(e){
this._isInvalidDate(e)&&(e=new this.dateClassObj),
this._set("dropDownDefaultValue",e)},openDropDown:function(e){
this.dropDown&&this.dropDown.destroy()
;var t=r.isString(this.popupClass)?r.getObject(this.popupClass,!1):this.popupClass,i=this,n=this.get("value")
;this.dropDown=new t({onChange:function(e){i.set("value",e,!0)},
id:this.id+"_popup",dir:i.dir,lang:i.lang,value:n,textDir:i.textDir,
currentFocus:this._isInvalidDate(n)?this.dropDownDefaultValue:n,
constraints:i.constraints,filterString:i.filterString,
datePackage:i.params.datePackage,isDisabledDate:function(e){
return!i.rangeCheck(e,i.constraints)}}),this.inherited(arguments)},
_getDisplayedValueAttr:function(){return this.textbox.value},
_setDisplayedValueAttr:function(e,t){
this._setValueAttr(this.parse(e,this.constraints),t,e)}})
}),define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(e,t,i){
return e("dijit.form.DateTextBox",i,{
baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:t,
_selector:"date",maxHeight:1/0,value:new Date("")})
}),define("dojo/text!dijit/layout/templates/TabContainer.html",[],function(){
return'<div class="dijitTabContainer">\n  <div class="dijitTabListWrapper" dojoAttachPoint="tablistNode"></div>\n  <div dojoAttachPoint="tablistSpacer" class="dijitTabSpacer ${baseClass}-spacer"></div>\n  <div class="dijitTabPaneWrapper" dojoAttachPoint="containerNode"></div>\n</div>\n'
}),
define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f){
o("dijit-legacy-requires")&&l(0,function(){
var e=["dijit/layout/StackController"];require(e)})
;var p=i("dijit.layout.StackContainer",f,{doLayout:!0,persist:!1,
baseClass:"dijitStackContainer",buildRendering:function(){
this.inherited(arguments),n.add(this.domNode,"dijitLayoutContainer")},
postCreate:function(){
this.inherited(arguments),this.own(s(this.domNode,"keydown",a.hitch(this,"_onKeyDown")))
},startup:function(){if(!this._started){var i=this.getChildren()
;e.forEach(i,this._setupChild,this),
this.persist?this.selectedChildWidget=h.byId(t(this.id+"_selectedChild")):e.some(i,function(e){
return e.selected&&(this.selectedChildWidget=e),e.selected},this)
;var n=this.selectedChildWidget
;!n&&i[0]&&(n=this.selectedChildWidget=i[0],n.selected=!0),
u.publish(this.id+"-startup",{children:i,selected:n,textDir:this.textDir
}),this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){
this._hasBeenShown=!0;var e=this.selectedChildWidget;e&&this._showChild(e)}
this.inherited(arguments)},_setupChild:function(e){
var t=e.domNode,i=r.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",e.domNode,"replace"),n=e["aria-label"]||e.title||e.label
;n&&i.setAttribute("aria-label",n),
r.place(t,i),e._wrapper=i,this.inherited(arguments),
"none"==t.style.display&&(t.style.display="block"),e.domNode.title=""},
addChild:function(e,t){
this.inherited(arguments),this._started&&(u.publish(this.id+"-addChild",e,t),
this.layout(),this.selectedChildWidget||this.selectChild(e))},
removeChild:function(t){var i=e.indexOf(this.getChildren(),t)
;if(this.inherited(arguments),
r.destroy(t._wrapper),delete t._wrapper,this._started&&u.publish(this.id+"-removeChild",t),
!this._descendantsBeingDestroyed){
if(this.selectedChildWidget===t&&(this.selectedChildWidget=void 0,
this._started)){var n=this.getChildren()
;n.length&&this.selectChild(n[Math.max(i-1,0)])}this._started&&this.layout()}},
selectChild:function(e,i){var n
;return e=h.byId(e),this.selectedChildWidget!=e&&(n=this._transition(e,this.selectedChildWidget,i),
this._set("selectedChildWidget",e),
u.publish(this.id+"-selectChild",e),this.persist&&t(this.id+"_selectedChild",this.selectedChildWidget.id)),
c(n||!0)},_transition:function(e,t){t&&this._hideChild(t)
;var i=this._showChild(e)
;return e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize()),
i},_adjacent:function(t){
var i=this.getChildren(),n=e.indexOf(i,this.selectedChildWidget)
;return n+=t?1:i.length-1,i[n%i.length]},forward:function(){
return this.selectChild(this._adjacent(!0),!0)},back:function(){
return this.selectChild(this._adjacent(!1),!0)},_onKeyDown:function(e){
u.publish(this.id+"-containerKeyDown",{e:e,page:this})},layout:function(){
var e=this.selectedChildWidget
;e&&e.resize&&(this.doLayout?e.resize(this._containerContentBox||this._contentBox):e.resize())
},_showChild:function(e){var t=this.getChildren();return e.isFirstChild=e==t[0],
e.isLastChild=e==t[t.length-1],
e._set("selected",!0),e._wrapper&&n.replace(e._wrapper,"dijitVisible","dijitHidden"),
e._onShow&&e._onShow()||!0},_hideChild:function(e){
e._set("selected",!1),e._wrapper&&n.replace(e._wrapper,"dijitHidden","dijitVisible"),
e.onHide&&e.onHide()},closeChild:function(e){
e.onClose&&e.onClose(this,e)&&(this.removeChild(e),e.destroyRecursive())},
destroyDescendants:function(t){
this._descendantsBeingDestroyed=!0,this.selectedChildWidget=void 0,
e.forEach(this.getChildren(),function(e){
t||this.removeChild(e),e.destroyRecursive(t)
},this),this._descendantsBeingDestroyed=!1}});return p.ChildWidgetProperties={
selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0
},a.extend(d,p.ChildWidgetProperties),p
}),define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(e,t,i,n,r,o,a,s){
return r("dijit.layout._TabContainerBase",[t,n],{tabPosition:"top",
baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:e,
postMixInProperties:function(){
this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,""),
this.srcNodeRef&&s.set(this.srcNodeRef,"visibility","hidden"),
this.inherited(arguments)},buildRendering:function(){
this.inherited(arguments),this.tablist=this._makeController(this.tablistNode),
this.doLayout||o.add(this.domNode,"dijitTabContainerNoLayout"),
this.nested?(o.add(this.domNode,"dijitTabContainerNested"),
o.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),
o.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),
o.add(this.containerNode,"dijitTabPaneWrapperNested")):o.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))
},_setupChild:function(e){
o.add(e.domNode,"dijitTabPane"),this.inherited(arguments)},startup:function(){
this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&void 0!==this._contentBox.l){
var e=this.selectedChildWidget;if(this.doLayout){
var t=this.tabPosition.replace(/-h/,"");this.tablist.region=t
;var n=[this.tablist,{domNode:this.tablistSpacer,region:t},{
domNode:this.containerNode,region:"center"}]
;i.layoutChildren(this.domNode,this._contentBox,n),
this._containerContentBox=i.marginBox2contentBox(this.containerNode,n[2]),
e&&e.resize&&e.resize(this._containerContentBox)}else{if(this.tablist.resize){
var r=this.tablist.domNode.style;r.width="0"
;var o=a.getContentBox(this.domNode).w;r.width="",this.tablist.resize({w:o})}
e&&e.resize&&e.resize()}}},destroy:function(e){
this.tablist&&this.tablist.destroy(e),this.inherited(arguments)}})
}),define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch","dojo/i18n!../nls/common"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f){
var p=t("dijit.layout._StackButton",f,{tabIndex:"-1",closeButton:!1,
_aria_attr:"aria-selected",buildRendering:function(e){this.inherited(arguments),
(this.focusNode||this.domNode).setAttribute("role","tab")}
}),m=t("dijit.layout.StackController",[c,h,d],{baseClass:"dijitStackController",
templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",
containerId:"",buttonWidget:p,buttonWidgetCloseClass:"dijitStackCloseButton",
pane2button:function(e){return u.byId(this.id+"_"+e)},postCreate:function(){
this.inherited(arguments),
this.own(s.subscribe(this.containerId+"-startup",o.hitch(this,"onStartup")),s.subscribe(this.containerId+"-addChild",o.hitch(this,"onAddChild")),s.subscribe(this.containerId+"-removeChild",o.hitch(this,"onRemoveChild")),s.subscribe(this.containerId+"-selectChild",o.hitch(this,"onSelectChild")),s.subscribe(this.containerId+"-containerKeyDown",o.hitch(this,"onContainerKeyDown"))),
this.containerNode.dojoClick=!0,
this.own(a(this.containerNode,"click",o.hitch(this,function(e){
var t=u.getEnclosingWidget(e.target)
;if(t!=this.containerNode&&!t.disabled&&t.page)for(var n=e.target;n!==this.containerNode;n=n.parentNode){
if(i.contains(n,this.buttonWidgetCloseClass)){this.onCloseButtonClick(t.page)
;break}if(n==t.domNode){this.onButtonClick(t.page);break}}})))},
onStartup:function(t){
this.textDir=t.textDir,e.forEach(t.children,this.onAddChild,this),
t.selected&&this.onSelectChild(t.selected)
;var i=u.byId(this.containerId).containerNode,n=o.hitch(this,"pane2button"),r={
title:"label",showtitle:"showLabel",iconclass:"iconClass",
closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"}
;for(var s in r)this.own(function(e,t){return a(i,"attrmodified-"+e,function(e){
var i=n(e.detail&&e.detail.widget&&e.detail.widget.id)
;i&&i.set(t,e.detail.newValue)})}(s,r[s]))},destroy:function(e){
this.destroyDescendants(e),this.inherited(arguments)},onAddChild:function(e,t){
var i=o.isString(this.buttonWidget)?o.getObject(this.buttonWidget):this.buttonWidget,n=new i({
id:this.id+"_"+e.id,name:this.id+"_"+e.id,label:e.title,disabled:e.disabled,
ownerDocument:this.ownerDocument,dir:e.dir,lang:e.lang,
textDir:e.textDir||this.textDir,showLabel:e.showTitle,iconClass:e.iconClass,
closeButton:e.closable,title:e.tooltip,page:e})
;this.addChild(n,t),e.controlButton=n,this._currentChild||this.onSelectChild(e)
;var r=e._wrapper.getAttribute("aria-labelledby")?e._wrapper.getAttribute("aria-labelledby")+" "+n.id:n.id
;e._wrapper.removeAttribute("aria-label"),
e._wrapper.setAttribute("aria-labelledby",r)},onRemoveChild:function(e){
this._currentChild===e&&(this._currentChild=null);var t=this.pane2button(e.id)
;t&&(this.removeChild(t),t.destroy()),delete e.controlButton},
onSelectChild:function(e){if(e){if(this._currentChild){
var t=this.pane2button(this._currentChild.id)
;t.set("checked",!1),t.focusNode.setAttribute("tabIndex","-1")}
var i=this.pane2button(e.id)
;i.set("checked",!0),this._currentChild=e,i.focusNode.setAttribute("tabIndex","0")
;u.byId(this.containerId)}},onButtonClick:function(e){
var t=this.pane2button(e.id)
;l.focus(t.focusNode),this._currentChild&&this._currentChild.id===e.id&&t.set("checked",!0),
u.byId(this.containerId).selectChild(e)},onCloseButtonClick:function(e){
if(u.byId(this.containerId).closeChild(e),this._currentChild){
var t=this.pane2button(this._currentChild.id);t&&l.focus(t.focusNode||t.domNode)
}},adjacent:function(t){
this.isLeftToRight()||this.tabPosition&&!/top|bottom/.test(this.tabPosition)||(t=!t)
;var i,n=this.getChildren(),r=e.indexOf(n,this.pane2button(this._currentChild.id)),o=n[r]
;do{r=(r+(t?1:n.length-1))%n.length,i=n[r]}while(i.disabled&&i!=o);return i},
onkeydown:function(e,t){if(!this.disabled&&!e.altKey){var i=null
;if(e.ctrlKey||!e._djpage){switch(e.keyCode){case r.LEFT_ARROW:case r.UP_ARROW:
e._djpage||(i=!1);break;case r.PAGE_UP:e.ctrlKey&&(i=!1);break
;case r.RIGHT_ARROW:case r.DOWN_ARROW:e._djpage||(i=!0);break;case r.PAGE_DOWN:
e.ctrlKey&&(i=!0);break;case r.HOME:
for(var n=this.getChildren(),o=0;o<n.length;o++){var a=n[o];if(!a.disabled){
this.onButtonClick(a.page);break}}e.stopPropagation(),e.preventDefault();break
;case r.END:for(var n=this.getChildren(),o=n.length-1;o>=0;o--){var a=n[o]
;if(!a.disabled){this.onButtonClick(a.page);break}}
e.stopPropagation(),e.preventDefault();break;case r.DELETE:
case"W".charCodeAt(0):
this._currentChild.closable&&(e.keyCode==r.DELETE||e.ctrlKey)&&(this.onCloseButtonClick(this._currentChild),
e.stopPropagation(),e.preventDefault());break;case r.TAB:
e.ctrlKey&&(this.onButtonClick(this.adjacent(!e.shiftKey).page),
e.stopPropagation(),e.preventDefault())}
null!==i&&(this.onButtonClick(this.adjacent(i).page),
e.stopPropagation(),e.preventDefault())}}},onContainerKeyDown:function(e){
e.e._djpage=e.page,this.onkeydown(e.e)}});return m.StackButton=p,m
}),define("dojo/text!dijit/layout/templates/_TabButton.html",[],function(){
return'<div role="presentation" data-dojo-attach-point="titleNode,innerDiv,tabContent" class="pentaho-tabWidget">\n  <span role="presentation" class="dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point="iconNode"></span>\n  <span data-dojo-attach-point=\'containerNode,focusNode\' class=\'pentaho-tabWidgetLabel\'></span>\n  <span class="dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point=\'closeNode\'\n      role="presentation">\n    <span data-dojo-attach-point=\'closeText\' class=\'dijitTabCloseText\'>[x]</span\n        ></span>\n</div>\n'
}),
define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(e,t,i,n,r,o,a,s,l,u,c,h){
var d=e("dijit.layout._TabButton"+(r("dojo-bidi")?"_NoBidi":""),s.StackButton,{
baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:h,_setNameAttr:"focusNode",scrollOnFocus:!1,
buildRendering:function(){
this.inherited(arguments),t.setSelectable(this.containerNode,!1)},
startup:function(){this.inherited(arguments);var e=this.domNode
;this.defer(function(){e.className=e.className},1)},
_setCloseButtonAttr:function(e){
if(this._set("closeButton",e),n.toggle(this.domNode,"dijitClosable",e),
this.closeNode.style.display=e?"":"none",e){
var t=o.getLocalization("dijit","common")
;this.closeNode&&i.set(this.closeNode,"title",t.itemClose)}},
_setDisabledAttr:function(e){
if(this.inherited(arguments),this.closeNode)if(e)i.remove(this.closeNode,"title");else{
var t=o.getLocalization("dijit","common")
;i.set(this.closeNode,"title",t.itemClose)}},_setLabelAttr:function(e){
this.inherited(arguments),
this.showLabel||this.params.title||(this.iconNode.alt=a.trim(this.containerNode.innerText||this.containerNode.textContent||""))
}});r("dojo-bidi")&&(d=e("dijit.layout._TabButton",d,{_setLabelAttr:function(e){
this.inherited(arguments),this.applyTextDir(this.iconNode,this.iconNode.alt)}}))
;var f=e("dijit.layout.TabController",s,{baseClass:"dijitTabController",
templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",
tabPosition:"top",buttonWidget:d,buttonWidgetCloseClass:"dijitTabCloseButton",
postCreate:function(){this.inherited(arguments);var e=new u({id:this.id+"_Menu",
ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,
textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(e){
return n.contains(e,"dijitClosable")&&!n.contains(e,"dijitTabDisabled")}})
;this.own(e);var t=o.getLocalization("dijit","common"),i=this;e.addChild(new c({
label:t.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,
textDir:this.textDir,onClick:function(e){
var t=l.byNode(this.getParent().currentTarget);i.onCloseButtonClick(t.page)}}))}
});return f.TabButton=d,f
}),define("dojo/text!dijit/layout/templates/ScrollingTabController.html",[],function(){
return'<div class="dijitTabListContainer-${tabPosition}" style="visibility:hidden">\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class="tabStripButton-${tabPosition}"\n\t\t id="${id}_menuBtn"\n\t\t data-dojo-props="containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point="_menuBtn" showLabel="false" title="">&#9660;</div>\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\n\t\t class="tabStripButton-${tabPosition}"\n\t\t id="${id}_leftBtn"\n\t\t data-dojo-props="iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point="_leftBtn" data-dojo-attach-event="onClick: doSlideLeft">&#9664;</div>\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\n\t\t class="tabStripButton-${tabPosition}"\n\t\t id="${id}_rightBtn"\n\t\t data-dojo-props="iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point="_rightBtn" data-dojo-attach-event="onClick: doSlideRight">&#9654;</div>\n\t<div class=\'dijitTabListWrapper\' data-dojo-attach-point=\'tablistWrapper\'>\n\t\t<div role=\'tablist\' data-dojo-attach-event=\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point=\'containerNode\' class=\'nowrapTabStrip\'></div>\n\t</div>\n</div>'
}),
define("dojo/text!dijit/layout/templates/_ScrollingTabControllerButton.html",[],function(){
return'<div data-dojo-attach-event="ondijitclick:_onClick" class="dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point="focusNode" role="button">\n\t<span role="presentation" class="dijitInline dijitTabStripIcon" data-dojo-attach-point="iconNode"></span>\n\t<span data-dojo-attach-point="containerNode,titleNode" class="dijitButtonText"></span>\n</div>'
}),
define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b){
var _=t("dijit.layout.ScrollingTabController",[f,m],{
baseClass:"dijitTabController dijitScrollingTabController",templateString:h,
useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{
node:"containerNode",type:"class"},buildRendering:function(){
this.inherited(arguments);var e=this.domNode
;this.scrollNode=this.tablistWrapper,
this._initButtons(),this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None",
i.add(e,"tabStrip-disabled")),i.add(this.tablistWrapper,this.tabStripClass)},
onStartup:function(){
this.inherited(arguments),r.set(this.domNode,"visibility",""),
this._postStartup=!0,
this.own(s(this.containerNode,"attrmodified-label, attrmodified-iconclass",a.hitch(this,function(e){
this._dim&&this.resize(this._dim)})))},onAddChild:function(e,t){
this.inherited(arguments),
r.set(this.containerNode,"width",r.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(e,t){var i=this.pane2button(e.id)
;this._selectedTab===i.domNode&&(this._selectedTab=null),
this.inherited(arguments)},_initButtons:function(){
this._btnWidth=0,this._buttons=l("> .tabStripButton",this.domNode).filter(function(e){
return this.useMenu&&e==this._menuBtn.domNode||this.useSlider&&(e==this._rightBtn.domNode||e==this._leftBtn.domNode)?(this._btnWidth+=n.getMarginSize(e).w,
!0):(r.set(e,"display","none"),!1)},this)},_getTabsWidth:function(){
var e=this.getChildren();if(e.length){
var t=e[this.isLeftToRight()?0:e.length-1].domNode,i=e[this.isLeftToRight()?e.length-1:0].domNode
;return i.offsetLeft+i.offsetWidth-t.offsetLeft}return 0},
_enableBtn:function(e){var t=this._getTabsWidth()
;return e=e||r.get(this.scrollNode,"width"),t>0&&e<t},resize:function(e){
this._dim=e,this.scrollNode.style.height="auto"
;var t=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:e.w})
;t.h=this.scrollNode.offsetHeight,n.setContentSize(this.domNode,t)
;var i=this._enableBtn(this._contentBox.w)
;return this._buttons.style("display",i?"":"none"),
this._leftBtn.region="left",this._rightBtn.region="right",
this._menuBtn.region=this.isLeftToRight()?"right":"left",
p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{
domNode:this.scrollNode,region:"center"
}]),this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),
this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab())),
this._setButtonClass(this._getScroll()),this._postResize=!0,{
h:this._contentBox.h,w:e.w}},_getScroll:function(){
return this.isLeftToRight()||u("ie")<8||u("ie")&&u("quirks")||u("webkit")?this.scrollNode.scrollLeft:r.get(this.containerNode,"width")-r.get(this.scrollNode,"width")+(u("ie")>=8?-1:1)*this.scrollNode.scrollLeft
},_convertToScrollLeft:function(e){
if(this.isLeftToRight()||u("ie")<8||u("ie")&&u("quirks")||u("webkit"))return e
;var t=r.get(this.containerNode,"width")-r.get(this.scrollNode,"width")
;return(u("ie")>=8?-1:1)*(e-t)},onSelectChild:function(e){
var t=this.pane2button(e.id);if(t){var i=t.domNode
;if(i!=this._selectedTab&&(this._selectedTab=i,this._postResize)){
var n=this._getScroll()
;(n>i.offsetLeft||n+r.get(this.scrollNode,"width")<i.offsetLeft+r.get(i,"width"))&&this.createSmoothScroll().play()
}this.inherited(arguments)}},_getScrollBounds:function(){
var e=this.getChildren(),t=r.get(this.scrollNode,"width"),i=r.get(this.containerNode,"width"),n=i-t,o=this._getTabsWidth()
;if(e.length&&o>t)return{
min:this.isLeftToRight()?0:e[e.length-1].domNode.offsetLeft,
max:this.isLeftToRight()?e[e.length-1].domNode.offsetLeft+e[e.length-1].domNode.offsetWidth-t:n
};var a=this.isLeftToRight()?0:n;return{min:a,max:a}},
_getScrollForSelectedTab:function(){
var e=(this.scrollNode,this._selectedTab),t=r.get(this.scrollNode,"width"),i=this._getScrollBounds(),n=e.offsetLeft+r.get(e,"width")/2-t/2
;return n=Math.min(Math.max(n,i.min),i.max)},createSmoothScroll:function(e){
if(arguments.length>0){var t=this._getScrollBounds()
;e=Math.min(Math.max(e,t.min),t.max)}else e=this._getScrollForSelectedTab()
;this._anim&&"playing"==this._anim.status()&&this._anim.stop()
;var i=this,n=this.scrollNode,r=new o.Animation({beforeBegin:function(){
this.curve&&delete this.curve;var t=n.scrollLeft,a=i._convertToScrollLeft(e)
;r.curve=new o._Line(t,a)},onAnimate:function(e){n.scrollLeft=e}})
;return this._anim=r,this._setButtonClass(e),r},_getBtnNode:function(e){
for(var t=e.target;t&&!i.contains(t,"tabStripButton");)t=t.parentNode;return t},
doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e))},
doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e))},
doSlide:function(e,t){if(!t||!i.contains(t,"dijitTabDisabled")){
var n=r.get(this.scrollNode,"width"),o=.75*n*e,a=this._getScroll()+o
;this._setButtonClass(a),this.createSmoothScroll(a).play()}},
_setButtonClass:function(e){var t=this._getScrollBounds()
;this._leftBtn.set("disabled",e<=t.min),this._rightBtn.set("disabled",e>=t.max)}
}),x=t("dijit.layout._ScrollingTabControllerButtonMixin",null,{
baseClass:"dijitTab tabStripButton",templateString:d,tabIndex:"",
isFocusable:function(){return!1}})
;return t("dijit.layout._ScrollingTabControllerButton",[y,x]),
t("dijit.layout._ScrollingTabControllerMenuButton",[y,b,x],{containerId:"",
tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(t){
this.dropDown=new g({id:this.containerId+"_menu",
ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,
textDir:this.textDir});var i=c.byId(this.containerId)
;e.forEach(i.getChildren(),function(e){var t=new v({id:e.id+"_stcMi",
label:e.title,iconClass:e.iconClass,disabled:e.disabled,
ownerDocument:this.ownerDocument,dir:e.dir,lang:e.lang,
textDir:e.textDir||i.textDir,onClick:function(){i.selectChild(e)}})
;this.dropDown.addChild(t)},this),t()},closeDropDown:function(e){
this.inherited(arguments),
this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),
this.dropDown.destroyRecursive(),delete this.dropDown)}}),_
}),define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(e,t,i,n,r){
return t("dijit.layout.TabContainer",i,{useMenu:!0,useSlider:!0,
controllerWidget:"",_makeController:function(t){
var i=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout")
;return new("string"==typeof this.controllerWidget?e.getObject(this.controllerWidget):this.controllerWidget)({
id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,
lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,
doLayout:this.doLayout,containerId:this.id,class:i,nested:this.nested,
useMenu:this.useMenu,useSlider:this.useSlider,
tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null
},t)},postMixInProperties:function(){
this.inherited(arguments),this.controllerWidget||(this.controllerWidget="top"!=this.tabPosition&&"bottom"!=this.tabPosition||this.nested?n:r)
}})
}),define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(e,t,i,n,r,o,a,s,l,u,c,h){
var d=e("dijit.DialogUnderlay",[s,l],{
templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",
dialogId:"",class:"",_modalConnects:[],_setDialogIdAttr:function(e){
n.set(this.node,"id",e+"_underlay"),this._set("dialogId",e)},
_setClassAttr:function(e){
this.node.className="dijitDialogUnderlay "+e,this._set("class",e)},
postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode),this.own(o(this.domNode,"keydown",t.hitch(this,"_onKeyDown"))),
this.inherited(arguments)},layout:function(){
var e=this.node.style,t=this.domNode.style;t.display="none"
;var i=a.getBox(this.ownerDocument)
;t.top=i.t+"px",t.left=i.l+"px",e.width=i.w+"px",
e.height=i.h+"px",t.display="block"},show:function(){
this.domNode.style.display="block",
this.open=!0,this.layout(),this.bgIframe=new u(this.domNode)
;var e=a.get(this.ownerDocument)
;this._modalConnects=[c.on("resize",t.hitch(this,"layout")),o(e,"scroll",t.hitch(this,"layout"))]
},hide:function(){
for(this.bgIframe.destroy(),delete this.bgIframe,this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove()
;this.open=!1},destroy:function(){
for(;this._modalConnects.length;)this._modalConnects.pop().remove()
;this.inherited(arguments)},_onKeyDown:function(){}})
;return d.show=function(e,t){var i=d._singleton
;!i||i._destroyed?i=h._underlay=d._singleton=new d(e):e&&i.set(e),
r.set(i.domNode,"zIndex",t),i.open||i.show()},d.hide=function(){
var e=d._singleton;e&&!e._destroyed&&e.hide()},d
}),define("dijit/Declaration",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser","dojo/query","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/NodeList-dom"],function(e,t,i,n,r,o,a,s,l){
return i("dijit.Declaration",a,{_noScript:!0,stopParser:!0,widgetClass:"",
defaults:null,mixins:[],buildRendering:function(){
var u=this.srcNodeRef.parentNode.removeChild(this.srcNodeRef),c=o("> script[type='dojo/method']",u).orphan(),h=o("> script[type='dojo/connect']",u).orphan(),d=o("> script[type='dojo/aspect']",u).orphan(),f=u.nodeName,p=this.defaults||{}
;e.forEach(c,function(e){
var t=e.getAttribute("event")||e.getAttribute("data-dojo-event"),i=r._functionFromScript(e,"data-dojo-")
;t?p[t]=i:d.push(e)
}),this.mixins.length?this.mixins=e.map(this.mixins,function(e){
return n.getObject(e)
}):this.mixins=[a,s,l],p._skipNodeCache=!0,p.templateString="<"+f+" class='"+u.className+"' data-dojo-attach-point='"+(u.getAttribute("data-dojo-attach-point")||u.getAttribute("dojoAttachPoint")||"")+"' data-dojo-attach-event='"+(u.getAttribute("data-dojo-attach-event")||u.getAttribute("dojoAttachEvent")||"")+"' >"+u.innerHTML.replace(/\%7B/g,"{").replace(/\%7D/g,"}")+"</"+f+">"
;var m=i(this.widgetClass,this.mixins,p);e.forEach(d,function(e){
var i=(e.getAttribute("data-dojo-advice"),
e.getAttribute("data-dojo-method")||"postscript"),n=r._functionFromScript(e)
;t.after(m.prototype,i,n,!0)}),e.forEach(h,function(e){
var i=e.getAttribute("event")||e.getAttribute("data-dojo-event"),n=r._functionFromScript(e)
;t.after(m.prototype,i,n,!0)})}})
}),define("dijit/_base/popup",["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(e,t,i){
var n=i._createWrapper;i._createWrapper=function(i){return i.declaredClass||(i={
_popupWrapper:i.parentNode&&e.contains(i.parentNode,"dijitPopup")?i.parentNode:null,
domNode:i,destroy:function(){},ownerDocument:i.ownerDocument,
ownerDocumentBody:t.body(i.ownerDocument)}),n.call(this,i)};var r=i.open
;return i.open=function(e){
if(e.orient&&"string"!=typeof e.orient&&!("length"in e.orient)){var t=[]
;for(var i in e.orient)t.push({aroundCorner:i,corner:e.orient[i]});e.orient=t}
return r.call(this,e)},i
}),define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(e,t){
var i=t.prototype.onMove;return e("dojo.dnd.TimedMoveable",t,{timeout:40,
constructor:function(e,t){
t||(t={}),t.timeout&&"number"==typeof t.timeout&&t.timeout>=0&&(this.timeout=t.timeout)
},onMoveStop:function(e){
e._timer&&(clearTimeout(e._timer),i.call(this,e,e._leftTop)),
t.prototype.onMoveStop.apply(this,arguments)},onMove:function(e,t){
if(e._leftTop=t,!e._timer){var n=this;e._timer=setTimeout(function(){
e._timer=null,i.call(n,e,e._leftTop)},this.timeout)}}})
}),define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(e,t,i,n,r,o){
return t("dijit.form._FormMixin",null,{state:"",
_getDescendantFormWidgets:function(t){var i=[]
;return e.forEach(t||this.getChildren(),function(e){
"value"in e?i.push(e):i=i.concat(this._getDescendantFormWidgets(e.getChildren()))
},this),i},reset:function(){
e.forEach(this._getDescendantFormWidgets(),function(e){e.reset&&e.reset()})},
validate:function(){var t=!1
;return e.every(e.map(this._getDescendantFormWidgets(),function(e){
e._hasBeenBlurred=!0;var i=e.disabled||!e.validate||e.validate()
;return i||t||(o.scrollIntoView(e.containerNode||e.domNode),e.focus(),t=!0),i
}),function(e){return e})},setValues:function(e){
return i.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0"),
this.set("value",e)},_setValueAttr:function(t){var i={}
;e.forEach(this._getDescendantFormWidgets(),function(e){if(e.name){
(i[e.name]||(i[e.name]=[])).push(e)}});for(var r in i)if(i.hasOwnProperty(r)){
var o=i[r],a=n.getObject(r,!1,t)
;void 0!==a&&(a=[].concat(a),"boolean"==typeof o[0].checked?e.forEach(o,function(t){
t.set("value",-1!=e.indexOf(a,t._get("value")))
}):o[0].multiple?o[0].set("value",a):e.forEach(o,function(e,t){
e.set("value",a[t])}))}},getValues:function(){
return i.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0"),
this.get("value")},_getValueAttr:function(){var t={}
;return e.forEach(this._getDescendantFormWidgets(),function(e){var i=e.name
;if(i&&!e.disabled){var r=e.get("value")
;if("boolean"==typeof e.checked)if(/Radio/.test(e.declaredClass))!1!==r?n.setObject(i,r,t):void 0===(r=n.getObject(i,!1,t))&&n.setObject(i,null,t);else{
var o=n.getObject(i,!1,t);o||(o=[],n.setObject(i,o,t)),!1!==r&&o.push(r)}else{
var a=n.getObject(i,!1,t)
;void 0!==a?n.isArray(a)?a.push(r):n.setObject(i,[a,r],t):n.setObject(i,r,t)}}
}),t},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var t=e.map(this._descendants,function(e){
return e.get("state")||""})
;return e.indexOf(t,"Error")>=0?"Error":e.indexOf(t,"Incomplete")>=0?"Incomplete":""
},disconnectChildren:function(){},connectChildren:function(t){
this._descendants=this._getDescendantFormWidgets(),
e.forEach(this._descendants,function(e){e._started||e.startup()
}),t||this._onChildChange()},_onChildChange:function(e){
e&&"state"!=e&&"disabled"!=e||this._set("state",this._getState()),
e&&"value"!=e&&"disabled"!=e&&"checked"!=e||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),
this._onChangeDelayTimer=this.defer(function(){
delete this._onChangeDelayTimer,this._set("value",this.get("value"))},10))},
startup:function(){
this.inherited(arguments),this._descendants=this._getDescendantFormWidgets(),
this.value=this.get("value"),this.state=this._getState();var e=this
;this.own(r(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(t){
t.target!=e.domNode&&e._onChildChange(t.type.replace("attrmodified-",""))
})),this.watch("state",function(e,t,i){this.onValidStateChange(""==i)})},
destroy:function(){this.inherited(arguments)}})
}),define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(e,t){
return e("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},
onExecute:function(){},_onSubmit:function(){
this.onExecute(),this.execute(this.get("value"))},_getFocusItems:function(){
var e=t._getTabNavigable(this.containerNode)
;this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode,
this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})
}),define("dojo/text!dijit/templates/Dialog.html",[],function(){
return'<div class="dijitDialog pentaho-dialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar Caption">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabindex="0">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n'
}),
define("dijit/Dialog",["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g,v,y,b,_,x,w,C,S,k,D,M,N){
var T=n("dijit._DialogBase"+(m("dojo-bidi")?"_NoBidi":""),[w,S,k,C],{
templateString:N,baseClass:"dijitDialog",cssStateNodes:{
closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",
type:"innerHTML"},open:!1,duration:_.defaultDuration,refocus:!0,autofocus:!0,
_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,
_setDraggableAttr:function(e){this._set("draggable",e)},maxRatio:.9,closable:!0,
_setClosableAttr:function(e){
this.closeButtonNode.style.display=e?"":"none",this._set("closable",e)},
postMixInProperties:function(){var e=c.getLocalization("dijit","common")
;d.mixin(this,e),this.inherited(arguments)},postCreate:function(){
l.set(this.domNode,{display:"none",position:"absolute"
}),this.ownerDocumentBody.appendChild(this.domNode),
this.inherited(arguments),i.after(this,"onExecute",d.hitch(this,"hide"),!0),
i.after(this,"onCancel",d.hitch(this,"hide"),!0),this._modalconnects=[]},
onLoad:function(){
this._size(),this._position(),this.autofocus&&j.isTop(this)&&(this._getFocusItems(this.domNode),
b.focus(this._firstFocusItem)),this.inherited(arguments)},focus:function(){
this._getFocusItems(this.domNode),b.focus(this._firstFocusItem)},
_endDrag:function(){
var e=s.position(this.domNode),t=g.getBox(this.ownerDocument)
;e.y=Math.min(Math.max(e.y,0),t.h-e.h),
e.x=Math.min(Math.max(e.x,0),t.w-e.w),this._relativePosition=e,this._position()
},_setup:function(){var e=this.domNode
;this.titleBar&&this.draggable?(this._moveable=new(6==m("ie")?y:v)(e,{
handle:this.titleBar
}),i.after(this._moveable,"onMoveStop",d.hitch(this,"_endDrag"),!0)):a.add(e,"dijitDialogFixed"),
this.underlayAttrs={dialogId:this.id,
class:t.map(this.class.split(/\s/),function(e){return e+"_underlay"}).join(" "),
_onKeyDown:d.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},
_size:function(){
this._checkIfSingleChild(),this._singleChild?void 0!==this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle):l.set(this.containerNode,{width:"auto",
height:"auto"});var e=s.position(this.domNode),t=g.getBox(this.ownerDocument)
;if(t.w*=this.maxRatio,t.h*=this.maxRatio,e.w>=t.w||e.h>=t.h){
var i=s.position(this.containerNode),n=Math.min(e.w,t.w)-(e.w-i.w),r=Math.min(e.h,t.h)-(e.h-i.h)
;this._singleChild&&this._singleChild.resize?(void 0===this._singleChildOriginalStyle&&(this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText),
this._singleChild.resize({w:n,h:r})):l.set(this.containerNode,{width:n+"px",
height:r+"px",overflow:"auto",position:"relative"})
}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},
_position:function(){if(!a.contains(this.ownerDocumentBody,"dojoMove")){
var e=this.domNode,t=g.getBox(this.ownerDocument),i=this._relativePosition,n=i?null:s.position(e),r=Math.floor(t.l+(i?i.x:(t.w-n.w)/2)),o=Math.floor(t.t+(i?i.y:(t.h-n.h)/2))
;l.set(e,{left:r+"px",top:o+"px"})}},_onKey:function(e){if(e.keyCode==h.TAB){
this._getFocusItems(this.domNode);var t=e.target
;this._firstFocusItem==this._lastFocusItem?(e.stopPropagation(),
e.preventDefault()):t==this._firstFocusItem&&e.shiftKey?(b.focus(this._lastFocusItem),
e.stopPropagation(),
e.preventDefault()):t!=this._lastFocusItem||e.shiftKey||(b.focus(this._firstFocusItem),
e.stopPropagation(),e.preventDefault())
}else this.closable&&e.keyCode==h.ESCAPE&&(this.onCancel(),
e.stopPropagation(),e.preventDefault())},show:function(){if(!this.open){
this._started||this.startup(),
this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0),
this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),j.hide(this))
;var e=g.get(this.ownerDocument)
;this._modalconnects.push(f(e,"scroll",d.hitch(this,"resize"))),
this._modalconnects.push(f(this.domNode,"keydown",d.hitch(this,"_onKey"))),
l.set(this.domNode,{opacity:0,display:""
}),this._set("open",!0),this._onShow(),this._size(),this._position();var t
;this._fadeInDeferred=new r(d.hitch(this,function(){
t.stop(),delete this._fadeInDeferred}));var i=this._fadeInDeferred.promise
;return t=u.fadeIn({node:this.domNode,duration:this.duration,
beforeBegin:d.hitch(this,function(){j.show(this,this.underlayAttrs)}),
onEnd:d.hitch(this,function(){
this.autofocus&&j.isTop(this)&&(this._getFocusItems(this.domNode),
b.focus(this._firstFocusItem)),
this._fadeInDeferred.resolve(!0),delete this._fadeInDeferred})}).play(),i}},
hide:function(){if(this._alreadyInitialized&&this.open){
this._fadeInDeferred&&this._fadeInDeferred.cancel();var e
;this._fadeOutDeferred=new r(d.hitch(this,function(){
e.stop(),delete this._fadeOutDeferred
})),this._fadeOutDeferred.then(d.hitch(this,"onHide"))
;var t=this._fadeOutDeferred.promise;e=u.fadeOut({node:this.domNode,
duration:this.duration,onEnd:d.hitch(this,function(){
this.domNode.style.display="none",
j.hide(this),this._fadeOutDeferred.resolve(!0),delete this._fadeOutDeferred})
}).play(),this._scrollConnected&&(this._scrollConnected=!1)
;for(var i;i=this._modalconnects.pop();)i.remove()
;return this._relativePosition&&delete this._relativePosition,
this._set("open",!1),t}},resize:function(){
"none"!=this.domNode.style.display&&(this._size(),m("touch")||this._position())
},destroy:function(){
this._fadeInDeferred&&this._fadeInDeferred.cancel(),this._fadeOutDeferred&&this._fadeOutDeferred.cancel(),
this._moveable&&this._moveable.destroy()
;for(var e;e=this._modalconnects.pop();)e.remove()
;j.hide(this),this.inherited(arguments)}})
;m("dojo-bidi")&&(T=n("dijit._DialogBase",T,{_setTitleAttr:function(e){
this._set("title",e),
this.titleNode.innerHTML=e,this.applyTextDir(this.titleNode)},
_setTextDirAttr:function(e){
this._created&&this.textDir!=e&&(this._set("textDir",e),
this.set("title",this.title))}}));var A=n("dijit.Dialog",[M,T],{})
;A._DialogBase=T;var j=A._DialogLevelManager={_beginZIndex:950,
show:function(e,t){I[I.length-1].focus=b.curNode
;var i=I[I.length-1].dialog?I[I.length-1].zIndex+2:A._DialogLevelManager._beginZIndex
;l.set(e.domNode,"zIndex",i),D.show(t,i-1),I.push({dialog:e,underlayAttrs:t,
zIndex:i})},hide:function(e){if(I[I.length-1].dialog==e){I.pop()
;var i=I[I.length-1];if(1==I.length?D.hide():D.show(i.underlayAttrs,i.zIndex-1),
e.refocus){var n=i.focus
;if(!i.dialog||n&&o.isDescendant(n,i.dialog.domNode)||(i.dialog._getFocusItems(i.dialog.domNode),
n=i.dialog._firstFocusItem),n)try{n.focus()}catch(e){}}}else{
var r=t.indexOf(t.map(I,function(e){return e.dialog}),e);-1!=r&&I.splice(r,1)}},
isTop:function(e){return I[I.length-1].dialog==e}},I=A._dialogStack=[{
dialog:null,focus:null,underlayAttrs:null}]
;return b.watch("curNode",function(e,t,i){var n=I[I.length-1].dialog
;if(i&&n&&!n._fadeOutDeferred&&i.ownerDocument==n.ownerDocument){do{
if(i==n.domNode||a.contains(i,"dijitPopup"))return}while(i=i.parentNode)
;n.focus()}}),m("dijit-legacy-requires")&&p(0,function(){
e(["dijit/TooltipDialog"])}),A})
;define("dojo/text!dijit/templates/ColorPalette.html",[],function(){
return'<div class="dijitInline dijitColorPalette" role="grid">\n\t<table dojoAttachPoint="paletteTableNode" class="dijitPaletteTable" cellSpacing="0" cellPadding="0" role="presentation">\n\t\t<tbody data-dojo-attach-point="gridNode"></tbody>\n\t</table>\n</div>\n'
}),
define("dijit/_PaletteMixin",["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(e,t,i,n,r,o,a,s,l,u,c){
return e("dijit._PaletteMixin",s,{defaultTimeout:500,timeoutChangeRate:.9,
value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",
dyeClass:null,_dyeFactory:function(e){
return new("string"==typeof this.dyeClass?o.getObject(this.dyeClass):this.dyeClass)(e)
},_preparePalette:function(e,t){this._cells=[];var i=this._blankGif
;this.own(a(this.gridNode,l,o.hitch(this,"_onCellClick")))
;for(var s=0;s<e.length;s++)for(var u=n.create("tr",{tabIndex:"-1",role:"row"
},this.gridNode),h=0;h<e[s].length;h++){var d=e[s][h];if(d){
var f=this._dyeFactory(d,s,h,t[d]),p=n.create("td",{class:this.cellClass,
tabIndex:"-1",title:t[d],role:"gridcell"},u)
;f.fillCell(p,i),p.idx=this._cells.length,this._cells.push({node:p,dye:f})}}
this._xDim=e[0].length,this._yDim=e.length;var m={UP_ARROW:-this._xDim,
DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,
LEFT_ARROW:this.isLeftToRight()?-1:1}
;for(var g in m)this.own(c.addKeyListener(this.domNode,{keyCode:r[g],ctrlKey:!1,
altKey:!1,shiftKey:!1},this,function(){var e=m[g];return function(t){
this._navigateByKey(e,t)}}(),this.timeoutChangeRate,this.defaultTimeout))},
postCreate:function(){
this.inherited(arguments),this._setCurrent(this._cells[0].node)},
focus:function(){u.focus(this._currentFocus)},_onCellClick:function(e){
for(var t=e.target;"TD"!=t.tagName;){if(!t.parentNode||t==this.gridNode)return
;t=t.parentNode}var i=this._getDye(t).getValue();this._setCurrent(t),u.focus(t),
this._setValueAttr(i,!0),e.stopPropagation(),e.preventDefault()},
_setCurrent:function(e){
"_currentFocus"in this&&t.set(this._currentFocus,"tabIndex","-1"),
this._currentFocus=e,e&&t.set(e,"tabIndex",this.tabIndex)},
_setValueAttr:function(e,t){
if(this._selectedCell>=0&&i.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected"),
this._selectedCell=-1,
e)for(var n=0;n<this._cells.length;n++)if(e==this._cells[n].dye.getValue()){
this._selectedCell=n,i.add(this._cells[n].node,this.cellClass+"Selected");break}
this._set("value",this._selectedCell>=0?e:null),
(t||void 0===t)&&this.onChange(e)},onChange:function(){},
_navigateByKey:function(e,t){if(-1!=t){var i=this._currentFocus.idx+e
;if(i<this._cells.length&&i>-1){var n=this._cells[i].node
;this._setCurrent(n),this.defer(o.hitch(u,"focus",n))}}},_getDye:function(e){
return this._cells[e.idx].dye}})
}),define("dojo/colors",["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(e,t,i,n){
var r={};t.setObject("dojo.colors",r);var o=function(e,t,i){i<0&&++i,i>1&&--i
;var n=6*i;return n<1?e+(t-e)*n:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}
;e.colorFromRgb=i.fromRgb=function(e,t){
var r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){
var a,s=r[2].split(/\s*,\s*/),l=s.length,u=r[1]
;if("rgb"==u&&3==l||"rgba"==u&&4==l){var c=s[0]
;return"%"==c.charAt(c.length-1)?(a=n.map(s,function(e){
return 2.56*parseFloat(e)}),4==l&&(a[3]=s[3]),i.fromArray(a,t)):i.fromArray(s,t)
}if("hsl"==u&&3==l||"hsla"==u&&4==l){
var h=(parseFloat(s[0])%360+360)%360/360,d=parseFloat(s[1])/100,f=parseFloat(s[2])/100,p=f<=.5?f*(d+1):f+d-f*d,m=2*f-p
;return a=[256*o(m,p,h+1/3),256*o(m,p,h),256*o(m,p,h-1/3),1],
4==l&&(a[3]=s[3]),i.fromArray(a,t)}}return null};var a=function(e,t,i){
return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}
;return i.prototype.sanitize=function(){var e=this
;return e.r=Math.round(a(e.r,0,255)),
e.g=Math.round(a(e.g,0,255)),e.b=Math.round(a(e.b,0,255)),e.a=a(e.a,0,1),this
},r.makeGrey=i.makeGrey=function(e,t){return i.fromArray([e,e,e,t])
},t.mixin(i.named,{aliceblue:[240,248,255],antiquewhite:[250,235,215],
aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],
bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],
brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],
chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],
cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],
cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],
darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],
darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],
darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],
darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],
darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],
deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],
dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],
gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],
grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],
indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],
lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],
lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],
lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],
lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],
lightskyblue:[135,206,250],lightslategray:[119,136,153],
lightslategrey:[119,136,153],lightsteelblue:[176,196,222],
lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],
magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],
mediumorchid:[186,85,211],mediumpurple:[147,112,219],
mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],
mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],
mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],
mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],
oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],
orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],
palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],
papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],
pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],
rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],
salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],
seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],
slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],
snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],
tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],
turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],
whitesmoke:[245,245,245],yellowgreen:[154,205,50]}),i
}),define("dijit/ColorPalette",["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(e,t,i,n,r,o,a,s,l,u,c){
var h=l("dijit.ColorPalette",[i,n,r],{palette:"7x10",_palettes:{
"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],
"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]
},templateString:t,baseClass:"dijitColorPalette",_dyeFactory:function(e,t,i,n){
return new this._dyeClass(e,t,i,n)},buildRendering:function(){
this.inherited(arguments),this._dyeClass=l(h._Color,{palette:this.palette
}),this._preparePalette(this._palettes[this.palette],a.getLocalization("dojo","colors",this.lang))
}});return h._Color=l("dijit._Color",s,{
template:"<span class='dijitInline dijitPaletteImg'><img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/></span>",
hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'><img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/></span>",
_imagePaths:{"7x10":e.toUrl("./themes/a11y/colors7x10.png"),
"3x4":e.toUrl("./themes/a11y/colors3x4.png")},constructor:function(e,t,i,n){
this._title=n,this._row=t,this._col=i,this.setColor(s.named[e])},
getValue:function(){return this.toHex()},fillCell:function(e,t){
var i=c.substitute(o("highcontrast")?this.hcTemplate:this.template,{
color:this.toHex(),blankGif:t,alt:this._title,title:this._title,
image:this._imagePaths[this.palette].toString(),left:-20*this._col-5,
top:-20*this._row-5,
size:"7x10"==this.palette?"height: 145px; width: 206px":"height: 64px; width: 86px"
});u.place(i,e)}}),h
}),define("dojox/collections/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(e,t,i){
var n=t.getObject("dojox.collections",!0)
;return n.DictionaryEntry=function(e,t){
this.key=e,this.value=t,this.valueOf=function(){return this.value
},this.toString=function(){return String(this.value)}},n.Iterator=function(e){
var t=0;this.element=e[t]||null,this.atEnd=function(){return t>=e.length
},this.get=function(){
return this.atEnd()?null:(this.element=e[t++],this.element)
},this.map=function(t,n){return i.map(e,t,n)},this.reset=function(){
t=0,this.element=e[t]}},n.DictionaryIterator=function(e){var t=[],n={}
;for(var r in e)n[r]||t.push(e[r]);var o=0
;this.element=t[o]||null,this.atEnd=function(){return o>=t.length
},this.get=function(){
return this.atEnd()?null:(this.element=t[o++],this.element)
},this.map=function(e,n){return i.map(t,e,n)},this.reset=function(){
o=0,this.element=t[o]}},n
}),define("dojox/collections/Stack",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,i){
return i.Stack=function(t){var n=[]
;t&&(n=n.concat(t)),this.count=n.length,this.clear=function(){
n=[],this.count=n.length},this.clone=function(){return new i.Stack(n)
},this.contains=function(e){for(var t=0;t<n.length;t++)if(n[t]==e)return!0
;return!1},this.copyTo=function(e,t){e.splice(t,0,n)
},this.forEach=function(t,i){e.forEach(n,t,i)},this.getIterator=function(){
return new i.Iterator(n)},this.peek=function(){return n[n.length-1]
},this.pop=function(){var e=n.pop();return this.count=n.length,e
},this.push=function(e){this.count=n.push(e)},this.toArray=function(){
return[].concat(n)}},i.Stack
}),define("dojox/collections/ArrayList",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,i){
return i.ArrayList=function(t){var n=[]
;t&&(n=n.concat(t)),this.count=n.length,this.add=function(e){
n.push(e),this.count=n.length},this.addRange=function(e){if(e.getIterator){
for(var t=e.getIterator();!t.atEnd();)this.add(t.get());this.count=n.length
}else{for(var i=0;i<e.length;i++)n.push(e[i]);this.count=n.length}
},this.clear=function(){n.splice(0,n.length),this.count=0
},this.clone=function(){return new i.ArrayList(n)},this.contains=function(e){
for(var t=0;t<n.length;t++)if(n[t]==e)return!0;return!1
},this.forEach=function(t,i){e.forEach(n,t,i)},this.getIterator=function(){
return new i.Iterator(n)},this.indexOf=function(e){
for(var t=0;t<n.length;t++)if(n[t]==e)return t;return-1
},this.insert=function(e,t){n.splice(e,0,t),this.count=n.length
},this.item=function(e){return n[e]},this.remove=function(e){
var t=this.indexOf(e);t>=0&&n.splice(t,1),this.count=n.length
},this.removeAt=function(e){n.splice(e,1),this.count=n.length
},this.reverse=function(){n.reverse()},this.sort=function(e){
e?n.sort(e):n.sort()},this.setByIndex=function(e,t){n[e]=t,this.count=n.length},
this.toArray=function(){return[].concat(n)},this.toString=function(e){
return n.join(e||",")}},i.ArrayList
}),define("dojox/collections/Dictionary",["dojo/_base/kernel","dojo/_base/array","./_base"],function(e,t,i){
return i.Dictionary=function(t){var n={};this.count=0;var r={}
;if(this.add=function(e,t){var r=e in n
;n[e]=new i.DictionaryEntry(e,t),r||this.count++},this.clear=function(){
n={},this.count=0},this.clone=function(){return new i.Dictionary(this)
},this.contains=this.containsKey=function(e){return!r[e]&&null!=n[e]
},this.containsValue=function(e){
for(var t=this.getIterator();t.get();)if(t.element.value==e)return!0;return!1
},this.entry=function(e){return n[e]},this.forEach=function(t,i){var o=[]
;for(var a in n)r[a]||o.push(n[a]);e.forEach(o,t,i)},this.getKeyList=function(){
return this.getIterator().map(function(e){return e.key})
},this.getValueList=function(){return this.getIterator().map(function(e){
return e.value})},this.item=function(e){if(e in n)return n[e].valueOf()
},this.getIterator=function(){return new i.DictionaryIterator(n)
},this.remove=function(e){return e in n&&!r[e]&&(delete n[e],this.count--,!0)
},t)for(var o=t.getIterator();o.get();)this.add(o.element.key,o.element.value)},
i.Dictionary
}),define("dojox/layout/ResizeHandle",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/connect","dojo/_base/array","dojo/_base/event","dojo/_base/fx","dojo/_base/window","dojo/fx","dojo/window","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dijit/_base/manager","dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(e,t,i,n,r,o,a,s,l,u,c,h,d,f,p,m,g){
e.experimental("dojox.layout.ResizeHandle")
;var v=g("dojox.layout.ResizeHandle",[p,m],{targetId:"",targetContainer:null,
resizeAxis:"xy",activeResize:!1,activeResizeClass:"dojoxResizeHandleClone",
animateSizing:!0,animateMethod:"chain",animateDuration:225,minHeight:100,
minWidth:100,constrainMax:!1,maxHeight:0,maxWidth:0,fixedAspect:!1,
intermediateChanges:!1,startTopic:"/dojo/resize/start",
endTopic:"/dojo/resize/stop",
templateString:'<div dojoAttachPoint="resizeHandle" class="dojoxResizeHandle"><div></div></div>',
postCreate:function(){
this.connect(this.resizeHandle,"onmousedown","_beginSizing"),
this.activeResize?this.animateSizing=!1:(this._resizeHelper=f.byId("dojoxGlobalResizeHelper"),
this._resizeHelper||(this._resizeHelper=new y({id:"dojoxGlobalResizeHelper"
}).placeAt(a.body()),c.add(this._resizeHelper.domNode,this.activeResizeClass))),
this.minSize||(this.minSize={w:this.minWidth,h:this.minHeight
}),this.constrainMax&&(this.maxSize={w:this.maxWidth,h:this.maxHeight
}),this._resizeX=this._resizeY=!1;var e=t.partial(c.add,this.resizeHandle)
;switch(this.resizeAxis.toLowerCase()){case"xy":
this._resizeX=this._resizeY=!0,e("dojoxResizeNW");break;case"x":
this._resizeX=!0,e("dojoxResizeW");break;case"y":
this._resizeY=!0,e("dojoxResizeN")}},_beginSizing:function(e){
if(!this._isSizing&&(i.publish(this.startTopic,[this]),
this.targetWidget=f.byId(this.targetId),
this.targetDomNode=this.targetWidget?this.targetWidget.domNode:u.byId(this.targetId),
this.targetContainer&&(this.targetDomNode=this.targetContainer),
this.targetDomNode)){if(!this.activeResize){
var t=h.position(this.targetDomNode,!0);this._resizeHelper.resize({l:t.x,t:t.y,
w:t.w,h:t.h
}),this._resizeHelper.show(),this.isLeftToRight()||(this._resizeHelper.startPosition={
l:t.x,t:t.y})}this._isSizing=!0,this.startPoint={x:e.clientX,y:e.clientY}
;var n=d.getComputedStyle(this.targetDomNode),o="border-model"===h.boxModel,s=o?{
w:0,h:0
}:h.getPadBorderExtents(this.targetDomNode,n),l=h.getMarginExtents(this.targetDomNode,n)
;if(this.startSize={w:d.get(this.targetDomNode,"width",n),
h:d.get(this.targetDomNode,"height",n),pbw:s.w,pbh:s.h,mw:l.w,mh:l.h
},!this.isLeftToRight()&&"absolute"==dojo.style(this.targetDomNode,"position")){
var c=h.position(this.targetDomNode,!0);this.startPosition={l:c.x,t:c.y}}
this._pconnects=[i.connect(a.doc,"onmousemove",this,"_updateSizing"),i.connect(a.doc,"onmouseup",this,"_endSizing")],
r.stop(e)}},_updateSizing:function(e){
if(this.activeResize)this._changeSizing(e);else{
var t=this._getNewCoords(e,"border",this._resizeHelper.startPosition)
;if(!1===t)return;this._resizeHelper.resize(t)}e.preventDefault()},
_getNewCoords:function(e,t,i){try{if(!e.clientX||!e.clientY)return!1}catch(e){
return!1}this._activeResizeLastEvent=e
;var n=(this.isLeftToRight()?1:-1)*(this.startPoint.x-e.clientX),r=this.startPoint.y-e.clientY,o=this.startSize.w-(this._resizeX?n:0),a=this.startSize.h-(this._resizeY?r:0),s=this._checkConstraints(o,a)
;switch(i=i||this.startPosition,
i&&this._resizeX&&(s.l=i.l+n,s.w!=o&&(s.l+=o-s.w),s.t=i.t),t){case"margin":
s.w+=this.startSize.mw,s.h+=this.startSize.mh;case"border":
s.w+=this.startSize.pbw,s.h+=this.startSize.pbh}return s},
_checkConstraints:function(e,t){if(this.minSize){var i=this.minSize
;e<i.w&&(e=i.w),t<i.h&&(t=i.h)}if(this.constrainMax&&this.maxSize){
var n=this.maxSize;e>n.w&&(e=n.w),t>n.h&&(t=n.h)}if(this.fixedAspect){
var r=this.startSize.w,o=this.startSize.h,a=r*t-o*e;a<0?e=t*r/o:a>0&&(t=e*o/r)}
return{w:e,h:t}},_changeSizing:function(e){
var i=this.targetWidget&&t.isFunction(this.targetWidget.resize),n=this._getNewCoords(e,i&&"margin")
;if(!1!==n){if(i)this.targetWidget.resize(n);else if(this.animateSizing){
var r=s[this.animateMethod]([o.animateProperty({node:this.targetDomNode,
properties:{width:{start:this.startSize.w,end:n.w}},
duration:this.animateDuration}),o.animateProperty({node:this.targetDomNode,
properties:{height:{start:this.startSize.h,end:n.h}},
duration:this.animateDuration})]);r.play()}else d.set(this.targetDomNode,{
width:n.w+"px",height:n.h+"px"});this.intermediateChanges&&this.onResize(e)}},
_endSizing:function(e){n.forEach(this._pconnects,i.disconnect)
;var r=t.partial(i.publish,this.endTopic,[this])
;this.activeResize?r():(this._resizeHelper.hide(),
this._changeSizing(e),setTimeout(r,this.animateDuration+15)),
this._isSizing=!1,this.onResize(e)},onResize:function(e){}
}),y=g("dojox.layout._ResizeHelper",p,{show:function(){
d.set(this.domNode,"display","")},hide:function(){
d.set(this.domNode,"display","none")},resize:function(e){
h.setMarginBox(this.domNode,e)}});return v
}),define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(e,t){
return dojox="undefined"!=typeof dojox?dojox:t.getObject("dojox"),
e.getObject("xml.parser",!0,dojox),dojox.xml.parser.parse=function(t,i){
var n,r=e.doc;if(i=i||"text/xml",t&&e.trim(t)&&"DOMParser"in e.global){
var o=new DOMParser;n=o.parseFromString(t,i)
;var a=n.documentElement,s="http://www.mozilla.org/newlayout/xml/parsererror.xml"
;if("parsererror"==a.nodeName&&a.namespaceURI==s){
var l=a.getElementsByTagNameNS(s,"sourcetext")[0]
;throw l&&(l=l.firstChild.data),
new Error("Error parsing text "+a.firstChild.data+" \n"+l)}return n}
if("ActiveXObject"in e.global){var u=function(e){return"MSXML"+e+".DOMDocument"
},c=["Microsoft.XMLDOM",u(6),u(4),u(3),u(2)];if(e.some(c,function(e){try{
n=new ActiveXObject(e)}catch(e){return!1}return!0}),t&&n){
n.async=!1,n.loadXML(t);var h=n.parseError
;if(0!==h.errorCode)throw new Error("Line: "+h.line+"\nCol: "+h.linepos+"\nReason: "+h.reason+"\nError Code: "+h.errorCode+"\nSource: "+h.srcText)
}if(n)return n}else if(r.implementation&&r.implementation.createDocument){
if(t&&e.trim(t)&&r.createElement){var d=r.createElement("xml");d.innerHTML=t
;var f=r.implementation.createDocument("foo","",null)
;return e.forEach(d.childNodes,function(e){f.importNode(e,!0)}),f}
return r.implementation.createDocument("","",null)}return null
},dojox.xml.parser.textContent=function(t,i){if(arguments.length>1){
var n=t.ownerDocument||e.doc
;return dojox.xml.parser.replaceChildren(t,n.createTextNode(i)),i}
if(void 0!==t.textContent)return t.textContent;var r=""
;return t&&e.forEach(t.childNodes,function(e){switch(e.nodeType){case 1:case 5:
r+=dojox.xml.parser.textContent(e);break;case 3:case 2:case 4:r+=e.nodeValue}}),
r},dojox.xml.parser.replaceChildren=function(t,i){var n=[]
;e.isIE&&e.forEach(t.childNodes,function(e){n.push(e)
}),dojox.xml.parser.removeChildren(t),
e.forEach(n,e.destroy),e.isArray(i)?e.forEach(i,function(e){t.appendChild(e)
}):t.appendChild(i)},dojox.xml.parser.removeChildren=function(e){
for(var t=e.childNodes.length;e.hasChildNodes();)e.removeChild(e.firstChild)
;return t},dojox.xml.parser.innerXML=function(e){
return e.innerXML?e.innerXML:e.xml?e.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(e):null
},dojox.xml.parser
}),define("dojox/fx/_base",["dojo/_base/array","dojo/_base/lang","dojo/_base/fx","dojo/fx","dojo/dom","dojo/dom-style","dojo/dom-geometry","dojo/_base/connect","dojo/_base/html"],function(e,t,i,n,r,o,a,s,l){
var u=t.getObject("dojox.fx",!0);return t.mixin(u,{anim:i.anim,
animateProperty:i.animateProperty,fadeTo:i._fade,fadeIn:i.fadeIn,
fadeOut:i.fadeOut,combine:n.combine,chain:n.chain,slideTo:n.slideTo,
wipeIn:n.wipeIn,wipeOut:n.wipeOut}),u.sizeTo=function(e){
var a=e.node=r.byId(e.node),s="absolute",l=e.method||"chain"
;e.duration||(e.duration=500),"chain"==l&&(e.duration=Math.floor(e.duration/2))
;var u,c,h,d,f,p=null,m=function(t){return function(){
var i=o.getComputedStyle(t),n=i.position,r=i.width,a=i.height
;if(u=n==s?t.offsetTop:parseInt(i.top)||0,
h=n==s?t.offsetLeft:parseInt(i.left)||0,
f="auto"==r?0:parseInt(r),p="auto"==a?0:parseInt(a),
d=h-Math.floor((e.width-f)/2),
c=u-Math.floor((e.height-p)/2),n!=s&&"relative"!=n){var l=o.coords(t,!0)
;u=l.y,h=l.x,t.style.position=s,t.style.top=u+"px",t.style.left=h+"px"}}
}(a),g=i.animateProperty(t.mixin({properties:{height:function(){return m(),{
end:e.height||0,start:p}},top:function(){return{start:u,end:c}}}
},e)),v=i.animateProperty(t.mixin({properties:{width:function(){return{start:f,
end:e.width||0}},left:function(){return{start:h,end:d}}}},e))
;return n["combine"==e.method?"combine":"chain"]([g,v])},u.slideBy=function(e){
var n,l,u=e.node=r.byId(e.node),c=function(e){return function(){
var t=o.getComputedStyle(e),i=t.position
;if(n="absolute"==i?e.offsetTop:parseInt(t.top)||0,
l="absolute"==i?e.offsetLeft:parseInt(t.left)||0,"absolute"!=i&&"relative"!=i){
var r=a.coords(e,!0);n=r.y,l=r.x,e.style.position="absolute",e.style.top=n+"px",
e.style.left=l+"px"}}}(u);c();var h=i.animateProperty(t.mixin({properties:{
top:n+(e.top||0),left:l+(e.left||0)}},e));return s.connect(h,"beforeBegin",h,c),
h},u.crossFade=function(e){
var o=e.nodes[0]=r.byId(e.nodes[0]),a=l.style(o,"opacity"),s=e.nodes[1]=r.byId(e.nodes[1])
;l.style(s,"opacity");return n.combine([i[0==a?"fadeIn":"fadeOut"](t.mixin({
node:o},e)),i[0==a?"fadeOut":"fadeIn"](t.mixin({node:s},e))])
},u.highlight=function(e){var n=e.node=r.byId(e.node);e.duration=e.duration||400
;var o=e.color||"#ffff99",a=l.style(n,"backgroundColor")
;"rgba(0, 0, 0, 0)"==a&&(a="transparent");var u=i.animateProperty(t.mixin({
properties:{backgroundColor:{start:o,end:a}}},e))
;return"transparent"==a&&s.connect(u,"onEnd",u,function(){
n.style.backgroundColor=a}),u},u.wipeTo=function(e){e.node=r.byId(e.node)
;var n=e.node,o=n.style,a=e.width?"width":"height",s=e[a],u={};return u[a]={
start:function(){
if(o.overflow="hidden","hidden"==o.visibility||"none"==o.display)return o[a]="1px",
o.display="",o.visibility="",1;var e=l.style(n,a);return Math.max(e,1)},end:s
},i.animateProperty(t.mixin({properties:u},e))},u
}),define("dojox/fx",["./fx/_base"],function(e){return e
}),define("pentaho/common/FormatCombo",["dojo/_base/declare","dijit/form/ComboBox","dojo/store/Memory","dojo/_base/lang"],function(e,t,i,n){
var r,o=[{name:"0",type:"numeric",category:"number"},{name:"0.00",
type:"numeric",category:"number"},{name:"#,##0",type:"numeric",category:"number"
},{name:"#,###.00",type:"numeric",category:"number"},{name:"-#,###.00",
type:"numeric",category:"number"},{name:"(#,###.00)",type:"numeric",
category:"number"},{name:"$ #,##0",type:"numeric",category:"currency"},{
name:"$ #,##0.00",type:"numeric",category:"currency"},{name:"$ -#,##0.00",
type:"numeric",category:"currency"},{name:"$ (#,##0.00)",type:"numeric",
category:"currency"},{name:"$ #,##0.00;(#,##0.00)",type:"numeric",
category:"currency"},{name:"0 %",type:"numeric",category:"percent"},{
name:"0.00 %",type:"numeric",category:"percent"},{name:"#E+#",type:"numeric",
category:"scientific"},{name:"0.00E+00",type:"numeric",category:"scientific"},{
name:"##0.0E+0",type:"numeric",category:"scientific"},{name:"M/d",type:"date",
category:"date"},{name:"M/d/yy",type:"date",category:"date"},{name:"MM/dd/yy",
type:"date",category:"date"},{name:"d-MMM",type:"date",category:"date"},{
name:"d-MMM-yy",type:"date",category:"date"},{name:"MMM-yy",type:"date",
category:"date"},{name:"MMMMM-yy",type:"date",category:"date"},{
name:"MMMMM d, yyyy",type:"date",category:"date"},{name:"M/d/yy h:mm AM/PM",
type:"date",category:"date"},{name:"M/d/yy h:mm",type:"date",category:"date"},{
name:"M/d/yyyy",type:"date",category:"date"},{name:"d-MMM-yyyy",type:"date",
category:"date"},{name:"h:mm",type:"date",category:"time"},{name:"h:mm AM/PM",
type:"date",category:"time"},{name:"h:mm:ss",type:"date",category:"time"},{
name:"h:mm:ss AM/PM",type:"date",category:"time"},{name:"[h]:mm:ss",type:"date",
category:"time"}];return e("pentaho.common.FormatCombo",[t],{dataType:"numeric",
placeHolder:"Type or select your format",searchAttr:"name",labelAttr:"label",
labelType:"html",orient:["below-centered","below","before"],ignoreCase:!1,
constructor:function(e){
n.mixin(this,e),this.baseClass="pentahoFormatCombo "+this.baseClass,
r=new i(e&&e.formats?{data:e.formats}:{data:o
}),this.store=r,e&&e.dataType?this.setDataType(e.dataType):this.setDataType(this.dataType)
},setDataType:function(e,t){this.dataType=e,t?(this.category=t,this.query={
type:e,category:t}):this.query={type:e}},labelFunc:function(e,t){
return e[this.labelAttr]?e[this.labelAttr]:e.name}})
}),define("pentaho/common/Overrides",["dijit/DialogUnderlay","dijit/layout/TabContainer","dijit/layout/TabController","dijit/form/Button","dojo/dnd/Manager","dojo/_base/lang","dijit/layout/TabController","dojo/dnd/common","dojo/dom-style","dojo/dom-geometry","dojo/has","dojo/sniff","dojo/_base/window"],function(e,t,i,n,r,o,a,s,l,u,c,h,d){
o.extend(t,{baseClass:"pentahoTabContainer"}),o.extend(e,{
templateString:"<div class='glasspane'><div class='' data-dojo-attach-point='node'></div></div>",
_setClassAttr:function(e){this.node.className=e,this._set("class",e)}
}),o.extend(a,{baseClass:"pentaho-tabWidget"
}),s.autoScroll=function(e){},s.autoScrollNodes=function(e){
for(var t=e.target;t;){
if((!t.getAttribute||!t.getAttribute("preventAutoScroll")||"false"==t.getAttribute("preventAutoScroll"))&&1==t.nodeType&&t.tagName.toLowerCase()in s._validNodes){
var i=l.getComputedStyle(t);if(i.overflow.toLowerCase()in s._validOverflow){
var n=u.getContentBox(t,i),r=u.position(t,!0),o=Math.min(s.H_TRIGGER_AUTOSCROLL,n.w/2),a=Math.min(s.V_TRIGGER_AUTOSCROLL,n.h/2),h=e.pageX-r.x,f=e.pageY-r.y,p=0,m=0
;c("webkit")&&(h+=d.body.scrollLeft,
f+=dojo.body().scrollTop),h>0&&h<n.w&&(h<o?p=-o:h>n.w-o&&(p=o)),
f>0&&f<n.h&&(f<a?m=-a:f>n.h-a&&(m=a));var g=t.scrollLeft,v=t.scrollTop
;if(t.scrollLeft=t.scrollLeft+p,
t.scrollTop=t.scrollTop+m,g!=t.scrollLeft||v!=t.scrollTop)return}}try{
t=t.parentNode}catch(e){t=null}}s.autoScroll(e)}
}),define("dojox/storage/Provider",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array"],function(e,t,i,n){
return e("dojox.storage.Provider",null,{constructor:function(){},
SUCCESS:"success",FAILED:"failed",PENDING:"pending",
SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",
DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){
console.warn("dojox.storage.initialize not implemented")},
isAvailable:function(){console.warn("dojox.storage.isAvailable not implemented")
},put:function(e,t,i,n){console.warn("dojox.storage.put not implemented")},
get:function(e,t){console.warn("dojox.storage.get not implemented")},
hasKey:function(e,t){return!!this.get(e,t)},getKeys:function(e){
console.warn("dojox.storage.getKeys not implemented")},clear:function(e){
console.warn("dojox.storage.clear not implemented")},remove:function(e,t){
console.warn("dojox.storage.remove not implemented")},getNamespaces:function(){
console.warn("dojox.storage.getNamespaces not implemented")},
isPermanent:function(){console.warn("dojox.storage.isPermanent not implemented")
},getMaximumSize:function(){
console.warn("dojox.storage.getMaximumSize not implemented")},
putMultiple:function(e,t,i,n){
for(var r=0;r<e.length;r++)dojox.storage.put(e[r],t[r],i,n)},
getMultiple:function(e,t){
for(var i=[],n=0;n<e.length;n++)i.push(dojox.storage.get(e[n],t));return i},
removeMultiple:function(e,t){
for(var i=0;i<e.length;i++)dojox.storage.remove(e[i],t)},
isValidKeyArray:function(e){
return!(null===e||void 0===e||!dojo.isArray(e))&&!dojo.some(e,function(e){
return!this.isValidKey(e)},this)},hasSettingsUI:function(){return!1},
showSettingsUI:function(){
console.warn("dojox.storage.showSettingsUI not implemented")},
hideSettingsUI:function(){
console.warn("dojox.storage.hideSettingsUI not implemented")},
isValidKey:function(e){return null!==e&&void 0!==e&&/^[0-9A-Za-z_]*$/.test(e)},
getResourceList:function(){return[]}})
}),define("dojox/storage/manager",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojo/_base/config"],function(declare,on,query,array,lang,config){
lang.getObject("dojox.storage",!0),dojox.storage.manager=new function(){
this.currentProvider=null,
this.available=!1,this.providers=[],this._initialized=!1,
this._onLoadListeners=[],this.initialize=function(){this.autodetect()
},this.register=function(e,t){this.providers.push(t),this.providers[e]=t
},this.setProvider=function(e){},this.autodetect=function(){
if(!this._initialized){
for(var e,t=config.forceStorageProvider||!1,i=0;i<this.providers.length;i++){
if(e=this.providers[i],t&&t==e.declaredClass){e.isAvailable();break}
if(!t&&e.isAvailable())break}
if(!e)return this._initialized=!0,this.available=!1,
this.currentProvider=null,console.warn("No storage provider found for this platform"),
void this.loaded()
;this.currentProvider=e,lang.mixin(dojox.storage,this.currentProvider),
dojox.storage.initialize(),this._initialized=!0,this.available=!0}
},this.isAvailable=function(){return this.available},this.addOnLoad=function(e){
this._onLoadListeners.push(e),this.isInitialized()&&this._fireLoaded()
},this.removeOnLoad=function(e){
for(var t=0;t<this._onLoadListeners.length;t++)if(e==this._onLoadListeners[t]){
this._onLoadListeners.splice(t,1);break}},this.isInitialized=function(){
return(null==this.currentProvider||"dojox.storage.FlashStorageProvider"!=this.currentProvider.declaredClass||0!=dojox.flash.ready)&&this._initialized
},this.supportsProvider=function(storageClass){try{
var provider=eval("new "+storageClass+"()"),results=provider.isAvailable()
;return results||!1}catch(e){return!1}},this.getProvider=function(){
return this.currentProvider},this.loaded=function(){this._fireLoaded()
},this._fireLoaded=function(){array.forEach(this._onLoadListeners,function(e){
try{e()}catch(e){console.debug(e)}})},this.getResourceList=function(){var e=[]
;return array.forEach(dojox.storage.manager.providers,function(t){
e=e.concat(t.getResourceList())}),e}}
}),define("dojox/storage/LocalStorageProvider",["dojo/_base/declare","dojo/on","dojo/query","dojo/_base/array","dojo/_base/lang","dojox/storage/Provider","dojox/storage/manager"],function(e,t,i,n,r,o,a){
var s=e("dojox.storage.LocalStorageProvider",[o],{store:null,
initialize:function(){
this.store=localStorage,this.initialized=!0,dojox.storage.manager.loaded()},
isAvailable:function(){return"undefined"!=typeof localStorage},
put:function(e,t,i,n){
this._assertIsValidKey(e),n=n||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(n)
;var r=this.getFullKey(e,n);t=dojo.toJson(t);try{
this.store.setItem(r,t),i&&i(this.SUCCESS,e,null,n)}catch(t){
i&&i(this.FAILED,e,t.toString(),n)}},get:function(e,t){
return this._assertIsValidKey(e),
t=t||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(t),
e=this.getFullKey(e,t),dojo.fromJson(this.store.getItem(e))},
getKeys:function(e){e=e||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(e),
e="__"+e+"_";for(var t=[],i=0;i<this.store.length;i++){var n=this.store.key(i)
;this._beginsWith(n,e)&&(n=n.substring(e.length),t.push(n))}return t},
clear:function(e){
e=e||this.DEFAULT_NAMESPACE,this._assertIsValidNamespace(e),e="__"+e+"_"
;for(var t=[],i=0;i<this.store.length;i++)this._beginsWith(this.store.key(i),e)&&t.push(this.store.key(i))
;dojo.forEach(t,dojo.hitch(this.store,"removeItem"))},remove:function(e,t){
t=t||this.DEFAULT_NAMESPACE,
this._assertIsValidNamespace(t),this.store.removeItem(this.getFullKey(e,t))},
getNamespaces:function(){var e=[this.DEFAULT_NAMESPACE],t={}
;t[this.DEFAULT_NAMESPACE]=!0
;for(var i=/^__([^_]*)_/,n=0;n<this.store.length;n++){var r=this.store.key(n)
;if(1==i.test(r)){var o=r.match(i)[1];void 0===t[o]&&(t[o]=!0,e.push(o))}}
return e},isPermanent:function(){return!0},getMaximumSize:function(){
return dojox.storage.SIZE_NO_LIMIT},hasSettingsUI:function(){return!1},
isValidKey:function(e){return null!==e&&void 0!==e&&/^[0-9A-Za-z_-]*$/.test(e)},
isValidNamespace:function(e){
return null!==e&&void 0!==e&&/^[0-9A-Za-z-]*$/.test(e)},
getFullKey:function(e,t){return"__"+t+"_"+e},_beginsWith:function(e,t){
return!(t.length>e.length)&&e.substring(0,t.length)===t},
_assertIsValidNamespace:function(e){
if(!1===this.isValidNamespace(e))throw new Error("Invalid namespace given: "+e)
},_assertIsValidKey:function(e){
if(!1===this.isValidKey(e))throw new Error("Invalid key given: "+e)}})
;return dojox.storage.manager.register("dojox.storage.LocalStorageProvider",new dojox.storage.LocalStorageProvider),
s
}),define("dojox/storage/_common",["dojox/storage/Provider","dojox/storage/manager","dojox/storage/LocalStorageProvider"],function(e,t){
dojox.storage.manager.initialize()
}),define("dojox/storage",["./storage/_common"],function(){}),function(e,t){
"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){
if(!e.document)throw new Error("jQuery requires a window with a document")
;return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){
function i(e){var t=!!e&&"length"in e&&e.length,i=de.type(e)
;return"function"!==i&&!de.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)
}function n(e,t,i){if(de.isFunction(t))return de.grep(e,function(e,n){
return!!t.call(e,n,e)!==i});if(t.nodeType)return de.grep(e,function(e){
return e===t!==i});if("string"==typeof t){if(we.test(t))return de.filter(t,e,i)
;t=de.filter(t,e)}return de.grep(e,function(e){return de.inArray(e,t)>-1!==i})}
function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){
var t={};return de.each(e.match(Me)||[],function(e,i){t[i]=!0}),t}function a(){
ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",s),
e.removeEventListener("load",s)):(ne.detachEvent("onreadystatechange",s),
e.detachEvent("onload",s))}function s(){
(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(a(),
de.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){
var n="data-"+t.replace(Ie,"-$1").toLowerCase()
;if("string"==typeof(i=e.getAttribute(n))){try{
i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:je.test(i)?de.parseJSON(i):i)
}catch(e){}de.data(e,t,i)}else i=void 0}return i}function u(e){var t
;for(t in e)if(("data"!==t||!de.isEmptyObject(e[t]))&&"toJSON"!==t)return!1
;return!0}function c(e,t,i,n){if(Ae(e)){
var r,o,a=de.expando,s=e.nodeType,l=s?de.cache:e,u=s?e[a]:e[a]&&a
;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof t)return u||(u=s?e[a]=ie.pop()||de.guid++:a),
l[u]||(l[u]=s?{}:{toJSON:de.noop
}),"object"!=typeof t&&"function"!=typeof t||(n?l[u]=de.extend(l[u],t):l[u].data=de.extend(l[u].data,t)),
o=l[u],
n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[de.camelCase(t)]=i),"string"==typeof t?null==(r=o[t])&&(r=o[de.camelCase(t)]):r=o,
r}}function h(e,t,i){if(Ae(e)){
var n,r,o=e.nodeType,a=o?de.cache:e,s=o?e[de.expando]:de.expando;if(a[s]){
if(t&&(n=i?a[s]:a[s].data)){
de.isArray(t)?t=t.concat(de.map(t,de.camelCase)):t in n?t=[t]:(t=de.camelCase(t),
t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]]
;if(i?!u(n):!de.isEmptyObject(n))return}
(i||(delete a[s].data,u(a[s])))&&(o?de.cleanData([e],!0):he.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)
}}}function d(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){
return de.css(e,t,"")
},l=s(),u=i&&i[3]||(de.cssNumber[t]?"":"px"),c=(de.cssNumber[t]||"px"!==u&&+l)&&Le.exec(de.css(e,t))
;if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{o=o||".5",c/=o,de.style(e,t,c+u)
}while(o!==(o=s()/l)&&1!==o&&--a)}
return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],
n&&(n.unit=u,n.start=c,n.end=r)),r}function f(e){
var t=qe.split("|"),i=e.createDocumentFragment()
;if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}
function p(e,t){
var i,n,r=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0
;if(!o)for(o=[],
i=e.childNodes||e;null!=(n=i[r]);r++)!t||de.nodeName(n,t)?o.push(n):de.merge(o,p(n,t))
;return void 0===t||t&&de.nodeName(e,t)?de.merge([e],o):o}function m(e,t){
for(var i,n=0;null!=(i=e[n]);n++)de._data(i,"globalEval",!t||de._data(t[n],"globalEval"))
}function g(e){Be.test(e.type)&&(e.defaultChecked=e.checked)}
function v(e,t,i,n,r){
for(var o,a,s,l,u,c,h,d=e.length,v=f(t),y=[],b=0;b<d;b++)if((a=e[b])||0===a)if("object"===de.type(a))de.merge(y,a.nodeType?[a]:a);else if(We.test(a)){
for(l=l||v.appendChild(t.createElement("div")),
u=(Fe.exec(a)||["",""])[1].toLowerCase(),
h=He[u]||He._default,l.innerHTML=h[1]+de.htmlPrefilter(a)+h[2],
o=h[0];o--;)l=l.lastChild
;if(!he.leadingWhitespace&&Ve.test(a)&&y.push(t.createTextNode(Ve.exec(a)[0])),
!he.tbody)for(a="table"!==u||Ue.test(a)?"<table>"!==h[1]||Ue.test(a)?0:l:l.firstChild,
o=a&&a.childNodes.length;o--;)de.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c)
;for(de.merge(y,l.childNodes),
l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild
}else y.push(t.createTextNode(a))
;for(l&&v.removeChild(l),he.appendChecked||de.grep(p(y,"input"),g),
b=0;a=y[b++];)if(n&&de.inArray(a,n)>-1)r&&r.push(a);else if(s=de.contains(a.ownerDocument,a),
l=p(v.appendChild(a),"script"),
s&&m(l),i)for(o=0;a=l[o++];)ze.test(a.type||"")&&i.push(a);return l=null,v}
function y(){return!0}function b(){return!1}function _(){try{
return ne.activeElement}catch(e){}}function x(e,t,i,n,r,o){var a,s
;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0)
;for(s in t)x(e,s,i,n,t[s],o);return e}
if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,
n=void 0):(r=n,n=i,i=void 0)),!1===r)r=b;else if(!r)return e;return 1===o&&(a=r,
r=function(e){return de().off(e),a.apply(this,arguments)
},r.guid=a.guid||(a.guid=de.guid++)),e.each(function(){
de.event.add(this,t,r,n,i)})}function w(e,t){
return de.nodeName(e,"table")&&de.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e
}function C(e){return e.type=(null!==de.find.attr(e,"type"))+"/"+e.type,e}
function S(e){var t=it.exec(e.type)
;return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){
if(1===t.nodeType&&de.hasData(e)){
var i,n,r,o=de._data(e),a=de._data(t,o),s=o.events;if(s){
delete a.handle,a.events={}
;for(i in s)for(n=0,r=s[i].length;n<r;n++)de.event.add(t,i,s[i][n])}
a.data&&(a.data=de.extend({},a.data))}}function D(e,t){var i,n,r
;if(1===t.nodeType){
if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[de.expando]){r=de._data(t)
;for(n in r.events)de.removeEvent(t,n,r.handle);t.removeAttribute(de.expando)}
"script"===i&&t.text!==e.text?(C(t).text=e.text,
S(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),
he.html5Clone&&e.innerHTML&&!de.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Be.test(e.type)?(t.defaultChecked=t.checked=e.checked,
t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)
}}function M(e,t,i,n){t=oe.apply([],t)
;var r,o,a,s,l,u,c=0,h=e.length,d=h-1,f=t[0],m=de.isFunction(f)
;if(m||h>1&&"string"==typeof f&&!he.checkClone&&tt.test(f))return e.each(function(r){
var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),M(o,t,i,n)})
;if(h&&(u=v(t,e[0].ownerDocument,!1,e,n),
r=u.firstChild,1===u.childNodes.length&&(u=r),r||n)){
for(s=de.map(p(u,"script"),C),
a=s.length;c<h;c++)o=u,c!==d&&(o=de.clone(o,!0,!0),
a&&de.merge(s,p(o,"script"))),i.call(e[c],o,c)
;if(a)for(l=s[s.length-1].ownerDocument,
de.map(s,S),c=0;c<a;c++)o=s[c],ze.test(o.type||"")&&!de._data(o,"globalEval")&&de.contains(l,o)&&(o.src?de._evalUrl&&de._evalUrl(o.src):de.globalEval((o.text||o.textContent||o.innerHTML||"").replace(nt,"")))
;u=r=null}return e}function N(e,t,i){
for(var n,r=t?de.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||de.cleanData(p(n)),
n.parentNode&&(i&&de.contains(n.ownerDocument,n)&&m(p(n,"script")),
n.parentNode.removeChild(n));return e}function T(e,t){
var i=de(t.createElement(e)).appendTo(t.body),n=de.css(i[0],"display")
;return i.detach(),n}function A(e){var t=ne,i=st[e]
;return i||(i=T(e,t),"none"!==i&&i||(at=(at||de("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
t=(at[0].contentWindow||at[0].contentDocument).document,
t.write(),t.close(),i=T(e,t),at.detach()),st[e]=i),i}function j(e,t){return{
get:function(){
return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}
function I(e){if(e in wt)return e
;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=xt.length;i--;)if((e=xt[i]+t)in wt)return e
}function P(e,t){
for(var i,n,r,o=[],a=0,s=e.length;a<s;a++)n=e[a],n.style&&(o[a]=de._data(n,"olddisplay"),
i=n.style.display,
t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Oe(n)&&(o[a]=de._data(n,"olddisplay",A(n.nodeName)))):(r=Oe(n),
(i&&"none"!==i||!r)&&de._data(n,"olddisplay",r?i:de.css(n,"display"))))
;for(a=0;a<s;a++)n=e[a],
n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"))
;return e}function L(e,t,i){var n=yt.exec(t)
;return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function R(e,t,i,n,r){
for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=de.css(e,i+Re[o],!0,r)),
n?("content"===i&&(a-=de.css(e,"padding"+Re[o],!0,r)),
"margin"!==i&&(a-=de.css(e,"border"+Re[o]+"Width",!0,r))):(a+=de.css(e,"padding"+Re[o],!0,r),
"padding"!==i&&(a+=de.css(e,"border"+Re[o]+"Width",!0,r)));return a}
function O(e,t,i){
var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dt(e),a=he.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,o)
;if(r<=0||null==r){
if(r=ft(e,t,o),(r<0||null==r)&&(r=e.style[t]),ut.test(r))return r
;n=a&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}
return r+R(e,t,i||(a?"border":"content"),n,o)+"px"}function E(e,t,i,n,r){
return new E.prototype.init(e,t,i,n,r)}function B(){
return e.setTimeout(function(){Ct=void 0}),Ct=de.now()}function F(e,t){var i,n={
height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i=Re[r],n["margin"+i]=n["padding"+i]=e
;return t&&(n.opacity=n.width=e),n}function z(e,t,i){
for(var n,r=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n
}function V(e,t,i){
var n,r,o,a,s,l,u,c=this,h={},d=e.style,f=e.nodeType&&Oe(e),p=de._data(e,"fxshow")
;i.queue||(s=de._queueHooks(e,"fx"),
null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){
s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){
s.unqueued--,de.queue(e,"fx").length||s.empty.fire()})
})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],
u=de.css(e,"display"),
"inline"===("none"===u?de._data(e,"olddisplay")||A(e.nodeName):u)&&"none"===de.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?d.zoom=1:d.display="inline-block")),
i.overflow&&(d.overflow="hidden",he.shrinkWrapBlocks()||c.always(function(){
d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}))
;for(n in t)if(r=t[n],kt.exec(r)){
if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){
if("show"!==r||!p||void 0===p[n])continue;f=!0}h[n]=p&&p[n]||de.style(e,n)
}else u=void 0
;if(de.isEmptyObject(h))"inline"===("none"===u?A(e.nodeName):u)&&(d.display=u);else{
p?"hidden"in p&&(f=p.hidden):p=de._data(e,"fxshow",{}),
o&&(p.hidden=!f),f?de(e).show():c.done(function(){de(e).hide()
}),c.done(function(){var t;de._removeData(e,"fxshow")
;for(t in h)de.style(e,t,h[t])})
;for(n in h)a=z(f?p[n]:0,n,c),n in p||(p[n]=a.start,
f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function q(e,t){
var i,n,r,o,a
;for(i in e)if(n=de.camelCase(i),r=t[n],o=e[i],de.isArray(o)&&(r=o[1],
o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=de.cssHooks[n])&&"expand"in a){
o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}
function H(e,t,i){
var n,r,o=0,a=H.prefilters.length,s=de.Deferred().always(function(){
delete l.elem}),l=function(){if(r)return!1
;for(var t=Ct||B(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o)
;return s.notifyWith(e,[u,o,i]),o<1&&l?i:(s.resolveWith(e,[u]),!1)
},u=s.promise({elem:e,props:de.extend({},t),opts:de.extend(!0,{specialEasing:{},
easing:de.easing._default},i),originalProperties:t,originalOptions:i,
startTime:Ct||B(),duration:i.duration,tweens:[],createTween:function(t,i){
var n=de.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing)
;return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0
;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1)
;return t?(s.notifyWith(e,[u,1,0]),
s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props
;for(q(c,u.opts.specialEasing);o<a;o++)if(n=H.prefilters[o].call(u,e,c,u.opts))return de.isFunction(n.stop)&&(de._queueHooks(u.elem,u.opts.queue).stop=de.proxy(n.stop,n)),
n
;return de.map(c,z,u),de.isFunction(u.opts.start)&&u.opts.start.call(e,u),de.fx.timer(de.extend(l,{
elem:e,anim:u,queue:u.opts.queue
})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)
}function W(e){return de.attr(e,"class")||""}function U(e){return function(t,i){
"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(Me)||[]
;if(de.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",
(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function G(e,t,i,n){
function r(s){var l;return o[s]=!0,de.each(e[s]||[],function(e,s){var u=s(t,i,n)
;return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),
!1)}),l}var o={},a=e===Yt;return r(t.dataTypes[0])||!o["*"]&&r("*")}
function $(e,t){var i,n,r=de.ajaxSettings.flatOptions||{}
;for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n])
;return i&&de.extend(!0,e,i),e}function K(e,t,i){
for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),
void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"))
;if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}
if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a
;break}n||(n=a)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}
function X(e,t,i,n){var r,o,a,s,l,u={},c=e.dataTypes.slice()
;if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a]
;for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),
!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),
l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){
if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),
s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){
!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}
if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{
state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{
state:"success",data:t}}function Y(e){
return e.style&&e.style.display||de.css(e,"display")}function Q(e){
if(!de.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){
if("none"===Y(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}
function Z(e,t,i,n){var r;if(de.isArray(t))de.each(t,function(t,r){
i||ti.test(e)?n(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)
});else if(i||"object"!==de.type(t))n(e,t);else for(r in t)Z(e+"["+r+"]",t[r],i,n)
}function J(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{
return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){
return de.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}
var ie=[],ne=e.document,re=ie.slice,oe=ie.concat,ae=ie.push,se=ie.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,he={},de=function(e,t){
return new de.fn.init(e,t)
},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,me=/-([\da-z])/gi,ge=function(e,t){
return t.toUpperCase()};de.fn=de.prototype={jquery:"1.12.4",constructor:de,
selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){
return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},
pushStack:function(e){var t=de.merge(this.constructor(),e)
;return t.prevObject=this,t.context=this.context,t},each:function(e){
return de.each(this,e)},map:function(e){
return this.pushStack(de.map(this,function(t,i){return e.call(t,i,t)}))},
slice:function(){return this.pushStack(re.apply(this,arguments))},
first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(e){var t=this.length,i=+e+(e<0?t:0)
;return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){
return this.prevObject||this.constructor()},push:ae,sort:ie.sort,
splice:ie.splice},de.extend=de.fn.extend=function(){
var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1
;for("boolean"==typeof a&&(u=a,
a=arguments[s]||{},s++),"object"==typeof a||de.isFunction(a)||(a={}),
s===l&&(a=this,
s--);s<l;s++)if(null!=(r=arguments[s]))for(n in r)e=a[n],i=r[n],a!==i&&(u&&i&&(de.isPlainObject(i)||(t=de.isArray(i)))?(t?(t=!1,
o=e&&de.isArray(e)?e:[]):o=e&&de.isPlainObject(e)?e:{},
a[n]=de.extend(u,o,i)):void 0!==i&&(a[n]=i));return a},de.extend({
expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,
error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){
return"function"===de.type(e)},isArray:Array.isArray||function(e){
return"array"===de.type(e)},isWindow:function(e){return null!=e&&e==e.window},
isNumeric:function(e){var t=e&&e.toString()
;return!de.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t
;for(t in e)return!1;return!0},isPlainObject:function(e){var t
;if(!e||"object"!==de.type(e)||e.nodeType||de.isWindow(e))return!1;try{
if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1
}catch(e){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);
return void 0===t||ce.call(e,t)},type:function(e){
return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e
},globalEval:function(t){t&&de.trim(t)&&(e.execScript||function(t){
e.eval.call(e,t)})(t)},camelCase:function(e){
return e.replace(pe,"ms-").replace(me,ge)},nodeName:function(e,t){
return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},
each:function(e,t){var n,r=0
;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break
;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},
makeArray:function(e,t){var n=t||[]
;return null!=e&&(i(Object(e))?de.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),
n},inArray:function(e,t,i){var n;if(t){if(se)return se.call(t,e,i)
;for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i
}return-1},merge:function(e,t){
for(var i=+t.length,n=0,r=e.length;n<i;)e[r++]=t[n++]
;if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},
grep:function(e,t,i){
for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},
map:function(e,t,n){var r,o,a=0,s=[]
;if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o)
;return oe.apply([],s)},guid:1,proxy:function(e,t){var i,n,r
;if("string"==typeof t&&(r=e[t],
t=e,e=r),de.isFunction(e))return i=re.call(arguments,2),n=function(){
return e.apply(t||this,i.concat(re.call(arguments)))
},n.guid=e.guid=e.guid||de.guid++,n},now:function(){return+new Date},support:he
}),
"function"==typeof Symbol&&(de.fn[Symbol.iterator]=ie[Symbol.iterator]),de.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){
le["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){
var r,o,a,s,u,h,d,f,p=t&&t.ownerDocument,m=t?t.nodeType:9
;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i
;if(!n&&((t?t.ownerDocument||t:B)!==A&&T(t),t=t||A,I)){
if(11!==m&&(h=me.exec(e)))if(r=h[1]){if(9===m){
if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i
}else if(p&&(a=p.getElementById(r))&&O(t,a)&&a.id===r)return i.push(a),i}else{
if(h[2])return Y.apply(i,t.getElementsByTagName(e)),i
;if((r=h[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Y.apply(i,t.getElementsByClassName(r)),
i}if(b.qsa&&!H[e+" "]&&(!P||!P.test(e))){
if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){
for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=E),
d=C(e),o=d.length,u=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=u+" "+c(d[o])
;f=d.join(","),p=ge.test(e)&&l(t.parentNode)||t}if(f)try{
return Y.apply(i,p.querySelectorAll(f)),i}catch(e){}finally{
s===E&&t.removeAttribute("id")}}}return k(e.replace(oe,"$1"),t,i,n)}
function i(){function e(i,n){
return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[]
;return e}function n(e){return e[E]=!0,e}function r(e){
var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{
t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){
for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function a(e,t){
var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U)
;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}
function s(e){return n(function(t){return t=+t,n(function(i,n){
for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}
function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}
function c(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}
function h(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=z++
;return t.first?function(t,i,o){
for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){
var s,l,u,c=[F,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0
}else for(;t=t[n];)if(1===t.nodeType||r){
if(u=t[E]||(t[E]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),
(s=l[n])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}
}function d(e){return e.length>1?function(t,i,n){
for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}
function f(e,i,n){for(var r=0,o=i.length;r<o;r++)t(e,i[r],n);return n}
function p(e,t,i,n,r){
for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),
u&&t.push(s)));return a}function m(e,t,i,r,o,a){
return r&&!r[E]&&(r=m(r)),o&&!o[E]&&(o=m(o,a)),n(function(n,a,s,l){
var u,c,h,d=[],m=[],g=a.length,v=n||f(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:p(v,d,e,s,l),b=i?o||(n?e:g||r)?[]:a:y
;if(i&&i(y,b,s,l),
r)for(u=p(b,m),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[m[c]]=!(y[m[c]]=h))
;if(n){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h)
;o(null,b=[],u,l)}
for(c=b.length;c--;)(h=b[c])&&(u=o?Z(n,h):d[c])>-1&&(n[u]=!(a[u]=h))}
}else b=p(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):Y.apply(a,b)})}
function g(e){
for(var t,i,n,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=h(function(e){
return e===t},a,!0),u=h(function(e){return Z(t,e)>-1},a,!0),f=[function(e,i,n){
var r=!o&&(n||i!==D)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r
}];s<r;s++)if(i=_.relative[e[s].type])f=[h(d(f),i)];else{
if(i=_.filter[e[s].type].apply(null,e[s].matches),i[E]){
for(n=++s;n<r&&!_.relative[e[n].type];n++);
return m(s>1&&d(f),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""
})).replace(oe,"$1"),i,s<n&&g(e.slice(s,n)),n<r&&g(e=e.slice(n)),n<r&&c(e))}
f.push(i)}return d(f)}function v(e,i){
var r=i.length>0,o=e.length>0,a=function(n,a,s,l,u){
var c,h,d,f=0,m="0",g=n&&[],v=[],y=D,b=n||o&&_.find.TAG("*",u),x=F+=null==y?1:Math.random()||.1,w=b.length
;for(u&&(D=a===A||a||u);m!==w&&null!=(c=b[m]);m++){if(o&&c){
for(h=0,a||c.ownerDocument===A||(T(c),s=!I);d=e[h++];)if(d(c,a||A,s)){l.push(c)
;break}u&&(F=x)}r&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=m,r&&m!==f){
for(h=0;d=i[h++];)d(g,v,a,s);if(n){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=K.call(l))
;v=p(v)}Y.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}
return u&&(F=x,D=y),g};return r?n(a):a}
var y,b,_,x,w,C,S,k,D,M,N,T,A,j,I,P,L,R,O,E="sizzle"+1*new Date,B=e.document,F=0,z=0,V=i(),q=i(),H=i(),W=function(e,t){
return e===t&&(N=!0),0
},U=1<<31,G={}.hasOwnProperty,$=[],K=$.pop,X=$.push,Y=$.push,Q=$.slice,Z=function(e,t){
for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1
},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ne),ce=new RegExp("^"+te+"$"),he={
ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),
TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),
PSEUDO:new RegExp("^"+ne),
CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),
bool:new RegExp("^(?:"+J+")$","i"),
needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")
},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,i){
var n="0x"+t-65536
;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)
},_e=function(){T()};try{
Y.apply($=Q.call(B.childNodes),B.childNodes),$[B.childNodes.length].nodeType
}catch(e){Y={apply:$.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){
for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}
b=t.support={},w=t.isXML=function(e){
var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName
},T=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:B
;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,
j=A.documentElement,I=!w(A),
(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),
b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")
}),b.getElementsByTagName=r(function(e){
return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),
b.getElementsByClassName=pe.test(A.getElementsByClassName),
b.getById=r(function(e){
return j.appendChild(e).id=E,!A.getElementsByName||!A.getElementsByName(E).length
}),b.getById?(_.find.ID=function(e,t){if(void 0!==t.getElementById&&I){
var i=t.getElementById(e);return i?[i]:[]}},_.filter.ID=function(e){
var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}
}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(ye,be)
;return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id")
;return i&&i.value===t}}),_.find.TAG=b.getElementsByTagName?function(e,t){
return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0
}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){
for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o
},_.find.CLASS=b.getElementsByClassName&&function(e,t){
if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)
},L=[],P=[],(b.qsa=pe.test(A.querySelectorAll))&&(r(function(e){
j.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",
e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ee+"*(?:''|\"\")"),
e.querySelectorAll("[selected]").length||P.push("\\["+ee+"*(?:value|"+J+")"),
e.querySelectorAll("[id~="+E+"-]").length||P.push("~="),
e.querySelectorAll(":checked").length||P.push(":checked"),
e.querySelectorAll("a#"+E+"+*").length||P.push(".#.+[+~]")}),r(function(e){
var t=A.createElement("input")
;t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),
e.querySelectorAll("[name=d]").length&&P.push("name"+ee+"*[*^$|!~]?="),
e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),
e.querySelectorAll("*,:x"),P.push(",.*:")
})),(b.matchesSelector=pe.test(R=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(e){
b.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",ne)
}),P=P.length&&new RegExp(P.join("|")),
L=L.length&&new RegExp(L.join("|")),t=pe.test(j.compareDocumentPosition),
O=t||pe.test(j.contains)?function(e,t){
var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))
}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1
},W=t?function(e,t){if(e===t)return N=!0,0
;var i=!e.compareDocumentPosition-!t.compareDocumentPosition
;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,
1&i||!b.sortDetached&&t.compareDocumentPosition(e)===i?e===A||e.ownerDocument===B&&O(B,e)?-1:t===A||t.ownerDocument===B&&O(B,t)?1:M?Z(M,e)-Z(M,t):0:4&i?-1:1)
}:function(e,t){if(e===t)return N=!0,0
;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t]
;if(!r||!o)return e===A?-1:t===A?1:r?-1:o?1:M?Z(M,e)-Z(M,t):0
;if(r===o)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i)
;for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++
;return n?a(s[n],l[n]):s[n]===B?-1:l[n]===B?1:0},A):A},t.matches=function(e,i){
return t(e,null,null,i)},t.matchesSelector=function(e,i){
if((e.ownerDocument||e)!==A&&T(e),
i=i.replace(le,"='$1']"),b.matchesSelector&&I&&!H[i+" "]&&(!L||!L.test(i))&&(!P||!P.test(i)))try{
var n=R.call(e,i)
;if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n
}catch(e){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){
return(e.ownerDocument||e)!==A&&T(e),O(e,t)},t.attr=function(e,t){
(e.ownerDocument||e)!==A&&T(e)
;var i=_.attrHandle[t.toLowerCase()],n=i&&G.call(_.attrHandle,t.toLowerCase())?i(e,t,!I):void 0
;return void 0!==n?n:b.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null
},t.error=function(e){
throw new Error("Syntax error, unrecognized expression: "+e)
},t.uniqueSort=function(e){var t,i=[],n=0,r=0
;if(N=!b.detectDuplicates,M=!b.sortStable&&e.slice(0),e.sort(W),N){
for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return M=null,
e},x=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){
if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent
;for(e=e.firstChild;e;e=e.nextSibling)i+=x(e)
}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=x(t);return i
},_=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{
dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{
ATTR:function(e){
return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){
return e[1]=e[1].toLowerCase(),
"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),
e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){
var t,i=!e[6]&&e[2]
;return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),
e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){
var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0
}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},
CLASS:function(e){var t=V[e+" "]
;return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){
return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")
})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e)
;return null==o?"!="===i:!i||(o+="",
"="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(re," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))
}},CHILD:function(e,t,i,n,r){
var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t
;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){
var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1
;if(g){if(o){for(;m;){
for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1
;p=m="only"===e&&!p&&"nextSibling"}return!0}
if(p=[a?g.firstChild:g.lastChild],a&&y){
for(d=g,h=d[E]||(d[E]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],f=u[0]===F&&u[1],
b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){
c[e]=[F,f,b];break}
}else if(y&&(d=t,h=d[E]||(d[E]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],
f=u[0]===F&&u[1],b=f),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[E]||(d[E]={}),
c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[F,b]),d!==t)););
return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){
var r,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e)
;return o[E]?o(i):o.length>1?(r=[e,e,"",i],
_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){
for(var n,r=o(e,i),a=r.length;a--;)n=Z(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){
return o(e,0,r)}):o}},pseudos:{not:n(function(e){
var t=[],i=[],r=S(e.replace(oe,"$1"));return r[E]?n(function(e,t,i,n){
for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))
}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),
has:n(function(e){return function(i){return t(e,i).length>0}}),
contains:n(function(e){return e=e.replace(ye,be),function(t){
return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){
return ce.test(e||"")||t.error("unsupported lang: "+e),
e=e.replace(ye,be).toLowerCase(),function(t){var i;do{
if(i=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")
}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){
var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){
return e===j},focus:function(e){
return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)
},enabled:function(e){return!1===e.disabled},disabled:function(e){
return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&!!e.checked||"option"===t&&!!e.selected},
selected:function(e){
return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},
empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1
;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){
return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},
button:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())
},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),
eq:s(function(e,t,i){return[i<0?i+t:i]}),even:s(function(e,t){
for(var i=0;i<t;i+=2)e.push(i);return e}),odd:s(function(e,t){
for(var i=1;i<t;i+=2)e.push(i);return e}),lt:s(function(e,t,i){
for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:s(function(e,t,i){
for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},_.pseudos.nth=_.pseudos.eq
;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0
})_.pseudos[y]=function(e){return function(t){
return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,
reset:!0})_.pseudos[y]=function(e){return function(t){
var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}
}(y)
;return u.prototype=_.filters=_.pseudos,_.setFilters=new u,C=t.tokenize=function(e,i){
var n,r,o,a,s,l,u,c=q[e+" "];if(c)return i?0:c.slice(0)
;for(s=e,l=[],u=_.preFilter;s;){
n&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),
l.push(o=[])),n=!1,(r=se.exec(s))&&(n=r.shift(),o.push({value:n,
type:r[0].replace(oe," ")}),s=s.slice(n.length))
;for(a in _.filter)!(r=he[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({
value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}
return i?s.length:s?t.error(e):q(e,l).slice(0)},S=t.compile=function(e,t){
var i,n=[],r=[],o=H[e+" "];if(!o){
for(t||(t=C(e)),i=t.length;i--;)o=g(t[i]),o[E]?n.push(o):r.push(o)
;o=H(e,v(r,n)),o.selector=e}return o},k=t.select=function(e,t,i,n){
var r,o,a,s,u,h="function"==typeof e&&e,d=!n&&C(e=h.selector||e)
;if(i=i||[],1===d.length){
if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&I&&_.relative[o[1].type]){
if(!(t=(_.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return i
;h&&(t=t.parentNode),e=e.slice(o.shift().value.length)}
for(r=he.needsContext.test(e)?0:o.length;r--&&(a=o[r],
!_.relative[s=a.type]);)if((u=_.find[s])&&(n=u(a.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){
if(o.splice(r,1),!(e=n.length&&c(o)))return Y.apply(i,n),i;break}}
return(h||S(e,d))(n,t,!I,i,!t||ge.test(e)&&l(t.parentNode)||t),i
},b.sortStable=E.split("").sort(W).join("")===E,
b.detectDuplicates=!!N,T(),b.sortDetached=r(function(e){
return 1&e.compareDocumentPosition(A.createElement("div"))}),r(function(e){
return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")
})||o("type|href|height|width",function(e,t,i){
if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)
}),b.attributes&&r(function(e){
return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),
""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){
if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){
return null==e.getAttribute("disabled")})||o(J,function(e,t,i){var n
;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null
}),t}(e)
;de.find=ve,de.expr=ve.selectors,de.expr[":"]=de.expr.pseudos,de.uniqueSort=de.unique=ve.uniqueSort,
de.text=ve.getText,de.isXMLDoc=ve.isXML,de.contains=ve.contains
;var ye=function(e,t,i){
for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){
if(r&&de(e).is(i))break;n.push(e)}return n},be=function(e,t){
for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i
},_e=de.expr.match.needsContext,xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/
;de.filter=function(e,t,i){var n=t[0]
;return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?de.find.matchesSelector(n,e)?[n]:[]:de.find.matches(e,de.grep(t,function(e){
return 1===e.nodeType}))},de.fn.extend({find:function(e){
var t,i=[],n=this,r=n.length
;if("string"!=typeof e)return this.pushStack(de(e).filter(function(){
for(t=0;t<r;t++)if(de.contains(n[t],this))return!0}))
;for(t=0;t<r;t++)de.find(e,n[t],i)
;return i=this.pushStack(r>1?de.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,
i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){
return this.pushStack(n(this,e||[],!0))},is:function(e){
return!!n(this,"string"==typeof e&&_e.test(e)?de(e):e||[],!1).length}})
;var Ce,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(de.fn.init=function(e,t,i){
var n,r;if(!e)return this;if(i=i||Ce,"string"==typeof e){
if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Se.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e)
;if(n[1]){
if(t=t instanceof de?t[0]:t,de.merge(this,de.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),
xe.test(n[1])&&de.isPlainObject(t))for(n in t)de.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n])
;return this}if((r=ne.getElementById(n[2]))&&r.parentNode){
if(r.id!==n[2])return Ce.find(e);this.length=1,this[0]=r}return this.context=ne,
this.selector=e,this}
return e.nodeType?(this.context=this[0]=e,this.length=1,this):de.isFunction(e)?void 0!==i.ready?i.ready(e):e(de):(void 0!==e.selector&&(this.selector=e.selector,
this.context=e.context),de.makeArray(e,this))}).prototype=de.fn,Ce=de(ne)
;var ke=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,
prev:!0};de.fn.extend({has:function(e){var t,i=de(e,this),n=i.length
;return this.filter(function(){
for(t=0;t<n;t++)if(de.contains(this,i[t]))return!0})},closest:function(e,t){
for(var i,n=0,r=this.length,o=[],a=_e.test(e)||"string"!=typeof e?de(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&de.find.matchesSelector(i,e))){
o.push(i);break}return this.pushStack(o.length>1?de.uniqueSort(o):o)},
index:function(e){
return e?"string"==typeof e?de.inArray(this[0],de(e)):de.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1
},add:function(e,t){
return this.pushStack(de.uniqueSort(de.merge(this.get(),de(e,t))))},
addBack:function(e){
return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),de.each({
parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},
parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){
return ye(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},
prev:function(e){return r(e,"previousSibling")},nextAll:function(e){
return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},
nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},
prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},
siblings:function(e){return be((e.parentNode||{}).firstChild,e)},
children:function(e){return be(e.firstChild)},contents:function(e){
return de.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:de.merge([],e.childNodes)
}},function(e,t){de.fn[e]=function(i,n){var r=de.map(this,t,i)
;return"Until"!==e.slice(-5)&&(n=i),
n&&"string"==typeof n&&(r=de.filter(n,r)),this.length>1&&(De[e]||(r=de.uniqueSort(r)),
ke.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Me=/\S+/g
;de.Callbacks=function(e){e="string"==typeof e?o(e):de.extend({},e)
;var t,i,n,r,a=[],s=[],l=-1,u=function(){
for(r=e.once,n=t=!0;s.length;l=-1)for(i=s.shift();++l<a.length;)!1===a[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=a.length,
i=!1);e.memory||(i=!1),t=!1,r&&(a=i?[]:"")},c={add:function(){
return a&&(i&&!t&&(l=a.length-1,s.push(i)),function t(i){
de.each(i,function(i,n){
de.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==de.type(n)&&t(n)
})}(arguments),i&&!t&&u()),this},remove:function(){
return de.each(arguments,function(e,t){
for(var i;(i=de.inArray(t,a,i))>-1;)a.splice(i,1),i<=l&&l--}),this},
has:function(e){return e?de.inArray(e,a)>-1:a.length>0},empty:function(){
return a&&(a=[]),this},disable:function(){return r=s=[],a=i="",this},
disabled:function(){return!a},lock:function(){return r=!0,i||c.disable(),this},
locked:function(){return!!r},fireWith:function(e,i){
return r||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||u()),this},
fire:function(){return c.fireWith(this,arguments),this},fired:function(){
return!!n}};return c},de.extend({Deferred:function(e){
var t=[["resolve","done",de.Callbacks("once memory"),"resolved"],["reject","fail",de.Callbacks("once memory"),"rejected"],["notify","progress",de.Callbacks("memory")]],i="pending",n={
state:function(){return i},always:function(){
return r.done(arguments).fail(arguments),this},then:function(){var e=arguments
;return de.Deferred(function(i){de.each(t,function(t,o){
var a=de.isFunction(e[t])&&e[t];r[o[1]](function(){
var e=a&&a.apply(this,arguments)
;e&&de.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)
})}),e=null}).promise()},promise:function(e){return null!=e?de.extend(e,n):n}
},r={};return n.pipe=n.then,de.each(t,function(e,o){var a=o[2],s=o[3]
;n[o[1]]=a.add,s&&a.add(function(){i=s
},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){
return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith
}),n.promise(r),e&&e.call(r,r),r},when:function(e){
var t,i,n,r=0,o=re.call(arguments),a=o.length,s=1!==a||e&&de.isFunction(e.promise)?a:0,l=1===s?e:de.Deferred(),u=function(e,i,n){
return function(r){
i[e]=this,n[e]=arguments.length>1?re.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)
}}
;if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);r<a;r++)o[r]&&de.isFunction(o[r].promise)?o[r].promise().progress(u(r,i,t)).done(u(r,n,o)).fail(l.reject):--s
;return s||l.resolveWith(n,o),l.promise()}});var Ne;de.fn.ready=function(e){
return de.ready.promise().done(e),this},de.extend({isReady:!1,readyWait:1,
holdReady:function(e){e?de.readyWait++:de.ready(!0)},ready:function(e){
(!0===e?--de.readyWait:de.isReady)||(de.isReady=!0,
!0!==e&&--de.readyWait>0||(Ne.resolveWith(ne,[de]),
de.fn.triggerHandler&&(de(ne).triggerHandler("ready"),de(ne).off("ready"))))}}),
de.ready.promise=function(t){
if(!Ne)if(Ne=de.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(de.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",s),
e.addEventListener("load",s);else{
ne.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{
i=null==e.frameElement&&ne.documentElement}catch(e){}
i&&i.doScroll&&function t(){if(!de.isReady){try{i.doScroll("left")}catch(i){
return e.setTimeout(t,50)}a(),de.ready()}}()}return Ne.promise(t)
},de.ready.promise();var Te;for(Te in de(he))break
;he.ownFirst="0"===Te,he.inlineBlockNeedsLayout=!1,de(function(){var e,t,i,n
;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),
n=ne.createElement("div"),
n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
i.appendChild(n).appendChild(t),
void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
he.inlineBlockNeedsLayout=e=3===t.offsetWidth,
e&&(i.style.zoom=1)),i.removeChild(n))}),function(){
var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(e){
he.deleteExpando=!1}e=null}();var Ae=function(e){
var t=de.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1
;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)
},je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;de.extend({cache:{},noData:{
"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
},hasData:function(e){
return!!(e=e.nodeType?de.cache[e[de.expando]]:e[de.expando])&&!u(e)},
data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},
_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){
return h(e,t,!0)}}),de.fn.extend({data:function(e,t){
var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){
if(this.length&&(r=de.data(o),1===o.nodeType&&!de._data(o,"parsedAttrs"))){
for(i=a.length;i--;)a[i]&&(n=a[i].name,
0===n.indexOf("data-")&&(n=de.camelCase(n.slice(5)),l(o,n,r[n])))
;de._data(o,"parsedAttrs",!0)}return r}
return"object"==typeof e?this.each(function(){de.data(this,e)
}):arguments.length>1?this.each(function(){de.data(this,e,t)
}):o?l(o,e,de.data(o,e)):void 0},removeData:function(e){
return this.each(function(){de.removeData(this,e)})}}),de.extend({
queue:function(e,t,i){var n
;if(e)return t=(t||"fx")+"queue",n=de._data(e,t),i&&(!n||de.isArray(i)?n=de._data(e,t,de.makeArray(i)):n.push(i)),
n||[]},dequeue:function(e,t){t=t||"fx"
;var i=de.queue(e,t),n=i.length,r=i.shift(),o=de._queueHooks(e,t),a=function(){
de.dequeue(e,t)}
;"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),
delete o.stop,r.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){
var i=t+"queueHooks";return de._data(e,i)||de._data(e,i,{
empty:de.Callbacks("once memory").add(function(){
de._removeData(e,t+"queue"),de._removeData(e,i)})})}}),de.fn.extend({
queue:function(e,t){var i=2
;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?de.queue(this[0],e):void 0===t?this:this.each(function(){
var i=de.queue(this,e,t)
;de._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&de.dequeue(this,e)})},
dequeue:function(e){return this.each(function(){de.dequeue(this,e)})},
clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){
var i,n=1,r=de.Deferred(),o=this,a=this.length,s=function(){
--n||r.resolveWith(o,[o])}
;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=de._data(o[a],e+"queueHooks"))&&i.empty&&(n++,
i.empty.add(s));return s(),r.promise(t)}}),function(){var e
;he.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n
;return(i=ne.getElementsByTagName("body")[0])&&i.style?(t=ne.createElement("div"),
n=ne.createElement("div"),
n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
i.appendChild(n).appendChild(t),
void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
t.appendChild(ne.createElement("div")).style.width="5px",
e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}()
;var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Oe=function(e,t){
return e=t||e,"none"===de.css(e,"display")||!de.contains(e.ownerDocument,e)
},Ee=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=null==i
;if("object"===de.type(i)){r=!0;for(s in i)Ee(e,t,s,i[s],!0,o,a)
}else if(void 0!==n&&(r=!0,
de.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){
return u.call(de(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)))
;return r?e:u?t.call(e):l?t(e[0],i):o
},Be=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,ze=/^$|\/(?:java|ecma)script/i,Ve=/^\s+/,qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video"
;!function(){
var e=ne.createElement("div"),t=ne.createDocumentFragment(),i=ne.createElement("input")
;e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
he.leadingWhitespace=3===e.firstChild.nodeType,
he.tbody=!e.getElementsByTagName("tbody").length,
he.htmlSerialize=!!e.getElementsByTagName("link").length,
he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,
i.type="checkbox",
i.checked=!0,t.appendChild(i),he.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",
he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,
t.appendChild(e),i=ne.createElement("input"),
i.setAttribute("type","radio"),i.setAttribute("checked","checked"),
i.setAttribute("name","t"),
e.appendChild(i),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,
he.noCloneEvent=!!e.addEventListener,
e[de.expando]=1,he.attributes=!e.getAttribute(de.expando)}();var He={
option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],
col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]}
;He.optgroup=He.option,
He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td
;var We=/<|&#?\w+;/,Ue=/<tbody/i;!function(){var t,i,n=ne.createElement("div")
;for(t in{submit:!0,change:!0,focusin:!0
})i="on"+t,(he[t]=i in e)||(n.setAttribute(i,"t"),
he[t]=!1===n.attributes[i].expando);n=null}()
;var Ge=/^(?:input|select|textarea)$/i,$e=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Ye=/^([^.]*)(?:\.(.+)|)/
;de.event={global:{},add:function(e,t,i,n,r){
var o,a,s,l,u,c,h,d,f,p,m,g=de._data(e);if(g){
for(i.handler&&(l=i,i=l.handler,r=l.selector),
i.guid||(i.guid=de.guid++),(a=g.events)||(a=g.events={}),
(c=g.handle)||(c=g.handle=function(e){
return void 0===de||e&&de.event.triggered===e.type?void 0:de.event.dispatch.apply(c.elem,arguments)
},
c.elem=e),t=(t||"").match(Me)||[""],s=t.length;s--;)o=Ye.exec(t[s])||[],f=m=o[1],
p=(o[2]||"").split(".").sort(),
f&&(u=de.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,
u=de.event.special[f]||{},h=de.extend({type:f,origType:m,data:n,handler:i,
guid:i.guid,selector:r,needsContext:r&&de.expr.match.needsContext.test(r),
namespace:p.join(".")
},l),(d=a[f])||(d=a[f]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,c)||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),
u.add&&(u.add.call(e,h),
h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),
de.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){
var o,a,s,l,u,c,h,d,f,p,m,g=de.hasData(e)&&de._data(e);if(g&&(c=g.events)){
for(t=(t||"").match(Me)||[""],
u=t.length;u--;)if(s=Ye.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),
f){
for(h=de.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),
l=o=d.length;o--;)a=d[o],
!r&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(o,1),
a.selector&&d.delegateCount--,h.remove&&h.remove.call(e,a))
;l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||de.removeEvent(e,f,g.handle),
delete c[f])}else for(f in c)de.event.remove(e,f+t[u],i,n,!0)
;de.isEmptyObject(c)&&(delete g.handle,de._removeData(e,"events"))}},
trigger:function(t,i,n,r){
var o,a,s,l,u,c,h,d=[n||ne],f=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[]
;if(s=c=n=n||ne,
3!==n.nodeType&&8!==n.nodeType&&!Xe.test(f+de.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),
f=p.shift(),
p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[de.expando]?t:new de.Event(f,"object"==typeof t&&t),
t.isTrigger=r?2:3,
t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,
t.result=void 0,
t.target||(t.target=n),i=null==i?[t]:de.makeArray(i,[t]),u=de.event.special[f]||{},
r||!u.trigger||!1!==u.trigger.apply(n,i))){if(!r&&!u.noBubble&&!de.isWindow(n)){
for(l=u.delegateType||f,
Xe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s
;c===(n.ownerDocument||ne)&&d.push(c.defaultView||c.parentWindow||e)}
for(h=0;(s=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||f,
o=(de._data(s,"events")||{})[t.type]&&de._data(s,"handle"),
o&&o.apply(s,i),(o=a&&s[a])&&o.apply&&Ae(s)&&(t.result=o.apply(s,i),
!1===t.result&&t.preventDefault())
;if(t.type=f,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(d.pop(),i))&&Ae(n)&&a&&n[f]&&!de.isWindow(n)){
c=n[a],c&&(n[a]=null),de.event.triggered=f;try{n[f]()}catch(e){}
de.event.triggered=void 0,c&&(n[a]=c)}return t.result}},dispatch:function(e){
e=de.event.fix(e)
;var t,i,n,r,o,a=[],s=re.call(arguments),l=(de._data(this,"events")||{})[e.type]||[],u=de.event.special[e.type]||{}
;if(s[0]=e,
e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){
for(a=de.event.handlers.call(this,e,l),
t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,
i=0;(o=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,
e.data=o.data,
void 0!==(n=((de.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),
e.stopPropagation()))
;return u.postDispatch&&u.postDispatch.call(this,e),e.result}},
handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target
;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){
for(n=[],
i=0;i<s;i++)o=t[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?de(r,this).index(l)>-1:de.find(r,this,null,[l]).length),
n[r]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}
return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){
if(e[de.expando])return e;var t,i,n,r=e.type,o=e,a=this.fixHooks[r]
;for(a||(this.fixHooks[r]=a=Ke.test(r)?this.mouseHooks:$e.test(r)?this.keyHooks:{}),
n=a.props?this.props.concat(a.props):this.props,
e=new de.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i]
;return e.target||(e.target=o.srcElement||ne),
3===e.target.nodeType&&(e.target=e.target.parentNode),
e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},
props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(e,t){
return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},
mouseHooks:{
props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(e,t){var i,n,r,o=t.button,a=t.fromElement
;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,
r=n.documentElement,
i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),
e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),
!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),
e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{
noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{
return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{
trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},
delegateType:"focusout"},click:{trigger:function(){
if(de.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),
!1},_default:function(e){return de.nodeName(e.target,"a")}},beforeunload:{
postDispatch:function(e){
void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},
simulate:function(e,t,i){var n=de.extend(new de.Event,i,{type:e,isSimulated:!0})
;de.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}
},de.removeEvent=ne.removeEventListener?function(e,t,i){
e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t
;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))
},de.Event=function(e,t){if(!(this instanceof de.Event))return new de.Event(e,t)
;e&&e.type?(this.originalEvent=e,
this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:b):this.type=e,
t&&de.extend(this,t),this.timeStamp=e&&e.timeStamp||de.now(),this[de.expando]=!0
},de.Event.prototype={constructor:de.Event,isDefaultPrevented:b,
isPropagationStopped:b,isImmediatePropagationStopped:b,
preventDefault:function(){var e=this.originalEvent
;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)
},stopPropagation:function(){var e=this.originalEvent
;this.isPropagationStopped=y,
e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)
},stopImmediatePropagation:function(){var e=this.originalEvent
;this.isImmediatePropagationStopped=y,
e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),
this.stopPropagation()}},de.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){
de.event.special[e]={delegateType:t,bindType:t,handle:function(e){
var i,n=this,r=e.relatedTarget,o=e.handleObj
;return r&&(r===n||de.contains(n,r))||(e.type=o.origType,
i=o.handler.apply(this,arguments),e.type=t),i}}
}),he.submit||(de.event.special.submit={setup:function(){
if(de.nodeName(this,"form"))return!1
;de.event.add(this,"click._submit keypress._submit",function(e){
var t=e.target,i=de.nodeName(t,"input")||de.nodeName(t,"button")?de.prop(t,"form"):void 0
;i&&!de._data(i,"submit")&&(de.event.add(i,"submit._submit",function(e){
e._submitBubble=!0}),de._data(i,"submit",!0))})},postDispatch:function(e){
e._submitBubble&&(delete e._submitBubble,
this.parentNode&&!e.isTrigger&&de.event.simulate("submit",this.parentNode,e))},
teardown:function(){if(de.nodeName(this,"form"))return!1
;de.event.remove(this,"._submit")}}),he.change||(de.event.special.change={
setup:function(){
if(Ge.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(de.event.add(this,"propertychange._change",function(e){
"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)
}),de.event.add(this,"click._change",function(e){
this._justChanged&&!e.isTrigger&&(this._justChanged=!1),
de.event.simulate("change",this,e)})),!1
;de.event.add(this,"beforeactivate._change",function(e){var t=e.target
;Ge.test(t.nodeName)&&!de._data(t,"change")&&(de.event.add(t,"change._change",function(e){
!this.parentNode||e.isSimulated||e.isTrigger||de.event.simulate("change",this.parentNode,e)
}),de._data(t,"change",!0))})},handle:function(e){var t=e.target
;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)
},teardown:function(){
return de.event.remove(this,"._change"),!Ge.test(this.nodeName)}
}),he.focusin||de.each({focus:"focusin",blur:"focusout"},function(e,t){
var i=function(e){de.event.simulate(t,e.target,de.event.fix(e))}
;de.event.special[t]={setup:function(){
var n=this.ownerDocument||this,r=de._data(n,t)
;r||n.addEventListener(e,i,!0),de._data(n,t,(r||0)+1)},teardown:function(){
var n=this.ownerDocument||this,r=de._data(n,t)-1
;r?de._data(n,t,r):(n.removeEventListener(e,i,!0),de._removeData(n,t))}}
}),de.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},
one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,r
;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,
de(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),
this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}
return!1!==t&&"function"!=typeof t||(i=t,
t=void 0),!1===i&&(i=b),this.each(function(){de.event.remove(this,e,i,t)})},
trigger:function(e,t){return this.each(function(){de.event.trigger(e,t,this)})},
triggerHandler:function(e,t){var i=this[0]
;if(i)return de.event.trigger(e,t,i,!0)}})
;var Qe=/ jQuery\d+="(?:null|\d+)"/g,Ze=new RegExp("<(?:"+qe+")[\\s/>]","i"),Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt=f(ne),ot=rt.appendChild(ne.createElement("div"))
;de.extend({htmlPrefilter:function(e){return e.replace(Je,"<$1></$2>")},
clone:function(e,t,i){var n,r,o,a,s,l=de.contains(e.ownerDocument,e)
;if(he.html5Clone||de.isXMLDoc(e)||!Ze.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,
ot.removeChild(o=ot.firstChild)),
!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||de.isXMLDoc(e)))for(n=p(o),
s=p(e),a=0;null!=(r=s[a]);++a)n[a]&&D(r,n[a]);if(t)if(i)for(s=s||p(e),n=n||p(o),
a=0;null!=(r=s[a]);a++)k(r,n[a]);else k(e,o)
;return n=p(o,"script"),n.length>0&&m(n,!l&&p(e,"script")),n=s=r=null,o},
cleanData:function(e,t){
for(var i,n,r,o,a=0,s=de.expando,l=de.cache,u=he.attributes,c=de.event.special;null!=(i=e[a]);a++)if((t||Ae(i))&&(r=i[s],
o=r&&l[r])){
if(o.events)for(n in o.events)c[n]?de.event.remove(i,n):de.removeEvent(i,n,o.handle)
;l[r]&&(delete l[r],
u||void 0===i.removeAttribute?i[s]=void 0:i.removeAttribute(s),ie.push(r))}}
}),de.fn.extend({domManip:M,detach:function(e){return N(this,e,!0)},
remove:function(e){return N(this,e)},text:function(e){
return Ee(this,function(e){
return void 0===e?de.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))
},null,e,arguments.length)},append:function(){
return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
w(this,e).appendChild(e)}})},prepend:function(){
return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e)
;t.insertBefore(e,t.firstChild)}})},before:function(){
return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){
return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},
empty:function(){for(var e,t=0;null!=(e=this[t]);t++){
for(1===e.nodeType&&de.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild)
;e.options&&de.nodeName(e,"select")&&(e.options.length=0)}return this},
clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){
return de.clone(this,e,t)})},html:function(e){return Ee(this,function(e){
var t=this[0]||{},i=0,n=this.length
;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Qe,""):void 0
;if("string"==typeof e&&!et.test(e)&&(he.htmlSerialize||!Ze.test(e))&&(he.leadingWhitespace||!Ve.test(e))&&!He[(Fe.exec(e)||["",""])[1].toLowerCase()]){
e=de.htmlPrefilter(e);try{
for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(de.cleanData(p(t,!1)),t.innerHTML=e)
;t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},
replaceWith:function(){var e=[];return M(this,arguments,function(t){
var i=this.parentNode
;de.inArray(this,e)<0&&(de.cleanData(p(this)),i&&i.replaceChild(t,this))},e)}}),
de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(e,t){
de.fn[e]=function(e){
for(var i,n=0,r=[],o=de(e),a=o.length-1;n<=a;n++)i=n===a?this:this.clone(!0),
de(o[n])[t](i),ae.apply(r,i.get());return this.pushStack(r)}});var at,st={
HTML:"block",BODY:"block"
},lt=/^margin/,ut=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),ct=function(e,t,i,n){
var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[])
;for(o in t)e.style[o]=a[o];return r},ht=ne.documentElement;!function(){
function t(){var t,c,h=ne.documentElement
;h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
i=r=s=!1,
n=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(u),i="1%"!==(c||{}).top,
s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"
}).width,u.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"
}).marginRight,
t=u.appendChild(ne.createElement("div")),t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
t.style.marginRight=t.style.width="0",
u.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),
u.removeChild(t)),
u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
u.childNodes[0].style.borderCollapse="separate",
t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",
(o=0===t[0].offsetHeight)&&(t[0].style.display="",
t[1].style.display="none",o=0===t[0].offsetHeight)),h.removeChild(l)}
var i,n,r,o,a,s,l=ne.createElement("div"),u=ne.createElement("div")
;u.style&&(u.style.cssText="float:left;opacity:.5",
he.opacity="0.5"===u.style.opacity,
he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",
u.cloneNode(!0).style.backgroundClip="",
he.clearCloneStyle="content-box"===u.style.backgroundClip,
l=ne.createElement("div"),
l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
u.innerHTML="",
l.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,
de.extend(he,{reliableHiddenOffsets:function(){return null==i&&t(),o},
boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){
return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},
reliableMarginRight:function(){return null==i&&t(),a},
reliableMarginLeft:function(){return null==i&&t(),s}}))}()
;var dt,ft,pt=/^(top|right|bottom|left)$/;e.getComputedStyle?(dt=function(t){
var i=t.ownerDocument.defaultView
;return i&&i.opener||(i=e),i.getComputedStyle(t)},ft=function(e,t,i){
var n,r,o,a,s=e.style
;return i=i||dt(e),a=i?i.getPropertyValue(t)||i[t]:void 0,""!==a&&void 0!==a||de.contains(e.ownerDocument,e)||(a=de.style(e,t)),
i&&!he.pixelMarginRight()&&ut.test(a)&&lt.test(t)&&(n=s.width,
r=s.minWidth,o=s.maxWidth,
s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,
s.maxWidth=o),void 0===a?a:a+""}):ht.currentStyle&&(dt=function(e){
return e.currentStyle},ft=function(e,t,i){var n,r,o,a,s=e.style
;return i=i||dt(e),
a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),ut.test(a)&&!pt.test(t)&&(n=s.left,
r=e.runtimeStyle,
o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,
a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"})
;var mt=/alpha\([^)]*\)/i,gt=/opacity\s*=\s*([^)]*)/i,vt=/^(none|table(?!-c[ea]).+)/,yt=new RegExp("^("+Pe+")(.*)$","i"),bt={
position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",
fontWeight:"400"},xt=["Webkit","O","Moz","ms"],wt=ne.createElement("div").style
;de.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ft(e,"opacity")
;return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,
fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,
order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{
float:he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){
if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){
var r,o,a,s=de.camelCase(t),l=e.style
;if(t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),a=de.cssHooks[t]||de.cssHooks[s],
void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t];if(o=typeof i,
"string"===o&&(r=Le.exec(i))&&r[1]&&(i=d(e,t,r),
o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(de.cssNumber[s]?"":"px")),
he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),
!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(e){}}},
css:function(e,t,i,n){var r,o,a,s=de.camelCase(t)
;return t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),
a=de.cssHooks[t]||de.cssHooks[s],
a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=ft(e,t,n)),
"normal"===o&&t in _t&&(o=_t[t]),
""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}
}),de.each(["height","width"],function(e,t){de.cssHooks[t]={get:function(e,i,n){
if(i)return vt.test(de.css(e,"display"))&&0===e.offsetWidth?ct(e,bt,function(){
return O(e,t,n)}):O(e,t,n)},set:function(e,i,n){var r=n&&dt(e)
;return L(e,i,n?R(e,t,n,he.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,r),r):0)
}}}),he.opacity||(de.cssHooks.opacity={get:function(e,t){
return gt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""
},set:function(e,t){
var i=e.style,n=e.currentStyle,r=de.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||""
;i.zoom=1,
(t>=1||""===t)&&""===de.trim(o.replace(mt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),
""===t||n&&!n.filter)||(i.filter=mt.test(o)?o.replace(mt,r):o+" "+r)}
}),de.cssHooks.marginRight=j(he.reliableMarginRight,function(e,t){
if(t)return ct(e,{display:"inline-block"},ft,[e,"marginRight"])
}),de.cssHooks.marginLeft=j(he.reliableMarginLeft,function(e,t){
if(t)return(parseFloat(ft(e,"marginLeft"))||(de.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ct(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"
}),de.each({margin:"",padding:"",border:"Width"},function(e,t){
de.cssHooks[e+t]={expand:function(i){
for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Re[n]+t]=o[n]||o[n-2]||o[0]
;return r}},lt.test(e)||(de.cssHooks[e+t].set=L)}),de.fn.extend({
css:function(e,t){return Ee(this,function(e,t,i){var n,r,o={},a=0
;if(de.isArray(t)){for(n=dt(e),r=t.length;a<r;a++)o[t[a]]=de.css(e,t[a],!1,n)
;return o}return void 0!==i?de.style(e,t,i):de.css(e,t)},e,t,arguments.length>1)
},show:function(){return P(this,!0)},hide:function(){return P(this)},
toggle:function(e){
return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){
Oe(this)?de(this).show():de(this).hide()})}}),de.Tween=E,E.prototype={
constructor:E,init:function(e,t,i,n,r,o){
this.elem=e,this.prop=i,this.easing=r||de.easing._default,
this.options=t,this.start=this.now=this.cur(),
this.end=n,this.unit=o||(de.cssNumber[i]?"":"px")},cur:function(){
var e=E.propHooks[this.prop]
;return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){
var t,i=E.propHooks[this.prop]
;return this.options.duration?this.pos=t=de.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,
this.now=(this.end-this.start)*t+this.start,
this.options.step&&this.options.step.call(this.elem,this.now,this),
i&&i.set?i.set(this):E.propHooks._default.set(this),this}
},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){
var t
;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=de.css(e.elem,e.prop,""),
t&&"auto"!==t?t:0)},set:function(e){
de.fx.step[e.prop]?de.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[de.cssProps[e.prop]]&&!de.cssHooks[e.prop]?e.elem[e.prop]=e.now:de.style(e.elem,e.prop,e.now+e.unit)
}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){
e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},de.easing={
linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},
_default:"swing"},de.fx=E.prototype.init,de.fx.step={}
;var Ct,St,kt=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/
;de.Animation=de.extend(H,{tweeners:{"*":[function(e,t){
var i=this.createTween(e,t);return d(i.elem,e,Le.exec(t),i),i}]},
tweener:function(e,t){de.isFunction(e)?(t=e,e=["*"]):e=e.match(Me)
;for(var i,n=0,r=e.length;n<r;n++)i=e[n],
H.tweeners[i]=H.tweeners[i]||[],H.tweeners[i].unshift(t)},prefilters:[V],
prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}
}),de.speed=function(e,t,i){var n=e&&"object"==typeof e?de.extend({},e):{
complete:i||!i&&t||de.isFunction(e)&&e,duration:e,
easing:i&&t||t&&!de.isFunction(t)&&t}
;return n.duration=de.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in de.fx.speeds?de.fx.speeds[n.duration]:de.fx.speeds._default,
null!=n.queue&&!0!==n.queue||(n.queue="fx"),
n.old=n.complete,n.complete=function(){
de.isFunction(n.old)&&n.old.call(this),n.queue&&de.dequeue(this,n.queue)},n
},de.fn.extend({fadeTo:function(e,t,i,n){
return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)
},animate:function(e,t,i,n){
var r=de.isEmptyObject(e),o=de.speed(t,i,n),a=function(){
var t=H(this,de.extend({},e),o);(r||de._data(this,"finish"))&&t.stop(!0)}
;return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},
stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)}
;return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),
this.each(function(){
var t=!0,r=null!=e&&e+"queueHooks",o=de.timers,a=de._data(this)
;if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&Dt.test(r)&&n(a[r])
;for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),
t=!1,o.splice(r,1));!t&&i||de.dequeue(this,e)})},finish:function(e){
return!1!==e&&(e=e||"fx"),this.each(function(){
var t,i=de._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=de.timers,a=n?n.length:0
;for(i.finish=!0,
de.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this)
;delete i.finish})}}),de.each(["toggle","show","hide"],function(e,t){
var i=de.fn[t];de.fn[t]=function(e,n,r){
return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(t,!0),e,n,r)
}}),de.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),
fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}
},function(e,t){de.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}
}),de.timers=[],de.fx.tick=function(){var e,t=de.timers,i=0
;for(Ct=de.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1)
;t.length||de.fx.stop(),Ct=void 0},de.fx.timer=function(e){
de.timers.push(e),e()?de.fx.start():de.timers.pop()
},de.fx.interval=13,de.fx.start=function(){
St||(St=e.setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){
e.clearInterval(St),St=null},de.fx.speeds={slow:600,fast:200,_default:400
},de.fn.delay=function(t,i){
return t=de.fx?de.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){
var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){
var e,t=ne.createElement("input"),i=ne.createElement("div"),n=ne.createElement("select"),r=n.appendChild(ne.createElement("option"))
;i=ne.createElement("div"),
i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
e=i.getElementsByTagName("a")[0],
t.setAttribute("type","checkbox"),i.appendChild(t),
e=i.getElementsByTagName("a")[0],
e.style.cssText="top:1px",he.getSetAttribute="t"!==i.className,
he.style=/top/.test(e.getAttribute("style")),
he.hrefNormalized="/a"===e.getAttribute("href"),
he.checkOn=!!t.value,he.optSelected=r.selected,
he.enctype=!!ne.createElement("form").enctype,
n.disabled=!0,he.optDisabled=!r.disabled,
t=ne.createElement("input"),t.setAttribute("value",""),
he.input=""===t.getAttribute("value"),
t.value="t",t.setAttribute("type","radio"),he.radioValue="t"===t.value}()
;var Mt=/\r/g,Nt=/[\x20\t\r\n\f]+/g;de.fn.extend({val:function(e){
var t,i,n,r=this[0];{
if(arguments.length)return n=de.isFunction(e),this.each(function(i){var r
;1===this.nodeType&&(r=n?e.call(this,i,de(this).val()):e,
null==r?r="":"number"==typeof r?r+="":de.isArray(r)&&(r=de.map(r,function(e){
return null==e?"":e+""
})),(t=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))
})
;if(r)return(t=de.valHooks[r.type]||de.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,
"string"==typeof i?i.replace(Mt,""):null==i?"":i)}}}),de.extend({valHooks:{
option:{get:function(e){var t=de.find.attr(e,"value")
;return null!=t?t:de.trim(de.text(e)).replace(Nt," ")}},select:{get:function(e){
for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(i=n[l],
(i.selected||l===r)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!de.nodeName(i.parentNode,"optgroup"))){
if(t=de(i).val(),o)return t;a.push(t)}return a},set:function(e,t){
for(var i,n,r=e.options,o=de.makeArray(t),a=r.length;a--;)if(n=r[a],
de.inArray(de.valHooks.option.get(n),o)>-1)try{n.selected=i=!0}catch(e){
n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}
}),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(e,t){
if(de.isArray(t))return e.checked=de.inArray(de(e).val(),t)>-1}
},he.checkOn||(de.valHooks[this].get=function(e){
return null===e.getAttribute("value")?"on":e.value})})
;var Tt,At,jt=de.expr.attrHandle,It=/^(?:checked|selected)$/i,Pt=he.getSetAttribute,Lt=he.input
;de.fn.extend({attr:function(e,t){return Ee(this,de.attr,e,t,arguments.length>1)
},removeAttr:function(e){return this.each(function(){de.removeAttr(this,e)})}}),
de.extend({attr:function(e,t,i){var n,r,o=e.nodeType
;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?de.prop(e,t,i):(1===o&&de.isXMLDoc(e)||(t=t.toLowerCase(),
r=de.attrHooks[t]||(de.expr.match.bool.test(t)?At:Tt)),
void 0!==i?null===i?void de.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),
i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=de.find.attr(e,t),null==n?void 0:n))
},attrHooks:{type:{set:function(e,t){
if(!he.radioValue&&"radio"===t&&de.nodeName(e,"input")){var i=e.value
;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){
var i,n,r=0,o=t&&t.match(Me)
;if(o&&1===e.nodeType)for(;i=o[r++];)n=de.propFix[i]||i,
de.expr.match.bool.test(i)?Lt&&Pt||!It.test(i)?e[n]=!1:e[de.camelCase("default-"+i)]=e[n]=!1:de.attr(e,i,""),
e.removeAttribute(Pt?i:n)}}),At={set:function(e,t,i){
return!1===t?de.removeAttr(e,i):Lt&&Pt||!It.test(i)?e.setAttribute(!Pt&&de.propFix[i]||i,i):e[de.camelCase("default-"+i)]=e[i]=!0,
i}},de.each(de.expr.match.bool.source.match(/\w+/g),function(e,t){
var i=jt[t]||de.find.attr;Lt&&Pt||!It.test(t)?jt[t]=function(e,t,n){var r,o
;return n||(o=jt[t],jt[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,jt[t]=o),r
}:jt[t]=function(e,t,i){
if(!i)return e[de.camelCase("default-"+t)]?t.toLowerCase():null}
}),Lt&&Pt||(de.attrHooks.value={set:function(e,t,i){
if(!de.nodeName(e,"input"))return Tt&&Tt.set(e,t,i);e.defaultValue=t}
}),Pt||(Tt={set:function(e,t,i){var n=e.getAttributeNode(i)
;if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),
n.value=t+="","value"===i||t===e.getAttribute(i))return t}
},jt.id=jt.name=jt.coords=function(e,t,i){var n
;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null
},de.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t)
;if(i&&i.specified)return i.value},set:Tt.set},de.attrHooks.contenteditable={
set:function(e,t,i){Tt.set(e,""!==t&&t,i)}
},de.each(["width","height"],function(e,t){de.attrHooks[t]={set:function(e,i){
if(""===i)return e.setAttribute(t,"auto"),i}}})),he.style||(de.attrHooks.style={
get:function(e){return e.style.cssText||void 0},set:function(e,t){
return e.style.cssText=t+""}})
;var Rt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i
;de.fn.extend({prop:function(e,t){return Ee(this,de.prop,e,t,arguments.length>1)
},removeProp:function(e){return e=de.propFix[e]||e,this.each(function(){try{
this[e]=void 0,delete this[e]}catch(e){}})}}),de.extend({prop:function(e,t,i){
var n,r,o=e.nodeType
;if(3!==o&&8!==o&&2!==o)return 1===o&&de.isXMLDoc(e)||(t=de.propFix[t]||t,
r=de.propHooks[t]),
void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]
},propHooks:{tabIndex:{get:function(e){var t=de.find.attr(e,"tabindex")
;return t?parseInt(t,10):Rt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}
},propFix:{for:"htmlFor",class:"className"}
}),he.hrefNormalized||de.each(["href","src"],function(e,t){de.propHooks[t]={
get:function(e){return e.getAttribute(t,4)}}
}),he.optSelected||(de.propHooks.selected={get:function(e){var t=e.parentNode
;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},
set:function(e){var t=e.parentNode
;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}
}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){
de.propFix[this.toLowerCase()]=this
}),he.enctype||(de.propFix.enctype="encoding");var Et=/[\t\r\n\f]/g
;de.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0
;if(de.isFunction(e))return this.each(function(t){
de(this).addClass(e.call(this,t,W(this)))})
;if("string"==typeof e&&e)for(t=e.match(Me)||[];i=this[l++];)if(r=W(i),
n=1===i.nodeType&&(" "+r+" ").replace(Et," ")){
for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ")
;s=de.trim(n),r!==s&&de.attr(i,"class",s)}return this},removeClass:function(e){
var t,i,n,r,o,a,s,l=0;if(de.isFunction(e))return this.each(function(t){
de(this).removeClass(e.call(this,t,W(this)))})
;if(!arguments.length)return this.attr("class","")
;if("string"==typeof e&&e)for(t=e.match(Me)||[];i=this[l++];)if(r=W(i),
n=1===i.nodeType&&(" "+r+" ").replace(Et," ")){
for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ")
;s=de.trim(n),r!==s&&de.attr(i,"class",s)}return this},
toggleClass:function(e,t){var i=typeof e
;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):de.isFunction(e)?this.each(function(i){
de(this).toggleClass(e.call(this,i,W(this),t),t)}):this.each(function(){
var t,n,r,o
;if("string"===i)for(n=0,r=de(this),o=e.match(Me)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||(t=W(this),
t&&de._data(this,"__className__",t),
de.attr(this,"class",t||!1===e?"":de._data(this,"__className__")||""))})},
hasClass:function(e){var t,i,n=0
;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+W(i)+" ").replace(Et," ").indexOf(t)>-1)return!0
;return!1}
}),de.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){
de.fn[t]=function(e,i){
return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),de.fn.extend({
hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}})
;var Bt=e.location,Ft=de.now(),zt=/\?/,Vt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g
;de.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"")
;var i,n=null,r=de.trim(t+"");return r&&!de.trim(r.replace(Vt,function(e,t,r,o){
return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")
}))?Function("return "+r)():de.error("Invalid JSON: "+t)
},de.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{
e.DOMParser?(n=new e.DOMParser,
i=n.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),
i.async="false",i.loadXML(t))}catch(e){i=void 0}
return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+t),
i}
;var qt=/#.*$/,Ht=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,$t=/^\/\//,Kt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xt={},Yt={},Qt="*/".concat("*"),Zt=Bt.href,Jt=Kt.exec(Zt.toLowerCase())||[]
;de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt,type:"GET",
isLocal:Ut.test(Jt[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,
text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,
json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,
"text json":de.parseJSON,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}
},ajaxSetup:function(e,t){
return t?$($(e,de.ajaxSettings),t):$(de.ajaxSettings,e)},ajaxPrefilter:U(Xt),
ajaxTransport:U(Yt),ajax:function(t,i){function n(t,i,n,r){var o,h,y,b,x,C=i
;2!==_&&(_=2,
l&&e.clearTimeout(l),c=void 0,s=r||"",w.readyState=t>0?4:0,o=t>=200&&t<300||304===t,
n&&(b=K(d,w,n)),
b=X(d,b,w,o),o?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),
x&&(de.lastModified[a]=x),
(x=w.getResponseHeader("etag"))&&(de.etag[a]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,
h=b.data,
y=b.error,o=!y)):(y=C,!t&&C||(C="error",t<0&&(t=0))),w.status=t,w.statusText=(i||C)+"",
o?m.resolveWith(f,[h,C,w]):m.rejectWith(f,[w,C,y]),
w.statusCode(v),v=void 0,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:y]),
g.fireWith(f,[w,C]),
u&&(p.trigger("ajaxComplete",[w,d]),--de.active||de.event.trigger("ajaxStop")))}
"object"==typeof t&&(i=t,t=void 0),i=i||{}
;var r,o,a,s,l,u,c,h,d=de.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?de(f):de.event,m=de.Deferred(),g=de.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x="canceled",w={
readyState:0,getResponseHeader:function(e){var t;if(2===_){
if(!h)for(h={};t=Wt.exec(s);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}
return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},
setRequestHeader:function(e,t){var i=e.toLowerCase()
;return _||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){
return _||(d.mimeType=e),this},statusCode:function(e){var t
;if(e)if(_<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this
},abort:function(e){var t=e||x;return c&&c.abort(t),n(0,t),this}}
;if(m.promise(w).complete=g.add,
w.success=w.done,w.error=w.fail,d.url=((t||d.url||Zt)+"").replace(qt,"").replace($t,Jt[1]+"//"),
d.type=i.method||i.type||d.method||d.type,
d.dataTypes=de.trim(d.dataType||"*").toLowerCase().match(Me)||[""],
null==d.crossDomain&&(r=Kt.exec(d.url.toLowerCase()),
d.crossDomain=!(!r||r[1]===Jt[1]&&r[2]===Jt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Jt[3]||("http:"===Jt[1]?"80":"443")))),
d.data&&d.processData&&"string"!=typeof d.data&&(d.data=de.param(d.data,d.traditional)),
G(Xt,d,i,w),2===_)return w
;u=de.event&&d.global,u&&0==de.active++&&de.event.trigger("ajaxStart"),
d.type=d.type.toUpperCase(),
d.hasContent=!Gt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(zt.test(a)?"&":"?")+d.data,
delete d.data),
!1===d.cache&&(d.url=Ht.test(a)?a.replace(Ht,"$1_="+Ft++):a+(zt.test(a)?"&":"?")+"_="+Ft++)),
d.ifModified&&(de.lastModified[a]&&w.setRequestHeader("If-Modified-Since",de.lastModified[a]),
de.etag[a]&&w.setRequestHeader("If-None-Match",de.etag[a])),
(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),
w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Qt+"; q=0.01":""):d.accepts["*"])
;for(o in d.headers)w.setRequestHeader(o,d.headers[o])
;if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===_))return w.abort()
;x="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=G(Yt,d,i,w)){
if(w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),2===_)return w
;d.async&&d.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")
},d.timeout));try{_=1,c.send(y,n)}catch(e){if(!(_<2))throw e;n(-1,e)}
}else n(-1,"No Transport");return w},getJSON:function(e,t,i){
return de.get(e,t,i,"json")},getScript:function(e,t){
return de.get(e,void 0,t,"script")}}),de.each(["get","post"],function(e,t){
de[t]=function(e,i,n,r){
return de.isFunction(i)&&(r=r||n,n=i,i=void 0),de.ajax(de.extend({url:e,type:t,
dataType:r,data:i,success:n},de.isPlainObject(e)&&e))}
}),de._evalUrl=function(e){return de.ajax({url:e,type:"GET",dataType:"script",
cache:!0,async:!1,global:!1,throws:!0})},de.fn.extend({wrapAll:function(e){
if(de.isFunction(e))return this.each(function(t){
de(this).wrapAll(e.call(this,t))});if(this[0]){
var t=de(e,this[0].ownerDocument).eq(0).clone(!0)
;this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){
for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e
}).append(this)}return this},wrapInner:function(e){
return de.isFunction(e)?this.each(function(t){de(this).wrapInner(e.call(this,t))
}):this.each(function(){var t=de(this),i=t.contents()
;i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=de.isFunction(e)
;return this.each(function(i){de(this).wrapAll(t?e.call(this,i):e)})},
unwrap:function(){return this.parent().each(function(){
de.nodeName(this,"body")||de(this).replaceWith(this.childNodes)}).end()}
}),de.expr.filters.hidden=function(e){
return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)
},de.expr.filters.visible=function(e){return!de.expr.filters.hidden(e)}
;var ei=/%20/g,ti=/\[\]$/,ii=/\r?\n/g,ni=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i
;de.param=function(e,t){var i,n=[],r=function(e,t){
t=de.isFunction(t)?t():null==t?"":t,
n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}
;if(void 0===t&&(t=de.ajaxSettings&&de.ajaxSettings.traditional),
de.isArray(e)||e.jquery&&!de.isPlainObject(e))de.each(e,function(){
r(this.name,this.value)});else for(i in e)Z(i,e[i],t,r)
;return n.join("&").replace(ei,"+")},de.fn.extend({serialize:function(){
return de.param(this.serializeArray())},serializeArray:function(){
return this.map(function(){var e=de.prop(this,"elements")
;return e?de.makeArray(e):this}).filter(function(){var e=this.type
;return this.name&&!de(this).is(":disabled")&&ri.test(this.nodeName)&&!ni.test(e)&&(this.checked||!Be.test(e))
}).map(function(e,t){var i=de(this).val()
;return null==i?null:de.isArray(i)?de.map(i,function(e){return{name:t.name,
value:e.replace(ii,"\r\n")}}):{name:t.name,value:i.replace(ii,"\r\n")}}).get()}
}),de.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){
return this.isLocal?ee():ne.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()
}:J;var oi=0,ai={},si=de.ajaxSettings.xhr()
;e.attachEvent&&e.attachEvent("onunload",function(){
for(var e in ai)ai[e](void 0,!0)
}),he.cors=!!si&&"withCredentials"in si,si=he.ajax=!!si,
si&&de.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var i;return{
send:function(n,r){var o,a=t.xhr(),s=++oi
;if(a.open(t.type,t.url,t.async,t.username,t.password),
t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o]
;t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),
t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest")
;for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"")
;a.send(t.hasContent&&t.data||null),i=function(e,n){var o,l,u
;if(i&&(n||4===a.readyState))if(delete ai[s],
i=void 0,a.onreadystatechange=de.noop,n)4!==a.readyState&&a.abort();else{
u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{
l=a.statusText}catch(e){l=""}
o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}
u&&r(o,l,u,a.getAllResponseHeaders())
},t.async?4===a.readyState?e.setTimeout(i):a.onreadystatechange=ai[s]=i:i()},
abort:function(){i&&i(void 0,!0)}}}}),de.ajaxSetup({accepts:{
script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},contents:{script:/\b(?:java|ecma)script\b/},converters:{
"text script":function(e){return de.globalEval(e),e}}
}),de.ajaxPrefilter("script",function(e){
void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),de.ajaxTransport("script",function(e){if(e.crossDomain){
var t,i=ne.head||de("head")[0]||ne.documentElement;return{send:function(n,r){
t=ne.createElement("script"),
t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),
t.src=e.url,t.onload=t.onreadystatechange=function(e,i){
(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,
t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))
},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}})
;var li=[],ui=/(=)\?(?=&|$)|\?\?/;de.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var e=li.pop()||de.expando+"_"+Ft++;return this[e]=!0,e
}}),de.ajaxPrefilter("json jsonp",function(t,i,n){
var r,o,a,s=!1!==t.jsonp&&(ui.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ui.test(t.data)&&"data")
;if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=de.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,
s?t[s]=t[s].replace(ui,"$1"+r):!1!==t.jsonp&&(t.url+=(zt.test(t.url)?"&":"?")+t.jsonp+"="+r),
t.converters["script json"]=function(){
return a||de.error(r+" was not called"),a[0]
},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){
void 0===o?de(e).removeProp(r):e[r]=o,
t[r]&&(t.jsonpCallback=i.jsonpCallback,li.push(r)),a&&de.isFunction(o)&&o(a[0]),
a=o=void 0}),"script"}),de.parseHTML=function(e,t,i){
if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne
;var n=xe.exec(e),r=!i&&[]
;return n?[t.createElement(n[1])]:(n=v([e],t,r),r&&r.length&&de(r).remove(),
de.merge([],n.childNodes))};var ci=de.fn.load;de.fn.load=function(e,t,i){
if("string"!=typeof e&&ci)return ci.apply(this,arguments)
;var n,r,o,a=this,s=e.indexOf(" ");return s>-1&&(n=de.trim(e.slice(s,e.length)),
e=e.slice(0,s)),
de.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),
a.length>0&&de.ajax({url:e,type:r||"GET",dataType:"html",data:t
}).done(function(e){
o=arguments,a.html(n?de("<div>").append(de.parseHTML(e)).find(n):e)
}).always(i&&function(e,t){a.each(function(){
i.apply(this,o||[e.responseText,t,e])})}),this
},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){
de.fn[t]=function(e){return this.on(t,e)}
}),de.expr.filters.animated=function(e){return de.grep(de.timers,function(t){
return e===t.elem}).length},de.offset={setOffset:function(e,t,i){
var n,r,o,a,s,l,u,c=de.css(e,"position"),h=de(e),d={}
;"static"===c&&(e.style.position="relative"),
s=h.offset(),o=de.css(e,"top"),l=de.css(e,"left"),
u=("absolute"===c||"fixed"===c)&&de.inArray("auto",[o,l])>-1,
u?(n=h.position(),a=n.top,
r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),de.isFunction(t)&&(t=t.call(e,i,de.extend({},s))),
null!=t.top&&(d.top=t.top-s.top+a),
null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d)}},
de.fn.extend({offset:function(e){
if(arguments.length)return void 0===e?this:this.each(function(t){
de.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0
},r=this[0],o=r&&r.ownerDocument
;if(o)return t=o.documentElement,de.contains(t,r)?(void 0!==r.getBoundingClientRect&&(n=r.getBoundingClientRect()),
i=te(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),
left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},
position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0]
;return"fixed"===de.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),
t=this.offset(),
de.nodeName(e[0],"html")||(i=e.offset()),i.top+=de.css(e[0],"borderTopWidth",!0),
i.left+=de.css(e[0],"borderLeftWidth",!0)),{
top:t.top-i.top-de.css(n,"marginTop",!0),
left:t.left-i.left-de.css(n,"marginLeft",!0)}}},offsetParent:function(){
return this.map(function(){
for(var e=this.offsetParent;e&&!de.nodeName(e,"html")&&"static"===de.css(e,"position");)e=e.offsetParent
;return e||ht})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"
},function(e,t){var i=/Y/.test(t);de.fn[e]=function(n){
return Ee(this,function(e,n,r){var o=te(e)
;if(void 0===r)return o?t in o?o[t]:o.document.documentElement[n]:e[n]
;o?o.scrollTo(i?de(o).scrollLeft():r,i?r:de(o).scrollTop()):e[n]=r
},e,n,arguments.length,null)}}),de.each(["top","left"],function(e,t){
de.cssHooks[t]=j(he.pixelPosition,function(e,i){
if(i)return i=ft(e,t),ut.test(i)?de(e).position()[t]+"px":i})}),de.each({
Height:"height",Width:"width"},function(e,t){de.each({padding:"inner"+e,
content:t,"":"outer"+e},function(i,n){de.fn[n]=function(n,r){
var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border")
;return Ee(this,function(t,i,n){var r
;return de.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,
Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?de.css(t,i,a):de.style(t,i,n,a)
},t,o?n:void 0,o,null)}})}),de.fn.extend({bind:function(e,t,i){
return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},
delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){
return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}
}),de.fn.size=function(){return this.length
},de.fn.andSelf=de.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){
return de});var hi=e.jQuery,di=e.$;return de.noConflict=function(t){
return e.$===de&&(e.$=di),t&&e.jQuery===de&&(e.jQuery=hi),de
},t||(e.jQuery=e.$=de),de}),define("common-ui/jquery-clean",function(e){
return function(){return e.$}
}(this)),define("common-ui/jquery",["common-ui/jquery-clean"],function(e){
"use strict";return window.$=window.jQuery=e
}),define("common-ui/cache/localCache",["dojox/storage","../jquery"],function(e,t){
e=dojox.storage;var i=new RegExp("[-\\.]","gi"),n={},r=!1;return{
isAvailable:function(){if(e.isAvailable()){
if("dojox.storage.FlashStorageProvider"==e.manager.getProvider().declaredClass){
return!(new dojox.flash.Install).needed()}return!0}return!1},
getCacheKey:function(e){return e.replace(i,"_")},putValue:function(t,i,r){
if(this.isAvailable()){this.refreshCacheExpirations(),t=this.getCacheKey(t)
;var o,a=this.getLastModified(t);null==r&&(r=n[t]),o=null==a?{
lastModified:null==r?0:r,value:i}:{lastModified:null==r?a:r,value:i},e.put(t,o)}
},getValue:function(t){if(this.isAvailable()){
this.refreshCacheExpirations(),t=this.getCacheKey(t);var i=e.get(t)
;if(null!=i)return i.value}return null},getLastModified:function(t){
if(this.isAvailable()){this.refreshCacheExpirations(),t=this.getCacheKey(t)
;var i=e.get(t);if(null!=i){return i.lastModified}return null}},
setLastModified:function(t,i){if(this.isAvailable()){t=this.getCacheKey(t)
;var n=e.get(t);n?n.lastModified=i:n={lastModified:i,value:null},e.put(t,n)}},
clear:function(t){this.isAvailable()&&(t=this.getCacheKey(t),e.remove(t))},
updateCacheExpiration:function(e){n={};var i=this
;t(e).find("cache-item").each(function(){var e=t(this).find("key").text()
;e=i.getCacheKey(e);var r=t(this).find("last-modified").text()
;n[e]=r,null!=i.getValue(e)&&i.getLastModified(e)<r&&(i.clear(e),
i.setLastModified(e,r))})},refreshCacheExpirations:function(){if(!r){
var e=window.pentahoCacheExpirationServiceResults
;"undefined"!=e&&null!=e&&(r=!0,this.updateCacheExpiration(e))}}}
}),define("common-repo/pentaho-ajax",[],function(){})
;var COMPLETE=4,STATUS_OK=200,STATUS_UNAUTHORIZED=401,STATUS_NOT_FOUND=404,base="",pathArray=window.location.pathname.split("/"),webAppPath="/"+pathArray[1]

;define("common-ui/repo/pentaho-ajax",function(){}),pentaho="undefined"==typeof pentaho?{}:pentaho,
pentaho.DataTable=function(e){
this.jsonTable=e,this.className="pentaho.DataTable",
e.metadata&&(this.jsonTable=pentaho.DataTable.convertCdaToDataTable(e))
},pentaho.DataTable.convertCdaToDataTable=function(e){
for(var t=[],i=[],n=0;n<e.metadata.length;n++)col={id:e.metadata[n].colName,
type:e.metadata[n].colType.toLowerCase(),label:e.metadata[n].colLabel
},col.label||(col.label=col.id),
"numeric"==col.type&&(col.type="number"),t.push(col)
;for(var r=e.resultset,o=0;o<r.length;o++){var a=[],s=r[o]
;for(n=0;n<s.length;n++)a.push({v:s[n]});var l={c:a};i.push(l)}return{cols:t,
rows:i}},pentaho.DataTable.prototype.makePostable=function(){
this.jsonTable.class="org.pentaho.dataservice.DataTable"
;for(var e=0;e<this.getNumberOfColumns();e++)this.jsonTable.cols[e].class="org.pentaho.dataservice.Column"
;for(var e=0;e<this.getNumberOfRows();e++){var t=this.jsonTable.rows[e].c
;if(t)for(cellNo=0;cellNo<t.length;cellNo++)t[cellNo]&&(t[cellNo].class="org.pentaho.dataservice.Cell")
}},pentaho.DataTable.prototype.getJsonTable=function(){return this.jsonTable
},pentaho.DataTable.prototype.getNumberOfColumns=function(){
return this.jsonTable.cols.length
},pentaho.DataTable.prototype.getNumberOfRows=function(){
return this.jsonTable.rows.length
},pentaho.DataTable.prototype.getColumnType=function(e){
return this.jsonTable.cols[e].type
},pentaho.DataTable.prototype.getColumnId=function(e){
return this.jsonTable.cols[e].id
},pentaho.DataTable.prototype.getColumnLabel=function(e){
return this.jsonTable.cols[e].label
},pentaho.DataTable.prototype.getValue=function(e,t){
return this.jsonTable.rows[e].c[t]?void 0!==this.jsonTable.rows[e].c[t].v?this.jsonTable.rows[e].c[t].v:this.jsonTable.rows[e].c[t]:null
},pentaho.DataTable.prototype._getCell=function(e,t){
return this.jsonTable.rows[e].c[t]?this.jsonTable.rows[e].c[t]:null
},pentaho.DataTable.prototype.getFormattedValue=function(e,t){
return this.jsonTable.rows[e].c[t]?void 0!==this.jsonTable.rows[e].c[t].f?this.jsonTable.rows[e].c[t].f:void 0!==this.jsonTable.rows[e].c[t].v?this.jsonTable.rows[e].c[t].v:null==this.jsonTable.rows[e].c[t].v?null:this.jsonTable.rows[e].c[t]:null
},pentaho.DataTable.prototype.getColumnRange=function(e,t){
for(var i,n,r=!1,o=t&&t.key,a=0;a<this.getNumberOfRows();a++){
var s=this.getValue(a,e)
;null!=s&&(o&&(s=o(s)),r?(s<i&&(i=s),s>n&&(n=s)):(i=s,n=s,r=!0))}return{min:i,
max:n}},pentaho.DataTable.prototype.getDistinctValues=function(e){
for(var t=[],i={},n="number"==this.getColumnType(e),r=0;r<this.getNumberOfRows();r++){
var o=n?this.getValue(r,e):this.getFormattedValue(r,e);i[o]||(i[o]=!0,t.push(o))
}return t},pentaho.DataTable.prototype.getDistinctFormattedValues=function(e){
for(var t=[],i={},n=0;n<this.getNumberOfRows();n++){
var r=this.getFormattedValue(n,e);i[r]||(i[r]=!0,t.push(r))}return t
},pentaho.DataTable.prototype.getFilteredRows=function(e){
for(var t=[],i={},n=0;n<this.getNumberOfRows();n++)for(var r=0;r<e.length;r++)if(e[r].value&&this.getValue(n,e[r].column)==e[r].value&&t.push(n),
e[r].combinations){var o=this.getValue(n,e[r].column),a=e[r].combinations,s=!1
;for(combinationNo=0;combinationNo<a.length;combinationNo++)for(valueNo=0;valueNo<a[combinationNo].values.length;valueNo++)if(o==a[combinationNo].values[valueNo]){
if(i[combinationNo])i[combinationNo][1].push(n);else{var l=["combine",[]]
;l[1].push(n),t.push(l),i[combinationNo]=l}s=!0}s||t.push(n)}return t
},pentaho.DataTable.prototype.setColumnProperty=function(e,t,i){
e>=0&&e<this.jsonTable.cols.length&&(this.jsonTable.cols[e][t]=i)
},pentaho.DataTable.prototype.getColumnProperty=function(e,t){
return e>=0&&e<this.jsonTable.cols.length?this.jsonTable.cols[e][t]:null
},pentaho.DataView=function(e){
this.dataTable=e,this.rows=null,this.columns=null,
this.className="pentaho.DataView"
},pentaho.DataView.prototype.setRows=function(e){this.rows=e
},pentaho.DataView.prototype.setColumns=function(e){this.columns=e
},pentaho.DataView.prototype.getColumnRange=function(e,t){
for(var i,n,r=!1,o=t&&t.key,a=0;a<this.getNumberOfRows();a++){
var s=this.getValue(a,e)
;null!=s&&(o&&(s=o(s)),r?(s<i&&(i=s),s>n&&(n=s)):(i=s,n=s,r=!0))}return{min:i,
max:n}},pentaho.DataView.prototype.getDistinctValues=function(e){
for(var t=[],i={},n=0;n<this.getNumberOfRows();n++){var r=this.getValue(n,e)
;i[r]||(i[r]=!0,t.push(r))}return t
},pentaho.DataView.prototype.getDistinctFormattedValues=function(e){
for(var t=[],i={},n=0;n<this.getNumberOfRows();n++){
var r=this.getFormattedValue(n,e);i[r]||(i[r]=!0,t.push(r))}return t
},pentaho.DataView.prototype.hideColumns=function(e){tmpCols=[]
;for(var t=0;t<this.getNumberOfColumns();t++)tmpCols.push(t)
;for(var i=e.length-1;i>-1;i--)tmpCols.splice(e[i],1);this.columns=tmpCols
},pentaho.DataView.prototype.getNumberOfRows=function(){
return null==this.rows?this.dataTable.getNumberOfRows():this.rows.length
},pentaho.DataView.prototype.getNumberOfColumns=function(){
return null==this.columns?this.dataTable.getNumberOfColumns():this.columns.length
},pentaho.DataView.prototype.getColumnId=function(e){
return null==this.columns?this.dataTable.getColumnId(e):this.dataTable.getColumnId(this.columns[e])
},pentaho.DataView.prototype.getColumnLabel=function(e){
return null==this.columns?this.dataTable.getColumnLabel(e):this.dataTable.getColumnLabel(this.columns[e])
},pentaho.DataView.prototype.getColumnType=function(e){
return null==this.columns?this.dataTable.getColumnType(e):this.dataTable.getColumnType(this.columns[e])
},pentaho.DataView.prototype.getValue=function(e,t){
var i=null==this.rows?e:this.rows[e],n=null==this.columns?t:this.columns[t]
;if(i.length&&"combine"==i[0]){
for(var r,o=this.getColumnType(t),a=0;a<i[1].length;a++)0==a?r=this.dataTable.getValue(i[1][a],n):"string"==o?r+=" + "+this.dataTable.getValue(i[1][a],n):"number"==o&&(r+=this.dataTable.getValue(i[1][a],n))
;return r}return this.dataTable.getValue(i,n)
},pentaho.DataView.prototype._getCell=function(e,t){
var i=null==this.rows?e:this.rows[e],n=null==this.columns?t:this.columns[t]
;return this.dataTable._getCell(i,n)
},pentaho.DataView.prototype.getFormattedValue=function(e,t){
var i=null==this.rows?e:this.rows[e],n=null==this.columns?t:this.columns[t]
;if(i.length&&"combine"==i[0]){
for(var r,o=this.getColumnType(t),a=0;a<i[1].length;a++)0==a?r=this.dataTable.getFormattedValue(i[1][a],n):"string"==o?r+=" + "+this.dataTable.getFormattedValue(i[1][a],n):"number"==o&&(r+=this.dataTable.getFormattedValue(i[1][a],n))
;return r}return this.dataTable.getFormattedValue(i,n)
},pentaho.DataView.prototype.toDataTable=function(){
for(var e=[],t=0;t<this.getNumberOfColumns();t++)col={
type:this.getColumnType(t),id:this.getColumnId(t),label:this.getColumnLabel(t)},
e.push(col);for(var i=[],n=0;n<this.getNumberOfRows();n++){cells=[]
;for(var t=0;t<this.getNumberOfColumns();t++){var r=this._getCell(n,t)
;cells.push(r)}row={c:cells},i.push(row)}var o={cols:e,rows:i}
;return new pentaho.DataTable(o)
},pentaho.DataView.prototype.setColumnProperty=function(e,t,i){
this.dataTable.setColumnProperty(e,t,i)
},pentaho.DataView.prototype.getColumnProperty=function(e,t){
return this.dataTable.getColumnProperty(e,t)},function(){function e(e){
return new Error("Argument '"+e+"' is required.")}function t(e,t){
return new Error("Argument '"+e+"' is invalid."+(t?" "+t:""))}function i(e){
return null!=e?+e:NaN}
pentaho.DataView.prototype.createTrend=pentaho.DataTable.prototype.createTrend=function(i){
if(!(i instanceof Object))throw e("trendArgs");var n=i.type
;if(!n)throw e("trendArgs.type");n=""+n
;var r=pentaho.trends.get(n,!0),o=this.getNumberOfColumns(),a=i.x
;if(null==a)throw e("trendArgs.x")
;if(a=+a,isNaN(a))throw t("trendArgs.x","Not a number.")
;if(a<0||a>=o)throw t("trendArgs.x","Out of range.");var s=i.y
;if(null==s)throw e("trendArgs.y")
;if(s=+s,isNaN(s))throw t("trendArgs.y","Not a number.")
;if(s<0||s>=o)throw t("trendArgs.y","Out of range.")
;if("number"!==this.getColumnType(s))throw t("trendArgs.y","Must be a numeric column.")
;var l=i.name||n+"Trend",u=i.label||(i.name?l:r.label),c=i.options||{},h=(this.dataTable||this).jsonTable,d=h.cols.length
;h.cols.push({type:"number",id:l,label:u})
;var f="number"!==this.getColumnType(a),p=this.getRowIndexEnumerator(),m=this,g=f?null:function(e){
return m.getValue(e,a)},v=function(e){return m.getValue(e,s)},y=Object.create(c)
;y.rows=p,y.x=g,y.y=v;var b=r.model(y)
;return b?(dojo.forEach(h.rows,function(e,t){
var i=g?g(t):t,n=null!=i?b.sample(i,v(t),t):null;e.c[d]={v:n}
}),!0):(dojo.forEach(h.rows,function(e){e.c[d]={v:null}}),!1)
},pentaho.DataView.prototype.getRowIndexEnumerator=pentaho.DataTable.prototype.getRowIndexEnumerator=function(){
var e=-1,t=this.getNumberOfRows(),i={item:void 0,next:function(){
return e<t-1?(i.item=++e,!0):(i.item&&(i.item=void 0),!1)}};return i};var n={}
;pentaho.trends={},pentaho.trends.define=function(i,r){if(!i)throw e("type")
;if(i=""+i,!r)throw e("spec");var o=r.model;if(!o)throw e("spec.model")
;if("function"!=typeof o)throw t("spec.model","Not a function");var a=r.label
;a||(a=i.chartAt(0).toUpperCase()+i.substr(1)+" Trend");var s={type:i,label:a,
model:o};n[i]=s},pentaho.trends.get=function(i,r){if(!i)throw e("type")
;var o=n.hasOwnProperty(i)?n[i]:null
;if(!o&&r)throw t("type","There is no trend type named '"+i+"'.");return o
},pentaho.trends.types=function(){var e=[]
;for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.push(t);return e
},pentaho.trends.define("linear",{label:"Linear trend",model:function(e){
for(var t=e.rows,n=e.x,r=e.y,o=0,a=0,s=0,l=0,u=0,c=0;t.next();){
var h=t.item,d=n?i(n(h)):o;if(!isNaN(d)){var f=i(r(h));isNaN(f)||(a++,s+=d,l+=f,
u+=d*f,c+=d*d)}o++}var p,m;if(a>=2){var g=s/a,v=l/a,y=u/a,b=c/a,_=b-g*g
;return m=0===_?0:(y-g*v)/_,p=v-m*g,{alpha:p,beta:m,reset:function(){},
sample:function(e){return p+m*+e}}}}})
}(),define("common-ui/vizapi/DataTable",function(){}),
pentaho="undefined"==typeof pentaho?{}:pentaho,
pentaho.events={},pentaho.events.trigger=function(e,t,i){var n=e&&e.__events__
;if(n){var r=n[t];if(r)for(var o=-1,a=r.length;++o<a;)r[o](i)}
},pentaho.events.addListener=function(e,t,i){if(e){
var n=e.__events__||(e.__events__={});(n[t]||(n[t]=[])).push(i)}
},pentaho.events.removeListener=function(e,t){var i=e&&e.__events__
;i&&(t?delete i[t]:delete e.__events__)
},pentaho.events.removeSource=function(e){pentaho.events.removeListener(e)
},define("common-ui/vizapi/Events",function(){}),
pentaho="undefined"==typeof pentaho?{}:pentaho,
pentaho.palettes=[],pentaho.palettes.push({name:"palette 1",
colors:["#336699","#99CCFF","#999933","#666699","#CC9933","#006666","#3399FF","#993300","#CCCC99","#666666","#FFCC66","#6699CC","#663366"]
}),pentaho.palettes.push({name:"palette 2",
colors:["#880a0f","#b09a6b","#772200","#c52f0d","#123d82","#4a0866","#ffaa00","#1e8ad3","#aa6611","#772200","#8b2834","#333333"]
}),pentaho.palettes.push({name:"palette 3",
colors:["#387179","#626638","#A8979A","#B09A6B","#772200","#C52F0D","#123D82","#4A0866","#445500","#FFAA00","#1E8AD3","#AA6611","#772200"]
}),
pentaho.visualizations=pentaho.visualizations||[],pentaho.visualizations.getById=function(e){
for(var t=0;t<this.length;t++)if(this[t].id==e)return this[t];return null}
;var visualizations=pentaho.visualizations;pentaho.VizController=function(e){
this.id=e,
this.domNode=null,this.isDragging=!1,this.combinations=[],this.selections=[],
this.highlights=[],
this.metrics=null,this.origTable=null,this.dataTable=null,this.currentViz=null,
this.currentAction="select",
this.layoutPanelElement=null,this.layoutPanel=null,this.visualPanelElement=null,
this.layoutShown=!1,
this.toolbarElement=null,this.title=null,this.chart=null,this.palette=pentaho.palettes[0],
this.lastError=null,this.memberPalette=null,this.formatInfo=null
},pentaho.VizController.prototype.dispose=function(){
pentaho.events.removeSource(this),
this.chart&&(this.chart.dispose&&this.chart.dispose(),
pentaho.events.removeSource(this.chart),
this.chart=null),this.domNode=this.visualPanelElement=null
},pentaho.VizController.prototype.getError=function(){return this.lastError
},pentaho.VizController.prototype.getState=function(){try{var e={}
;return this.currentViz&&(e.vizId=this.currentViz.id,
this.chart.getState&&(e.vizState=this.chart.getState())),e}catch(e){
return this.lastError=e,null}
},pentaho.VizController.prototype.setState=function(e){try{
if(!this.currentViz||this.currentViz.id!=e.vizId){
for(var t=0;t<pentaho.visualizations.length;t++)if(pentaho.visualizations[t].id==e.id){
this.currentViz=pentaho.visualizations[t];break}
this.currentViz||alert("Visualization not found: "+e.vizId),
this.setVisualization(this.currentViz)}
return delete e.dataReqs,dojo.safeMixin(this.currentViz,e),
this.chart&&this.chart.setState&&this.chart.setState(e.vizState),!0}catch(e){
return this.lastError=e,!1}
},pentaho.VizController.prototype.setDomNode=function(e){try{
for(this.domNode=e;e.firstChild;)e.removeChild(e.firstChild)
;var t=this.domNode.offsetWidth,i=this.domNode.offsetHeight
;return this.visualPanelElement=document.createElement("DIV"),
this.visualPanelElement.setAttribute("id","visualPanelElement-"+this.id),
this.visualPanelElement.setAttribute("style","border:0px solid #red; background-color: white; width: "+t+"px; height: "+i+"px"),
this.domNode.appendChild(this.visualPanelElement),!0}catch(e){
return this.lastError=e,!1}
},pentaho.VizController.prototype.setDataTable=function(e){try{
return this.origTable=e,this.setupTable(),!0}catch(e){return this.lastError=e,!1
}},pentaho.VizController.prototype.setMemberPalette=function(e){
this.memberPalette=e},pentaho.VizController.prototype.setFormatInfo=function(e){
this.formatInfo=e},pentaho.VizController.prototype.setTitle=function(e){
this.title=e},pentaho.VizController.prototype.setVisualization=function(e,t){
try{
return this.currentViz&&this.currentViz.class!=e.class&&this.setDomNode(this.domNode),
this.currentViz=e,this.doVisualization(e,t),!0}catch(e){return this.lastError=e,
!1}},pentaho.VizController.prototype.updateVisualization=function(e){try{
if(!this.currentViz)return;return this.doVisualization(this.currentViz,e),!0
}catch(e){return this.lastError=e,!1}
},pentaho.VizController.prototype.doVisualization=function(visualization,userDefinedOptions){
if(this.userDefinedOptions=userDefinedOptions||{},this.dataTable)try{
currentView=new pentaho.DataView(this.dataTable)
;var className=visualization.class,options={title:this.title,
width:this.visualPanelElement.offsetWidth,
height:this.visualPanelElement.offsetHeight,metrics:this.metrics,
palette:this.palette,controller:this,action:this.currentAction,
selections:this.highlights};if(visualization.needsColorGradient){
var gradMap=[[255,0,0],[255,255,0],[0,0,255],[0,255,0]]
;options.color1=gradMap[0],options.color2=gradMap[3]}
var propMap=visualization.propMap
;if(propMap)for(var propNo=0;propNo<propMap.length;propNo++){
var prop=propMap[propNo],propValue=null
;"columnlabel"==prop.source&&(propValue=currentView.getColumnLabel(prop.position)),
"maxvalue"==prop.source&&(propValue=this.metrics[prop.position].range.max),
"minvalue"==prop.source&&(propValue=this.metrics[prop.position].range.min)
;for(var obj=options,nameNo=0;nameNo<prop.name.length;nameNo++)nameNo<prop.name.length-1?(obj[prop.name[nameNo]]||(obj[prop.name[nameNo]]={}),
obj=obj[prop.name[nameNo]]):obj[prop.name[nameNo]]=propValue}
if(visualization.args)for(var x in visualization.args)options[x]=visualization.args[x]
;for(var x in this.userDefinedOptions)options[x]=this.userDefinedOptions[x]
;options.memberPalette=this.memberPalette?this.memberPalette:{},
options.formatInfo=this.formatInfo;var id="chart_div"+this.id
;if(this.chart&&this.chart.vizId==visualization.id);else{
var chartDiv=this.visualPanelElement
;eval("this.chart = new "+className+"(chartDiv)"),
pentaho.events.addListener(this.chart,"select",function(){
return myself.chartSelectHandler.apply(myself,arguments||[])
}),pentaho.events.addListener(this.chart,"doubleclick",function(){
return myself.chartDoubleClickHandler.apply(myself,arguments||[])
}),pentaho.events.addListener(this.chart,"onmouseover",function(){
return myself.chartMouseOverHandler.apply(myself,arguments||[])
}),pentaho.events.addListener(this.chart,"onmouseout",function(){
return myself.chartMouseOutHandler.apply(myself,arguments||[])})}var myself=this
;if(this.chart.controller=this,
this.chart.id="viz"+this.id,this.chart.vizId=visualization.id,
!currentView)return alert("No suitable dataset"),
void(document.getElementById("chart_div").innerHTML="");try{
this.chart.draw(currentView,options)}catch(e){
console&&console.log&&console.log(e.message)}
return this.currentViz=visualization,!0}catch(e){return this.lastError=e,!1}
},pentaho.VizController.prototype.chartSelectHandler=function(e){
this.processHighlights(e),pentaho.events.trigger(this,"select",e)
},pentaho.VizController.prototype.chartDoubleClickHandler=function(e){
pentaho.events.trigger(this,"doubleclick",e)
},pentaho.VizController.prototype.processHighlights=function(e){
var t=e.selectionMode||"TOGGLE";"REPLACE"==t&&(this.highlights=[])
;for(var i=0;i<e.selections.length;i++){var n,r,o,a,s,l,u=e.selections[i]
;u.rowItem&&(n=u.rowItem,
s=u.rowId,l=u.rowLabel),(u.column||0==u.column)&&(r=u.columnId,
o=u.columnLabel,a=u.columnItem),(u.row||0==u.row)&&u.column&&u.value
;var c=!1,h=!1;if("TOGGLE"==t)for(var d=0;d<this.highlights.length;d++){
var f=this.highlights[d].rowItem,p=this.highlights[d].colItem,m=f&&(f==n||f.join&&f.join("-")==n.join("-")),g=p&&(p==a||p.join&&p.join("-")==a.join("-"))
;if(void 0===g&&(g=!0),
m&&g&&this.highlights[d].colId&&this.highlights[d].colId==r&&"column"==this.highlights[d].type&&"cell"==u.type){
this.highlights[d].type="row",highlight.id=u.rowId,highlight.value=n,h=!0;break}
if(m&&g&&this.highlights[d].colId&&this.highlights[d].colId==r&&"column"==this.highlights[d].type){
this.highlights.splice(d,1),c=!0;break}if(m&&g){this.highlights.splice(d,1),c=!0
;break}}c||h||(highlight={rowItem:n,colId:r,colLabel:o,colItem:a,rowId:s,
rowLabel:l
},highlight.type=u.type,"row"==u.type?(highlight.id=s,highlight.value=n):"column"==u.type?(highlight.type="column",
highlight.id=r,
highlight.value=o):"cell"==u.type&&(highlight.type="cell",highlight.id=r,
highlight.value=o),this.highlights.push(highlight))}
},pentaho.VizController.prototype.createCombination=function(){
for(var e,t=[],i=0;i<this.highlights.length;i++)0==i?(this.highlights[i].type,
t.push(this.highlights[i].value),
e=this.highlights[i].id):this.highlights[i].id==e&&t.push(this.highlights[i].value)
;this.combinations.push({values:t,columnId:e
}),this.setupTable(),this.highlights=[],this.updateVisualization()
},pentaho.VizController.prototype.updateHighlights=function(){
this.chart.setHighlights&&this.chart.setHighlights(this.highlights)
},pentaho.VizController.prototype.clearSelections=function(){this.highlights=[]
},pentaho.VizController.prototype.setupTable=function(){if(this.origTable){
if(this.metrics=[],
this.dataTable=this.origTable,this.combinations&&this.combinations.length>0){
var e=this.origTable.getFilteredRows([{column:0,combinations:this.combinations
}]),t=new pentaho.DataView(table);t.setRows(e),this.dataTable=t}
for(var i=0;i<this.dataTable.getNumberOfColumns();i++)if("string"==this.dataTable.getColumnType(i)){
var n=this.dataTable.getDistinctValues(i),r=pentaho.VizController.createPaletteMap(n,this.palette)
;this.metrics.push({values:n,paletteMap:r})
}else if("number"==this.dataTable.getColumnType(i)){
var o=this.dataTable.getColumnRange(i);this.metrics.push({range:o})}}
},pentaho.VizController.createPaletteMap=function(e,t){
for(var i={},n=0;n<e.length&&n<t.colors.length;n++)i[e[n]]=t.colors[n]
;for(var n=t.colors.length;n<e.length;n++)i[e[n]]="#000000";return i
},pentaho.VizController.getRrbGradient=function(e,t,i,n,r){
if(i-t<=0)return pentaho.VizController.getRrbColor(r[0],r[1],r[2])
;var o=(e-t)/(i-t),a=new Array(3)
;return a[0]=Math.floor(o*(r[0]-n[0])+n[0]),a[1]=Math.floor(o*(r[1]-n[1])+n[1]),
a[2]=Math.floor(o*(r[2]-n[2])+n[2]),
pentaho.VizController.getRrbColor(a[0],a[1],a[2])
},pentaho.VizController.getRgbGradientFromMultiColorHex=function(e,t,i,n){
var r,o,a=n.length-1,s=i-t;if(s<=0)r=n.length-1,o=r;else{var l=(e-t)/s*a
;r=Math.floor(l),o=Math.ceil(l)}
var u,c=pentaho.VizController.convertToRGB(n[r]),h=pentaho.VizController.convertToRGB(n[o])
;if(r==o)return pentaho.VizController.getRrbColor(c[0],c[1],c[2]);var d=r/a*s+t
;u=(e-d)/(o/a*s+t-d);var f=new Array(3)
;return f[0]=Math.floor(u*(h[0]-c[0])+c[0]),f[1]=Math.floor(u*(h[1]-c[1])+c[1]),
f[2]=Math.floor(u*(h[2]-c[2])+c[2]),
pentaho.VizController.getRrbColor(f[0],f[1],f[2])
},pentaho.VizController.getDarkerFromColorHex=function(e,t){
var i=pentaho.VizController.convertToRGB(e)
;return t=Math.pow(.7,null!=t?t:1),pentaho.VizController.getRrbColor(Math.max(0,Math.floor(t*i[0])),Math.max(0,Math.floor(t*i[1])),Math.max(0,Math.floor(t*i[2])))
},pentaho.VizController.getRgbStepFromMultiColorHex=function(e,t,i,n){
var r=n.length-1,o=i-t,a=Math.round((e-t)/o*r),s=pentaho.VizController.convertToRGB(n[a])
;return pentaho.VizController.getRrbColor(s[0],s[1],s[2])
},pentaho.VizController.convertToRGB=function(e){
return e=0==e.indexOf("#")?e.substring(1):pentaho.VizController.CSS_Names[e.toLowerCase()],
[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]
},pentaho.VizController.getRrbColor=function(e,t,i){
return"RGB("+e+","+t+","+i+")"
},pentaho.VizController.prototype.resize=function(e,t){
this.visualPanelElement.style.width=e+"px",
this.visualPanelElement.style.height=t+"px",this.chart.resize(e,t)
},pentaho.VizController.dashboardMode=!1;try{
window.parent&&window.parent.PentahoDashboardController}catch(e){}
pentaho.VizController.CSS_Names={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",
aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",
black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",
brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",
chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",
crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",
darkgoldenRod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",
darkkhaki:"BDB76B",darkmagenta:"8B008B",darkoliveGreen:"556B2F",
darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",
darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",
darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",
deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",
dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",
forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",
gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",green:"008000",
greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",
indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",
lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",
lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",
lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",
lightgreen:"90EE90",lightpink:"FFB6C1",lightsalmon:"FFA07A",
lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",
lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",
lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",
maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",
mediumorchid:"BA55D3",mediumpurple:"9370D8",mediumseagreen:"3CB371",
mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",
mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",
mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",
oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",
orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",
paleturquoise:"AFEEEE",palevioletRed:"D87093",papayawhip:"FFEFD5",
peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",
powderblue:"B0E0E6",purple:"800080",red:"FF0000",rosybrown:"BC8F8F",
royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",
seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",
skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",
snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",
teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",
violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",
yellow:"FFFF00",yellowgreen:"9ACD32"
},define("common-ui/vizapi/VizController",function(){}),
define("cdf/lib/CCC/def",[],function(){function e(i,n,r){
if(i&&!(i instanceof e.QualifiedName)){var o=typeof i;if("object"===o){
for(var a in i)t(a,i[a],n);return e}if("array"===o){for(var a in i)t(i[a],n)
;return e}}return t(i,n,r),n}function t(t,i,n){
t=e.qualName(t),n=e.space(t.namespace,n),
t.name&&(n[t.name]=i,i instanceof Object&&e.qualNameOf(i,t))}function i(t){
e.log=e.logger("[DEF]"),he&&he.forEach(function(e){e(t)})}function n(){
return e.debug}function r(e,t){e=o(e,t);var i=u("log",e)
;return i.log=i,i.level=n,fe.forEach(function(t){i[t]=u(pe[t]||t,e)}),i}
function o(t,i){return t&&(e.fun.is(t)?t.call(i):t)}function a(t,i,a){
var s=function(n){if(e.debug>1){var s=t[i||"log"]=r(a,t)
;s[n||"log"].apply(s,oe.call(arguments,1))
}else"error"===n&&l.apply(null,e.array.append([o(a,t)],arguments,1))
},u=s.bind("log");return u.log=u,u.level=n,fe.forEach(function(e){u[e]=s.bind(e)
}),u}function s(){function e(){}return e.log=e,e.level=n,fe.forEach(function(t){
e[t]=e}),e}function l(t,i,n){
throw i&&"object"==typeof i&&i.message&&(i=i.message),
i=(t?t+": ":"")+e.nullyTo(i,"")+(n?" "+n:""),new Error(i)}function u(t,i){
var n,r=console,o=r[t]||r.log;if(o){var a=i?i+": %s":"%s"
;if(e.fun.is(o))n=o.bind(r,a);else{var s=Function.prototype.apply;n=function(){
s.call(o,r,e.array.append([a],arguments))}}}return n}function c(){function e(e){
function t(){i=e}return t.toString=h,t}function t(e){
if(void 0!==i)throw new Error("Access denied.");var t=(e(),i);return i=void 0,t}
var i;return t.safe=e,t.property=d,t}function h(){return"SAFE"}function d(t,i){
function n(i,n){return e.setNonEnum(i,t,o.safe(n)),n}function r(e){
return o(e[t])}t||(t=me(i));var o=this;return r.init=n,r.propertyName=t,r}
function f(e){var t
;e&&(e instanceof Array?(t=e,e=t.join(".")):t=e.split(".")),t&&t.length>1?(this.name=t.pop(),
this.namespace=t.join(".")):(this.name=e||null,this.namespace=null)}
function p(t,i){var n=i||ve;if(t){var r=t.split("."),o=r.length;if(o){var a,s=0
;if(n===e.global){a=r[0];var l=e.getOwn(ye,a);l&&(n=l,s++)}
for(;s<o;)a=r[s++],n=n[a]||(n[a]={})}}return n}function m(e){return function(t){
return g(t,oe.call(arguments,1),e)}}function g(t,i,n){
for(var r,o=0,a=i.length;o<a;)(r=i[o++])&&(r=e.object.as(r.prototype||r))&&v(t,r,n)
;return t}function v(e,t,i){for(var n in t)y(e,n,t[n],i)}function y(t,i,n,r){
if(void 0!==n){var o,a=e.object.asNative(t[i])
;a?(o=e.object.as(n),o?(ne.call(t,i)||(t[i]=a=Object.create(a)),
v(a,o,r)):t[i]=n):(o=e.object.asNative(n),o&&(n=(r||Object.create)(o)),t[i]=n)}}
function b(t){var i,n
;for(i in t)(n=e.object.asNative(t[i]))&&b(t[i]=Object.create(n))}
function _(t,i){if(i){var n=t.configure;e.fun.is(n)?n.call(t,i):_.generic(t,i)}
return t}function x(t,i){function n(t){var n={};r.push(n);for(var o in t)if(o){
var a=t[o];if(void 0===a)continue;var s,l,u,c,h=n,d=o.indexOf("."),f=null
;if(d>=0)for(i?(f=[o.substr(0,d)],
o=o.substr(d+1)):(f=o.split("."),o=f.pop()),s=f.length,
l=-1;++l<s;)(u=f[l])&&(c=h[u],
void 0===c?h[u]=c={}:null!==c&&e.object.is(c)&&c.constructor===Object||(r.push(n=c={}),
l=-1),h=c);var p=h[o];if(p!==a){if(void 0!==p){if(!w(a)||!w(p))continue
;if(r.push(n=h={}),f)for(l=-1;++l<s;)(u=f[l])&&(h=h[u]={})}h[o]=a}}}
if(!t)return[];var r=[];return e.array.each(t,n),r}function w(t){
return t&&e.object.is(t)&&!C(t)}function C(e){
return e.constructor!==Object&&!(e instanceof Array)}function S(t,i){if(i){
var n=i.prototype,r=t.prototype=Object.create(n)
;e.setNonEnum(r,"constructor",t),"__proto__"in r||e.setNonEnum(r,"__proto__",n)}
return t}function k(t,i,n){function r(){var e=n.base;n.base=i;try{
return t.apply(this,arguments)}finally{n.base=e}}function o(){
var e=N(this),n=e.base;e.base=i;try{return t.apply(this,arguments)}finally{
e.base=n}}return t?i&&i!==t&&D(t)?(M(n),e.fun.wraps(n?r:o,t)):t:i}function D(e){
return xe.test(e)}function M(t){
if(t===ie)throw e.error.invalidArgument("proto","Cannot change Object.prototype.")
;return t}function N(t){M(e.protoOf(t))}function T(t,i){var n=e.fun.as(t[i])
;return n===ie[i]?null:n}function A(t,i,n){t=ue(t)
;var r=e.protoOf(t),o=e.rootProtoOf(t),a=e.get(n,"enumerable",!0)
;return e.array.each(i,function(i){
(i=ue(i))&&(le?e.ownKeys(i).forEach(function(e){R(t,e,le(i,e),r,o,a)
}):e.eachOwn(i,function(e,i){P(t,i,e,r,o,a)}))}),e}function j(t,i,n,r){t=ue(t)
;var o=e.get(r,"enumerable",!0);return P(t,i,n,e.protoOf(t),e.rootProtoOf(t),o)}
function I(e){return"base"!==e&&"constructor"!==e}function P(t,i,n,r,o,a){
return void 0!==n&&r[i]!==n&&I(i)&&L(t,i,n,o,a),e}function L(t,i,n,r,o){var a
;n&&(a=e.fun.as(n))?(n=e.overrides(a,T(t,i),r),
o?t[i]=n:e.setNonEnum(t,i,n)):y(t,i,n,e.identity)}function R(t,i,n,r,o,a){
"use strict";var s;if(I(i))if(n.get||n.set){var l=O(r,i)
;l&&((n.get||l.get)&&(n.get=e.overrides(n.get,l.get,o)),
(n.set||l.set)&&(n.set=e.overrides(n.set,l.set,o))),
a||(n.enumerable=!1),se(t,i,n)}else void 0!==(s=n.value)&&L(t,i,s,o,a);return e}
function O(t,i){var n;if(i in t)for(;t=e.protoOf(t);)if(n=le(t,i))return n}
function E(t,i,n){this.baseType=i||null;var r=this.constructor
;if(r.Ctor)throw e.error.operationInvalid("MetaType already has an associated type constructor.")
;if(t&&t.Meta)throw e.error.argumentInvalid("TypeCtor","Specified type constructor already has an associated MetaType.")
;this.external=!!t,
this.rootType=i?i.rootType:this,this._init=i?i._init:null,this._post=i?i._post:null
;var o=i&&i._mixins
;this._mixins=o?o.slice():null,this.steps=void 0,t=this._initConstructor(t||this._createConstructor()),
this.Ctor=r.Ctor=t}function B(t){return e.fun.is(t)&&t.meta instanceof E}
function F(t,i){e.methods(this,t,i);var n=this.Ctor
;return n&&z.call(this,n,t),this}function z(t,i){var n=this.prototype
;e.array.each(i,function(i){e.each(ue(i),function(i,r){
e.isPropPrivate(r)||(i=n[r],e.fun.is(i)?V(t,r,i):t[r]=i)})})}function V(t,i,n){
function r(){var e=this.meta,t=n.apply(e,arguments);return t===e?this:t}
t[i]=e.fun.wraps(r,n)}function q(t){return e.classOf(this)(t,this)}
function H(t,i){function n(i,n){if(void 0!==n){var a=i[t]
;if(null===n)i.___proto&&ne.call(i,t)&&(delete i[t],
n=i[t],l&&n!==a&&l(n,a,this,t));else if(n!==a){
if(c&&(o=c(n)))throw new e.error.argumentInvalid(t,e.string.is(o)?o:"")
;u&&(n=r.call(this,i,n,a)),null!=n&&(i[t]=n,l&&l(n,a,this,t))}}return this}
function r(i,n,r){var o=u(n);if(null==o){if(!s)return
;if(ne.call(i,t))return void e.configure(r,n);if(!a)return;o=a(n,r)}return o}
e.fun.is(i)&&(i={factory:i})
;var o,a=e.get(i,"factory"),s=e.get(i,"configurable",!!a),l=e.get(i,"change"),u=e.get(i,"cast"),c=e.get(i,"fail")
;return i=null,n}function W(t,i,n){e.MetaType.apply(this,arguments)
;var i=this.baseType
;i&&(this.fieldsPrivProp=i.constructor===W?e.get(n,"fieldsPrivProp")||Se:i.fieldsPrivProp)
}function U(t,i,n,r){var o,a=e.lazy(t,"__eventz"),s=a[i]||(a[i]={before:[],
after:[],count:0});if(e.fun.is(n))o={handler:n,_handler:null,_filter:null};else{
if(!(n instanceof Object))throw e.error.argumentInvalid("handler","Invalid type.")
;if(o=n,!o.handler)throw e.error.argumentRequired("handler.handler")
;o._filter=null}
o._handler=o.handler,s[r?"before":"after"].push(o),s.count++,t._on&&t._on(i,o,!!r)
}function G(t,i,n){var r,o,a;if(null!=n)if(e.fun.is(n))a=n;else{
if(!(n instanceof Object))throw e.error.argumentInvalid("handler","Invalid type.")
;a=n.handler}if((r=t.__eventz)&&(o=r[i])&&o.count){var s,l,u,c;if(a){
if(s=o.before,u=Z(s,a),(c=u<0)&&(s=o.after,(u=Z(s,a))<0))return
;l=s[u],0==--o.count?r[i]=null:(s=s.slice(),
s.splice(u,1),o[c?"after":"before"]=s),$(t,i,l,!c)}else{var h=o.before,d=o.after
;for(r[i]=null,u=h.length;u--;)$(t,i,h[u],!0);for(u=d.length;u--;)$(t,i,d[u],!1)
}}}function $(e,t,i,n){e._off&&e._off(t,i,n),i._filter=i._handler=null}
function K(t,i,n){var r,o,a,s,l,u
;if((r=t.__eventz)&&(o=r[i])&&(l=(a=o.before).length,
u=(s=o.after).length),!u&&!l&&!n)return null;var c=!1,h=!1;return{type:i,
phase:null,source:t,result:void 0,cancelable:!1,defaultPrevented:h,
preventDefault:function(){c&&(this.defaultPrevented=h=!0)},
trigger:function(i,r){
if(this.phase)throw e.error.operationInvalid("Event can only be triggered once.")
;i||(i=t),r||(r=[this]),c=!!this.cancelable;var o
;return l&&X(i,this,r,a,l,!0),c&&this.defaultPrevented||(n&&(this.phase="default",
this.result=o=n.apply(i,r)),u&&X(i,this,r,s,u,!1)),this.phase="done",o}}}
function X(e,t,i,n,r,o){var a,s=-1;for(t.phase=o?"before":"after";++s<r;)a=n[s],
a._filter&&!a._filter.apply(e,i)||a._handler.apply(e,i)}function Y(t,i,n,r,o,a){
if(e.string.is(n))Q(t,i,n,r,o,a);else if(e.array.is(n))n.forEach(function(n){
if(!e.string.is(n))throw e.error.argumentInvalid("type");Q(t,i,n,r,o,a)});else{
if(!e.object.is(n))throw e.error.argumentInvalid("type")
;e.eachOwn(n,function(e,n){Q(t,i,n,e,o,a)})}}function Q(t,i,n,r,o,a){
if(!a&&!r)throw e.error.argumentRequired("handler")
;e.array.is(r)?r.forEach(function(e){t(i,n,e,o)}):t(i,n,r,o)}function Z(e,t){
for(var i=0,n=e.length;i<n;i++)if(e[i].handler===t)return i;return-1}
function J(){for(;this._source.next();){
var t=this._selectMany?this._selectMany.call(this._ctx,this._source.item,this._source.index):this._source.item
;if(null!=t)return this._manySource=e.query(t),!0}}function ee(e,t){
return t?(e=e.toString().split("e"),+(e[0]+"e"+(e[1]?+e[1]+t:t))):e}
var te=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0
}(),ie=Object.prototype,ne=ie.hasOwnProperty,re=te?["toString","valueOf"]:null
;Object.keys||(Object.keys=function(e){
if(e!==Object(e))throw new TypeError("Object.keys called on non-object")
;var t=[];for(var i in e)ne.call(e,i)&&t.push(i)
;return re&&re.forEach(function(i){ne.call(e,i)&&t.push(i)}),t
}),Array.prototype.some||(Array.prototype.some=function(e){"use strict"
;for(var t=Object(this),i=t.length>>>0,n=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)if(r in t&&e.call(n,t[r],r,t))return!0
;return!1}),Array.prototype.map||(Array.prototype.map=function(e,t){
for(var i=this.length,n=new Array(i),r=0;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this))
;return n}),Array.prototype.filter||(Array.prototype.filter=function(e,t){
for(var i=this.length,n=new Array,r=0;r<i;r++)if(r in this){var o=this[r]
;e.call(t,o,r,this)&&n.push(o)}return n
}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){
for(var i=this.length>>>0,n=0;n<i;n++)n in this&&e.call(t,this[n],n,this)
}),Object.create||(Object.create=function(){function e(e){t.prototype=e||{}
;var n=new t;return t.prototype=i,n}var t=function(){},i=t.prototype;return e
}()),Function.prototype.bind||(Function.prototype.bind=function(e){
return function(t){var i=e.call(arguments,1),n=this;return function(){
return n.apply(t,i.concat(e.call(arguments)))}}
}(Array.prototype.slice)),this.JSON||(this.JSON={}),
this.JSON.stringify||(this.JSON.stringify=function(e){return String(e)})
;var oe=Array.prototype.slice,ae=[],se=function(){var e=Object.defineProperty
;if(e)try{e({},"test",{})}catch(e){return null}return e}(),le=function(){
var e=se&&Object.getOwnPropertyDescriptor;if(e&&null===e({value:null
},"value").value)return e}(),ue=function(e){return e.prototype||e}
;e.global=this,e.copyOwn=function(e,t){var i,n
;arguments.length>=2?(i=e||{},n=t):(i={},n=e)
;for(var r in n)ne.call(n,r)&&(i[r]=n[r]);return i},e.copyOwn(e,{
get:function(e,t,i){var n;return e&&null!=(n=e[t])?n:i},gets:function(e,t){
return t.map(function(t){return e[t]})},getPath:function(t,i,n,r){if(!t)return n
;if(null!=i){var o=e.array.is(i)?i:i.split("."),a=o.length
;if(a)for(var s=0;s<a;){var l=o[s++],u=t[l];if(null==u){if(!r)return n
;u=t[l]=null==n||isNaN(+n)?{}:[]}t=u}}return t},setPath:function(t,i,n){
if(t&&null!=i){var r=e.array.is(i)?i:i.split(".");if(r.length){var o=r.pop()
;t=e.getPath(t,r,o,!0),null!=t&&(t[o]=n)}}return t},propGet:function(e,t){
return e=""+e,function(i){return i?i[e]:t}},getOwn:function(e,t,i){var n
;return e&&ne.call(e,t)&&null!=(n=e[t])?n:i},hasOwn:function(e,t){
return!!e&&ne.call(e,t)},protoOf:Object.getPrototypeOf||function(e){
return e.__proto__||e.constructor&&e.constructor.prototype},
rootProtoOf:function(t){
for(var i=null,n=e.protoOf(t);n&&n!==ie&&n!==i;)n=e.protoOf(i=n);return i},
hasOwnProp:ne,set:function(e){
for(var t=e||{},i=arguments,n=1,r=i.length-1;n<r;n+=2)t[i[n]]=i[n+1];return t},
setDefaults:function(t,i){var n,r=t||{},o=arguments,a=o.length
;if(2===a&&e.object.is(i))e.each(i,function(e,t){null==r[t]&&(r[t]=e)});else{a--
;for(var s=1;s<a;s+=2)n=o[s],null==r[n]&&(r[n]=o[s+1])}return r},
setUDefaults:function(t,i){var n,r=t||{},o=arguments,a=o.length
;if(2===a&&e.object.is(i))e.each(i,function(e,t){void 0===r[t]&&(r[t]=e)});else{
a--;for(var s=1;s<a;s+=2)n=o[s],void 0===r[n]&&(r[n]=o[s+1])}return r},
setNonEnum:function(){if(!se)return function(e,t,i){return e[t]=i,e};var e={
enumerable:!1,configurable:!0,writable:!0,value:void 0};return function(t,i,n){
return e.value=n,se(t,i,e),e.value=null,t}}(),setConst:function(){
if(!se)return function(e,t,i){return e[t]=i,e};var e={enumerable:!1,
configurable:!1,writable:!1,value:void 0};return function(t,i,n){
return e.value=n,se(t,i,e),e.value=null,t}}(),eachOwn:function(e,t,i){
for(var n in e)ne.call(e,n)&&t.call(i,e[n],n,e);e&&re&&re.forEach(function(n){
ne.call(e,n)&&t.call(i,e[n],n,e)})},each:function(e,t,i){
for(var n in e)t.call(i,e[n],n,e);e&&re&&re.forEach(function(n){
ne.call(e,n)&&t.call(i,e[n],n,e)})},copy:function(t,i){var n,r
;return arguments.length>=2?(n=t||{},r=i):(n={},r=t),e.each(r,function(e,t){
n[t]=e}),n},copyx:function(t,i,n){var r=e.get(n,"where"),o=e.get(n,"set")
;return e.each(i,function(e,n){r&&!r(i,n,t)||(o?o(t,n,e):t[n]=e)}),t},
copyProps:function(e,t,i){var n,r
;if(arguments.length>=3?(n=e||{},r=t):(n={},r=e,i=t),i){var o=-1,a=i.length
;if(r)for(;++o<a;)n[i[o]]=r[i[o]];else for(;++o<a;)n[i[o]]=void 0}return n},
keys:function(e){var t=[];for(var i in e)t.push(i)
;return e&&re&&re.forEach(function(e){t.push(e)}),t},values:function(t){var i=[]
;return e.each(t,function(e){i.push(e)}),i},uniqueIndex:function(t,i,n){var r={}
;return e.each(t,function(e,t){
i&&(e=i.call(n,e)),null==e||ne.call(r,e)||(r[e]=t)}),r},ownKeys:Object.keys,
own:function(e,t,i){var n=Object.keys(e);return t?n.map(function(n){
return t.call(i,e[n],n)}):n.map(function(t){return e[t]})},make:function(e,t){
var i=Object.create(e.prototype);return e.apply(i,t||ae)||i},
isPropPrivate:function(e){return!!e&&"_"===e.charAt(0)},whiteList:function(e,t){
var i=null;if(e)for(var n=t.length,r=-1;++r<n;){var o=t[r]
;o in e&&(null==i&&(i={}),i[o]=e[o])}return i}}),e.object={is:function(e){
return!!e&&"object"==typeof e},isNative:function(e){
return!!e&&e.constructor===Object},as:function(e){
return e&&"object"==typeof e?e:null},asNative:function(e){
return e&&e.constructor===Object?e:null},lazy:function(e,t,i,n){
return e[t]||(e[t]=i?i.call(n,t):{})}
},e.lazy=e.object.lazy,e.info=function(t,i){var n;if(t&&i){
if(n=t.__info__,arguments.length<2)return n
;n||e.setNonEnum(t,"__info__",n={}),e.copyOwn(n,i)}return t
},e.info.get=function(t,i,n){return e.get(t&&t.__info__,i,n)},e.copyOwn(e,{bit:{
set:function(e,t,i){return i||null==i?e|t:e&~t}}}),e.copyOwn(e,{
compare:function(e,t){return e===t?0:e>t?1:-1},compareReverse:function(e,t){
return e===t?0:e>t?-1:1},methodCaller:function(e,t){return t?function(){
return t[e].apply(t,arguments)}:function(){return this[e].apply(this,arguments)}
},identity:function(e){return e},add:function(e,t){return e+t},
addPreservingNull:function(e,t){return null==e?t:null==t?e:e+t},
negate:function(e){return function(){return!e.apply(this,arguments)}},
sqr:function(e){return e*e},noop:function(){},retTrue:function(){return!0},
retFalse:function(){return!1},fun:{is:function(e){return"function"==typeof e},
as:function(e){return"function"==typeof e?e:null},to:function(t){
return"function"==typeof t?t:e.fun.constant(t)},constant:function(e){
return function(){return e}},wraps:function(t,i){
return t.valueOf=e.fun.constant(i),t},typeFactory:function(t){function i(){
return e.make(t,arguments)}return i.of=t,i}}
}),e.ascending=e.compare,e.descending=e.compareReverse,e.number={is:function(e){
return"number"==typeof e},as:function(e,t){return"number"==typeof e?e:t},
to:function(e,t){if(null==e)return t;var i=+e;return isNaN(i)?t:i},
toPositive:function(t,i){return t=e.number.to(t),null==t||t>0?t:i},
toNonNegative:function(t,i){return t=e.number.to(t),null!=t&&t<0?i:t},
toBetween:function(t,i,n,r){var o=e.number.to(t)
;return null==o?r:Math.max(i,Math.min(n,o))}},e.array={empty:function(e){
return!(e&&e.length)},is:function(e){return e instanceof Array},
isLike:function(e){return e&&null!=e.length&&"string"!=typeof e},as:function(e){
return e instanceof Array?e:null!=e?[e]:null},to:function(e){
return e instanceof Array?e:null!=e?[e]:null},lazy:function(e,t,i,n){
return e[t]||(e[t]=i?i.call(n,t):[])},copy:function(e){
return oe.apply(e,oe.call(arguments,1))},each:function(t,i,n){
null!=t&&(e.array.is(t)?t.forEach(i,n):i.call(n,t,0))},
eachReverse:function(t,i,n){if(null!=t)if(e.array.is(t)){
for(var r=t.length;r--;)if(!1===i.call(n,t[r],r))return!1
}else if(!1===i.call(n,t,0))return!1;return!0},like:e.copyOwn(function(e){
return ce.is(e)?e:[e]},{is:function(e){
return!!e&&null!=e.length&&"string"!=typeof e},as:function(e){
return ce.is(e)?e:null}}),create:function(e,t){var i=e>=0?new Array(e):[]
;if(void 0!==t)for(var n=0;n<e;n++)i[n]=t;return i},append:function(e,t,i){
null==i&&(i=0);for(var n=0,r=t.length,o=e.length;n<r;n++)e[o+n]=t[i+n];return e
},appendMany:function(t){var i,n=arguments,r=n.length
;if(r>1)for(var o=1;o<r;o++)if(i=e.array.to(n[o]))for(var a=0,s=i.length;a<s;)t.push(i[a++])
;return t},prepend:function(e,t,i){null==i&&(i=0)
;for(var n=0,r=t.length;n<r;n++)e.unshift(t[i+n]);return e},
removeAt:function(e,t){return e.splice(t,1)[0]},insertAt:function(e,t,i){
return e.splice(t,0,i),e},removeIf:function(e,t,i){
for(var n=0,r=e.length;n<r;)t.call(i,e[n],n)?(r--,e.splice(n,1)):n++;return e},
binarySearch:function(t,i,n,r){n||(n=e.compare);for(var o=0,a=t.length-1;o<=a;){
var s=o+a>>1,l=n(i,r?r(t[s]):t[s]);if(l<0)a=s-1;else{if(!(l>0))return s;o=s+1}}
return~o},insert:function(t,i,n){var r=e.array.binarySearch(t,i,n)
;return r<0?t.splice(~r,0,i):t[r]!==i&&t.splice(r+1,0,i),r},
remove:function(t,i,n){var r=e.array.binarySearch(t,i,n)
;if(r>=0)return t.splice(r,1)[0]}};var ce=e.array.like;ce.to=ce,e.string={
is:function(e){return"string"==typeof e},to:function(e,t){
return null!=e?String(e):t||""},join:function(e){var t,i,n=arguments,r=n.length
;switch(r){case 3:
return t=n[1],i=n[2],null!=t&&""!==t?null!=i&&""!==i?""+t+e+i:""+t:null!=i&&""!==i?""+i:""
;case 2:return t=n[1],null!=t?""+t:"";case 1:case 0:return""}
for(var o=[],a=1;a<r;a++)null!=(t=n[a])&&""!==t&&o.push(""+t);return o.join(e)},
padRight:function(e,t,i){e||(e=""),null==i&&(i=" ")
;var n=~~((t-e.length)/i.length);return n>0?e+new Array(n+1).join(i):e}
},e.copyOwn(e,{firstUpperCase:function(e){if(e){
var t=e.charAt(0),i=t.toUpperCase();t!==i&&(e=i+e.substr(1))}return e},
firstLowerCase:function(e){if(e){var t=e.charAt(0),i=t.toLowerCase()
;t!==i&&(e=i+e.substr(1))}return e},titleFromName:function(t){
return e.firstUpperCase(t).replace(/([a-z\d])([A-Z])/g,"$1 $2")},
format:function(t,i,n){if(null==t||""===t)return"";var r=i&&e.fun.is(i)
;return t.replace(/(^|[^{])\{([^{}]+)\}/g,function(e,t,o){
var a=i?r?i.call(n,o):i[o]:null;return t+(null==a?"":String(a))})}
}),e.copyOwn(e,{nullyTo:function(e,t){return null!=e?e:t}}),e.copyOwn(e,{
between:function(e,t,i){return Math.max(t,Math.min(e,i))},nully:function(e){
return null==e},notNully:function(e){return null!=e},notUndef:function(e){
return void 0!==e},empty:function(e){return null==e||""===e},
notEmpty:function(e){return null!=e&&""!==e},truthy:function(e){return!!e},
falsy:function(e){return!e}}),e.copyOwn(e,{error:function(e){
return e instanceof Error?e:new Error(e)},fail:function(t){throw e.error(t)},
assert:function(t,i){throw e.error.assertionFailed(t,i)}}),e.eachOwn({
operationInvalid:function(t,i){
return e.error(e.string.join(" ","Invalid operation.",e.format(t,i)))},
notImplemented:function(){return e.error("Not implemented.")},
argumentRequired:function(t){
return e.error(e.format("Required argument '{0}'.",[t]))},
argumentInvalid:function(t,i,n){
return e.error(e.string.join(" ",e.format("Invalid argument '{0}'.",[t]),e.format(i,n)))
},assertionFailed:function(t,i){
return e.error(e.string.join(" ","Assertion failed.",e.format(t,i)))}
},function(t,i){e.error[i]=t,e.fail[i]=function(){throw t.apply(null,arguments)}
}),e.debug=0,function(){if("undefined"!=typeof window&&window.location){
var t=function(e){return e&&/\bdebug=true\b/.test(e)?e:null
},i=t(window.location.href);if(!i)try{i=t(window.top.location.href)}catch(e){}
if(i){var n=/\bdebugLevel=(\d+)/.exec(i);e.debug=n?+n[1]:3}}
}(),e.logSeparator="------------------------------------------",
e.setDebug=function(t){
return t=+t,t=isNaN(t)?0:t,t>1&&"undefined"==typeof console&&(t=1),
e.log&&e.debug==t||(e.debug=t,i(t)),e.debug};var he=null
;e.addOnDebugChanged=function(e){he||(he=[]).push(e)}
;var de,fe=["info","debug","error","warn","group","groupEnd"],pe={
group:"groupCollapsed"};e.logger=function(t,i,n){
return e.debug>1?r(t,i):i?a(i,n,t):de||(de=s())},e.setDebug(e.debug),e.priv={
key:c};var me=function(t){
return"_"+e.nullyTo(t,"safe")+(new Date).getTime()+Math.round(1e3*Math.random())
},ge=e.priv.key();e.copyOwn(e,{scope:function(e,t){return e.call(t)},
firstDefined:function(e,t,i){var n,r=0,o=e.length
;for(t||(t=[]);r<o;)if(void 0!==(n=e[r++].apply(i,t)))return n},
indexedId:function(e,t){return t>0?e+""+(t+1):e},splitIndexedId:function(e){
var t=/^(.*?)(\d*)$/.exec(e),i=null
;return t[2]&&(i=Number(t[2]),i<=1?i=1:i--),[t[1],i]},
parseDistinctIndexArray:function(t,i,n){if(null==(t=e.array.as(t)))return null
;null==i&&(i=0),null==n&&(n=1/0);var r=e.query(t).select(function(e){return+e
}).where(function(e){return!isNaN(e)&&e>=i&&e<=n}).distinct().array()
;return r.length?r:null},argumentsTypeBind:function(e,t){
var i,n=e.length,r=new Array(n);if(n&&t&&(i=t.length)){var o=0,a=0;do{var s=t[o]
;null!=s&&typeof s!==e[a]||(r[a]=s,o++),a++}while(a<n&&o<i)}return r},
argumentsTypeBound:function(t,i){return function(){
var n=e.argumentsTypeBind(t,arguments);return i.apply(this,n)}}
}),e.qualName=function(e){return e instanceof f?e:new f(e)
},e.QualifiedName=f,f.prototype.toString=function(){
return e.string.join(".",this.namespace,this.name)},e.qualNameOf=function(t,i){
return arguments.length>1?(t.__qname__=e.qualName(i),t):t.__qname__}
;var ve=e,ye={},be=[];e.globalSpace=function(e,t){return ye[e]=t
},e.space=function(t,i,n){e.fun.is(i)&&(n=i,i=null),e.string.is(i)&&(i=p(i))
;var r=p(t,i);if(n){be.push(ve);try{n(r)}finally{ve=be.pop()}}return r
},e.describe=function(t,i){var n=e.get(i,"maxLevel")||5,r=[]
;return e.describeRecursive(r,t,n,i),r.join("")
},e.describeRecursive=function(t,i,n,r){if(n>0){switch(n--,typeof i){
case"undefined":return t.push("undefined");case"object":
if(!i)return t.push("null"),!0;if(e.fun.is(i.describe))return i.describe(t,n,r)
;if(i instanceof Array)t.push("["),i.forEach(function(i,o){
o&&t.push(", "),e.describeRecursive(t,i,n,r)||t.pop()
}),t.push("]");else if(i instanceof Date)t.push(i.toISOString());else{
var o=e.get(r,"ownOnly",!0);if(i===e.global)return t.push("<window>"),!0
;if(e.fun.is(i.cloneNode))return t.push("<dom #"+(i.id||i.name||"?")+">"),!0
;n>1&&i.constructor!==Object&&(n=1,o=!0),t.push("{");var a=!0
;for(var s in i)o&&!e.hasOwnProp.call(i,s)||(a||t.push(", "),
t.push(s+": "),e.describeRecursive(t,i[s],n,r)?a&&(a=!1):(t.pop(),a||t.pop()))
;if(a){var l=""+i;"[object Object]"!==l&&t.push("{"+l+"}")}t.push("}")}return!0
;case"number":return t.push(""+Math.round(1e5*i)/1e5),!0;case"boolean":
return t.push(""+i),!0;case"string":return t.push(JSON.stringify(i)),!0
;case"function":
return!!e.get(r,"funs",!1)&&(t.push(JSON.stringify(i.toString().substr(0,13)+"...")),
!0)}return t.push("'new ???'"),!0}},e.mixin=m(Object.create),e.copyOwn(e.mixin,{
custom:m,inherit:e.mixin,copy:m(e.copy),share:m(e.identity)
}),e.create=function(){var t=oe.call(arguments),i=!0,n=t.shift()
;"boolean"==typeof n&&(i=n,n=t.shift());var r
;return n?(r=Object.create(n),i&&b(r)):r={},
t.length>0&&(t.unshift(r),e.mixin.apply(e,t)),r},e.attached=function(t,i,n){
var r=t.__attached__
;return arguments.length>2?(void 0!==n&&(r||e.setNonEnum(t,"__attached__",r={}),
r[i]=n),t):r&&r[i]},e.attached.is=function(e){return!(!e||e.indexOf("$")<0)}
;var _e={tryConfigure:1,configure:1,$type:1}
;e.configure=e.config=_,e.configurable=function(t,i){return e.info(i,{
configurable:!!t})},e.copyOwn(_,{generic:function(t,i){
return i&&e.array.each(i,function(i){var n
;i.constructor===Object?_.setters(t,i):t!==i&&(n=t.tryConfigure)&&e.fun.is(n)&&n.call(t,i)
}),t},isPropConfigurable:function(e){
return!!e&&"_"!==e.charAt(0)&&!ne.call(_e,e)},setters:function(t,i){
return i&&_.expand1(i).forEach(function(i){e.each(i,function(e,i){
_.setter(t,i,e)})}),t},setter:function(t,i,n){var r,o,a,s
;return void 0!==n&&_.isPropConfigurable(i)&&e.fun.is(r=t[i])&&(o=r.valueOf())&&e.info.get(o,"configurable",(a=o.length)>=1)&&(e.attached.is(i)?e.attached(t,i,n):a?r.call(t,n):(s=r.call(t),
(e.object.is(s)||e.fun.is(s))&&_(s,n))),t},expand1:function(e){return x(e,!0)},
expand:x}),e.fun.inherit=S,e.overrides=k,e.fun.callsBase=D;var xe=/\.\s*base\b/
;e.methods=A,e.method=j,e.abstractMethod=e.fail.notImplemented,e("MetaType",E)
;var we={Ctor:1,BaseType:1,prototype:1};e.copyOwn(E,{methods:F,
add:e.configurable(!1,function(){return F.apply(this,arguments)}),
inst:e.configurable(!1,function(){return this.Ctor}),
subType:e.configurable(!1,function(t,i,n){
var r=this,o=r.Ctor,a=o&&o.meta||e.fail.operationInvalid("MetaType is not yet instantiated.")
;return e.fun.inherit(t,r),e.copyx(t,r,{where:function(e,t){
return ne.call(e,t)&&"_"!==t.charAt(0)&&!ne.call(we,t)}
}),t.BaseType=r,new t(null,a,n),i&&e.configure(t,i),t}),
extend:e.configurable(!1,function(t,i){function n(){
return r.apply(this,arguments)}var r=this
;return e.fun.wraps(n,r),r.subType(n,t,i)})}),E.add({closed:function(){
return!!this.steps},close:function(){
return this.steps||this._closeCore(this.steps=[]),this},
_assertOpened:function(){
if(this.closed())throw e.error.operationInvalid("MetaType is closed.")},
_closeCore:function(e){this._addPostSteps(e),this._addInitSteps(e)},
_createConstructor:function(){function e(){
for(var e=t;e--;)!0===n[e].apply(this,arguments)&&(e=t)}
var t=1,i=this,n=[function(){return n=i.close().steps,t=n.length,!0}];return e},
_initConstructor:function(t){var i=this.constructor
;return z.call(i,t,i),t.meta=this,
this.baseType&&e.fun.inherit(t,this.baseType.close().Ctor),t.MetaType=i,t},
_addPostSteps:function(t){e.array.eachReverse(this._mixins,function(e){
e._post&&t.push(e._post)}),this._post&&t.push(this._post)},
_addInitSteps:function(t){e.array.eachReverse(this._mixins,function(e){
e._init&&t.push(e._init)}),this._init&&t.push(this._init)},init:function(t){
if(!t)throw e.error.argumentRequired("init")
;return this._assertOpened(),this._init=e.overrides(t,this._init,this.rootType.Ctor.prototype),
this},postInit:function(t){if(!t)throw e.error.argumentRequired("postInit")
;return this._assertOpened(),
this._post=e.overrides(t,this._post,this.rootType.Ctor.prototype),this},
type:e.configurable(!0,function(){return this.constructor}),
add:e.configurable(!1,function(t,i){
return B(t)&&this._mixMetaType(t.meta),e.methods(this.Ctor,t,i),this}),
_mixMetaType:function(t){e.array.lazy(this,"_mixins").push(t)},
methods:function(t,i){return e.array.each(t,this.add,this),this},
method:e.configurable(!1,function(t,i,n){return e.method(this.Ctor,t,i,n),this
}),configure:function(t){return e.configure.generic(this,t),this},
extend:e.configurable(!1,function(e,t){
return this.constructor.extend(null,t).Ctor.configure(e)})})
;var Ce=(new E).close().Ctor.add({override:function(t,i){
return P(this,t,i,e.protoOf(this),Ce.prototype,!0),this},toString:function(){
return"[object "+String(e.qualNameOf(e.classOf(this)))+"]"}},{enumerable:!1})
;e("Object",Ce),
e.type=e.argumentsTypeBound(["string","function","object"],function(t,i,n){
return e(t,(i?i.MetaType:E).extend().Ctor,n)}),e.makeEnum=function(t,i){
var n=1,r=0,o={},a=e.get(i,"all"),s=e.get(i,"zero")
;return t.forEach(function(e){o[e]=n,a&&(r|=n),n<<=1}),s&&(o[s]=0),a&&(o[a]=r),o
},e.copyOwn(e,{classify:function(t,i){return e.setNonEnum(t,"_class",i),t},
classOf:function(e){return e&&(e._class||e.constructor)||void 0},
is:function(e,t){return!!e&&(e._class&&e._class===t||e instanceof(t.of||t))},
as:function(t,i,n){return e.is(t,i)?t:n},createIs:function(t){function i(i){
return e.is(i,t)}return i},createAs:function(t){function i(i,n){
return e.as(i,t,n)}return i},isSubClassOf:function(t,i){
return!(!t||!i)&&(t===i||e.is(ue(t),i))}});var Se=ge.property();e.copyOwn(e,{
instance:function(t,i,n,r,o){var a=e.fields(t,n,o)
;return r&&e.instanceAccessors(t,a,r),t.createChild=q,i&&e.configure(t,i),a},
fields:function(t,i,n){var r=e.classOf(t)
;i&&e.is(i,r)||(i=r.defaults),void 0===n&&(n=Se)
;var o=i&&n&&n(i),a=o?Object.create(o):{};return a.___proto=i,n&&n.init(t,a),a},
classAccessors:function(t,i,n){var r=ue(t)
;for(var o in i)r[o]=e.classAccessor(o,i[o],n);return e},
classAccessor:function(e,t,i){function n(t){var n=i(this)
;return arguments.length?r.call(this,n,t):n[e]}var r=H(e,t);return i||(i=Se),n},
instanceAccessors:function(t,i,n){
for(var r in n)t[r]=e.instanceAccessor(t,r,n[r],i);return e},
instanceAccessor:function(e,t,i,n){function r(i){
return arguments.length?o.call(e,n,i):n[t]}var o=H(t,i);return r}
}),e.MetaType.subType(W,{methods:{fields:function(t){var i={}
;for(var n in t)i[n]=e.classAccessor(n,t[n],this.fieldsPrivProp)
;return this.methods(i)},_addInitSteps:function(t){function i(t,i){
t&&e.configure(this,t)}function n(t,i){e.fields(this,i,r.fieldsPrivProp)}
t.push(i),this.base(t);var r=this;t.push(n)}}}),e("FieldsBase",W.Ctor)
;var ke=1,De={};return e.nextId=function(t){if(t){var i=e.getOwn(De,t)||1
;return De[t]=i+1,i}return ke++},e.id=function(t){var i=e.getOwn(t,"__def_id__")
;return i||e.setConst(t,"__def_id__",i=e.nextId()),i},e.hashKey=function(t){
var i=(typeof t).charAt(0);switch(i){case"n":case"b":case"s":return i+":"+t}
return i+":"+(t||e.id(t))},e("Set",e.Object.extend({init:function(t,i){
this.source=t||{},this.count=t?null!=i?i:e.ownKeys(t).length:0},methods:{
has:function(e){return ne.call(this.source,e)},add:function(e){var t=this.source
;return ne.call(t,e)||(this.count++,t[e]=!0),this},rem:function(e){
return ne.call(this.source,e)&&(delete this.source[e],this.count--),this},
clear:function(){return this.count&&(this.source={},this.count=0),this},
members:function(){return e.ownKeys(this.source)}}})),e("Map",e.Object.extend({
init:function(t,i){
this.source=t||{},this.count=t?null!=i?i:e.ownKeys(t).length:0},methods:{
has:function(e){return ne.call(this.source,e)},get:function(e){
return ne.call(this.source,e)?this.source[e]:void 0},set:function(e,t){
var i=this.source;return ne.call(i,e)||this.count++,i[e]=t,this},
rem:function(e){
return ne.call(this.source,e)&&(delete this.source[e],this.count--),this},
clear:function(){return this.count&&(this.source={},this.count=0),this},
copy:function(t){e.eachOwn(t.source,function(e,t){this.set(t,e)},this)},
values:function(){return e.own(this.source)},keys:function(){
return e.ownKeys(this.source)},clone:function(){
return new e.Map(e.copy(this.source),this.count)},
symmetricDifference:function(t){if(!this.count)return t.clone()
;if(!t.count)return this.clone();var i={},n=0,r=this.source,o=t.source
;return e.eachOwn(r,function(e,t){ne.call(o,t)||(i[t]=e,n++)
}),e.eachOwn(o,function(e,t){ne.call(r,t)||(i[t]=e,n++)}),new e.Map(i,n)},
intersect:function(t,i){
return i||(i=new e.Map),e.eachOwn(this.source,function(e,n){t.has(n)&&i.set(n,e)
}),i}}})),e("OrderedMap",e.Object.extend({init:function(t){
t instanceof e.OrderedMap?(this._list=t._list.slice(),
this._map=e.copy(t._map)):(this._list=[],this._map={})},methods:{
has:function(e){return ne.call(this._map,e)},count:function(){
return this._list.length},get:function(e){var t=this._map
;return ne.call(t,e)?t[e].value:void 0},at:function(e){var t=this._list[e]
;return t?t.value:void 0},add:function(t,i,n){
var r=this._map,o=ne.call(r,t)&&r[t];return o?o.value!==i&&(o.value=i):(o=r[t]={
key:t,value:i},null==n?this._list.push(o):e.array.insertAt(this._list,n,o)),this
},rem:function(e){var t=this._map,i=ne.call(t,e)&&t[e];if(i){
var n=this._list.indexOf(i);this._list.splice(n,1),delete this._map[e]}
return this},clear:function(){
return this._list.length&&(this._map={},this._list.length=0),this},
keys:function(){return e.ownKeys(this._map)},forEach:function(e,t){
return this._list.forEach(function(i){e.call(t,i.value,i.key)})}}
})),e("EventSource",e.Object.extend({methods:{on:function(e,t){
return Y(U,this,e,t,!0),this},before:function(e,t){return Y(U,this,e,t,!0),this
},after:function(e,t){return Y(U,this,e,t,!1),this},off:function(e,t){
return Y(G,this,e,t,null,!0),this},_acting:function(t,i){
if(!t)throw e.error.argumentRequired("type");return K(this,t,i)}}})),e.html={
escape:function(t){
return e.string.to(t).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")
},tag:function(t,i){i=i?e.ownKeys(i).map(function(t){var n=i[t]
;return e.empty(n)?"":" "+t+'="'+String(n)+'"'}).join(""):""
;var n=arguments.length>2?oe.call(arguments,2).map(function(t){
return null!=t&&(e.fun.is(t)&&(t=t()),
t=e.array.is(t)?t.map(e.string.to).join(""):e.string.to(t)),t||""}).join(""):""
;return"<"+t+i+">"+n+"</"+t+">"},classes:function(t){t=t?t+"-":"";var i=[]
;return oe.call(arguments,1).forEach(function(n,r){
e.empty(n)||i.push(t+e.css.escapeClass(n))}),i.join(" ")}},e.css={
escapeClass:function(e){return(e||"").replace(/\s/g,"_")}},e.type("Query").add({
index:-1,item:void 0,next:function(){var e=this,t=e.index
;return-2!==t&&(t++,e._next(t)?(e.index=t,!0):(e._finish(),!1))},
_next:e.abstractMethod,_finish:function(){var t=this
;t.index>-2&&(t.next=e.retFalse,t.index=-2,delete t.item)},each:function(e,t){
for(var i=this;i.next();)if(!1===e.call(t,i.item,i.index))return!0;return!1},
array:function(e){for(var t=e||[],i=this;i.next();)t.push(i.item);return t},
sort:function(t,i){if(t||(t=e.compare),i){var n=t;t=function(e,t){
return n(i(e),i(t))}}var r=this.array().sort(t);return new e.ArrayLikeQuery(r)},
object:function(t){
for(var i=e.get(t,"target")||{},n=e.get(t,"name"),r=e.get(t,"value"),o=e.get(t,"context");this.next();)i[""+(n?n.call(o,this.item,this.index):this.item)]=r?r.call(o,this.item,this.index):this.item
;return i},reduce:function(e){var t,i=0;if(arguments.length<2){
if(!this.next())throw new TypeError("Length is 0 and no second argument")
;t=this.item}else t=arguments[1]
;for(;this.next();)t=e(t,this.item,this.index),++i;return t},count:function(){
for(var e=0;this.next();)e++;return e},first:function(e,t,i){
for(;this.next();)if(!e||e.call(t,this.item,this.index)){var n=this.item
;return this._finish(),n}return i},last:function(e,t,i){
for(var n=i;this.next();)e&&!e.call(t,this.item,this.index)||(n=this.item)
;return n},any:function(e,t){
for(;this.next();)if(!e||e.call(t,this.item,this.index))return this._finish(),!0
;return!1},all:function(e,t){
for(;this.next();)if(!e.call(t,this.item,this.index))return this._finish(),!1
;return!0},min:function(){
for(var e=null;this.next();)(null===e||this.item<e)&&(e=this.item);return e},
max:function(){
for(var e=null;this.next();)(null===e||this.item>e)&&(e=this.item);return e},
range:function(){for(var e=null,t=null;this.next();){var i=this.item
;null===e?e=t=i:(i<e&&(e=i),i>t&&(t=i))}return null!=e?{min:e,max:t}:null},
multipleIndex:function(t,i){var n={};return this.each(function(r){
var o=t?t.call(i,r):r;null!=o&&(e.getOwn(n,o)||(n[o]=[])).push(r)}),n},
uniqueIndex:function(e,t){var i={};return this.each(function(n){
var r=e?e.call(t,n):n;null==r||ne.call(i,r)||(i[r]=n)}),i},select:function(t,i){
return new e.SelectQuery(this,t,i)},prop:function(t){
return new e.SelectQuery(this,function(e){if(e)return e[t]})},
selectMany:function(t,i){return new e.SelectManyQuery(this,t,i)},
union:function(){var t=e.array.append([this],arguments)
;return new e.SelectManyQuery(new e.ArrayLikeQuery(t))},where:function(t,i){
return t?new e.WhereQuery(this,t,i):this},distinct:function(t,i){
return t?new e.DistinctQuery(this,t,i):this},skip:function(t){
return new e.SkipQuery(this,t)},take:function(t){
return t<=0?new e.NullQuery:isFinite(t)?new e.TakeQuery(this,t):this},
whayl:function(t,i){return new e.WhileQuery(this,t,i)},reverse:function(){
return new e.ReverseQuery(this)}}),e.type("NullQuery",e.Query).add({
next:e.retFalse}),e.type("AdhocQuery",e.Query).init(function(e){this._next=e
}),e.type("ArrayLikeQuery",e.Query).init(function(t){function i(){
for(;++r<o;)if(ne.call(t,r))return n.index=r,n.item=t[r],!0
;return n._finish(),!1}var n=this
;e.array.isLike(t)||(t=[t]),n._list=t,n._count=t.length;var r=-1,o=t.length
;n.next=i}).add({count:function(){var e=this._count
;return this.index>=0&&(e-=this.index+1),this._finish(),e}
}),e.type("RangeQuery",e.Query).init(function(e,t,i){
this._index=e,this._count=t,this._step=null==i?1:i}).add({_next:function(e){
if(e<this._count)return this.item=this._index,this._index+=this._step,!0},
count:function(){var e=this._count
;return this.index>=0&&(e-=this.index+1),this._finish(),e}
}),e.type("WhereQuery",e.Query).init(function(e,t,i){function n(){
for(;e.next();){var n=e.item;if(t.call(i,n,e.index))return r.item=n,r.index=++o,
!0}return r._finish(),!1}var r=this,o=-1;r.next=n
}),e.type("WhileQuery",e.Query).init(function(e,t,i){function n(){if(e.next()){
var n=e.item;if(t.call(i,n,e.index))return r.item=n,r.index=++o,!0}
return r._finish(),!1}var r=this,o=-1;r.next=n
}),e.type("SelectQuery",e.Query).init(function(e,t,i){function n(){
return e.next()?(r.item=t.call(i,e.item,e.index),
r.index=++o,!0):(r._finish(),!1)}var r=this,o=-1;r.next=n
}),e.type("SelectManyQuery",e.Query).init(function(e,t,i){
this._selectMany=t,this._ctx=i,this._source=e,this._manySource=null}).add({
_next:function(e){for(;;){if(this._manySource){
if(this._manySource.next())return this.item=this._manySource.item,!0
;this._manySource=null}if(!J.call(this))break}}
}),e.type("DistinctQuery",e.Query).init(function(e,t,i){function n(){
for(;e.next();){var n=e.item,s=t?t.call(i,n,e.index):n
;if(null!=s&&!ne.call(a,s))return r.item=n,r.index=++o,a[s]=!0}
return r._finish(),!1}var r=this,o=-1,a={};r.next=n
}),e.type("SkipQuery",e.Query).init(function(e,t){this._source=e,this._skip=t
}).add({_next:function(e){for(;this._source.next();){
if(!(this._skip>0))return this.item=this._source.item,!0;this._skip--}}
}),e.type("TakeQuery",e.Query).init(function(e,t){this._source=e,this._take=t
}).add({_next:function(e){
if(this._take>0&&this._source.next())return this._take--,
this.item=this._source.item,!0}
}),e.type("ReverseQuery",e.Query).init(function(e){this._source=e}).add({
_next:function(t){
t||(this._source instanceof e.Query&&(this._source=this._source instanceof e.ArrayLikeQuery?this._source._list:this._source.array()),
this._count=this._source.length);var i=this._count;if(t<i){
for(var n=i-t-1,r=this._source;!ne.call(r,n);){if(--n<0)return!1;this._count--}
return this.item=r[n],!0}}}),e.query=function(t){
return void 0===t?new e.NullQuery:t instanceof e.Query?t:e.fun.is(t)?new e.AdhocQuery(t):new e.ArrayLikeQuery(t)
},e.range=function(t,i,n){return new e.RangeQuery(t,i,n)
},e.textTable=function(t){function i(){return o.map(function(e){switch(e){
case s:return n(e,"","","","");case l:return r||(r=n(e,"","","",""))
;case u:return n(e,"","","","")}return n(e,""," ","","")}).join("\n")}
function n(t,i,n,r,o){return r+t.map(function(t,i){
return e.string.padRight(t||"",a[i],n)}).join(i)+o}
var r,o=[],a=new Array(t),s=e.array.create(t,""),l=s.slice(),u=s.slice()
;return i.row=function(){
for(var e,n,r=arguments,s=-1,l=new Array(t);++s<t;)e=r[s],
n=l[s]=" "+(void 0===e?"":String(e))+" ",a[s]=Math.max(a[s]||0,n.length)
;return o.push(l),i},i.rowSep=function(e){return o.push(o.length?e?u:l:s),i},i},
e.round10=function(e,t){
return t?(e=+e,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=Math.round(ee(e,t)),
ee(e,-t))):Math.round(e)},e.mult10=function(e,t){return t?ee(+e,t):e
},e.delta=function(e,t){if(e===t)return 0;var i=e-t;return i<0?-i:i
},ve=e.global,e}),define("cdf/lib/CCC/protovis-compat",["require"],function(e){
return{load:function(t,i,n,r){if(r.isBuild)i(["./protovis"],n);else{
var o=!(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),a=function(e,t,i){
return t=e.createElement("div"),
t.innerHTML='<pvml:shape adj="1" />',!!(i=t.firstChild)&&(i.style.behavior="url(#default#VML)",
"object"==typeof i.adj)}(document)
;!o&&a?e(["./protovis-msie"],n):e(["./protovis"],n)}}}
}),define("cdf/lib/CCC/protovis",[],function(){function e(e){
return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}
Array.prototype.map||(Array.prototype.map=function(e,t){
for(var i=this.length,n=new Array(i),r=0;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this))
;return n}),Array.prototype.filter||(Array.prototype.filter=function(e,t){
for(var i=this.length,n=new Array,r=0;r<i;r++)if(r in this){var o=this[r]
;e.call(t,o,r,this)&&n.push(o)}return n
}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){
for(var i=this.length>>>0,n=0;n<i;n++)n in this&&e.call(t,this[n],n,this)
}),Array.prototype.reduce||(Array.prototype.reduce=function(e,t){
var i=this.length
;if(!i&&1==arguments.length)throw new Error("reduce: empty array, no initial value")
;var n=0;if(arguments.length<2)for(;;){if(n in this){t=this[n++];break}
if(++n>=i)throw new Error("reduce: no values, no initial value")}
for(;n<i;n++)n in this&&(t=e(t,this[n],n,this));return t
}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){
for(var i=this.length>>>0,n=!isFinite(t)||t<0?0:t>this.length?this.length:t;n<i;n++)if(this[n]===e)return n
;return-1}),Date.now||(Date.now=function(){return+new Date
}),Object.create||(Object.create=function(e){function t(){}return t.prototype=e,
new t});var t={};return t.version={major:3,minor:3},t.identity=function(e){
return e},t.index=function(){return this.index},t.child=function(){
return this.childIndex},t.parent=function(){return this.parent.index
},function(){t.extend=function(e){return Object.create(e.prototype||e)
},t.extendType=function(e,i){return(e.prototype=t.extend(i)).constructor=e,e
},t.parse=function(e){
for(var i,n,r=new RegExp("function\\s*(\\b\\w+)?\\s*\\([^)]*\\)\\s*","mg"),o=0,a="";i=r.exec(e);){
var s=i.index+i[0].length;if("{"!=e.charAt(s)){
a+=e.substring(o,s)+"{return ",o=s;for(var l=0;l>=0&&s<e.length;s++){
var u=e.charAt(s);switch(u){case'"':case"'":
for(;++s<e.length&&(n=e.charAt(s))!=u;)"\\"==n&&s++;break;case"[":case"(":l++
;break;case"]":case")":l--;break;case";":case",":0==l&&l--}}
a+=t.parse(e.substring(o,--s))+";}",o=s}r.lastIndex=s}return a+=e.substring(o)},
t.error=function(e){
"undefined"!=typeof console&&console.error?console.error(e):alert(e)
},t.listen=function(e,i,n){
return n=t.listener(n),"load"===i||"onload"===i?t.listenForPageLoad(n):(e.addEventListener?e.addEventListener(i,n,!1):(e===window&&(e=document.documentElement),
e.attachEvent("on"+i,n)),n)},t.unlisten=function(e,t,i){
i.$listener&&(i=i.$listener),
e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)
},t.listenForPageLoad=function(e){
"complete"!==document.readyState?document.addEventListener?window.addEventListener("load",e,!1):document.attachEvent&&window.attachEvent("onload",e):e(null)
},t.listener=function(e){return e.$listener||(e.$listener=function(i){try{
return t.event=i=i&&t.fixEvent(i),e.call(this,i)}catch(e){t.error(e)}finally{
delete t.event}})},t.fixEvent=function(e){if(null==e.pageX&&null!=e.clientX){
var t=e.target&&e.target.ownerDocument||document,i=t.documentElement,n=t.body
;e.pageX=1*e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),
e.pageY=1*e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)
}return e},t.ancestor=function(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}
return!1},t.removeChildren=function(e){
for(;e.lastChild;)e.removeChild(e.lastChild)},t.getWindow=function(e){
return null!=e&&e==e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}
;var e=/\-([a-z])/g;t.hiphen2camel=function(t){
return e.test(t)?t.replace(e,function(e,t){return t.toUpperCase()}):t}
;var i=window.getComputedStyle;t.css=function(e,n){
return i?i.call(window,e,null).getPropertyValue(n):e.currentStyle["float"===n?"styleFloat":t.hiphen2camel(n)]
},t.cssStyle=function(e){var n;return i?(n=i.call(window,e,null),function(e){
return n.getPropertyValue(e)}):(n=e.currentStyle,function(e){
return n["float"===e?"styleFloat":t.hiphen2camel(e)]})
},t._getElementsByClass=function(e,t){null==t&&(t=document)
;for(var i=[],n=t.getElementsByTagName("*"),r=n.length,o=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,s=0;a<r;a++)o.test(n[a].className)&&(i[s]=n[a],
s++);return i},t.getElementsByClassName=function(e,i){
return e.getElementsByClassName?e.getElementsByClassName(i):t._getElementsByClass(i,e)
},t.elementOffset=function(e){var i=e&&e.ownerDocument;if(i){var n=i.body
;if(n!==e){var r;r=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{
top:0,left:0}
;var o=t.getWindow(i),a=i.documentElement,s=a.clientTop||n.clientTop||0,l=a.clientLeft||n.clientLeft||0,u=o.pageYOffset||a.scrollTop,c=o.pageXOffset||a.scrollLeft
;return{top:r.top+u-s-(e.scrollTop||0),left:r.left+c-l-(e.scrollLeft||0)}}}
},t.renderer=function(){var e=document.svgImplementation||"nativesvg"
;return t.renderer=function(){return e},e};var n=1;t.id=function(){return n++
},t.functor=function(e){return"function"==typeof e?e:function(){return e}
},t.stringLowerCase=function(e){return String(e).toLowerCase()
},t.get=function(e,t,i){var n;return e&&null!=(n=e[t])?n:i}
;var r=Object.prototype.hasOwnProperty;t.lazyArrayOwn=function(e,t){var i
;return e&&r.call(e,t)&&(i=e[t])?i:e[t]=[]},t.parseNumNonNeg=function(e,t){
return null!=e&&("string"==typeof e?e=+e:"number"!=typeof e&&(e=null)),
null==e||isNaN(e)||e<0?null==t?0:t:e};var o=t.epsilon=1e-6
;t.floatLess=function(e,i){return!t.floatEqual(e,i)&&e<i
},t.floatLessOrEqual=function(e,i){return e<i||t.floatEqual(e,i)
},t.floatGreater=function(e,i){return!t.floatEqual(e,i)&&e>i
},t.floatEqual=function(e,t){return Math.abs(t-e)<o},t.floatZero=function(e){
return Math.abs(e)<o},t.floatBelongsOpen=function(e,i,n){
return t.floatLess(e,i)&&t.floatLess(i,n)},t.floatBelongsClosed=function(e,i,n){
return t.floatLessOrEqual(e,i)&&t.floatLessOrEqual(i,n)}
}(),t.listen(window,"load",function(){for(t.$={i:0,
x:document.getElementsByTagName("script")
},t.$.xlen=t.$.x.length;t.$.i<t.$.xlen;t.$.i++)if(t.$.s=t.$.x[t.$.i],
"text/javascript+protovis"==t.$.s.type)try{window.eval(t.parse(t.$.s.text))
}catch(e){t.error(e)}delete t.$}),t.Format={},t.Format.re=function(e){
return e.replace(/[\\\^\$\*\+\?\[\]\(\)\.\{\}]/g,"\\$&")
},t.Format.pad=function(e,t,i){var n=t-String(i).length
;return n<1?i:new Array(n+1).join(e)+i},t.Format.date=function(e){function i(t){
return e.replace(/%[a-zA-Z0-9]/g,function(e){switch(e){case"%a":
return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()];case"%A":
return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]
;case"%h":case"%b":
return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]
;case"%B":
return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]
;case"%c":return t.toLocaleString();case"%C":
return n("0",2,Math.floor(t.getFullYear()/100)%100);case"%d":
return n("0",2,t.getDate());case"%x":case"%D":
return n("0",2,t.getMonth()+1)+"/"+n("0",2,t.getDate())+"/"+n("0",2,t.getFullYear()%100)
;case"%e":return n(" ",2,t.getDate());case"%H":return n("0",2,t.getHours())
;case"%I":var i=t.getHours()%12;return i?n("0",2,i):12;case"%m":
return n("0",2,t.getMonth()+1);case"%M":return n("0",2,t.getMinutes());case"%n":
return"\n";case"%p":return t.getHours()<12?"AM":"PM";case"%T":case"%X":case"%r":
var i=t.getHours()%12
;return(i?n("0",2,i):12)+":"+n("0",2,t.getMinutes())+":"+n("0",2,t.getSeconds())+" "+(t.getHours()<12?"AM":"PM")
;case"%R":return n("0",2,t.getHours())+":"+n("0",2,t.getMinutes());case"%S":
return n("0",2,t.getSeconds());case"%Q":return n("0",3,t.getMilliseconds())
;case"%t":return"\t";case"%u":return t.getDay()||1;case"%w":return t.getDay()
;case"%y":return n("0",2,t.getFullYear()%100);case"%Y":return t.getFullYear()
;case"%%":return"%"}return e})}var n=t.Format.pad
;return i.format=i,i.parse=function(i){
var n=1970,r=0,o=1,a=0,s=0,l=0,u=[function(){}],c=t.Format.re(e).replace(/%[a-zA-Z0-9]/g,function(e){
switch(e){case"%b":return u.push(function(e){r={Jan:0,Feb:1,Mar:2,Apr:3,May:4,
Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11}[e]}),"([A-Za-z]+)";case"%h":
case"%B":return u.push(function(e){r={January:0,February:1,March:2,April:3,
May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11}[e]
}),"([A-Za-z]+)";case"%e":case"%d":return u.push(function(e){o=e}),"([0-9]+)"
;case"%I":case"%H":return u.push(function(e){a=e}),"([0-9]+)";case"%m":
return u.push(function(e){r=e-1}),"([0-9]+)";case"%M":return u.push(function(e){
s=e}),"([0-9]+)";case"%p":return u.push(function(e){
12==a?"am"==e&&(a=0):"pm"==e&&(a=Number(a)+12)}),"(am|pm)";case"%S":
return u.push(function(e){l=e}),"([0-9]+)";case"%y":return u.push(function(e){
e=Number(e),n=e+(0<=e&&e<69?2e3:e>=69&&e<100?1900:0)}),"([0-9]+)";case"%Y":
return u.push(function(e){n=e}),"([0-9]+)";case"%%":return u.push(function(){}),
"%"}return e}),h=i.match(c);return h&&h.forEach(function(e,t){u[t](e)
}),new Date(n,r,o,a,s,l)},i},t.Format.time=function(e){function i(t){
switch(t=Number(t),e){case"short":
return t>=31536e6?(t/31536e6).toFixed(1)+" years":t>=6048e5?(t/6048e5).toFixed(1)+" weeks":t>=864e5?(t/864e5).toFixed(1)+" days":t>=36e5?(t/36e5).toFixed(1)+" hours":t>=6e4?(t/6e4).toFixed(1)+" minutes":(t/1e3).toFixed(1)+" seconds"
;case"long":var i=[],r=t%6e4/1e3>>0,o=t%36e5/6e4>>0
;if(i.push(n("0",2,r)),t>=36e5){var a=t%864e5/36e5>>0
;i.push(n("0",2,o)),t>=864e5?(i.push(n("0",2,a)),
i.push(Math.floor(t/864e5).toFixed())):i.push(a.toFixed())
}else i.push(o.toFixed());return i.reverse().join(":")}}var n=t.Format.pad
;return i.format=i,i.parse=function(t){switch(e){case"short":
for(var i,n=/([0-9,.]+)\s*([a-z]+)/g,r=0;i=n.exec(t);){
var o=parseFloat(i[0].replace(",","")),a=0;switch(i[2].toLowerCase()){
case"year":case"years":a=31536e6;break;case"week":case"weeks":a=6048e5;break
;case"day":case"days":a=864e5;break;case"hour":case"hours":a=36e5;break
;case"minute":case"minutes":a=6e4;break;case"second":case"seconds":a=1e3}r+=o*a}
return r;case"long":var i=t.replace(",","").split(":").reverse(),r=0
;return i.length&&(r+=1e3*parseFloat(i[0])),
i.length>1&&(r+=6e4*parseFloat(i[1])),
i.length>2&&(r+=36e5*parseFloat(i[2])),i.length>3&&(r+=864e5*parseFloat(i[3])),r
}},i},t.Format.number=function(){function e(e){1/0>a&&(e=Math.round(e*s)/s)
;var t=String(Math.abs(e)).split("."),m=t[0]
;m.length>n&&(m=m.substring(m.length-n)),
c&&m.length<i&&(m=new Array(i-m.length+1).join(l)+m),
m.length>3&&(m=m.replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),
!c&&m.length<r&&(m=new Array(r-m.length+1).join(l)+m),t[0]=e<0?f+m+p:m
;var g=t[1]||""
;return g.length>a&&(g=t[1]=g.substr(0,a)),g.length<o&&(t[1]=g+new Array(o-g.length+1).join(u)),
t.join(h)}var i=0,n=1/0,r=0,o=0,a=0,s=1,l="0",u="0",c=!0,h=".",d=",",f="",p=""
;return e.format=e,e.parse=function(e){var i=t.Format.re,r=String(e).split(h)
;1==r.length&&(r[1]=""),
r[0].replace(new RegExp("^("+i(l)+")*"),""),r[1].replace(new RegExp("("+i(u)+")*$"),"")
;var o=r[0].replace(new RegExp(i(d),"g"),"")
;o.length>n&&(o=o.substring(o.length-n));var c=r[1]?Number("0."+r[1]):0
;return 1/0>a&&(c=Math.round(c*s)/s),Math.round(o)+c
},e.integerDigits=function(e,t){
return arguments.length?(i=Number(e),n=arguments.length>1?Number(t):i,
r=i+Math.floor(i/3)*d.length,this):[i,n]},e.fractionDigits=function(e,t){
return arguments.length?(o=Number(e),
a=arguments.length>1?Number(t):o,s=Math.pow(10,a),this):[o,a]
},e.integerPad=function(e){
return arguments.length?(l=String(e),c=/\d/.test(l),this):l
},e.fractionPad=function(e){return arguments.length?(u=String(e),this):u
},e.decimal=function(e){return arguments.length?(h=String(e),this):h
},e.group=function(e){
return arguments.length?(d=e?String(e):"",r=i+Math.floor(i/3)*d.length,this):d},
e.negativeAffix=function(e,t){
return arguments.length?(f=String(e||""),p=String(t||""),this):[f,p]},e
},function(){var e;t.Text={},t.Text.createCache=function(){return new i
},t.Text.usingCache=function(t,n,r){
if(!(t instanceof i))throw new Error("Not a valid cache.");var o=e;e=t;try{
return n.call(r)}finally{e=o}},t.Text.measure=function(t,i){
t=null==t?"":String(t);var n=e&&e.get(i,t)
;return n||(n=t?this.measureCore(t,i):{width:0,height:0},e&&e.put(i,t,n)),n
},t.Text.measureWidth=function(e,i){return t.Text.measure(e,i).width
},t.Text.fontHeight=function(e){return t.Text.measure("M",e).height
},t.Text.measureCore=function(){function e(){return n||(n=i())}function i(){
var e=document.createElement("div");e.id="pvSVGText_"+(new Date).getTime()
;var i=e.style;i.position="absolute",i.visibility="hidden",i.width=0,i.height=0,
i.left=0,i.top=0,i.lineHeight=1,i.textTransform="none",i.letterSpacing="normal",
i.whiteSpace="nowrap";var n=t.SvgScene.create("svg")
;n.setAttribute("font-size","10px"),
n.setAttribute("font-family","sans-serif"),e.appendChild(n)
;var r=t.SvgScene.create("text")
;return n.appendChild(r),r.appendChild(document.createTextNode("")),
document.body.appendChild(e),r}var n,r="10px sans-serif";return function(i,n){
n||(n=null);var o=e();r!==n&&(r=n,t.SvgScene.setStyle(o,{font:n
})),o.firstChild.nodeValue=String(i);var a;try{a=o.getBBox()}catch(e){
throw"function"==typeof console.error&&console.error("GetBBox failed: ",e),e}
return{width:a.width,height:a.height}}}();var i=function(){this._fontsCache={}
},n=Object.prototype.hasOwnProperty;i.prototype._getFont=function(e){
return e=e||"",
n.call(this._fontsCache,e)?this._fontsCache[e]:this._fontsCache[e]={}
},i.prototype.get=function(e,t){t=t||"";var i=this._getFont(e)
;return n.call(i,t)?i[t]:null},i.prototype.put=function(e,t,i){
return this._getFont(e)[t||""]=i}}(),t.map=function(e,t){var i={}
;return t?e.map(function(e,n){return i.index=n,t.call(i,e)}):e.slice()
},t.repeat=function(e,i){
return 1==arguments.length&&(i=2),t.blend(t.range(i).map(function(){return e}))
},t.array=function(e,t){var i=e>=0?new Array(e):[]
;if(void 0!==t)for(var n=0;n<e;n++)i[n]=t;return i},t.cross=function(e,t){
for(var i=[],n=0,r=e.length,o=t.length;n<r;n++)for(var a=0,s=e[n];a<o;a++)i.push([s,t[a]])
;return i},t.blend=function(e){return Array.prototype.concat.apply([],e)
},t.transpose=function(e){var i=e.length,n=t.max(e,function(e){return e.length})
;if(n>i){e.length=n;for(var r=i;r<n;r++)e[r]=new Array(i)
;for(var r=0;r<i;r++)for(var o=r+1;o<n;o++){var a=e[r][o]
;e[r][o]=e[o][r],e[o][r]=a}}else{for(var r=0;r<n;r++)e[r].length=i
;for(var r=0;r<i;r++)for(var o=0;o<r;o++){var a=e[r][o]
;e[r][o]=e[o][r],e[o][r]=a}}e.length=n;for(var r=0;r<n;r++)e[r].length=i
;return e},t.normalize=function(e,i){
for(var n=t.map(e,i),r=t.sum(n),o=0;o<n.length;o++)n[o]/=r;return n
},t.permute=function(e,i,n){n||(n=t.identity);var r=new Array(i.length),o={}
;return i.forEach(function(t,i){o.index=t,r[i]=n.call(o,e[t])}),r
},t.numerate=function(e,i){i||(i=t.identity);var n={},r={}
;return e.forEach(function(e,t){r.index=t,n[i.call(r,e)]=t}),n
},t.uniq=function(e,i){i||(i=t.identity);var n,r={},o=[],a={}
;return e.forEach(function(e,t){a.index=t,(n=i.call(a,e))in r||(r[n]=o.push(n))
}),o},t.naturalOrder=function(e,t){return e<t?-1:e>t?1:0
},t.reverseOrder=function(e,t){return t<e?-1:t>e?1:0},t.search=function(e,i,n){
n||(n=t.identity);for(var r=0,o=e.length-1;r<=o;){var a=r+o>>1,s=n(e[a])
;if(s<i)r=a+1;else{if(!(s>i))return a;o=a-1}}return-r-1
},t.search.index=function(e,i,n){var r=t.search(e,i,n);return r<0?-r-1:r
},t.range=function(e,t,i){
if(1==arguments.length&&(t=e,e=0),void 0==i&&(i=1),(t-e)/i==1/0)throw new Error("range must be finite")
;var n,r=[],o=0
;if(t-=1e-10*(t-e),i<0)for(;(n=e+i*o++)>t;)r.push(n);else for(;(n=e+i*o++)<t;)r.push(n)
;return r},t.random=function(e,t,i){
return 1==arguments.length&&(t=e,e=0),void 0==i&&(i=1),
i?Math.floor(Math.random()*(t-e)/i)*i+e:Math.random()*(t-e)+e
},t.sum=function(e,t){var i={};return e.reduce(t?function(e,n,r){
return i.index=r,e+t.call(i,n)}:function(e,t){return e+t},0)
},t.max=function(e,i){
return i==t.index?e.length-1:Math.max.apply(null,i?t.map(e,i):e)
},t.max.index=function(e,i){if(!e.length)return-1
;if(i==t.index)return e.length-1;i||(i=t.identity)
;for(var n=0,r=-1/0,o={},a=0;a<e.length;a++){o.index=a;var s=i.call(o,e[a])
;s>r&&(r=s,n=a)}return n},t.min=function(e,i){
return i==t.index?0:Math.min.apply(null,i?t.map(e,i):e)
},t.min.index=function(e,i){if(!e.length)return-1;if(i==t.index)return 0
;i||(i=t.identity);for(var n=0,r=1/0,o={},a=0;a<e.length;a++){o.index=a
;var s=i.call(o,e[a]);s<r&&(r=s,n=a)}return n},t.mean=function(e,i){
return t.sum(e,i)/e.length},t.median=function(e,i){
if(i==t.index)return(e.length-1)/2
;if(e=t.map(e,i).sort(t.naturalOrder),e.length%2)return e[Math.floor(e.length/2)]
;var n=e.length/2;return(e[n-1]+e[n])/2},t.variance=function(e,i){
if(e.length<1)return NaN;if(1==e.length)return 0;var n=t.mean(e,i),r=0,o={}
;i||(i=t.identity);for(var a=0;a<e.length;a++){o.index=a;var s=i.call(o,e[a])-n
;r+=s*s}return r},t.deviation=function(e,i){
return Math.sqrt(t.variance(e,i)/(e.length-1))},t.log=function(e,t){
return Math.log(e)/Math.log(t)},t.logSymmetric=function(e,i){
return 0==e?0:e<0?-t.log(-e,i):t.log(e,i)},t.logAdjusted=function(e,i){
if(!isFinite(e))return e;var n=e<0
;return e<i&&(e+=(i-e)/i),n?-t.log(e,i):t.log(e,i)},t.logFloor=function(e,i){
return e>0?Math.pow(i,Math.floor(t.log(e,i))):-Math.pow(i,-Math.floor(-t.log(-e,i)))
},t.logCeil=function(e,i){
return e>0?Math.pow(i,Math.ceil(t.log(e,i))):-Math.pow(i,-Math.ceil(-t.log(-e,i)))
},function(){var e=Math.PI/180,i=180/Math.PI;t.radians=function(t){return e*t
},t.degrees=function(e){return i*e}}(),t.keys=function(e){var t=[]
;for(var i in e)t.push(i);return t},t.entries=function(e){var t=[]
;for(var i in e)t.push({key:i,value:e[i]});return t},t.values=function(e){
var t=[];for(var i in e)t.push(e[i]);return t},t.dict=function(e,t){
for(var i={},n={},r=0;r<e.length;r++)if(r in e){var o=e[r]
;n.index=r,i[o]=t.call(n,o)}return i
},t.hasOwnProp=Object.prototype.hasOwnProperty,t.copyOwn=function(e,i){if(i){
var n=t.hasOwnProp;for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e
},t.dom=function(e){return new t.Dom(e)},t.Dom=function(e){this.$map=e
},t.Dom.prototype.$leaf=function(e){return"object"!=typeof e
},t.Dom.prototype.leaf=function(e){
return arguments.length?(this.$leaf=e,this):this.$leaf
},t.Dom.prototype.root=function(e){function i(e){var r=new t.Dom.Node
;for(var o in e){var a=e[o]
;r.appendChild(n(a)?new t.Dom.Node(a):i(a)).nodeName=o}return r}
var n=this.$leaf,r=i(this.$map);return r.nodeName=e,r
},t.Dom.prototype.nodes=function(){return this.root().nodes()
},t.Dom.Node=function(e){void 0!==e&&(this.nodeValue=e)
},t.Dom.Node.prototype.nodeValue=void 0,
t.Dom.Node.prototype.childNodes=[],t.Dom.Node.prototype.parentNode=null,
t.Dom.Node.prototype.firstChild=null,
t.Dom.Node.prototype.lastChild=null,t.Dom.Node.prototype.previousSibling=null,
t.Dom.Node.prototype.nextSibling=null,
t.Dom.Node.prototype._firstDirtyChildIndex=1/0,
t.Dom.Node.prototype._childIndex=-1,
t.Dom.Node.prototype.findChildIndex=function(e){
if(!e)throw new Error("Argument 'n' required");if(e.parentNode===this){
var t=e.childIndex(!0);if(t>-1)return t}throw new Error("child not found")
},t.Dom.Node.prototype._childRemoved=function(e,t){},
t.Dom.Node.prototype._childAdded=function(e,t){},
t.Dom.Node.prototype.removeChild=function(e){var t=this.findChildIndex(e)
;return this.removeAt(t)},t.Dom.Node.prototype.appendChild=function(e){
var i=e.parentNode;i&&i.removeChild(e);var n=this.lastChild
;e.parentNode=this,e.previousSibling=n,
n?(n.nextSibling=e,e._childIndex=n._childIndex+1):(this.firstChild=e,
e._childIndex=0),this.lastChild=e
;var r=t.lazyArrayOwn(this,"childNodes").push(e);return this._childAdded(e,r-1),
e},t.Dom.Node.prototype.insertBefore=function(e,t){
if(!t)return this.appendChild(e);var i=this.findChildIndex(t)
;return this.insertAt(e,i)},t.Dom.Node.prototype.insertAt=function(e,t){
if(null==t)return this.appendChild(e);var i=this.childNodes,n=i.length
;if(t===n)return this.appendChild(e)
;if(t<0||t>n)throw new Error("Index out of range.");var r=e.parentNode
;r&&r.removeChild(e);var o=t+1
;o<this._firstDirtyChildIndex&&(this._firstDirtyChildIndex=o);var a=i[t]
;e.parentNode=this,e.nextSibling=a,e._childIndex=t
;var s=e.previousSibling=a.previousSibling
;return a.previousSibling=e,s?s.nextSibling=e:(a===this.lastChild&&(this.lastChild=e),
this.firstChild=e),i.splice(t,0,e),this._childAdded(e,t),e
},t.Dom.Node.prototype.removeAt=function(e){var t=this.childNodes,i=t.length
;if(!(e<0||e>=i)){var n=t[e]
;t.splice(e,1),e<i-1&&e<this._firstDirtyChildIndex&&(this._firstDirtyChildIndex=e)
;var r=n.previousSibling,o=n.nextSibling
;return r?r.nextSibling=o:this.firstChild=o,
o?o.previousSibling=r:this.lastChild=r,
n.nextSibling=n.previousSibling=n.parentNode=null,this._childRemoved(n,e),n}
},t.Dom.Node.prototype.replaceChild=function(e,t){
var i=this.findChildIndex(t),n=e.parentNode
;n&&n.removeChild(e),e.parentNode=this,
e.nextSibling=t.nextSibling,e._childIndex=t._childIndex
;var r=e.previousSibling=t.previousSibling;r?r.nextSibling=e:this.firstChild=e
;var o=t.nextSibling
;return o?o.previousSibling=e:this.lastChild=e,this.childNodes[i]=e,
this._childRemoved(t,i),this._childAdded(e,i),t
},t.Dom.Node.prototype.childIndex=function(e){var t=this.parentNode;if(t){
var i=t._firstDirtyChildIndex;if(i<1/0){var n=t.childNodes
;if(!e)return n.indexOf(this);for(var r=n.length;i<r;)n[i]._childIndex=i,i++
;t._firstDirtyChildIndex=1/0}return this._childIndex}return-1
},t.Dom.Node.prototype.visitBefore=function(e){function t(i,n){e(i,n)
;for(var r=i.firstChild;r;r=r.nextSibling)t(r,n+1)}t(this,0)
},t.Dom.Node.prototype.visitAfter=function(e){function t(i,n){
for(var r=i.firstChild;r;r=r.nextSibling)t(r,n+1);e(i,n)}t(this,0)
},t.Dom.Node.prototype.sort=function(e){if(this.firstChild){
this._firstDirtyChildIndex=1/0;var t=this.childNodes;t.sort(e)
;var i,n=this.firstChild=t[0];delete n.previousSibling,n._childIndex=0
;for(var r=1,o=t.length;r<o;r++)n.sort(e),
i=t[r],i._childIndex=r,i.previousSibling=n,n=n.nextSibling=i
;this.lastChild=n,delete n.nextSibling,n.sort(e)}return this
},t.Dom.Node.prototype.reverse=function(){var e=[]
;return this.visitAfter(function(t){this._firstDirtyChildIndex=1/0
;for(var i;i=t.lastChild;)e.push(t.removeChild(i))
;if(e.length)for(;i=e.pop();)t.insertBefore(i,t.firstChild)}),this
},t.Dom.Node.prototype.nodes=function(){var e=[]
;return this.visitBefore(function(t){e.push(t)}),e
},t.Dom.Node.prototype.toggle=function(e){
if(e)return this.toggled?this.visitBefore(function(e){e.toggled&&e.toggle()
}):this.visitAfter(function(e){e.toggled||e.toggle()});var t,i=this
;if(i.toggled){for(;t=i.toggled.pop();)i.appendChild(t);delete i.toggled
}else if(t=i.lastChild){i.toggled=[];do{i.toggled.push(i.removeChild(t))
}while(t=i.lastChild)}},t.nodes=function(e){
for(var i=new t.Dom.Node,n=0,r=e.length;n<r;n++)i.appendChild(new t.Dom.Node(e[n]))
;return i.nodes()},t.tree=function(e){return new t.Tree(e)},t.Tree=function(e){
this.array=e},t.Tree.prototype.keys=function(e){return this.k=e,this
},t.Tree.prototype.value=function(e){return this.v=e,this
},t.Tree.prototype.map=function(){
for(var e={},t={},i=0;i<this.array.length;i++){t.index=i
;for(var n=this.array[i],r=this.k.call(t,n),o=e,a=0;a<r.length-1;a++)o=o[r[a]]||(o[r[a]]={})
;o[r[a]]=this.v?this.v.call(t,n):n}return e},t.nest=function(e){
return new t.Nest(e)},t.Nest=function(e){this.array=e,this.keys=[]
},t.Nest.prototype.key=function(e){return this.keys.push(e),this
},t.Nest.prototype.sortKeys=function(e){
return this.keys[this.keys.length-1].order=e||t.naturalOrder,this
},t.Nest.prototype.sortValues=function(e){
return this.order=e||t.naturalOrder,this},t.Nest.prototype.map=function(){
for(var e,t={},i=[],n=0;n<this.array.length;n++){var r=this.array[n],o=t
;for(e=0;e<this.keys.length-1;e++){var a=this.keys[e](r);o[a]||(o[a]={}),o=o[a]}
if(a=this.keys[e](r),!o[a]){var s=[];i.push(s),o[a]=s}o[a].push(r)}
if(this.order)for(var e=0;e<i.length;e++)i[e].sort(this.order);return t
},t.Nest.prototype.entries=function(){function e(t){var i=[];for(var n in t){
var r=t[n];i.push({key:n,values:r instanceof Array?r:e(r)})}return i}
function t(e,i){var n=this.keys[i].order;if(n&&e.sort(function(e,t){
return n(e.key,t.key)
}),++i<this.keys.length)for(var r=0;r<e.length;r++)t.call(this,e[r].values,i)
;return e}return t.call(this,e(this.map()),0)
},t.Nest.prototype.rollup=function(e){function t(i){for(var n in i){var r=i[n]
;r instanceof Array?i[n]=e(r):t(r)}return i}return t(this.map())
},t.flatten=function(e){return new t.Flatten(e)},t.Flatten=function(e){
this.map=e,this.keys=[]},t.Flatten.prototype.key=function(e,t){
return this.keys.push({name:e,value:t}),delete this.$leaf,this
},t.Flatten.prototype.leaf=function(e){
return this.keys.length=0,this.$leaf=e,this
},t.Flatten.prototype.array=function(){function e(t,r){if(o(t))i.push({
keys:n.slice(),value:t});else for(var a in t)n.push(a),e(t[a],r+1),n.pop()}
function t(e,o){
if(o<r.length-1)for(var a in e)n.push(a),t(e[a],o+1),n.pop();else i.push(n.concat(e))
}var i=[],n=[],r=this.keys,o=this.$leaf
;return o?(e(this.map,0),i):(t(this.map,0),i.map(function(e){
for(var t={},i=0;i<r.length;i++){var n=r[i],o=e[i]
;t[n.name]=n.value?n.value.call(null,o):o}return t}))},t.Transform=function(){},
t.Transform.prototype={k:1,x:0,y:0
},t.Transform.identity=new t.Transform,t.Transform.prototype.translate=function(e,i){
var n=new t.Transform;return n.k=this.k,n.x=this.k*e+this.x,n.y=this.k*i+this.y,
n},t.Transform.prototype.scale=function(e){var i=new t.Transform
;return i.k=this.k*e,i.x=this.x,i.y=this.y,i
},t.Transform.prototype.invert=function(){var e=new t.Transform,i=1/this.k
;return e.k=i,e.x=-this.x*i,e.y=-this.y*i,e
},t.Transform.prototype.times=function(e){var i=new t.Transform
;return i.k=this.k*e.k,i.x=this.k*e.x+this.x,i.y=this.k*e.y+this.y,i
},t.Scale=function(){},t.Scale.interpolator=function(e,i){
if("number"==typeof e)return function(t){return t*(i-e)+e}
;var n=e.type&&"solid"!==e.type,r=i.type&&"solid"!==i.type
;return n||r?(e=n?e:t.color(e).rgb(),i=r?i:t.color(i).rgb(),function(t){
return t<.5?e:i}):(e=t.color(e).rgb(),i=t.color(i).rgb(),function(n){
var r=e.a*(1-n)+i.a*n
;return r<1e-5&&(r=0),0==e.a?t.rgb(i.r,i.g,i.b,r):0==i.a?t.rgb(e.r,e.g,e.b,r):t.rgb(Math.round(e.r*(1-n)+i.r*n),Math.round(e.g*(1-n)+i.g*n),Math.round(e.b*(1-n)+i.b*n),r)
})},t.Scale.common={by:function(e){function t(){
return i(e.apply(this,arguments))}var i=this;for(var n in i)t[n]=i[n];return t},
by1:function(e){function t(t){return i(e.call(this,t))}var i=this
;for(var n in i)t[n]=i[n];return t},transform:function(e){function t(){
return e.call(this,i.apply(i,arguments))}var i=this;for(var n in i)t[n]=i[n]
;return t}},function(){function e(e,o,a,s){var l,u=a-o;if(u&&isFinite(u)){
var c=t.parseNumNonNeg(t.get(s,"precision",0)),h=t.parseNumNonNeg(t.get(s,"precisionMin",0)),d=t.parseNumNonNeg(t.get(s,"precisionMax",1/0)),f=t.get(s,"roundInside",!0)
;isFinite(c)||(c=0),isFinite(h)||(h=0),d||(d=1/0)
;var p=t.get(s,"numberExponentMin"),m=t.get(s,"numberExponentMax")
;null!=p&&isFinite(p)&&(h=Math.max(h,Math.pow(10,Math.floor(p)))),
null!=m&&isFinite(m)&&(d=Math.min(d,5*Math.pow(10,Math.floor(m)))),
f&&(h>u&&(h=u),d>u&&(d=u)),d<h&&(d=h),c?c=Math.max(Math.min(c,d),h):h===d&&(c=h)
;var g,v,y,b,_=0,x=!!c;if(x)g={base:Math.abs(c),mult:1,value:1
},g.value=g.base;else{var w=t.parseNumNonNeg(t.get(s,"tickCountMax",1/0))
;if(w<1&&(w=1),
null==e?e=Math.min(10,w):isFinite(e)?e>w&&(e=w):e=isFinite(w)?w:10,g={
base:isFinite(e)?t.logFloor(u/e,10):0,mult:1,value:1
},g.value=g.base,h>0&&(v=r(h,!0),
g.value<v.value&&(i(g,v),_=-1)),isFinite(d)&&(y=r(d,!1),
v&&y.value<=v.value?y=null:y.value<g.value&&(i(g,y),
_=1)),1!==_&&isFinite(e)&&g.mult<10&&(b=u/g.base,e<b)){var C=e/b
;C<=.15?g.mult=10:g.mult<5&&(C<=.35?g.mult=5:g.mult<2&&C<=.75&&(g.mult=2)),
g.mult>1&&(g.value=g.base*g.mult,
v&&g.value<v.value?(i(g,v),_=-1):y&&y.value<g.value?(i(g,y),
_=1):10===g.mult&&(g.base*=10,g.mult=1))}}for(var S;;){
var k=g.value,D=k*Math[f?"ceil":"floor"](o/k),M=k*Math[f?"floor":"ceil"](a/k)
;if(S&&(M<D||y&&M-D>y.value)){g=S;break}var N=Math.floor(t.log(k,10)+1e-10)
;if(g.decPlaces=Math.max(0,-N),
g.ticks=t.range(D,M+k,k),x||_>0||g.ticks.length<=w)break
;if(S&&S.ticks.length<=g.ticks.length){g=S;break}g=n(S=g)}
l=g.ticks,l.step=g.value,
l.base=g.base,l.mult=g.mult,l.decPlaces=g.decPlaces,l.format=t.Format.number().fractionDigits(g.decPlaces)
}else l=[+o],
l.step=l.base=l.mult=1,l.decPlaces=0,l.format=t.Format.number().fractionDigits(0)
;return l}function i(e,t){return e.base=t.base,e.mult=t.mult,e.value=t.value,e}
function n(e){var t=i({},e);switch(t.mult){case 5:t.mult=1,t.base*=10;break
;case 2:t.mult=5;break;case 1:t.mult=2}return t.value=t.base*t.mult,t}
function r(e,i){e<0&&(e=-e);var n=t.logFloor(e,10),r=e/n
;return i?r>5?(r=1,n*=10):r=r>2?5:r>1?2:1:r=r>=5?5:r>=2?2:1,{base:n,mult:r,
value:n*r,source:e}}function o(e){return new Date(e)}function a(e,i,n,r,a,l,u){
var h,f=n-i;if(f&&isFinite(f)){r=d(t.get(u,"precision"),r)
;var p=d(t.get(u,"precisionMin"),0),m=d(t.get(u,"precisionMax"),1/0);m<p&&(m=p),
r?r=Math.max(Math.min(r,m),p):p===m&&(r=p)
;var g=t.parseNumNonNeg(t.get(u,"tickCountMax",1/0))
;g<2&&(g=2),e=Math.min(null==e?5:e,g);for(var v,y={weekStart:l,
roundInside:t.get(u,"roundInside",1),alignmentValue:t.get(u,"alignmentValue")
},b=s(e,f,r,p,m,y),_=b.fixed,x=b.overflow;;){
if(b.ticks=h=b.comp.ticks(i,n,b.mult,y),
v&&b.precMax&&h[h.length-1]-h[0]>b.precMax.value){b=v;break}
if(_||x>0||b.ticks.length<=g)break;if(v&&v.ticks.length<=b.ticks.length){b=v
;break}v=b,b=b.comp.resultAbove(b.mult)}
h=b.ticks,h.step=b.value,h.base=b.comp.value,
h.mult=b.mult,h.format=c(a)||b.comp.format}else h=[o(i)],h.step=h.base=h.mult=1,
h.format=t.Format.date("%x");return h}function s(e,t,i,n,r,o){
var a,s,u,c,h=0,d=1,f=!!i
;return i?(s=l(i,!1),s.value!==i?a=s.comp.withPrecision(i):(a=s.comp,
d=s.mult)):(isFinite(e)?(a=v(t,e),
d=a.multiple(t/a.value,o)):(a=m(),d=1),i=a.value*d,
i<n&&(u=l(n,!0)),r<i&&(c=l(r,!1)),
u&&i<u.value?(a=u.comp,d=u.mult,h=-1):c&&n<c.value&&c.value<i&&(a=c.comp,
d=c.mult,h=1)),{comp:a,mult:d,value:a.value*d,source:i,overflow:h,fixed:f,
precMin:u,precMax:c}}function l(e,t){
return null==e||e<=0||!isFinite(e)?null:(t?m:g)().castValue(e,t)}
function u(e,i,n){
this.value=e,this.mult=n.mult||1,this.base=1===this.mult?this.value:Math.floor(this.value/this.mult),
y.forEach(function(e){null!=n[e]&&(this[e]=n[e])
},this),n.floor&&(this.floorLocal=n.floor),
this.format=c(n.format),this.first=t.functor(n.first||0),
this.prev=i,this.next=null,i&&(i.next=this)}function c(e){
return null==e?null:"function"==typeof e?e:t.Format.date(e)}function h(e,t){
var i=new Date(e.getFullYear(),e.getMonth(),1),n=t-i.getDay()
;return n&&(n<0&&(n+=7),i.setDate(i.getDate()+n)),i}function d(e,t){
if("string"==typeof e){var i=+e;if(isNaN(i)){if(e){
var n=/^(\d*)([a-zA-Z]+)$/.exec(e);n&&(e=f(n[2]))&&(e*=+n[1]||1)}}else e=i}
return("number"!=typeof e||e<0)&&(e=null!=t?t:0),e}function f(e){switch(e){
case"year":case"y":return 31536e6;case"month":case"m":return 2592e6;case"week":
case"w":return 6048e5;case"day":case"d":return 864e5;case"hour":case"h":
return 36e5;case"minute":case"M":return 6e4;case"second":case"s":return 1e3
;case"millisecond":case"ms":return 1}}function p(e,t){var i=g()
;b.push(new u(e,i,t))}function m(){return b[0]}function g(){
return b.length?b[b.length-1]:null}function v(e,t){null==t&&(t=1);var i,n=g()
;do{i=n}while(e<t*i.value&&(n=i.prev));return i}t.Scale.quantitative=function(){
function i(e){var i=t.search(l,e)
;return i<0&&(i=-i-2),i=Math.max(0,Math.min(h.length-1,i)),
h[i]((m(e)-u[i])/(u[i+1]-u[i]))}
var n,r,s,l=[0,1],u=[0,1],c=[0,1],h=[t.identity],f=Number,p=!1,m=t.identity,g=t.identity,v=null,y=0
;return i.transform=function(e,t){return m=function(t){return p?-e(-t):e(t)
},g=function(e){return p?-t(-e):t(e)},u=l.map(m),this},i.domain=function(e,i,n){
if(arguments.length){var r
;return e instanceof Array?(arguments.length<2&&(i=t.identity),
arguments.length<3&&(n=i),
r=e.length&&i(e[0]),l=e.length?[t.min(e,i),t.max(e,n)]:[]):(r=e,
l=Array.prototype.slice.call(arguments).map(Number)),
l.length?1==l.length&&(l=[l[0],l[0]]):l=[-1/0,1/0],
p=(l[0]||l[l.length-1])<0,u=l.map(m),f=r instanceof Date?o:Number,this}
return l.map(f)},i.range=function(){if(arguments.length){
c=Array.prototype.slice.call(arguments),
c.length?1==c.length&&(c=[c[0],c[0]]):c=[-1/0,1/0],h=[]
;for(var e=0;e<c.length-1;e++)h.push(t.Scale.interpolator(c[e],c[e+1]))
;return this}return c},i.invert=function(e){var i=t.search(c,e)
;return i<0&&(i=-i-2),
i=Math.max(0,Math.min(h.length-1,i)),f(g(u[i]+(e-c[i])/(c[i+1]-c[i])*(u[i+1]-u[i])))
},i.ticks=function(t,i){var u=l[0],c=l[l.length-1],h=c<u,d=h?c:u,p=h?u:c
;return s=f===o?a(t,d,p,r,n,y,i):e(t,d,p,i),h?s.reverse():s
},i.dateTickFormat=function(){return arguments.length?(n=arguments[0],this):n
},i.dateTickPrecision=function(){
return arguments.length?(r=d(arguments[0],0),this):r
},i.dateTickWeekStart=function(e){if(arguments.length){
switch((""+e).toLowerCase()){case"0":case"sunday":y=0;break;case"1":
case"monday":y=1;break;case"2":case"tuesday":y=2;break;case"3":case"wednesday":
y=3;break;case"4":case"thursday":y=4;break;case"5":case"friday":y=5;break
;case"6":case"saturday":y=6;break;default:y=0}return this}return y
},i.tickFormatter=function(e){return arguments.length?(v=e,this):v
},i.tickFormat=function(e,t){var i;if(v){
s||(s=[],s.step=s.base=s.mult=1,s.decPlaces=0,s.format=String)
;var n=f!==Number?s.step:s.decPlaces;i=v.call(s,e,n,null!=t?t:-1)
}else i=s?s.format(e):String(e);return i},i.nice=function(){
if(2!=l.length)return this
;var e=l[0],t=l[l.length-1],i=t<e,n=i?t:e,r=i?e:t,o=r-n
;if(!o||!isFinite(o))return this
;var a=Math.pow(10,Math.round(Math.log(o)/Math.log(10))-1)
;return l=[Math.floor(n/a)*a,Math.ceil(r/a)*a],i&&l.reverse(),u=l.map(m),this
},t.copyOwn(i,t.Scale.common),i.domain.apply(i,arguments),i}
;var y=["get","set","multiple","multiples","thresholds","closeds","castValue"]
;u.prototype.increment=function(e,t){
null==t&&(t=1),1!==this.mult&&(t*=this.mult),this.set(e,this.get(e)+t)
},u.prototype.get=function(e){return e.getMilliseconds()
},u.prototype.set=function(e,t){e.setMilliseconds(t)
},u.prototype.floorLocal=function(e,t){},u.prototype.floor=function(e,t){var i=0
;1!==this.mult&&(this.floorLocal(e,t),i=this.base)
;for(var n=this.prev;n;)1===n.mult&&n.value!==i&&n.clear(e,t),n=n.prev
},u.prototype.floorMultiple=function(e,i,n){
var r=t.get(n,"alignmentValue"),o=null!=r?this.get(r):this.first(e,n),a=this.get(e)-o,s=null
;if(a){var l=i*this.mult;if(r){for(s=new Date(r);s<e;)this.set(s,this.get(s)+l)
;for(;s>e;)this.set(s,this.get(s)-l);o=this.get(s)}else o+=Math.floor(a/l)*l}
this.set(e,o,s)},u.prototype.clear=function(e,t){this.set(e,this.first(e,t))
},u.prototype.multiple=function(e,t){
for(var i=this.multiples,n=this.thresholds,r=this.closeds,o=i.length,a=-1;++a<o;)if(r[a]?e<=n[a]:e<n[a])return i[a]
;throw new Error("Invalid configuration.")},u.prototype.resultAbove=function(e){
return this.castValue(this.value*e+.1,!0)},u.prototype.castValue=function(e,t){
var i=this.multiples;if(!i)return this._castValueResult(1,e,1)
;var n,r=e/this.value,o=i.length;if(t){
for(n=-1;++n<o;)if(r<=i[n])return this._castValueResult(i[n],e,0)
;return this.next?this.next.castValue(e,t):this._castValueResult(i[o-1],e,1)}
for(n=o;n--;)if(i[n]<=r)return this._castValueResult(i[n],e,0)
;return this.prev?this.prev.castValue(e,t):this._castValueResult(i[0],e,-1)
},u.prototype._castValueResult=function(e,t,i){return{comp:this,mult:e,
value:this.value*e,source:t,overflow:i}},u.prototype.withPrecision=function(e){
var t=this;return this.value!==e&&(t=new u(e,null,{mult:e,format:this.format})),
t},u.prototype.ticks=function(e,i,n,r){var o=[],a=new Date(e)
;if(this.floor(a,r),n>1&&this.floorMultiple(a,n,r),t.get(r,"roundInside",1)){
e!==+a&&this.increment(a,n);do{o.push(new Date(a)),this.increment(a,n)
}while(a<=i)}else{o.push(new Date(a));do{this.increment(a,n),o.push(new Date(a))
}while(a<i)}return o},t.parseDatePrecision=d;var b=[];p(1,{format:"%S.%Qs",
multiples:[1,5,25,50,100,250],thresholds:[10,50,100,200,1e3,1/0],
closeds:[1,1,1,1,1,1]}),p(1e3,{get:function(e){return e.getSeconds()},
set:function(e,t){e.setSeconds(t)},format:"%I:%M:%S",multiples:[1,5,10,15],
thresholds:[10,60,90,1/0],closeds:[1,1,1,1]}),p(6e4,{get:function(e){
return e.getMinutes()},set:function(e,t){e.setMinutes(t)},format:"%I:%M %p",
multiples:[1,5,10,15],thresholds:[10,15,30,1/0],closeds:[1,1,1,1]}),p(36e5,{
get:function(e){return e.getHours()},set:function(e,t){e.setHours(t)},
format:"%I:%M %p",multiples:[1,3,6],thresholds:[10,20,1/0],closeds:[1,1,1]
}),p(864e5,{get:function(e){return e.getDate()},set:function(e,t,i){
var n=i?i.getMonth():e.getMonth(),r=i?i.getFullYear():e.getFullYear()
;e.setFullYear(r,n,t)},format:"%m/%d",first:1,multiples:[1,2,3,5],
thresholds:[10,15,30,1/0],closeds:[1,0,0,1]}),p(6048e5,{get:function(e){
return e.getDate()},set:function(e,t,i){
var n=i?i.getMonth():e.getMonth(),r=i?i.getFullYear():e.getFullYear()
;e.setFullYear(r,n,t)},mult:7,floor:function(e,i){
var n=e.getDay()-t.get(i,"weekStart",0)
;0!==n&&(n<0&&(n+=7),this.set(e,this.get(e)-n))},first:function(e,i){
return this.get(h(e,t.get(i,"weekStart",0)))},format:"%m/%d",multiples:[1,2,3],
thresholds:[10,15,1/0],closeds:[1,1,1]}),p(2592e6,{get:function(e){
return e.getMonth()},set:function(e,t){e.setMonth(t)},format:"%m/%Y",
multiples:[1,2,3],thresholds:[12,24,1/0],closeds:[1,1,1]}),p(31536e6,{
get:function(e){return e.getFullYear()},set:function(e,t){e.setFullYear(t)},
format:"%Y",multiple:function(e){if(e<=10)return 1;var i=t.logCeil(e/15,10)
;return e/i<2?i/=5:e/i<5&&(i/=2),i},castValue:function(e,i){
var n,r,o=e/this.value;if(o<1){
if(!i)return this.prev?this.prev.castValue(e,i):this._castValueResult(1,e,-1)
;n=1}else n=t.logFloor(o,10)
;if(r=o/n,i)r>5?(n*=10,r=1):r=r>2?5:r>1?2:1;else if(r>5)r=5;else if(r>2)r=2;else if(r>1)r=1;else if(r<1)return this.prev?this.prev.castValue(e,i):this._castValueResult(n,e,-1)
;return this._castValueResult(n*r,e,0)}})}(),t.Scale.linear=function(){
var e=t.Scale.quantitative();return e.domain.apply(e,arguments),e
},t.Scale.log=function(){var e,i,n=t.Scale.quantitative(1,10),r=function(e){
return Math.log(e)/i},o=function(t){return Math.pow(e,t)}
;return n.ticks=function(){
var t=n.domain(),i=t[0]<0,a=Math.floor(i?-r(-t[0]):r(t[0])),s=Math.ceil(i?-r(-t[1]):r(t[1])),l=[]
;if(i)for(l.push(-o(-a));a++<s;)for(var u=e-1;u>0;u--)l.push(-o(-a)*u);else{
for(;a<s;a++)for(var u=1;u<e;u++)l.push(o(a)*u);l.push(o(a))}
for(a=0;l[a]<t[0];a++);for(s=l.length;l[s-1]>t[1];s--);return l.slice(a,s)
},n.tickFormat=function(e){return e.toPrecision(1)},n.nice=function(){
var i=n.domain();return n.domain(t.logFloor(i[0],e),t.logCeil(i[1],e))
},n.base=function(t){
return arguments.length?(e=Number(t),i=Math.log(e),n.transform(r,o),this):e
},n.domain.apply(n,arguments),n.base(10)},t.Scale.root=function(){
var e=t.Scale.quantitative();return e.power=function(t){if(arguments.length){
var i=Number(t),n=1/i;return e.transform(function(e){return Math.pow(e,n)
},function(e){return Math.pow(e,i)}),this}return i},e.domain.apply(e,arguments),
e.power(2)},t.Scale.ordinal=function(){function e(e){
return e in n||(n[e]=i.push(e)-1),r[n[e]%r.length]}var i=[],n={},r=[]
;return e.domain=function(e,r){if(arguments.length){
e=e instanceof Array?arguments.length>1?t.map(e,r):e:Array.prototype.slice.call(arguments),
i=[];for(var o={},a=0;a<e.length;a++){var s=e[a];s in o||(o[s]=!0,i.push(s))}
return n=t.numerate(i),this}return i},e.range=function(e,i){
return arguments.length?(r=e instanceof Array?arguments.length>1?t.map(e,i):e:Array.prototype.slice.call(arguments),
"string"==typeof r[0]&&(r=r.map(t.fillStyle)),
r.min=r[0],r.max=r[r.length-1],this):r},e.split=function(e,i){
var n=i-e,o=this.domain().length,a=0
;return 0===n?r=t.array(o,e):o&&(a=(i-e)/o,r=t.range(e+a/2,i,a)),
r.min=e,r.max=i,r.step=a,this},e.splitBandedCenter=function(e,t,i){
return null==i&&(i=1),this._splitBandedCore(e,t,function(e){
var t=e.range/e.count;e.step=t,e.band=t*i,e.offset=t/2})
},e.splitBandedCenterAbs=function(e,t,i,n){
return this._splitBandedCore(e,t,function(e){var t
;null==i||null==n?(t=e.range/e.count,null==i?null==n?(i=t,n=0):(n=Math.min(n,t),
i=t-n):(i=Math.min(i,t),n=t-i)):t=i+n,e.step=t,e.band=i,e.offset=t/2})
},e._splitBandedCore=function(e,i,n){var o,a={min:e,max:i,range:i-e,
count:this.domain().length,offset:0,step:0,band:0}
;return 0===a.range?(r=t.array(a.count,e),
o=0):a.count&&(n(a),o=a.step-a.band,r=t.range(e+a.offset,i,a.step)),
r.offset=a.offset,r.step=a.step,r.band=a.band,r.margin=o,r.min=e,r.max=i,this
},e.splitBandedFlushCenter=function(e,t,i){
return null==i&&(i=1),this._splitBandedCore(e,t,function(e){
var t=e.range,n=e.count,r=t*i/n,o=n>1?(t-n*r)/(n-1):0
;e.band=r,e.step=o+r,e.offset=r/2})},e.splitFlush=function(e,i){
var n=this.domain().length,o=(i-e)/(n-1)
;return r=1==n?[(e+i)/2]:t.range(e,i+o/2,o),r.min=e,r.max=i,this
},e.splitBanded=function(e,i,n){if(arguments.length<3&&(n=1),n<0){
var o=this.domain().length,a=-n*o,s=i-e-a,l=s/(o+1)
;r=t.range(e+l,i,l-n),r.band=-n}else{var u=(i-e)/(this.domain().length+(1-n))
;r=t.range(e+u*(1-n),i,u),r.band=u*n,r.step=u,r.margin=u-r.band}
return r.min=e,r.max=i,this},e.invertIndex=function(e,t){
var i=this.domain().length;if(0===i)return-1;var n=this.range(),r=n.max-n.min
;if(0===r)return 0;var o=r/i;if(e>=n.max)return i;if(e<n.min)return 0
;var a=(e-n.min)/o;return t?a:Math.round(a)
},t.copyOwn(e,t.Scale.common),e.domain.apply(e,arguments),e
},t.Scale.quantile=function(){function e(e){
return a(Math.max(0,Math.min(n,t.search.index(r,e)-1))/n)}
var i=-1,n=-1,r=[],o=[],a=t.Scale.linear();return e.quantiles=function(e){
if(arguments.length){if((i=Number(e))<0)r=[o[0]].concat(o),n=o.length-1;else{
r=[],r[0]=o[0];for(var t=1;t<=i;t++)r[t]=o[~~(t*(o.length-1)/i)];n=i-1}
return this}return r},e.domain=function(n,r){
return arguments.length?(o=n instanceof Array?t.map(n,r):Array.prototype.slice.call(arguments),
o.sort(t.naturalOrder),e.quantiles(i),this):o},e.range=function(){
return arguments.length?(a.range.apply(a,arguments),this):a.range()
},t.copyOwn(e,t.Scale.common),e.domain.apply(e,arguments),e
},t.histogram=function(e,i){var n=!0;return{bins:function(r){
var o=t.map(e,i),a=[];arguments.length||(r=t.Scale.linear(o).ticks())
;for(var s=0;s<r.length-1;s++){var l=a[s]=[];l.x=r[s],l.dx=r[s+1]-r[s],l.y=0}
for(var s=0;s<o.length;s++){
var u=t.search.index(r,o[s])-1,l=a[Math.max(0,Math.min(a.length-1,u))]
;l.y++,l.push(e[s])}if(!n)for(var s=0;s<a.length;s++)a[s].y/=o.length;return a},
frequency:function(e){return arguments.length?(n=Boolean(e),this):n}}
},function(){t.Shape=function(){};var e={x:1,y:1};t.Shape.dist2=function(t,i,n){
n=n||e;var r=t.x-i.x,o=t.y-i.y,a=r*r,s=o*o;return{cost:a+s,dist2:n.x*a+n.y*s}}
;var i=Math.PI,n=2*i,r=Math.atan2;t.Shape.normalizeAngle=function(e){
return e%=n,t.floatLess(e,0)&&(e+=n),e},t.Shape.atan2Norm=function(e,i){
var o=r(e,i);return t.floatLess(o,0)&&(o+=n),o
},t.Shape.prototype.hasArea=function(){return!0
},t.Shape.prototype.bbox=function(){
return this._bbox||(this._bbox=this._calcBBox())
},t.Shape.prototype._calcBBox=function(){var e,i,n,r
;if(this.points().forEach(function(t){var o=t.x,a=t.y
;null==e?(e=n=o,i=r=a):(o<e?e=o:o>n&&(n=o),a<i?i=a:a>r&&(r=a))
}),null!=e)return new t.Shape.Rect(e,i,n-e,r-i)
},t.Shape.prototype.containsPoint=function(e,i){if(i){var n
;if(!i.y)return n=this.bbox(),t.floatBelongsClosed(n.x,e.x,n.x2)
;if(!i.x)return n=this.bbox(),t.floatBelongsClosed(n.y,e.y,n.y2)}
return this._containsPointCore(e)
},t.Shape.prototype._containsPointCore=function(){return!1}}(),function(){
var e=t.Shape.dist2,i=Math.cos,n=Math.sin,r=Math.sqrt;t.vector=function(e,t){
return new o(e,t)},t.Vector=function(e,t){this.x=e,this.y=t}
;var o=t.Shape.Point=t.Vector
;t.Vector.prototype=t.extend(t.Shape),t.Vector.prototype.perp=function(){
return new o(-this.y,this.x)},t.Vector.prototype.rotate=function(e){
var t=i(e),r=n(e);return new o(t*this.x-r*this.y,r*this.x+t*this.y)
},t.Vector.prototype.norm=function(){var e=this.length()
;return this.times(e?1/e:1)},t.Vector.prototype.length=function(){
return r(this.x*this.x+this.y*this.y)},t.Vector.prototype.times=function(e){
return new o(this.x*e,this.y*e)},t.Vector.prototype.plus=function(e,t){
return 1===arguments.length?new o(this.x+e.x,this.y+e.y):new o(this.x+e,this.y+t)
},t.Vector.prototype.minus=function(e,t){
return 1===arguments.length?new o(this.x-e.x,this.y-e.y):new o(this.x-e,this.y-t)
},t.Vector.prototype.dot=function(e,t){
return 1==arguments.length?this.x*e.x+this.y*e.y:this.x*e+this.y*t
},t.Vector.prototype.hasArea=function(){return!1
},t.Vector.prototype.clone=function(){return new o(this.x,this.y)
},t.Vector.prototype.apply=function(e){
return new o(e.x+e.k*this.x,e.y+e.k*this.y)
},t.Vector.prototype.intersectsRect=function(e){
return t.floatBelongsClosed(e.x,this.x,e.x2)&&t.floatBelongsClosed(e.y,this.y,e.y2)
},t.Vector.prototype._containsPointCore=function(e){
return this.x===e.x&&this.y===e.y},t.Vector.prototype.points=function(){
return[this]},t.Vector.prototype.edges=function(){return[]
},t.Vector.prototype.center=function(){return this
},t.Vector.prototype.distance2=function(t,i){return e(this,t,i)}}(),function(){
var e=t.Shape.Point,i=t.Shape.dist2;t.Shape.Line=function(e,t,i,n){
this.x=e||0,this.y=t||0,this.x2=i||0,this.y2=n||0};var n=t.Shape.Line
;n.prototype=t.extend(t.Shape),n.prototype.hasArea=function(){return!1
},n.prototype.clone=function(){return new n(this.x,this.y,this.x2,this.x2)
},n.prototype.apply=function(e){
var t=e.x+e.k*this.x,i=e.y+e.k*this.y,r=e.x+e.k*this.x2,o=e.y+e.k*this.y2
;return new n(t,i,r,o)},n.prototype.points=function(){
return[new e(this.x,this.y),new e(this.x2,this.y2)]
},n.prototype.edges=function(){return[this]},n.prototype.center=function(){
return new e((this.x+this.x2)/2,(this.y+this.y2)/2)
},n.prototype.normal=function(e,t){
var i=this.points(),n=i[1].minus(i[0]).perp().norm()
;return t&&i[0].minus(t).dot(n)<0&&(n=n.times(-1)),n
},n.prototype.intersectsRect=function(e){var t,i,n=this.points();for(i=n.length,
t=0;t<i;t++)if(n[t].intersectsRect(e))return!0;var r=e.edges()
;for(i=r.length,t=0;t<i;t++)if(this.intersectsLine(r[t]))return!0;return!1
},n.prototype._containsPointCore=function(e){
var i=this.x,n=this.x2,r=this.y,o=this.y2
;return t.floatBelongsClosed(i,e.x,n)&&(t.floatEqual(i,n)?t.floatBelongsClosed(Math.min(r,o),e.y,Math.max(r,o)):t.floatZero((o-r)/(n-i)*(e.x-i)+r-e.y))
},n.prototype.intersectsLine=function(e){
var i=this,n=i.x2-i.x,r=i.y2-i.y,o=e.x2-e.x,a=e.y2-e.y,s=a*n-o*r
;if(t.floatZero(s))return!1;var l=i.y-e.y,u=i.x-e.x,c=o*l-a*u,h=n*l-r*u
;if(t.floatZero(s))return t.floatZero(c)&&t.floatZero(h);var d=c/s
;if(!t.floatBelongsClosed(0,d,1))return!1;var f=h/s
;return!!t.floatBelongsClosed(0,f,1)},n.prototype.distance2=function(e,n){
var r=this,o={x:this.x2,y:this.y2},a=i(r,o).cost
;if(t.floatZero(a))return i(e,r,n)
;var s=o.x-r.x,l=o.y-r.y,u=((e.x-r.x)*s+(e.y-r.y)*l)/a
;if(t.floatLess(u,0))return i(e,r,n);if(t.floatGreater(u,1))return i(e,o,n)
;var c={x:r.x+u*s,y:r.y+u*l};return i(e,c,n)}}(),function(){
var e=t.Shape.Point,i=t.Shape.Line;t.Shape.Polygon=function(e){
this._points=e||[]};var n=t.Shape.Polygon
;n.prototype=t.extend(t.Shape),n.prototype.points=function(){return this._points
},n.prototype.clone=function(){return new n(this.points().slice())
},n.prototype.apply=function(e){
for(var t=this.points(),i=t.length,r=new Array(i),o=0;o<i;o++)r[o]=t[o].apply(e)
;return new n(r)},n.prototype.intersectsRect=function(e){var t,i,n=this.points()
;for(i=n.length,t=0;t<i;t++)if(n[t].intersectsRect(e))return!0
;var r=this.edges()
;for(i=r.length,t=0;t<i;t++)if(r[t].intersectsRect(e))return!0;return!1
},n.prototype.edges=function(){var e=this._edges;if(!e){e=this._edges=[]
;var t=this.points(),n=t.length;if(n){
for(var r,o=t[0],a=o,s=1;s<n;s++)r=t[s],e.push(new i(o.x,o.y,r.x,r.y)),o=r
;n>2&&e.push(new i(r.x,r.y,a.x,a.y))}}return e
},n.prototype.distance2=function(e,i){var n={cost:1/0,dist2:1/0}
;return this.edges().forEach(function(r){var o=r.distance2(e,i)
;t.floatLess(o.cost,n.cost)&&(n=o)},this),n},n.prototype.center=function(){
for(var t=this.points(),i=0,n=0,r=0,o=t.length;r<o;r++){var a=t[r];i+=a.x,n+=a.y
}return new e(i/o,n/o)},n.prototype._containsPointCore=function(e){
var t=this.bbox();if(!t._containsPointCore(e))return!1
;var n=.01*t.dx,r=new i(t.x-n,e.y,e.x,e.y),o=0
;return this.edges().forEach(function(e){e.intersectsLine(r)&&o++}),1==(1&o)}
}(),function(){var e=t.Shape.Point,i=t.Shape.Line
;t.Shape.Rect=function(e,t,i,n){
this.x=e||0,this.y=t||0,this.dx=i||0,this.dy=n||0,
this.dx<0&&(this.dx=Math.max(0,-this.dx),
this.x=this.x-this.dx),this.dy<0&&(this.dy=Math.max(0,-this.dy),
this.y=this.y-this.dy),this.x2=this.x+this.dx,this.y2=this.y+this.dy}
;var n=t.Shape.Rect
;n.prototype=t.extend(t.Shape.Polygon),n.prototype.clone=function(){
var e=Object.create(n.prototype)
;return e.x=this.x,e.y=this.y,e.dx=this.dx,e.dy=this.dy,
e.x2=this.x2,e.y2=this.y2,e},n.prototype.apply=function(e){
var t=e.x+e.k*this.x,i=e.y+e.k*this.y,r=e.k*this.dx,o=e.k*this.dy
;return new n(t,i,r,o)},n.prototype._containsPointCore=function(e){
return t.floatBelongsClosed(this.x,e.x,this.x2)&&t.floatBelongsClosed(this.y,e.y,this.y2)
},n.prototype.intersectsRect=function(e){
return t.floatGreater(this.x2,e.x)&&t.floatLess(this.x,e.x2)&&t.floatGreater(this.y2,e.y)&&t.floatLess(this.y,e.y2)
},n.prototype.edges=function(){if(!this._edges){
var e=this.x,t=this.y,n=this.x2,r=this.y2
;this._edges=[new i(e,t,n,t),new i(n,t,n,r),new i(n,r,e,r),new i(e,r,e,t)]}
return this._edges},n.prototype.center=function(){
return new e(this.x+this.dx/2,this.y+this.dy/2)},n.prototype.points=function(){
var t=this._points;if(!t){var i=this.x,n=this.y,r=this.x2,o=this.y2
;t=this._points=[new e(i,n),new e(r,n),new e(r,o),new e(i,o)]}return t
},n.prototype._calcBBox=function(){return this}}(),function(){
var e=t.Shape.Point,i=t.Shape.dist2,n=Math.sqrt,r=Math.abs,o=Math.pow
;t.Shape.Circle=function(e,t,i){this.x=e||0,this.y=t||0,this.radius=i||0}
;var a=t.Shape.Circle
;a.prototype=t.extend(t.Shape),a.prototype.clone=function(){
return new a(this.x,this.y,this.radius)},a.prototype.apply=function(e){
var t=e.x+e.k*this.x,i=e.y+e.k*this.y,n=e.k*this.radius;return new a(t,i,n)
},a.prototype.intersectsRect=function(e){
var t=e.dx/2,i=e.dy/2,n=this.radius,a=r(this.x-e.x-t),s=r(this.y-e.y-i)
;return!(a>t+n||s>i+n)&&(a<=t||s<=i||o(a-t,2)+o(s-i,2)<=n*n)
},a.prototype.intersectLine=function(t,i){
var r=t.x2-t.x,o=t.y2-t.y,a=this.x-t.x,s=this.y-t.y,l=r*r+o*o,u=r*a+o*s,c=this.radius,h=a*a+s*s-c*c,d=u/l,f=d*d-h/l
;if(!(f<0)){var p=n(f),m=d-p,g=d+p,v=[]
;return(i||m>=0&&m<=1)&&v.push(new e(t.x+r*m,t.y+o*m)),
0!==f&&(i||g>=0&&g<=1)&&v.push(new e(t.x+r*g,t.y+o*g)),v}
},a.prototype.points=function(){return[this.center()]
},a.prototype.center=function(){return new e(this.x,this.y)
},a.prototype.normal=function(e){return e.minus(this.x,this.y).norm()
},a.prototype._containsPointCore=function(e){
var t=e.x-this.x,i=e.y-this.y,n=this.radius;return t*t+i*i<=n*n
},a.prototype.distance2=function(e,t){
var n=this.radius,r=e.minus(this).norm().times(n).plus(this);return i(e,r,t)
},a.prototype._calcBBox=function(){var e=this.radius,i=2*e
;return new t.Shape.Rect(this.x-e,this.y-e,i,i)}}(),function(){
var e=t.Shape.Point,i=t.Shape.dist2,n=t.Shape.normalizeAngle,r=t.Shape.atan2Norm,o=Math.cos,a=Math.sin,s=Math.sqrt,l=Math.PI,u=2*l,c=l/2,h=3*l/2
;t.Shape.Arc=function(e,i,r,o,a){
this.x=e,this.y=i,this.radius=r,t.floatBelongsClosed(0,a,u)||(a=n(a)),
this.startAngle=n(o),
this.angleSpan=a,this.endAngle=this.startAngle+this.angleSpan};var d=t.Shape.Arc
;d.prototype=t.extend(t.Shape),d.prototype.hasArea=function(){return!1
},d.prototype.clone=function(){var e=Object.create(d.prototype),t=this
;return e.x=t.x,
e.y=t.y,e.radius=t.radius,e.startAngle=t.startAngle,e.angleSpan=t.angleSpan,
e.endAngle=t.endAngle,e},d.prototype.apply=function(e){
var t=e.x+e.k*this.x,i=e.y+e.k*this.y,n=e.k*this.radius
;return new d(t,i,n,this.startAngle,this.angleSpan)
},d.prototype.containsAngle=function(e,i){t.floatBelongsClosed(0,e,u)||(e=n(e))
;var r=this.startAngle,o=this.endAngle
;return!(i?!t.floatBelongsOpen(r,e,o):!t.floatBelongsClosed(r,e,o))||!t.floatLessOrEqual(o,u)&&(e+=u,
i?t.floatBelongsOpen(r,e,o):t.floatBelongsClosed(r,e,o))
},d.prototype._containsPointCore=function(e){
var i=e.x-this.x,n=e.y-this.y,o=s(i*i+n*n)
;return t.floatEqual(o,this.radius)&&this.containsAngle(r(n,i))
},d.prototype.intersectsRect=function(e){var t,i=this.points(),n=i.length
;for(t=0;t<n;t++)if(i[t].intersectsRect(e))return!0;var r=e.edges()
;for(n=r.length,t=0;t<n;t++)if(this.intersectLine(r[t]))return!0;return!1}
;var f=t.Shape.Circle.prototype.intersectLine
;d.prototype.intersectLine=function(e,t){var i=f.call(this,e,t)
;if(i&&(i=i.filter(function(e){return this._containsPointCore(e)
},this),i.length))return i},d.prototype.points=function(){function t(t){
i.containsAngle(t,!0)&&f.push(new e(n+s*o(t),r+s*a(t)))}
var i=this,n=i.x,r=i.y,s=i.radius,u=i.startAngle,d=i.endAngle,f=[new e(n+s*o(u),r+s*a(u)),new e(n+s*o(d),r+s*a(d))]
;return t(0),t(c),t(l),t(h),f},d.prototype.center=function(){
var t=this.x,i=this.y,n=this.radius,r=(this.startAngle+this.endAngle)/2
;return new e(t+n*o(r),i+n*a(r))},d.prototype.normal=function(e,t){
var i=e.minus(this.x,this.y).norm()
;return t&&this.center().minus(t).dot(i)<0&&(i=i.times(-1)),i
},d.prototype.distance2=function(n,s){var l=n.x-this.x,u=n.y-this.y,c=r(u,l)
;if(this.containsAngle(c)){
var h=new e(this.x+this.radius*o(c),this.y+this.radius*a(c));return i(n,h,s)}
var d=this.points(),f=i(n,d[0],s),p=i(n,d[1],s)
;return t.floatLess(f.cost,p.cost)?f:p}}(),function(){
var e=t.Shape.Arc,i=t.Shape.Line,n=t.Shape.Point,r=Math.cos,o=Math.sin,a=Math.sqrt,s=Math.PI,l=2*s,u=s/2,c=3*s/2,h=t.Shape.atan2Norm,d=t.Shape.normalizeAngle
;t.Shape.Wedge=function(e,i,n,r,o,a){
this.x=e,this.y=i,this.innerRadius=n,this.outerRadius=r,
t.floatBelongsClosed(0,a,l)||(a=d(a)),
this.startAngle=d(o),this.angleSpan=a,this.endAngle=this.startAngle+a}
;var f=t.Shape.Wedge;f.prototype=t.extend(t.Shape),f.prototype.clone=function(){
return new f(this.x,this.y,this.innerRadius,this.outerRadius,this.startAngle,this.angleSpan)
},f.prototype.apply=function(e){
var t=e.x+e.k*this.x,i=e.y+e.k*this.y,n=e.k*this.innerRadius,r=e.k*this.outerRadius
;return new f(t,i,n,r,this.startAngle,this.angleSpan)
},f.prototype.containsAngle=e.prototype.containsAngle,
f.prototype._containsPointCore=function(e){
var i=e.x-this.x,n=e.y-this.y,r=a(i*i+n*n)
;return t.floatBelongsClosed(this.innerRadius,r,this.outerRadius)&&this.containsAngle(h(n,i))
},f.prototype.intersectsRect=function(e){var t,i,n,r
;for(n=this.points(),i=n.length,t=0;t<i;t++)if(n[t].intersectsRect(e))return!0
;for(n=e.points(),
i=n.length,t=0;t<i;t++)if(this._containsPointCore(n[t]))return!0
;for(r=this.edges(),i=r.length,t=0;t<i;t++)if(r[t].intersectsRect(e))return!0
;return!1},f.prototype.points=function(){
return this._points||this.edges(),this._points},f.prototype.edges=function(){
function a(e){l.containsAngle(e,!0)&&N.push(new n(p+y*r(e),m+y*o(e)))}
var l=this,h=l._edges;if(!h){
var d,f,p=l.x,m=l.y,g=l.innerRadius,v=t.floatGreater(g,0),y=l.outerRadius,b=l.startAngle,_=l.endAngle,x=l.angleSpan,w=r(b),C=o(b),S=r(_),k=o(_)
;v?(d=new n(p+g*w,m+g*C),f=new n(p+g*S,m+g*k)):d=f=new n(p,m)
;var D=new n(p+y*w,m+y*C),M=new n(p+y*S,m+y*k)
;h=l._edges=[],v&&h.push(new e(p,m,g,b,x)),
h.push(new i(d.x,d.y,D.x,D.y),new e(p,m,y,b,x),new i(f.x,f.y,M.x,M.y))
;var N=l._points=[d,D,M];v&&N.push(f),a(0),a(u),a(s),a(c)}return h
},f.prototype.distance2=function(e,i){var n={cost:1/0,dist2:1/0}
;return this.edges().forEach(function(r){var o=r.distance2(e,i)
;t.floatLess(o.cost,n.cost)&&(n=o)}),n},f.prototype.center=function(){
var e=(this.startAngle+this.endAngle)/2,t=(this.innerRadius+this.outerRadius)/2
;return new n(this.x+t*r(e),this.y+t*o(e))}}(),function(){
var e=Math.round,i=function(t){var i=parseFloat(t)
;return"%"==t[t.length-1]?e(2.55*i):i},n=/([a-z]+)\((.*)\)/i,r=function(e){
if("#"===e.charAt(0)){var r,o,a
;return 4===e.length?(r=e.charAt(1),r+=r,o=e.charAt(2),
o+=o,a=e.charAt(3),a+=a):7===e.length&&(r=e.substring(1,3),
o=e.substring(3,5),a=e.substring(5,7)),
t.rgb(parseInt(r,16),parseInt(o,16),parseInt(a,16),1)}var s=n.exec(e);if(s){
var l=s[2].split(","),u=1;switch(s[1]){case"hsla":case"rgba":
if(!(u=parseFloat(l[3])))return t.Color.transparent}switch(s[1]){case"hsla":
case"hsl":var c=parseFloat(l[0]),h=parseFloat(l[1])/100,d=parseFloat(l[2])/100
;return new t.Color.Hsl(c,h,d,u).rgb();case"rgba":case"rgb":
var r=i(l[0]),o=i(l[1]),a=i(l[2]);return t.rgb(r,o,a,u)}}return new t.Color(e,1)
},o={};t.color=function(e){if(e.rgb)return e.rgb();var i=t.Color.names[e]
;return i||(i=o[e]||(o[e]=r(e))),i}}(),t.Color=function(e,t){
this.color=e,this.opacity=t,this.key="solid "+e+" alpha("+t+")"
},t.Color.prototype.hsl=function(){return this.rgb().hsl()
},t.Color.prototype.brighter=function(e){return this.rgb().brighter(e)
},t.Color.prototype.darker=function(e){return this.rgb().darker(e)
},t.Color.prototype.relativeLuminance=function(t){var i=this.alphaBlend(t)
;return.2126*e(i.r)+.7152*e(i.g)+.0722*e(i.b)
},t.Color.prototype.alphaBlend=function(e){var i=this.rgb(),n=i.a
;if(1===n)return this;e=e?t.color(e).alphaBlend():t.Color.names.white,e=e.rgb()
;var r=1-n;return t.rgb(n*i.r+r*e.r,n*i.g+r*e.g,n*i.b+r*e.b,1)
},t.Color.prototype.rgbDecimal=function(e){var t=this.alphaBlend(e)
;return t.r<<16|t.g<<8|t.b},t.Color.prototype.isDark=function(){
return this.rgbDecimal()<8388607.5
},t.Color.prototype.contrastRatioTo=function(e){
var t=e.alphaBlend(),i=this.alphaBlend(t),n=t.relativeLuminance(),r=i.relativeLuminance()
;return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.rgb=function(e,i,n,r){
return new t.Color.Rgb(e,i,n,4==arguments.length?r:1)
},t.Color.Rgb=function(e,i,n,r){
t.Color.call(this,r?"rgb("+e+","+i+","+n+")":"none",r),
this.r=e,this.g=i,this.b=n,this.a=r
},t.Color.Rgb.prototype=t.extend(t.Color),t.Color.Rgb.prototype.red=function(e){
return t.rgb(e,this.g,this.b,this.a)},t.Color.Rgb.prototype.green=function(e){
return t.rgb(this.r,e,this.b,this.a)},t.Color.Rgb.prototype.blue=function(e){
return t.rgb(this.r,this.g,e,this.a)},t.Color.Rgb.prototype.alpha=function(e){
return t.rgb(this.r,this.g,this.b,e)},t.Color.Rgb.prototype.rgb=function(){
return this},t.Color.Rgb.prototype.brighter=function(e){
e=Math.pow(.7,null!=e?e:1);var i=this.r,n=this.g,r=this.b,o=30
;return i||n||r?(i&&i<o&&(i=o),
n&&n<o&&(n=o),r&&r<o&&(r=o),t.rgb(Math.min(255,Math.floor(i/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e)),this.a)):t.rgb(o,o,o,this.a)
},t.Color.Rgb.prototype.darker=function(e){
return e=Math.pow(.7,null!=e?e:1),t.rgb(Math.max(0,Math.floor(e*this.r)),Math.max(0,Math.floor(e*this.g)),Math.max(0,Math.floor(e*this.b)),this.a)
},t.Color.Rgb.prototype.hsl=function(){
var e,i,n=this.r/255,r=this.g/255,o=this.b/255,a=Math.max(n,r,o),s=Math.min(n,r,o),l=(a+s)/2
;if(a===s)e=i=0;else{var u=a-s;switch(i=l>.5?u/(2-a-s):u/(a+s),a){case n:
e=(r-o)/u+(r<o?6:0);break;case r:e=(o-n)/u+2;break;case o:e=(n-r)/u+4}e/=6}
return t.hsl(360*e,i,l,this.a)},t.Color.Rgb.prototype.complementary=function(){
return this.hsl().complementary().rgb()},t.hsl=function(e,i,n,r){
return new t.Color.Hsl(e,i,n,4==arguments.length?r:1)
},t.Color.Hsl=function(e,i,n,r){
t.Color.call(this,"hsl("+e+","+100*i+"%,"+100*n+"%)",r),
this.h=e,this.s=i,this.l=n,this.a=r
},t.Color.Hsl.prototype=t.extend(t.Color),t.Color.Hsl.prototype.hsl=function(){
return this},t.Color.Hsl.prototype.hue=function(e){
return t.hsl(e,this.s,this.l,this.a)
},t.Color.Hsl.prototype.saturation=function(e){
return t.hsl(this.h,e,this.l,this.a)
},t.Color.Hsl.prototype.lightness=function(e){
return t.hsl(this.h,this.s,e,this.a)},t.Color.Hsl.prototype.alpha=function(e){
return t.hsl(this.h,this.s,this.l,e)
},t.Color.Hsl.prototype.complementary=function(){
return t.hsl((this.h+180)%360,1-this.s,1-this.l,this.a)
},t.Color.Hsl.prototype.rgb=function(){function e(e){
return e>360?e-=360:e<0&&(e+=360),
e<60?s+(a-s)*e/60:e<180?a:e<240?s+(a-s)*(240-e)/60:s}function i(t){
return Math.round(255*e(t))}var n=this.h,r=this.s,o=this.l;n%=360,n<0&&(n+=360),
r=Math.max(0,Math.min(r,1)),o=Math.max(0,Math.min(o,1))
;var a=o<=.5?o*(1+r):o+r-o*r,s=2*o-a;return t.rgb(i(n+120),i(n),i(n-120),this.a)
},t.Color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",
aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",
black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",
brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",
chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",
darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",
darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",
darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",
darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",
darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",
deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",
firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",
fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",
goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",
grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",
indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",
lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",
lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",
lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",
lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",
lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",
lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",
maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",
mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",
mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",
mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",
oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",
orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",
palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",
papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",
plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",
rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",
sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",
silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",
slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",
tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",
turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",
whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",
transparent:t.Color.transparent=t.rgb(0,0,0,0)},function(){var e=t.Color.names
;e.none=e.transparent;for(var i in e)e[i]=t.color(e[i])}(),t.colors=function(){
var e=t.Scale.ordinal();return e.range.apply(e,arguments),e
},t.Colors={},t.Colors.category10=function(){
var e=t.colors("#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf")
;return e.domain.apply(e,arguments),e},t.Colors.category20=function(){
var e=t.colors("#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5")
;return e.domain.apply(e,arguments),e},t.Colors.category19=function(){
var e=t.colors("#9c9ede","#7375b5","#4a5584","#cedb9c","#b5cf6b","#8ca252","#637939","#e7cb94","#e7ba52","#bd9e39","#8c6d31","#e7969c","#d6616b","#ad494a","#843c39","#de9ed6","#ce6dbd","#a55194","#7b4173")
;return e.domain.apply(e,arguments),e},function(){function e(e){var i=n(e)
;if(!i.length)return null;var o,a,l,u=Math.PI,c=i[0]
;0===c.indexOf("to ")?(a=/^to\s+(?:((top|bottom)(?:\s+(left|right))?)|((left|right)(?:\\s+(top|bottom))?))$/.exec(c))&&(a[1]?(o=a[2],
a[3]&&(o+=" "+a[3])):(o=a[5],
a[6]&&(o=a[6]+" "+o)),u=t.radians(s[o]),i.shift()):(l=parseFloat(c),
isNaN(l)||(u=l,/^.*?deg$/.test(c)&&(u=t.radians(u)),i.shift()));var h=r(i)
;switch(h.length){case 0:return null;case 1:
return new t.FillStyle.Solid(h[0].color,1)}
return new t.FillStyle.LinearGradient(u,h,e)}function i(e){var i=n(e)
;if(!i.length)return null;var o=r(i);switch(o.length){case 0:return null;case 1:
return new t.FillStyle.Solid(o[0].color,1)}
return new t.FillStyle.RadialGradient(50,50,o,e)}function n(e){var t={},i=0
;e=e.replace(/\b\w+?\(.*?\)/g,function(e){var n="__color"+i++;return t[n]=e,n})
;var n=e.split(/\s*,\s*/);return n.length?(i&&n.forEach(function(e,i){
t.hasOwnProperty(e)&&(n[i]=t[e])}),n):null}function r(e){
for(var i=[],n=1/0,r=-1/0,o=[],a=0,s=e.length;a<s;){
var l=e[a++],u=/^(.+?)\s*([+\-]?[e\.\d]+%)?$/i.exec(l);if(u){var c={
color:t.color(u[1])},h=parseFloat(u[2])
;isNaN(h)&&(i.length?a===s&&(h=Math.max(r,100)):h=0),
i.push(c),isNaN(h)?o.push(c):(c.offset=h,function(e){var t=o.length;if(t){
for(var i=r,n=(e-i)/(t+1),a=0;a<t;a++)i+=n,o[a].offset=i;o.length=0}
}(h),h>r?r=h:h<r&&(h=r),h<n&&(n=h))}}if(i.length>=2&&(n<0||r>100)){var d=[],f=[]
;i.forEach(function(e){d.push(e.offset),f.push(e.color)})
;var p=t.scale.linear().domain(d).range(f);if(n<0){
for(;i.length&&i[0].offset<=0;)i.shift();i.unshift({offset:0,color:p(0)})}
if(r>100){for(;i.length&&i[i.length-1].offset>=100;)i.pop();i.push({offset:100,
color:p(100)})}}return i}t.fillStyle=function(e){if(e.type)return e
;var t=e.key||e,i=o[t];return i=i?i.clone():o[t]=a(e)};var o={},a=function(n){
if(n.rgb)return new t.FillStyle.Solid(n.color,n.opacity)
;var r=/^\s*([a-z\-]+)\(\s*(.*?)\s*\)\s*$/.exec(n);if(r)switch(r[1]){
case"linear-gradient":return e(r[2]);case"radial-gradient":return i(r[2])}
return new t.FillStyle.Solid(t.color(n))},s={top:0,"top right":45,right:90,
"bottom right":135,bottom:180,"bottom left":225,left:270,"top left":315
},l=t.FillStyle=function(e){this.type=e,this.key=e}
;t.extendType(l,new t.Color("none",1)),l.prototype.rgb=function(){
var e=t.color(this.color)
;return this.opacity!==e.opacity&&(e=e.alpha(this.opacity)),e
},l.prototype.alphaBlend=function(e){return this.rgb().alphaBlend(e)
},l.prototype.rgbDecimal=function(e){return this.rgb().rgbDecimal(e)
},l.prototype.isDark=function(){return this.rgb().isDark()}
;var u=t.FillStyle.Solid=function(e,t){
l.call(this,"solid"),e.rgb?(this.color=e.color,
this.opacity=e.opacity):(this.color=e,
this.opacity=t),this.key+=" "+this.color+" alpha("+this.opacity+")"}
;t.extendType(u,l),u.prototype.alpha=function(e){return new u(this.color,e)
},u.prototype.brighter=function(e){return new u(this.rgb().brighter(e))
},u.prototype.darker=function(e){return new u(this.rgb().darker(e))
},u.prototype.complementary=function(){return new u(this.rgb().complementary())
},u.prototype.clone=function(){var e=t.extend(u)
;return e.type=this.type,e.key=this.key,
e.color=this.color,e.opacity=this.opacity,e
},t.FillStyle.transparent=new u(t.Color.transparent)
;var c=0,h=t.FillStyle.Gradient=function(e,t){
l.call(this,e),this.id=++c,this.stops=t,t.length&&(this.color=t[0].color.color),
this.key+=" stops("+t.map(function(e){var t=e.color
;return t.color+" alpha("+t.opacity+") at("+e.offset+")"}).join(", ")+")"}
;t.extendType(h,l),h.prototype.rgb=function(){
return this.stops.length?this.stops[0].color:void 0
},h.prototype.alpha=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,
color:t.color.alpha(e)}}))},h.prototype.darker=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,
color:t.color.darker(e)}}))},h.prototype.brighter=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,
color:t.color.brighter(e)}}))},h.prototype.complementary=function(){
return this._cloneWithStops(this.stops.map(function(e){return{offset:e.offset,
color:e.color.complementary()}}))},h.prototype.alphaBlend=function(e){
return this._cloneWithStops(this.stops.map(function(t){return{offset:t.offset,
color:t.color.alphaBlend(e)}}))},h.prototype.clone=function(){
var e=this.constructor,i=t.extend(e)
;i.constructor=e,i.id=++c,i.type=this.type,i.key=this.key;var n=this.stops
;return i.stops=n,n.length&&(i.color=n[0].color.color),this._initClone(i),i}
;var d=t.FillStyle.LinearGradient=function(e,t){h.call(this,"lineargradient",t),
this.angle=e,this.key+=" angle("+e+")"}
;t.extendType(d,h),d.prototype._cloneWithStops=function(e){
return new d(this.angle,e)},d.prototype._initClone=function(e){
e.angle=this.angle};var f=t.FillStyle.RadialGradient=function(e,t,i){
h.call(this,"radialgradient",i),
this.cx=e,this.cy=t,this.key+=" center("+e+","+t+")"}
;t.extendType(f,h),f.prototype._cloneWithStops=function(e){
return new f(this.cx,this.cy,e)},f.prototype._initClone=function(e){
e.cx=this.cx,e.cy=this.cy}}(),t.ramp=function(e,i){var n=t.Scale.linear()
;return n.range.apply(n,arguments),n},t.Scene=t.SvgScene={
svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns",
xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml",
scale:1,
events:["DOMMouseScroll","mousewheel","mousedown","mouseup","mouseover","mouseout","mousemove","click","dblclick","contextmenu"],
mousePositionEventSet:{mousedown:1,mouseup:1,mouseover:1,mouseout:1,mousemove:1,
click:1,dblclick:1,contextmenu:1},implicit:{svg:{"shape-rendering":"auto",
"pointer-events":"painted",x:0,y:0,dy:0,"text-anchor":"start",
transform:"translate(0,0)",fill:"none","fill-opacity":1,stroke:"none",
"stroke-opacity":1,"stroke-width":1.5,"stroke-linejoin":"miter",
"stroke-linecap":"butt","stroke-miterlimit":8,"stroke-dasharray":"none"},css:{
font:"10px sans-serif"}}},t.SvgScene.updateAll=function(e){
if(e.length&&e[0].reverse&&"line"!==e.type&&"area"!==e.type){
for(var t=Object.create(e),i=0,n=e.length-1;n>=0;i++,n--)t[i]=e[n];e=t}
this.removeSiblings(this[e.type](e))},t.SvgScene.create=function(e){
return document.createElementNS(this.svg,e)
},t.SvgScene.expect=function(e,t,i,n,r,o){var a
;if(e&&(a=e.tagName,"defs"===a?(e=e.nextSibling)&&(a=e.tagName):"a"===a&&(e=e.firstChild)),
e){if(a!==t){var s=this.create(t);e.parentNode.replaceChild(s,e),e=s}
}else e=this.create(t);return r&&this.setAttributes(e,r),o&&this.setStyle(e,o),e
},t.SvgScene.setAttributes=function(e,t){
var i=this.implicit.svg,n=e.__attributes__;n===t&&(n=null);for(var r in t){
var o=t[r]
;n&&o===n[r]||(null==o||o==i[r]?e.removeAttribute(r):e.setAttribute(r,o))}
e.__attributes__=t},t.SvgScene.setStyle=function(e,t){
var i=this.implicit.css,n=e.__style__;n===t&&(n=null);for(var r in t){var o=t[r]
;n&&o===n[r]||(null==o||o==i[r]?e.style.removeProperty(r):e.style[r]=o)}
e.__style__=t},t.SvgScene.append=function(e,t,i){return e.$scene={scenes:t,
index:i},e=this.title(e,t[i]),e.parentNode||t.$g.appendChild(e),e.nextSibling
},t.SvgScene.title=function(e,t){var i=e.parentNode
;if(i&&"a"!=i.tagName&&(i=null),t.title){
i||(i=this.create("a"),i.setAttributeNS(this.xlink,"xlink:href",""),
e.parentNode&&e.parentNode.replaceChild(i,e),
i.appendChild(e)),i.setAttributeNS(this.xlink,"xlink:title",t.title)
;for(var n=null,r=e.firstChild;null!=r;r=r.nextSibling)if("title"==r.nodeName){
n=r;break}
return n?n.removeChild(n.firstChild):(n=this.create("title"),e.appendChild(n)),
n.appendChild(document.createTextNode(t.title)),i}
return i&&i.parentNode.replaceChild(e,i),e
},t.SvgScene.dispatch=t.listener(function(e){var i=e.target.$scene;if(i){
var n=e.type;switch(n){case"DOMMouseScroll":n="mousewheel",e.wheel=-480*e.detail
;break;case"mousewheel":e.wheel=(window.opera?12:1)*e.wheelDelta}
t.Mark.dispatch(n,i.scenes,i.index,e)&&(e.preventDefault(),e.stopPropagation())}
}),t.SvgScene.removeSiblings=function(e){for(;e;){var t=e.nextSibling
;"defs"!==e.nodeName&&e.parentNode.removeChild(e),e=t}
},t.SvgScene.undefined=function(){},function(){var e={"-":"shortdash",
".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot",
"- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot",
"--..":"longdashdotdot"},i={shortdash:[3,1],shortdot:[1,1],
shortdashdot:[3,1,1,1],shortdashdotdot:[3,1,1,1,1,1],dot:[1,3],dash:[4,3],
longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],
longdashdotdot:[8,3,1,3,1,3]};t.SvgScene.isStandardDashStyle=function(e){
return i.hasOwnProperty(e)},t.SvgScene.translateDashStyleAlias=function(t){
return e.hasOwnProperty(t)?e[t]:t},t.SvgScene.parseDasharray=function(e){
var t=e.strokeDasharray;if(t&&"none"!==t){t=this.translateDashStyleAlias(t)
;t=i[t]||t.split(/[\s,]+/);var n=e.lineWidth,r=e.lineCap||"butt",o="butt"===r
;t=t.map(function(e,t){
return e=+e,o||(t%2?e++:e-=1),e<=0&&(e=.001),e*n/this.scale},this).join(" ")
}else t=null;return t}}(),function(){
var e=/^url\(#/,i=1,n=Math.PI/2,r=n/2,o=Math.SQRT2/2,a=Math.abs,s=Math.sin,l=Math.cos,u=function(e){
return a(e)<=1e-12?0:e};t.SvgScene.addFillStyleDefinition=function(t,n){
if(n.type&&"solid"!==n.type&&!e.test(n.color)){
var r=t.mark.root,o=r.__fillStyleMap__||(r.__fillStyleMap__={}),a=n.key,s=o[a]
;if(!s){s=o[a]="__pvGradient"+i++;var l=c.call(this,t,n,s)
;r.scene.$defs.appendChild(l)}n.color="url(#"+s+")"}};var c=function(e,t,i){
var c="lineargradient"===t.type,h=this.create(c?"linearGradient":"radialGradient")
;if(h.setAttribute("id",i),c){
var d=t.angle-n,f=a(d%n)-r,p=a(o*l(f)),m=p*l(d),g=p*s(d)
;h.setAttribute("x1",u(.5-m)),
h.setAttribute("y1",u(.5-g)),h.setAttribute("x2",u(.5+m)),
h.setAttribute("y2",u(.5+g))}for(var v=t.stops,y=v.length,b=0;b<y;b++){
var _=v[b],x=h.appendChild(this.create("stop")),w=_.color
;x.setAttribute("offset",_.offset+"%"),
x.setAttribute("stop-color",w.color),x.setAttribute("stop-opacity",w.opacity+"")
}return h}}(),t.SvgScene.pathBasis=function(){function e(e,t,i,n,r){return{
x:e[0]*t.left+e[1]*i.left+e[2]*n.left+e[3]*r.left,
y:e[0]*t.top+e[1]*i.top+e[2]*n.top+e[3]*r.top}}
var t=[[1/6,2/3,1/6,0],[0,2/3,1/3,0],[0,1/3,2/3,0],[0,1/6,2/3,1/6]],i=function(i,n,r,o){
var a=e(t[1],i,n,r,o),s=e(t[2],i,n,r,o),l=e(t[3],i,n,r,o)
;return"C"+a.x+","+a.y+","+s.x+","+s.y+","+l.x+","+l.y}
;return i.segment=function(i,n,r,o){
var a=e(t[0],i,n,r,o),s=e(t[1],i,n,r,o),l=e(t[2],i,n,r,o),u=e(t[3],i,n,r,o)
;return["M"+a.x+","+a.y,"C"+s.x+","+s.y+","+l.x+","+l.y+","+u.x+","+u.y]},i
}(),t.SvgScene.curveBasis=function(e,t,i){var n
;if(null==t?(n=e.length,t=0,i=n-1):n=i-t+1,n<=2)return""
;var r="",o=e[t],a=o,s=o,l=e[t+1];r+=this.pathBasis(o,a,s,l)
;for(var u=t+2;u<=i;u++)o=a,a=s,s=l,l=e[u],r+=this.pathBasis(o,a,s,l)
;return r+=this.pathBasis(a,s,l,l),r+=this.pathBasis(s,l,l,l)
},t.SvgScene.curveBasisSegments=function(e,t,i){var n
;if(null==t?(n=e.length,t=0,i=n-1):n=i-t+1,n<=2)return""
;var r=[],o=e[t],a=o,s=o,l=e[t+1],u=this.pathBasis.segment(o,a,s,l);o=a,a=s,s=l,
l=e[t+2],u[1]+=this.pathBasis(o,a,s,l),r.push(u);for(var c=t+3;c<=i;c++)o=a,a=s,
s=l,l=e[c],r.push(this.pathBasis.segment(o,a,s,l))
;var h=this.pathBasis.segment(a,s,l,l)
;return h[1]+=this.pathBasis(s,l,l,l),r.push(h),r
},t.SvgScene.curveHermite=function(e,t,i,n){var r
;null==i?(r=e.length,i=0,n=r-1):r=n-i+1;var o=t.length
;if(o<1||r!==o&&r!==o+2)return""
;var a=r!==o,s="",l=e[i],u=e[i+1],c=t[0],h=c,d=i+1
;if(a&&(s+="Q"+(u.left-2*c.x/3)+","+(u.top-2*c.y/3)+","+u.left+","+u.top,
l=e[i+1],d=i+2),o>1){
h=t[1],u=e[d],d++,s+="C"+(l.left+c.x)+","+(l.top+c.y)+","+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top
;for(var f=2;f<o;f++,
d++)u=e[d],h=t[f],s+="S"+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top}
if(a){var p=e[d]
;s+="Q"+(u.left+2*h.x/3)+","+(u.top+2*h.y/3)+","+p.left+","+p.top}return s
},t.SvgScene.curveHermiteSegments=function(e,t,i,n){var r
;null==i?(r=e.length,i=0,n=r-1):r=n-i+1;var o=t.length
;if(o<1||r!==o&&r!==o+2)return[];var a=r!==o,s=[],l=e[i],u=l,c=t[0],h=c,d=i+1
;a&&(u=e[i+1],
s.push(["M"+l.left+","+l.top,"Q"+(u.left-2*h.x/3)+","+(u.top-2*h.y/3)+","+u.left+","+u.top]),
d=i+2)
;for(var f=1;f<o;f++,d++)l=u,c=h,u=e[d],h=t[f],s.push(["M"+l.left+","+l.top,"C"+(l.left+c.x)+","+(l.top+c.y)+","+(u.left-h.x)+","+(u.top-h.y)+","+u.left+","+u.top])
;if(a){var p=e[d]
;s.push(["M"+u.left+","+u.top,"Q"+(u.left+2*h.x/3)+","+(u.top+2*h.y/3)+","+p.left+","+p.top])
}return s},t.SvgScene.cardinalTangents=function(e,t,i,n){var r
;null==i?(r=e.length,i=0,n=r-1):r=n-i+1
;for(var o=[],a=(1-t)/2,s=e[i],l=e[i+1],u=e[i+2],c=i+3;c<=n;c++)o.push({
x:a*(u.left-s.left),y:a*(u.top-s.top)}),s=l,l=u,u=e[c];return o.push({
x:a*(u.left-s.left),y:a*(u.top-s.top)}),o
},t.SvgScene.curveCardinal=function(e,t,i,n){var r
;return null==i?(r=e.length,i=0,
n=r-1):r=n-i+1,r<=2?"":this.curveHermite(e,this.cardinalTangents(e,t,i,n),i,n)},
t.SvgScene.curveCardinalSegments=function(e,t,i,n){var r
;return null==i?(r=e.length,
i=0,n=r-1):r=n-i+1,r<=2?"":this.curveHermiteSegments(e,this.cardinalTangents(e,t,i,n),i,n)
},t.SvgScene.monotoneTangents=function(e,t,i){var n
;null==t?(n=e.length,t=0,i=n-1):n=i-t+1;var r,o=[],a=[],s=[],l=[],u=0
;for(u=0;u<n-1;u++){r=t+u;var c=e[r+1].left-e[r].left
;a[u]=Math.abs(c)<=1e-12?0:(e[r+1].top-e[r].top)/c}
for(s[0]=a[0],l[0]=e[t+1].left-e[t].left,
u=1,r=t+u;u<n-1;u++,r++)s[u]=(a[u-1]+a[u])/2,l[u]=(e[r+1].left-e[r-1].left)/2
;for(s[u]=a[u-1],
l[u]=e[r].left-e[r-1].left,u=0;u<n-1;u++)0==a[u]&&(s[u]=0,s[u+1]=0)
;for(u=0;u<n-1;u++)if(!(Math.abs(s[u])<1e-5||Math.abs(s[u+1])<1e-5)){
var h=s[u]/a[u],d=s[u+1]/a[u],f=h*h+d*d;if(f>9){var p=3/Math.sqrt(f)
;s[u]=p*h*a[u],s[u+1]=p*d*a[u]}}for(var m,g=0;g<n;g++)m=1+s[g]*s[g],o.push({
x:l[g]/3/m,y:s[g]*l[g]/3/m});return o},t.SvgScene.curveMonotone=function(e,t,i){
var n
;return null==t?(n=e.length,t=0,i=n-1):n=i-t+1,n<=2?"":this.curveHermite(e,this.monotoneTangents(e,t,i),t,i)
},t.SvgScene.curveMonotoneSegments=function(e,t,i){var n
;return null==t?(n=e.length,
t=0,i=n-1):n=i-t+1,n<=2?"":this.curveHermiteSegments(e,this.monotoneTangents(e,t,i),t,i)
},t.SvgScene.area=function(e){var t=e.$g.firstChild,i=e.length;if(!i)return t
;var n=e[0]
;return"smart"===n.segmented?this.areaSegmentedSmart(t,e):n.segmented?this.areaSegmentedFull(t,e):this.areaFixed(t,e,0,i-1,!0)
},t.SvgScene.areaFixed=function(e,t,i,n,r){
if(1==n-i+1)return this.lineAreaDotAlone(e,t,i);var o=t[i]
;if(!o.visible)return e;var a=o.fillStyle,s=o.strokeStyle
;if(!a.opacity&&!s.opacity)return e
;this.addFillStyleDefinition(t,a),this.addFillStyleDefinition(t,s)
;var l=!1,u=!1,c=!1,h=!1,d=!1;switch(o.interpolate){case"basis":l=!0;break
;case"cardinal":u=!0;break;case"monotone":c=!0;break;case"step-after":h=!0;break
;case"step-before":d=!0}
for(var f,p,m=l||u||c,g=[],v=i;v<=n;v++)if(f=t[v],f.width||f.height){
for(var y=v+1;y<=n&&(p=t[y],p.width||p.height);y++);v>i&&!h&&v--,y<=n&&!d&&y++
;var b=m&&y-v>2?this.areaPathCurve:this.areaPathStraight
;g.push(b.call(this,t,v,y-1,o)),v=y-1}if(!g.length)return e;var _=s.opacity
;return e=this.expect(e,"path",t,i,{
"shape-rendering":o.antialias?null:"crispEdges",
"pointer-events":r?o.events:"none",cursor:o.cursor,d:"M"+g.join("ZM")+"Z",
fill:a.color,"fill-opacity":a.opacity||null,stroke:s.color,
"stroke-opacity":_||null,"stroke-width":_?o.lineWidth/this.scale:null,
"stroke-linecap":o.lineCap,"stroke-linejoin":o.lineJoin,
"stroke-miterlimit":o.strokeMiterLimit,
"stroke-dasharray":_?this.parseDasharray(o):null
}),o.svg&&this.setAttributes(e,o.svg),
o.css&&this.setStyle(e,o.css),this.append(e,t,i)
},t.SvgScene.areaSegmentedSmart=function(e,t){
return this.eachLineAreaSegment(e,t,function(e,t,i,n){
var r=this.areaSegmentPaths(t,i,n),o=r.top,a=r.bottom,s=i,l={
breakOnKeyChange:!0,from:i,to:n}
;return this.eachLineAreaSegment(e,t,l,function(e,t,i,n,r,l){
var u=t[i],c=u.fillStyle,h=u.strokeStyle
;if(this.addFillStyleDefinition(t,c),this.addFillStyleDefinition(t,h),
i===n)return this.lineAreaDotAlone(e,t,i)
;var d=this.areaJoinPaths(o,a,i-s,n-s-1),f=h.opacity,p={
"shape-rendering":u.antialias?null:"crispEdges","pointer-events":l,
cursor:u.cursor,d:d,fill:c.color,"fill-opacity":c.opacity||null,stroke:h.color,
"stroke-opacity":f||null,"stroke-width":f?u.lineWidth/this.scale:null,
"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,
"stroke-miterlimit":u.strokeMiterLimit,
"stroke-dasharray":f?this.parseDasharray(u):null}
;return e=this.expect(e,"path",t,i,p,u.css),this.append(e,t,i)})})
},t.SvgScene.areaSegmentPaths=function(e,t,i){
return this.areaSegmentCurvePaths(e,t,i)||this.areaSegmentStraightPaths(e,t,i)},
t.SvgScene.areaSegmentCurvePaths=function(e,t,i){
var n=i-t+1,r=e[t],o="basis"===r.interpolate,a=!o&&"cardinal"===r.interpolate
;if(o||a||"monotone"==r.interpolate){for(var s=[],l=[],u=0;u<n;u++){
var c=e[t+u],h=e[i-u];s.push(c),l.push({left:h.left+h.width,top:h.top+h.height})
}var d,f
;if(o?(d=this.curveBasisSegments(s),f=this.curveBasisSegments(l)):a?(d=this.curveCardinalSegments(s,r.tension),
f=this.curveCardinalSegments(l,r.tension)):(d=this.curveMonotoneSegments(s),
f=this.curveMonotoneSegments(l)),d||d.length)return{from:t,top:d,bottom:f}}
},t.SvgScene.areaSegmentStraightPaths=function(e,t,i){
for(var n=[],r=[],o=i,a=t;t<o;t++,i--){
var s=e[t],l=e[i],u=["M"+s.left+","+s.top],c=["M"+(l.left+l.width)+","+(l.top+l.height)],h=e[t+1],d=e[i-1]
;switch(s.interpolate){case"step-before":u.push("V"+h.top+"H"+h.left);break
;case"step-after":u.push("H"+h.left+"V"+h.top);break;default:
u.push("L"+h.left+","+h.top)}
c.push("L"+(d.left+d.width)+","+(d.top+d.height)),n.push(u),r.push(c)}return{
from:a,top:n,bottom:r}},t.SvgScene.areaJoinPaths=function(e,t,i,n){
for(var r="",o="",a=e.length,s=i,l=a-1-n;s<=n;s++,l++){var u,c,h=e[s],d=t[l]
;s===i?(u=h.join(""),c="L"+d[0].substr(1)+d[1]):(u=h[1],c=d[1]),r+=u,o+=c}
return r+o+"Z"},t.SvgScene.areaSegmentedFull=function(e,t){
var i,n,r=t.length,o=this.areaSegmentCurvePaths(t,0,r-1);o&&(i=o.top,n=o.bottom)
;for(var a=(t[0],0);a<r-1;a++){var s=t[a],l=t[a+1];if(s.visible&&l.visible){
var u=s.fillStyle,c=s.strokeStyle;if(u.opacity||c.opacity){var h
;if(i)h=i[a].join("")+"L"+n[r-a-2].join("").substr(1)+"Z";else{var d=s,f=l
;switch(s.interpolate){case"step-before":d=l;break;case"step-after":f=s}
h="M"+s.left+","+d.top+"L"+l.left+","+f.top+"L"+(l.left+l.width)+","+(f.top+f.height)+"L"+(s.left+s.width)+","+(d.top+d.height)+"Z"
}var p={"shape-rendering":s.antialias?null:"crispEdges",
"pointer-events":s.events,cursor:s.cursor,d:h,fill:u.color,
"fill-opacity":u.opacity||null,stroke:c.color,"stroke-opacity":c.opacity||null,
"stroke-width":c.opacity?s.lineWidth/this.scale:null}
;e=this.expect(e,"path",t,a,p),
s.svg&&this.setAttributes(e,s.svg),s.css&&this.setStyle(e,s.css),
e=this.append(e,t,a)}}}return e},t.SvgScene.areaPathStraight=function(e,t,i,n){
for(var r=[],o=[],a=i;t<=a;t++,i--){
var s=e[t],l=e[i],u=s.left+","+s.top,c=l.left+l.width+","+(l.top+l.height)
;if(t<a){var h=e[t+1],d=e[i-1];switch(n.interpolate){case"step-before":
u+="V"+h.top,c+="H"+(d.left+d.width);break;case"step-after":
u+="H"+h.left,c+="V"+(d.top+d.height)}}r.push(u),o.push(c)}
return r.concat(o).join("L")},t.SvgScene.areaPathCurve=function(e,t,i,n){
for(var r,o,a=[],s=[],l=i;t<=l;t++,i--){var u=e[i];a.push(e[t]),s.push({
left:u.left+u.width,top:u.top+u.height})}switch(n.interpolate){case"basis":
r=this.curveBasis(a),o=this.curveBasis(s);break;case"cardinal":
r=this.curveCardinal(a,n.tension),o=this.curveCardinal(s,n.tension);break
;default:r=this.curveMonotone(a),o=this.curveMonotone(s)}
return a[0].left+","+a[0].top+r+"L"+s[0].left+","+s[0].top+o
},t.SvgScene.minBarWidth=1,
t.SvgScene.minBarHeight=1,t.SvgScene.minBarLineWidth=.2,
t.SvgScene.bar=function(e){for(var t=e.$g.firstChild,i=0;i<e.length;i++){
var n=e[i]
;if(!(!n.visible||Math.abs(n.width)<=1e-10||Math.abs(n.height)<=1e-10)){
n.width<this.minBarWidth&&(n.width=this.minBarWidth),
n.height<this.minBarHeight&&(n.height=this.minBarHeight)
;var r=n.fillStyle,o=n.strokeStyle;if(r.opacity||o.opacity){
this.addFillStyleDefinition(e,r),this.addFillStyleDefinition(e,o);var a
;o.opacity?(a=n.lineWidth,
a=a<1e-10?0:Math.max(this.minBarLineWidth,a/this.scale)):a=null,
t=this.expect(t,"rect",e,i,{"shape-rendering":n.antialias?null:"crispEdges",
"pointer-events":n.events,cursor:n.cursor,x:n.left,y:n.top,
width:Math.max(1e-10,n.width),height:Math.max(1e-10,n.height),fill:r.color,
"fill-opacity":r.opacity||null,stroke:o.color,"stroke-opacity":o.opacity||null,
"stroke-width":a,"stroke-linecap":n.lineCap,
"stroke-dasharray":o.opacity?this.parseDasharray(n):null
}),n.svg&&this.setAttributes(t,n.svg),
n.css&&this.setStyle(t,n.css),t=this.append(t,e,i)}}}return t
},t.SvgScene.dot=function(e){for(var i=e.$g.firstChild,n=0,r=e.length;n<r;n++){
var o=e[n];if(o.visible){
var a=o.fillStyle,s=a.opacity,l=o.strokeStyle,u=l.opacity;if(s||u){
this.addFillStyleDefinition(e,a),this.addFillStyleDefinition(e,l);var c={
"shape-rendering":o.antialias?null:"crispEdges","pointer-events":o.events,
cursor:o.cursor,fill:a.color,"fill-opacity":s||null,stroke:l.color,
"stroke-opacity":u||null,"stroke-width":u?o.lineWidth/this.scale:null,
"stroke-linecap":o.lineCap,"stroke-dasharray":u?this.parseDasharray(o):null
},h=o.shape||"circle",d=o.aspectRatio,f=o.shapeAngle,p=null
;if("circle"!==h&&this.hasSymbol(h)){var m=o.shapeRadius,g=m,v=m;if(d>0&&1!==d){
var y=1/Math.sqrt(d);g*=d*y,v*=y}
c.d=this.renderSymbol(h,o,g,v),h="path",p="translate("+o.left+","+o.top+") ",
f&&(p+="rotate("+t.degrees(f)+") ")
}else 1===d?(h="circle",c.cx=o.left,c.cy=o.top,
c.r=o.shapeRadius):(h="ellipse",c.cx=c.cy=0,
p="translate("+o.left+","+o.top+") ",
f&&(p+="rotate("+t.degrees(f)+") "),c.rx=o._width/2,c.ry=o._height/2)
;p&&(c.transform=p),i=this.expect(i,h,e,n,c),o.svg&&this.setAttributes(i,o.svg),
o.css&&this.setStyle(i,o.css),i=this.append(i,e,n)}}}return i},function(e){
var i={};e.registerSymbol=function(t,n){return i[t.toLowerCase()]=n,e
},e.renderSymbol=function(t,n,r,o){return i[t].call(e,n,t,r,o)
},e.hasSymbol=function(e){return i.hasOwnProperty(e)},e.symbols=function(){
return t.keys(i)};var n=2/Math.sqrt(3);e.registerSymbol("circle",function(e){
throw new Error("Not implemented as a symbol")
}).registerSymbol("cross",function(e,t,i,n){var r=(e.shapeRadius,-i),o=-n
;return"M"+r+","+o+"L"+i+","+n+"M"+i+","+o+"L"+r+","+n
}).registerSymbol("triangle",function(e,t,i,r){var o=r,a=i*n,s=-r
;return"M0,"+o+"L"+a+","+s+" "+-a+","+s+"Z"
}).registerSymbol("diamond",function(e,t,i,n){var r=i*Math.SQRT2,o=n*Math.SQRT2
;return"M0,"+-o+"L"+r+",0 0,"+o+" "+-r+",0Z"
}).registerSymbol("square",function(e,t,i,n){var r=-i,o=-n
;return"M"+r+","+o+"L"+i+","+o+" "+i+","+n+" "+r+","+n+"Z"
}).registerSymbol("tick",function(e,t,i,n){return"M0,0L0,"+-n*n
}).registerSymbol("bar",function(e,t,i,n){var r=n*n/2;return"M0,"+r+"L0,"+-r})
}(t.SvgScene),t.SvgScene.image=function(e){
for(var t=e.$g.firstChild,i=0;i<e.length;i++){var n=e[i];if(n.visible){
if(t=this.fill(t,e,i),n.image){t=this.expect(t,"foreignObject",e,i,{
cursor:n.cursor,x:n.left,y:n.top,width:n.width,height:n.height
}),n.svg&&this.setAttributes(t,n.svg),n.css&&this.setStyle(t,n.css)
;var r=t.firstChild||t.appendChild(document.createElementNS(this.xhtml,"canvas"))
;r.$scene={scenes:e,index:i
},r.style.width=n.width,r.style.height=n.height,r.width=n.imageWidth,
r.height=n.imageHeight,r.getContext("2d").putImageData(n.image,0,0)
}else t=this.expect(t,"image",e,i,{preserveAspectRatio:"none",cursor:n.cursor,
x:n.left,y:n.top,width:n.width,height:n.height
}),n.svg&&this.setAttributes(t,n.svg),
n.css&&this.setStyle(t,n.css),t.setAttributeNS(this.xlink,"xlink:href",n.url)
;t=this.append(t,e,i),t=this.stroke(t,e,i)}}return t
},t.SvgScene.label=function(e){for(var t=e.$g.firstChild,i=0;i<e.length;i++){
var n=e[i];if(n.visible){var r=n.textStyle;if(r.opacity&&n.text){
var o=0,a=0,s=0,l="start";switch(n.textBaseline){case"middle":s=".35em";break
;case"top":s=".71em",a=n.textMargin;break;case"bottom":a="-"+n.textMargin}
switch(n.textAlign){case"right":l="end",o="-"+n.textMargin;break;case"center":
l="middle";break;case"left":o=n.textMargin}t=this.expect(t,"text",e,i,{
"pointer-events":n.events,cursor:n.cursor,x:o,y:a,dy:s,
transform:"translate("+n.left+","+n.top+")"+(n.textAngle?" rotate("+180*n.textAngle/Math.PI+")":"")+(1!=this.scale?" scale("+1/this.scale+")":""),
fill:r.color,"fill-opacity":r.opacity||null,"text-anchor":l},{font:n.font,
"text-shadow":n.textShadow,"text-decoration":n.textDecoration
}),n.svg&&this.setAttributes(t,n.svg),
n.css&&this.setStyle(t,n.css),t.firstChild?t.firstChild.nodeValue=n.text:t.appendChild(document.createTextNode(n.text)),
t=this.append(t,e,i)}}}return t},t.SvgScene.line=function(e){
var t=e.$g.firstChild,i=e.length;if(!i)return t;var n=e[0]
;return"smart"===n.segmented?this.lineSegmentedSmart(t,e):i<2?t:n.segmented?this.lineSegmentedFull(t,e):this.lineFixed(t,e)
},t.SvgScene.lineFixed=function(e,t){var i=t.length
;if(1===i)return this.lineAreaDotAlone(e,t,0);var n=t[0];if(!n.visible)return e
;var r=n.fillStyle,o=n.strokeStyle;if(!r.opacity&&!o.opacity)return e
;this.addFillStyleDefinition(t,r),this.addFillStyleDefinition(t,o)
;var a="M"+n.left+","+n.top,s=i>2;if(s)switch(n.interpolate){case"basis":
a+=this.curveBasis(t);break;case"cardinal":a+=this.curveCardinal(t,n.tension)
;break;case"monotone":a+=this.curveMonotone(t);break;default:s=!1}
if(!s)for(var l=1;l<i;l++)a+=this.lineSegmentPath(t[l-1],t[l])
;var u=o.opacity,c={"shape-rendering":n.antialias?null:"crispEdges",
"pointer-events":n.events,cursor:n.cursor,d:a,fill:r.color,
"fill-opacity":r.opacity||null,stroke:o.color,"stroke-opacity":u||null,
"stroke-width":u?n.lineWidth/this.scale:null,"stroke-linecap":n.lineCap,
"stroke-linejoin":n.lineJoin,"stroke-miterlimit":n.strokeMiterLimit,
"stroke-dasharray":u?this.parseDasharray(n):null}
;return e=this.expect(e,"path",t,0,c,n.css),
n.svg&&this.setAttributes(e,n.svg),this.append(e,t,0)
},t.SvgScene.lineSegmentedSmart=function(e,t){
return this.eachLineAreaSegment(e,t,function(e,t,i,n){
var r=this.lineSegmentPaths(t,i,n),o=i,a={breakOnKeyChange:!0,from:i,to:n}
;return this.eachLineAreaSegment(e,t,a,function(e,t,i,n,a,s){
var l=t[i],u=l.fillStyle;this.addFillStyleDefinition(t,u);var c=l.strokeStyle
;if(this.addFillStyleDefinition(t,c),i===n)return this.lineAreaDotAlone(e,t,i)
;var h=this.lineJoinPaths(r,i-o,n-o-1),d=c.opacity,f={
"shape-rendering":l.antialias?null:"crispEdges","pointer-events":s,
cursor:l.cursor,d:h,fill:u.color,"fill-opacity":u.opacity||null,stroke:c.color,
"stroke-opacity":d||null,"stroke-width":d?l.lineWidth/this.scale:null,
"stroke-linecap":l.lineCap,"stroke-linejoin":l.lineJoin,
"stroke-miterlimit":l.strokeMiterLimit,
"stroke-dasharray":d?this.parseDasharray(l):null}
;return e=this.expect(e,"path",t,i,f,l.css),this.append(e,t,i)})})
},t.SvgScene.lineSegmentedFull=function(e,i){var n,r=i[0];switch(r.interpolate){
case"basis":n=this.curveBasisSegments(i);break;case"cardinal":
n=this.curveCardinalSegments(i,r.tension);break;case"monotone":
n=this.curveMonotoneSegments(i)}for(var o=0,a=i.length-1;o<a;o++){
var s=i[o],l=i[o+1];if(s.visible&&l.visible){
var u=s.strokeStyle,c=t.FillStyle.transparent;if(u.opacity){var h
;"linear"==s.interpolate&&"miter"==s.lineJoin?(c=u,
u=t.FillStyle.transparent,h=this.pathJoin(i[o-1],s,l,i[o+2])):h=n?n[o].join(""):"M"+s.left+","+s.top+this.lineSegmentPath(s,l),
e=this.expect(e,"path",i,o,{"shape-rendering":s.antialias?null:"crispEdges",
"pointer-events":s.events,cursor:s.cursor,d:h,fill:c.color,
"fill-opacity":c.opacity||null,stroke:u.color,"stroke-opacity":u.opacity||null,
"stroke-width":u.opacity?s.lineWidth/this.scale:null,
"stroke-linejoin":s.lineJoin
}),s.svg&&this.setAttributes(e,s.svg),s.css&&this.setStyle(e,s.css),
e=this.append(e,i,o)}}}return e},t.SvgScene.lineSegmentPath=function(e,t){
var i=1;switch(e.interpolate){case"polar-reverse":i=0;case"polar":
var n=t.left-e.left,r=t.top-e.top,o=1-e.eccentricity,a=Math.sqrt(n*n+r*r)/(2*o)
;if(o<=0||o>1)break;return"A"+a+","+a+" 0 0,"+i+" "+t.left+","+t.top
;case"step-before":return"V"+t.top+"H"+t.left;case"step-after":
return"H"+t.left+"V"+t.top}return"L"+t.left+","+t.top
},t.SvgScene.lineSegmentPaths=function(e,t,i){var n,r=e[t]
;switch(r.interpolate){case"basis":n=this.curveBasisSegments(e,t,i);break
;case"cardinal":n=this.curveCardinalSegments(e,r.tension,t,i);break
;case"monotone":n=this.curveMonotoneSegments(e,t,i)}if(!n||!n.length){n=[]
;for(var o=t+1;o<=i;o++){var a=e[o-1],s=e[o]
;n.push(["M"+a.left+","+a.top,this.lineSegmentPath(a,s)])}}return n
},t.strokeMiterLimit=4,t.SvgScene.pathJoin=function(e,i,n,r){
var o,a,s,l=[],u=i.lineWidth/this.scale,c=t.vector(i.left,i.top),h=t.vector(n.left,n.top),d=h.minus(c),f=d.perp().norm(),p=f.times(u/2),m=c.plus(p),g=c.minus(p),v=h.plus(p),y=h.minus(p)
;if(e&&e.visible){
var b=t.vector(e.left,e.top),_=c.minus(b),x=_.perp().norm(),w=x.plus(f).norm(),C=this.lineIntersect(c,w,m,d),S=this.lineIntersect(c,w,g,d)
;s=C.minus(S).length();var k=e.lineWidth/this.scale,D=(u+k)/2
;if(a=s/D,o=i.strokeMiterLimit||t.strokeMiterLimit,a<=o)l.push(S,C);else{
var M=d.times(-1),N=_.norm().plus(M.norm()).norm(),T=c.plus(N.times(D/2))
;N.dot(f)>=0?l.push(S,T,m):l.push(g,T,C)}}else l.push(g,m);if(r&&r.visible){
var A=t.vector(r.left,r.top),j=A.minus(h),I=j.perp().norm(),P=I.plus(f).norm(),L=this.lineIntersect(h,P,v,d),R=this.lineIntersect(h,P,y,d)
;s=L.minus(R).length();var O=r.lineWidth/this.scale,E=(O+u)/2
;if(a=s/E,o=n.strokeMiterLimit||t.strokeMiterLimit,a<=o)l.push(L,R);else{
var B=j.times(-1),F=d.norm().plus(B.norm()).norm(),z=h.plus(F.times(E/2))
;F.dot(f)>=0?l.push(v,z,R):l.push(L,z,y)}}else l.push(v,y);var V=l.shift()
;return"M"+V.x+","+V.y+"L"+l.map(function(e){return e.x+","+e.y}).join(" ")
},t.SvgScene.lineIntersect=function(e,t,i,n){
return e.plus(t.times(i.minus(e).dot(n.perp())/t.dot(n.perp())))
},t.SvgScene.lineJoinPaths=function(e,t,i){
for(var n=e[t].join(""),r=t+1;r<=i;r++)n+=e[r][1];return n
},t.SvgScene.lineAreaDotAlone=function(e,t,i){return e},t.Scene.eventsToNumber={
"":0,none:0,painted:1,all:2
},t.Scene.numberToEvents=["none","painted","all"],t.SvgScene.eachLineAreaSegment=function(e,i,n,r){
"function"==typeof n&&(r=n,n=null)
;var o,a,s,l=t.get(n,"breakOnKeyChange",!1),u=t.get(n,"from")||0,c=t.get(n,"to",i.length-1)
;l&&(a=[],s=[]);for(var h=u;h<=c;){var d=i[h];if(this.isSceneVisible(d)){
o=this.eventsToNumber[d.events]||0,l&&this.lineAreaSceneKey(d,a)
;for(var f,p=h;;){var m=p+1;if(m>c){f=m;break}var g=i[m]
;if(!this.isSceneVisible(g)){f=m+1;break}
if(o=Math.max(o,this.eventsToNumber[g.events]||0),
p=m,l&&(this.lineAreaSceneKey(g,s),!this.equalSceneKeys(a,s))){f=p;break}}
e=r.call(this,e,i,h,p,n,this.numberToEvents[o]),h=f}else h++}return e
},t.SvgScene.lineAreaSceneKey=function(e,t){
return t[0]=e.fillStyle.key,t[1]=e.strokeStyle.key,
t[2]=e.lineWidth,t[3]=e.strokeDasharray||"none",t[4]=e.interpolate,t
},t.SvgScene.isSceneVisible=function(e){
return e.visible&&(e.fillStyle.opacity>0||e.strokeStyle.opacity>0)
},t.SvgScene.equalSceneKeys=function(e,t){
for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0
},t.SvgScene.panel=function(e){
for(var t=e.$g,i=t&&t.firstChild,n=0,r=e.length;n<r;n++){var o=e[n]
;if(o.visible){if(!e.parent){var a=o.canvas
;this.applyCanvasStyle(a),t&&t.parentNode!==a&&(t=a.firstChild,
i=t&&t.firstChild),
t?i&&"defs"===i.tagName&&(i=i.nextSibling):(t=this.createRootPanelElement(),
i=null,
this.initRootPanelElement(t,e.mark),a.appendChild(t),e.$defs=t.appendChild(this.create("defs")),
e.$g=t),
t.setAttribute("width",o.width+o.left+o.right),t.setAttribute("height",o.height+o.top+o.bottom)
}var s=null;if("hidden"===o.overflow){var l=this.addPanelClipPath(t,i,e,n,o)
;s=l.g,e.$g=t=s,i=l.next}i=this.fill(i,e,n)
;var u=this.scale,c=o.transform,h=o.left+c.x,d=o.top+c.y
;if(this.scale*=c.k,o.children.length)for(var f={
transform:"translate("+h+","+d+")"+(1!=c.k?" scale("+c.k+")":"")
},p=this.getSortedChildScenes(e,n),m=0,g=p.length;m<g;m++){var v=p[m]
;v.$g=i=this.expect(i,"g",e,n,f),
this.updateAll(v),i.parentNode||t.appendChild(i),i=i.nextSibling}
this.scale=u,i=this.stroke(i,e,n),s&&(e.$g=t=s.parentNode,i=s.nextSibling)}}
return i},t.SvgScene.applyCanvasStyle=function(e){e.style.display="inline-block"
},t.SvgScene.createRootPanelElement=function(){return this.create("svg")
},t.SvgScene.initRootPanelElement=function(e,t){
e.setAttribute("font-size","10px"),
e.setAttribute("font-family","sans-serif"),e.setAttribute("fill","none"),
e.setAttribute("stroke","none"),
e.setAttribute("stroke-width",1.5),this.disableElementSelection(e),
this.listenRootPanelElement(e,t)
},t.SvgScene.listenRootPanelElement=function(e,t){
for(var i=0,n=this.events,r=n.length;i<r;i++)e.addEventListener(n[i],this.dispatch,!1),
t._registerBoundEvent(e,n[i],this.dispatch,!1)
},t.SvgScene.disableElementSelection=function(e){
e.setAttribute("style","-webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;"),
void 0!==e.onselectstart&&(e.setAttribute("unselectable","on"),
e.onselectstart=function(){return!1})
},t.SvgScene.addPanelClipPath=function(e,i,n,r,o){
var a=t.id().toString(36),s=this.expect(i,"g",n,r,{"clip-path":"url(#"+a+")"
}),l=this.expect(s.firstChild,"clipPath",n,r,{id:a
}),u=l.firstChild||l.appendChild(this.create("rect"))
;return u.setAttribute("x",o.left),
u.setAttribute("y",o.top),u.setAttribute("width",o.width),
u.setAttribute("height",o.height),
l.parentNode||s.appendChild(l),s.parentNode||e.appendChild(s),{g:s,
next:l.nextSibling}},t.SvgScene.getSortedChildScenes=function(e,t){
var i=e[t].children
;return e.mark._zOrderChildCount&&(i=i.slice(0),i.sort(function(e,t){
var i=e.mark._zOrder-t.mark._zOrder;return 0===i&&(i=e.childIndex-t.childIndex),
i})),i},t.SvgScene.fill=function(e,t,i){var n=t[i],r=n.fillStyle
;return(r.opacity||"all"==n.events)&&(this.addFillStyleDefinition(t,r),
e=this.expect(e,"rect",t,i,{"shape-rendering":n.antialias?null:"crispEdges",
"pointer-events":n.events,cursor:n.cursor,x:n.left,y:n.top,width:n.width,
height:n.height,fill:r.color,"fill-opacity":r.opacity,stroke:null
}),e=this.append(e,t,i)),e},t.SvgScene.stroke=function(e,t,i){
var n=t[i],r=n.strokeStyle
;return(r.opacity||"all"==n.events)&&(e=this.expect(e,"rect",t,i,{
"shape-rendering":n.antialias?null:"crispEdges",
"pointer-events":"all"==n.events?"stroke":n.events,cursor:n.cursor,x:n.left,
y:n.top,width:Math.max(1e-10,n.width),height:Math.max(1e-10,n.height),fill:null,
stroke:r.color,"stroke-opacity":r.opacity,"stroke-width":n.lineWidth/this.scale,
"stroke-linecap":n.lineCap,
"stroke-dasharray":r.opacity?this.parseDasharray(n):null
}),e=this.append(e,t,i)),e
},t.SvgScene.minRuleLineWidth=1,t.SvgScene.rule=function(e){
for(var t=e.$g.firstChild,i=0;i<e.length;i++){var n=e[i];if(n.visible){
var r=n.strokeStyle;if(r.opacity){var o=n.lineWidth
;o=o<1e-10?0:Math.max(this.minRuleLineWidth,o/this.scale),
t=this.expect(t,"line",e,i,{"shape-rendering":n.antialias?null:"crispEdges",
"pointer-events":n.events,cursor:n.cursor,x1:n.left,y1:n.top,x2:n.left+n.width,
y2:n.top+n.height,stroke:r.color,"stroke-opacity":r.opacity,"stroke-width":o,
"stroke-linecap":n.lineCap,
"stroke-dasharray":r.opacity?this.parseDasharray(n):null
}),n.svg&&this.setAttributes(t,n.svg),
n.css&&this.setStyle(t,n.css),t=this.append(t,e,i)}}}return t
},t.SvgScene.wedge=function(e){for(var t=e.$g.firstChild,i=0;i<e.length;i++){
var n=e[i];if(n.visible){var r=n.fillStyle,o=n.strokeStyle
;if(r.opacity||o.opacity){
var a,s=n.innerRadius,l=n.outerRadius,u=Math.abs(n.angle)
;if(u>=2*Math.PI)a=s?"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+-s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":"M0,"+l+"A"+l+","+l+" 0 1,1 0,"+-l+"A"+l+","+l+" 0 1,1 0,"+l+"Z";else{
var c=Math.min(n.startAngle,n.endAngle),h=Math.max(n.startAngle,n.endAngle),d=Math.cos(c),f=Math.cos(h),p=Math.sin(c),m=Math.sin(h)
;a=s?"M"+l*d+","+l*p+"A"+l+","+l+" 0 "+(u<Math.PI?"0":"1")+",1 "+l*f+","+l*m+"L"+s*f+","+s*m+"A"+s+","+s+" 0 "+(u<Math.PI?"0":"1")+",0 "+s*d+","+s*p+"Z":"M"+l*d+","+l*p+"A"+l+","+l+" 0 "+(u<Math.PI?"0":"1")+",1 "+l*f+","+l*m+"L0,0Z"
}
this.addFillStyleDefinition(e,r),this.addFillStyleDefinition(e,o),t=this.expect(t,"path",e,i,{
"shape-rendering":n.antialias?null:"crispEdges","pointer-events":n.events,
cursor:n.cursor,transform:"translate("+n.left+","+n.top+")",d:a,fill:r.color,
"fill-rule":"evenodd","fill-opacity":r.opacity||null,stroke:o.color,
"stroke-opacity":o.opacity||null,
"stroke-width":o.opacity?n.lineWidth/this.scale:null,
"stroke-linejoin":n.lineJoin,"stroke-miterlimit":n.strokeMiterLimit,
"stroke-linecap":n.lineCap,
"stroke-dasharray":o.opacity?this.parseDasharray(n):null
}),n.svg&&this.setAttributes(t,n.svg),
n.css&&this.setStyle(t,n.css),t=this.append(t,e,i)}}}return t
},t.Mark=function(){this.$properties=[],this.$propertiesMap={},this.$handlers={}
},
t.Mark.prototype.properties={},t.Mark.cast={},t.Mark.prototype.property=function(e,i){
return this.hasOwnProperty("properties")||(this.properties=t.extend(this.properties)),
this.properties[e]=!0,
t.Mark.prototype.propertyMethod(e,!1,t.Mark.cast[e]=i),this
},t.Mark.prototype.localProperty=function(e,i){
this.hasOwnProperty("properties")||(this.properties=t.extend(this.properties)),
this.properties[e]=!0;var n=t.Mark.cast[e]
;return i&&(t.Mark.cast[e]=n=i),this.propertyMethod(e,!1,n),this
},t.Mark.prototype.def=function(e,t){
return this.propertyMethod(e,!0),this[e](arguments.length>1?t:null)
},t.Mark.prototype.propertyMethod=function(e,i,n){
n||(n=t.Mark.cast[e]),this[e]=function(r,o){if(i&&this.scene){
var a=this.scene.defs;if(arguments.length)return a[e]={id:null==r?0:t.id(),
value:null!=r&&n?n(r):r},this;var s=a[e];return s?s.value:null}
if(arguments.length)return this.setPropertyValue(e,r,i,n,!1,o),this
;var l=this.instance()
;return t.propBuildMark===this&&1!==t.propBuilt[e]?(t.propBuilt[e]=1,
l[e]=this.evalProperty(this.binds.properties[e])):l[e]}
},t.Mark.funPropertyCaller=function(e,i){function n(){var t=e.apply(this,r)
;return null!=t?i(t):t}var r=t.Mark.stack;return n
},t.Mark.prototype.setPropertyValue=function(e,i,n,r,o,a){
var s=!n<<1|"function"==typeof i
;1&s&&r?i=t.Mark.funPropertyCaller(i,r):null!=i&&r&&(i=r(i))
;var l=this.$propertiesMap,u=this.$properties,c={name:e,id:t.id(),value:i,
type:s,tag:a,proto:null,root:null,_proto:null};c.root=c;var h=l[e]
;if(l[e]=c,h)for(var d=0,f=u.length;d<f;d++)if(u[d]===h){u.splice(d,1);break}
return u.push(c),o&&h&&3===s&&(c.proto=h,c.root=h.root),c
},t.Mark.prototype.intercept=function(e,i,n){
return this.setPropertyValue(e,i,!1,t.get(n,"noCast")?null:t.Mark.cast[e],!0,t.get(n,"tag")),
this},t.Mark.prototype.propertyValue=function(e,t){var i=this.$propertiesMap[e]
;if(i)return i.value;if(t){if(this.proto){
var n=this.proto._propertyValueRecursive(e);if(void 0!==n)return n}
return this.defaults._propertyValueRecursive(e)}
},t.Mark.prototype._propertyValueRecursive=function(e){
var t=this.$propertiesMap[e]
;return t?t.value:this.proto?this.proto._propertyValueRecursive(e):void 0
},t.Mark.stack=[],
t.Mark.prototype.property("data").property("visible",Boolean).property("css",Object).property("svg",Object).property("left",Number).property("right",Number).property("top",Number).property("bottom",Number).property("cursor",String).property("title",String).property("reverse",Boolean).property("antialias",Boolean).property("events",t.stringLowerCase).property("id",String),
t.Mark.prototype.childIndex=-1,
t.Mark.prototype.index=-1,t.Mark.prototype.scale=1,
t.Mark.prototype._zOrder=0,t.Mark.prototype.defaults=(new t.Mark).data(function(e){
return[e]
}).visible(!0).antialias(!0).events("painted"),t.Mark.prototype.extend=function(e){
return this.proto=e,this.target=e.target,this},t.Mark.prototype.add=function(e){
return this.parent.add(e).extend(this)},t.Mark.prototype.zOrder=function(e){
if(!arguments.length)return this._zOrder;if(e=+e||0,this._zOrder!==e){
var t=this.parent
;t&&0!==this._zOrder&&t._zOrderChildCount--,this._zOrder=e,t&&0!==this._zOrder&&t._zOrderChildCount++
}return this},t.Mark.prototype.anchor=function(e){
return new t.Anchor(this).name(e||"center").data(function(){
return this.scene.target.map(function(e){return e.data})}).visible(function(){
return this.scene.target[this.index].visible}).id(function(){
return this.scene.target[this.index].id}).left(function(){
var e=this.scene.target[this.index],t=e.width||0;switch(this.name()){
case"bottom":case"top":case"center":return e.left+t/2;case"left":return null}
return e.left+t}).top(function(){
var e=this.scene.target[this.index],t=e.height||0;switch(this.name()){
case"left":case"right":case"center":return e.top+t/2;case"top":return null}
return e.top+t}).right(function(){var e=this.scene.target[this.index]
;return"left"==this.name()?e.right+(e.width||0):null}).bottom(function(){
var e=this.scene.target[this.index]
;return"top"==this.name()?e.bottom+(e.height||0):null}).textAlign(function(){
switch(this.name()){case"bottom":case"top":case"center":return"center"
;case"right":return"right"}return"left"}).textBaseline(function(){
switch(this.name()){case"right":case"left":case"center":return"middle"
;case"top":return"top"}return"bottom"})
},t.Mark.prototype.anchorTarget=function(){return this.target
},t.Mark.prototype.margin=function(e){
return this.left(e).right(e).top(e).bottom(e)
},t.Mark.prototype.instance=function(e){
var t=this.scene||this.parent.instance(-1).children[this.childIndex],i=null==e||this.hasOwnProperty("index")?this.index:e
;return t[i<0?t.length-1:i]},t.Mark.prototype.instances=function(e){
for(var i,n=this,r=[];!(i=n.scene);)r.push({index:e.parentIndex,
childIndex:n.childIndex}),e=e.parent,n=n.parent;for(var o=r.length;o--;){
var a=r[o];i=i[a.index].children[a.childIndex]}if(this.hasOwnProperty("index")){
var s=t.extend(i[this.index]);return s.right=s.top=s.left=s.bottom=0,[s]}
return i},t.Mark.prototype.first=function(){return this.scene[0]
},t.Mark.prototype.last=function(){return this.scene[this.scene.length-1]
},t.Mark.prototype.sibling=function(){
return 0==this.index?null:this.scene[this.index-1]
},t.Mark.prototype.cousin=function(){var e=this.parent,t=e&&e.sibling()
;return t&&t.children?t.children[this.childIndex][this.index]:null
},t.Mark.prototype._renderId=0,t.Mark.prototype.renderId=function(){
return this.root._renderId},t.Mark.prototype.render=function(){var e=this.root
;!this.parent||e.scene?(e._renderId++,this.renderCore()):e.render()
},t.Mark.prototype.renderCore=function(){function e(e,n,o){if(e.scale=o,n<l){
var a=n>=r.length
;if(a&&r.unshift(null),e.hasOwnProperty("index"))i(e,n,o,a);else{
for(var s=0,u=e.scene.length;s<u;s++)e.index=s,i(e,n,o,a);delete e.index}
a&&r.shift()}else e.build(),t.Scene.scale=o,t.Scene.updateAll(e.scene)
;delete e.scale}function i(t,i,n,o){var s,l=t.scene[t.index];if(l.visible){
var u=t.children,c=l.children,h=a[i],d=u[h]
;for(d.scene||h++,s=0;s<h;s++)u[s].scene=c[s]
;for(o&&(r[0]=l.data),e(d,i+1,n*l.transform.k),s=0;s<h;s++)u[s].scene=void 0}}
for(var n=this.parent,r=t.Mark.stack,o=r.length,a=[],s=this;s.parent;s=s.parent)a.unshift(s.childIndex)
;var l=a.length;for(this.bind();n&&!n.hasOwnProperty("index");)n=n.parent;try{
this.context(n?n.scene:void 0,n?n.index:-1,function(){e(this.root,0,1)})
}catch(e){throw r.length>o&&(r.length=o),e}},t.Mark.prototype.bind=function(){
function e(e){do{for(var t=e.$properties,s=t.length;s--;){
var l=t[s],u=l.name,c=n[u];if(c){var h=r[u]
;3===h.type&&(h._proto=l,h=r[u]=l.root,h._proto=null)
}else switch(n[u]=l,r[u]=l.root,l.root._proto=null,u){case"data":i=l;break
;case"visible":case"id":o.push(l);break;default:a[l.type].push(l)}}
}while(e=e.proto)}var i,n={},r={},o=[],a=[[],[],[],[]];e(this),e(this.defaults)
;var s=a[0],l=a[1].reverse(),u=a[2];a[3].reverse();var c=this;do{
for(var h in c.properties)h in n||u.push(n[h]={name:h,type:2,value:null})
}while(c=c.proto);var d;if(s.length||l.length){d=s.concat(l)
;for(var f=0,p=d.length;f<p;f++)this.propertyMethod(d[f].name,!0)}else d=[]
;this.binds={properties:n,data:i,defs:d,required:o,optional:t.blend(a)}
},t.Mark.prototype.build=function(){var e=t.Mark.stack,i=this.scene;if(!i){
i=this.scene=[],i.mark=this,i.type=this.type,i.childIndex=this.childIndex
;var n=this.parent;n&&(i.parent=n.scene,i.parentIndex=n.index)}
this.target&&(i.target=this.target.instances(i));var r=this.binds.defs
;if(r.length)for(var o=i.defs||(i.defs={}),a=0,s=r.length;a<s;a++){
var l=r[a],u=o[l.name];(!u||l.id>u.id)&&(o[l.name]={id:0,
value:1&l.type?l.value.apply(this,e):l.value})}
var c=this.evalProperty(this.binds.data),h=c.length;if(i.length=h,h){
var d=t.Mark.prototype;e.unshift(null);var f=t.propBuildMark,p=t.propBuilt
;t.propBuildMark=this;try{for(var a=0;a<h;a++){
d.index=this.index=a,t.propBuilt={};var m=i[a]
;m?m._state&&delete m._state:m=i[a]={},
m.data=e[0]=c[a],this.preBuildInstance(m),this.buildInstance(m)}}finally{
d.index=-1,delete this.index,e.shift(),t.propBuildMark=f,t.propBuilt=p}}
return this},t.Mark.prototype.instanceState=function(e){
return e||(e=this.instance()),e?e._state||(e._state={}):null
},t.Mark.prototype.preBuildInstance=function(e){},
t.Mark.prototype.buildInstance=function(e){
this.buildProperties(e,this.binds.required),
e.visible&&(this.buildProperties(e,this.binds.optional),this.buildImplied(e))
},function(){var e,i=t.Mark.stack,n=[function(e){
return this.scene.defs[e.name].value},null,function(e){return e.value
},function(t){return e=t.proto||t._proto,t.value.apply(this,i)}]
;n[1]=n[0],t.Mark.prototype.buildProperties=function(i,r){var o=t.propBuilt,a=!o
;a&&(t.propBuildMark=this,t.propBuilt=o={});for(var s=e,l=0,u=r.length;l<u;l++){
var c=r[l],h=c.name;h in o||(o[h]=1,i[h]=n[c.type].call(this,c))}
e=s,a&&(t.propBuildMark=t.propBuilt=null)
},t.Mark.prototype.evalProperty=function(t){var i=e,r=n[t.type].call(this,t)
;return e=i,r},t.Mark.prototype.evalInPropertyContext=function(t,n){var r=e;e=n
;var o=t.apply(this,i);return e=r,o},t.Mark.prototype.delegate=function(t,i){
if(e&&(!i||e.tag===i)){var n=this.evalProperty(e);if(void 0!==n)return n}
return t},t.Mark.prototype.delegateExcept=function(t,i){if(e&&(!i||e.tag!==i)){
var n=this.evalProperty(e);if(void 0!==n)return n}return t
},t.Mark.prototype.hasDelegate=function(t){return!(!e||t&&e.tag!==t)}
}(),t.Mark.prototype.buildImplied=function(e){
var i,n,r=e.left,o=e.right,a=e.top,s=e.bottom,l=this.properties,u=l.width?e.width:0,c=l.height?e.height:0
;if(null==u||null==o||null==r){i=this.parent&&this.parent.instance(),n=!0
;var h=i?i.width:u+r+o
;null==u?u=h-(o=o||0)-(r=r||0):null==o?null==r?r=o=(h-u)/2:o=h-u-r:r=h-u-o}
if(null==c||null==s||null==a){n||(i=this.parent&&this.parent.instance())
;var d=i?i.height:c+a+s
;null==c?c=d-(a=a||0)-(s=s||0):null==s?s=null==a?a=(d-c)/2:d-c-a:a=d-c-s}
e.left=r,
e.right=o,e.top=a,e.bottom=s,l.width&&(e.width=u),l.height&&(e.height=c),
l.textStyle&&!e.textStyle&&(e.textStyle=t.FillStyle.transparent),
l.fillStyle&&!e.fillStyle&&(e.fillStyle=t.FillStyle.transparent),
l.strokeStyle&&!e.strokeStyle&&(e.strokeStyle=t.FillStyle.transparent)
},t.Mark.prototype.mouse=function(){
var e=this.root.canvas(),i=t.event,n=i&&i.pageX||0,r=i&&i.pageY||0,o=t.elementOffset(e)
;if(o){var a=t.cssStyle(e)
;n-=o.left+parseFloat(a("padding-left")||0),r-=o.top+parseFloat(a("padding-top")||0)
}var s=t.Transform.identity,l=this.properties.transform?this:this.parent,u=[]
;do{u.push(l)}while(l=l.parent);for(;l=u.pop();){var c=l.instance()
;s=s.translate(c.left,c.top).times(c.transform)}
return s=s.invert(),t.vector(n*s.k+s.x,r*s.k+s.y)
},t.Mark.prototype.event=function(e,i){i=t.functor(i);var n=this.$handlers[e]
;return n?n instanceof Array?n.push(i):n=[n,i]:n=i,
this.$hasHandlers=!0,this.$handlers[e]=n,this
},t.Mark.prototype.context=function(e,i,n){function r(e,i){
if(t.Mark.scene=e,a.index=i,e){var n,r=e.mark,o=r,l=[];do{
l.push(o),s.push(e[i].data),
o.index=i,o.scene=e,(o=o.parent)&&(i=e.parentIndex,e=e.parent)}while(o);var u=1
;if((n=l.length-1)>0)do{o=l[n--],o.scale=u,u*=o.scene[o.index].transform.k
}while(n);r.scale=u;var c,h=r.children;if(h&&(c=h.length)>0){
var d=r.scene[r.index];u*=d.transform.k;var f=d.children
;for(n=c;n--;)o=h[n],o.scene=f[n],o.scale=u}}}function o(e){if(e){
var t,i=e.mark,n=i.children
;if(n)for(var r=n.length;r--;)t=n[r],t.scene=void 0,t.scale=1;t=i;var o,a=0;do{
a++,delete t.index,(o=t.parent)&&(t.scene=void 0,t.scale=1)}while(t=o)
;a&&(s.length-=a)}}
var a=t.Mark.prototype,s=t.Mark.stack,l=t.Mark.scene,u=a.index
;if(e&&e===l&&i===u)try{n.apply(this,s)}catch(e){throw t.error(e),e}finally{
t.Mark.scene=l,a.index=u}else{o(l),r(e,i);try{n.apply(this,s)}catch(e){
throw t.error(e),e}finally{o(e),r(l,u)}}
},t.Mark.prototype.getEventHandler=function(e,t,i,n){var r=this.$handlers[e]
;return r?[r,t,i,n]:this.getParentEventHandler(e,t,i,n)
},t.Mark.prototype.getParentEventHandler=function(e,t,i,n){var r=t.parent
;if(r)return r.mark.getEventHandler(e,r,t.parentIndex,n)
},t.Mark.dispatch=function(e,t,i,n){var r=t.mark.root;if(r.$transition)return!0
;var o,a=r.$interceptors&&r.$interceptors[e]
;if(a)for(var s=0,l=a.length;s<l&&!(o=a[s](e,n));s++)if(!1===o)return!0
;return!(!o&&!(o=t.mark.getEventHandler(e,t,i,n)))&&this.handle.apply(this,o)
},t.Mark.handle=function(e,i,n,r){var o=i.mark;return o.context(i,n,function(){
var i,n,a,s=t.Mark.stack.concat(r);if(e instanceof Array){var l
;for(i=0,n=e.length;i<n;i++)(a=e[i].apply(o,s))&&a.render&&(l||(l=[])).push(a)
;if(l)for(i=0,n=l.length;i<n;i++)l[i].render()
}else(a=e.apply(o,s))&&a.render&&a.render()}),!0
},t.Mark.prototype.addEventInterceptor=function(e,t,i){var n=this.root;if(n){
var r=n.$interceptors||(n.$interceptors={}),o=r[e]||(r[e]=[])
;i?o.unshift(t):o.push(t)}},t.Mark.prototype.eachInstance=function(e,i){
function n(t,r,a){var l=t.length;if(l>0){var u;r===s||(u=o[r])
;for(var c=0;c<l;c++){var h=t[c];if(h.visible)if(r===s)e.call(i,t,c,a);else{
var d=h.children[u];if(d){var f=a.times(h.transform).translate(h.left,h.top)
;n(d,r+1,f)}}}}}for(var r=this,o=[];r.parent;)o.unshift(r.childIndex),r=r.parent
;var a=r.scene;if(a){var s=o.length;n(a,0,t.Transform.identity)}
},t.Mark.prototype.toScreenTransform=function(){var e=t.Transform.identity
;this instanceof t.Panel&&(e=e.translate(this.left(),this.top()).times(this.transform()))
;var i=this.parent;if(i)do{e=e.translate(i.left(),i.top()).times(i.transform())
}while(i=i.parent);return e},t.Mark.prototype.transition=function(){
return new t.Transition(this)},t.Mark.prototype.on=function(e){
return this["$"+e]=new t.Transient(this)
},t.Mark.prototype.getShape=function(e,t,i){var n=e[t];if(!n.visible)return null
;null==i&&(i=0);var r="_shape_inset_"+i
;return n[r]||(n[r]=this.getShapeCore(e,t,i))
},t.Mark.prototype.getShapeCore=function(e,i,n){
var r=e[i],o=r.left,a=r.top,s=r.width,l=r.height;if(n>0&&n<=1){var u=n*s,c=n*l
;o+=u,a+=c,s-=2*u,l-=2*c}return new t.Shape.Rect(o,a,s,l)
},t.Mark.prototype.pointingRadiusMax=function(e){
return arguments.length?(e=+e,this._pointingRadiusMax=isNaN(e)||e<0?0:e,
this):this._pointingRadiusMax
},t.Mark.prototype._pointingRadiusMax=1/0,t.Anchor=function(e){
t.Mark.call(this),this.target=e,this.parent=e.parent
},t.Anchor.prototype=t.extend(t.Mark).property("name",String),
t.Anchor.prototype.extend=function(e){return this.proto=e,this
},t.Area=function(){t.Mark.call(this)},t.Area.castSegmented=function(e){
if(!e)return"";switch(e=String(e).toLowerCase()){case"smart":case"full":break
;default:e="full"}return e
},t.Area.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("strokeStyle",t.fillStyle).property("fillStyle",t.fillStyle).property("segmented",t.Area.castSegmented).property("interpolate",t.stringLowerCase).property("tension",Number),
t.Area.prototype.type="area",
t.Area.prototype.defaults=(new t.Area).extend(t.Mark.prototype.defaults).lineWidth(1.5).fillStyle(t.Colors.category20().by(t.parent)).interpolate("linear").tension(.7).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Area.prototype.buildImplied=function(e){
null==e.height&&(e.height=0),null==e.width&&(e.width=0),
t.Mark.prototype.buildImplied.call(this,e)},t.Area.fixed={lineWidth:1,
lineJoin:1,strokeMiterLimit:1,lineCap:1,strokeStyle:1,strokeDasharray:1,
fillStyle:1,segmented:1,interpolate:1,tension:1
},t.Area.prototype.bind=function(){t.Mark.prototype.bind.call(this)
;for(var e=this.binds,i=e.required,n=e.optional,r=0,o=n.length;r<o;r++){
var a=n[r]
;a.fixed=a.name in t.Area.fixed,"segmented"==a.name&&(i.push(a),n.splice(r,1),
r--,o--)}this.binds.$required=i,this.binds.$optional=n
},t.Area.prototype.buildInstance=function(e){function i(e){
return!e.fixed||(r.push(e),!1)}var n=this.binds;if(this.index){var r=n.fixed
;r||(r=n.fixed=[],
n.required=n.required.filter(i),this.scene[0].segmented||(n.optional=n.optional.filter(i)))
;var o=r.length;if(o)for(var a=this.scene[0],s=0;s<o;s++){var l=r[s].name
;e[l]=a[l]}}else n.required=n.$required,n.optional=n.$optional,n.fixed=null
;t.Mark.prototype.buildInstance.call(this,e)
},t.Area.prototype.anchor=function(e){
return t.Mark.prototype.anchor.call(this,e).interpolate(function(){
return this.scene.target[this.index].interpolate}).eccentricity(function(){
return this.scene.target[this.index].eccentricity}).tension(function(){
return this.scene.target[this.index].tension})
},t.Area.prototype.getEventHandler=function(e,i,n,r){var o=i[n]
;if(1!==t.Scene.mousePositionEventSet[e]||o.segmented&&"smart"!==o.segmented)return t.Mark.prototype.getEventHandler.call(this,e,i,n,r)
;var a,s="mousemove"===e?this.$handlers.mouseover:null,l=this.$handlers[e],u=l||s
;return u&&(a=this.getNearestInstanceToMouse(i,n),
s&&!this.filterMouseMove(i,a)&&(s=null,
u=l)),u?(l&&s&&(u=[].concat(l,s)),[u,i,a,r]):this.getParentEventHandler(e,i,n,r)
},t.Area.prototype.filterMouseMove=function(e,t){var i=this._mouseOverScene
;if(!i||i!==e||this._mouseOverIndex!==t)return this._mouseOverScene=e,
this._mouseOverIndex=t,!0
},t.Area.prototype.getNearestInstanceToMouse=function(e,t){
for(var i=this.mouse(),n=1/0,r=null,o=t,a=e.length;o<a;o++){
var s=this.getShape(e,o);if(s){if(s.containsPoint(i))return o
;var l=s.distance2(i).dist2;l<n&&(n=l,r=o)}}return null!=r?r:t
},t.Area.prototype.getShapeCore=function(e,i){
var n=e[i],r=n.width||0,o=n.height||0,a=n.left,s=n.top,l=i+1<e.length?e[i+1]:null
;if(!l||!l.visible)return new t.Shape.Line(a,s,a+r,s+o)
;var u=l.left,c=l.top,h=l.height||0,d=l.width||0
;return new t.Shape.Polygon([new t.Vector(a,s),new t.Vector(u,c),new t.Vector(u+d,c+h),new t.Vector(a+r,s+o)])
},t.Bar=function(){t.Mark.call(this)
},t.Bar.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("fillStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase),
t.Bar.prototype.type="bar",
t.Bar.prototype.defaults=(new t.Bar).extend(t.Mark.prototype.defaults).lineWidth(1.5).fillStyle(t.Colors.category20().by(t.parent)).lineCap("butt").strokeDasharray("none"),
t.Dot=function(){t.Mark.call(this)
},t.Dot.prototype=t.extend(t.Mark).property("shape",t.stringLowerCase).property("shapeAngle",Number).property("shapeRadius",Number).property("shapeSize",Number).property("aspectRatio",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle),
t.Dot.prototype.type="dot",
t.Dot.prototype.defaults=(new t.Dot).extend(t.Mark.prototype.defaults).shape("circle").aspectRatio(1).lineWidth(1.5).strokeStyle(t.Colors.category10().by(t.parent)).lineCap("butt").strokeDasharray("none"),
t.Dot.prototype.anchor=function(e){
return t.Mark.prototype.anchor.call(this,e).left(function(){
var e=this.scene.target[this.index];switch(this.name()){case"bottom":case"top":
case"center":return e.left;case"left":return null}return e.left+e._width/2
}).right(function(){var e=this.scene.target[this.index]
;return"left"==this.name()?e.right+e._width/2:null}).top(function(){
var e=this.scene.target[this.index];switch(this.name()){case"left":case"right":
case"center":return e.top;case"top":return null}return e.top+e._height/2
}).bottom(function(){var e=this.scene.target[this.index]
;return"top"==this.name()?e.bottom+e._height/2:null}).textAlign(function(){
switch(this.name()){case"left":return"right";case"bottom":case"top":
case"center":return"center"}return"left"}).textBaseline(function(){
switch(this.name()){case"right":case"left":case"center":return"middle"
;case"bottom":return"top"}return"bottom"})
},t.Dot.prototype.buildImplied=function(e){
var i=e.shapeRadius,n=e.shapeSize,r=e.aspectRatio||1
;null==i?null==n?(n=e.shapeSize=20.25,
i=e.shapeRadius=4.5):i=e.shapeRadius=Math.sqrt(n):null==n&&(n=e.shapeSize=i*i)
;var o,a
;1===r||r<0?o=a=2*i:(o=2*i/Math.sqrt(r),a=r*o),e._height=o,e._width=a,t.Mark.prototype.buildImplied.call(this,e)
},t.Dot.prototype.width=function(){return this.instance()._width
},t.Dot.prototype.height=function(){return this.instance()._height
},t.Dot.prototype.getShapeCore=function(e,i){
var n=e[i],r=n._width,o=n._height,a=n.left,s=n.top;switch(n.shape){
case"diamond":r*=Math.SQRT2,o*=Math.SQRT2;case"square":case"cross":
return new t.Shape.Rect(a-o/2,s-r/2,o,r)}
return new t.Shape.Circle(a,s,n.shapeRadius)},t.Label=function(){
t.Mark.call(this)
},t.Label.prototype=t.extend(t.Mark).property("text",String).property("font",String).property("textAngle",Number).property("textStyle",t.color).property("textAlign",t.stringLowerCase).property("textBaseline",t.stringLowerCase).property("textMargin",Number).property("textDecoration",String).property("textShadow",String),
t.Label.prototype.type="label",
t.Label.prototype.defaults=(new t.Label).extend(t.Mark.prototype.defaults).events("none").text(t.identity).font("10px sans-serif").textAngle(0).textStyle("black").textAlign("left").textBaseline("bottom").textMargin(3),
t.Label.prototype.getShapeCore=function(e,i,n){
var r=e[i],o=t.Text.measure(r.text,r.font),a=r.left,s=r.top,l=o.width,u=o.height
;if(n>0&&n<=1){var c=n*l,h=n*u;a+=c,s+=h,l-=2*c,u-=2*h}
return t.Label.getPolygon(l,u,r.textAlign,r.textBaseline,r.textAngle,r.textMargin).apply(t.Transform.identity.translate(a,s))
},t.Label.getPolygon=function(e,i,n,r,o,a){var s,l;switch(r){case"middle":l=i/2
;break;case"top":l=a+i;break;case"bottom":l=-a}switch(n){case"right":s=-a-e
;break;case"center":s=-e/2;break;case"left":s=a}
var u=new t.Vector(s,l),c=u.plus(e,0),h=c.plus(0,-i),d=u.plus(0,-i)
;return 0!==o&&(u=u.rotate(o),
c=c.rotate(o),d=d.rotate(o),h=h.rotate(o)),new t.Shape.Polygon([u,c,h,d])
},t.Line=function(){t.Mark.call(this)
},t.Line.prototype=t.extend(t.Mark).property("lineWidth",Number).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeStyle",t.fillStyle).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle).property("segmented",t.Area.castSegmented).property("interpolate",t.stringLowerCase).property("eccentricity",Number).property("tension",Number),
t.Line.prototype.type="line",
t.Line.prototype.defaults=(new t.Line).extend(t.Mark.prototype.defaults).lineWidth(1.5).strokeStyle(t.Colors.category10().by(t.parent)).interpolate("linear").eccentricity(0).tension(.7).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Line.prototype.bind=t.Area.prototype.bind,
t.Line.prototype.buildInstance=t.Area.prototype.buildInstance,
t.Line.prototype.getEventHandler=t.Area.prototype.getEventHandler,
t.Line.prototype.getNearestInstanceToMouse=t.Area.prototype.getNearestInstanceToMouse,
t.Line.prototype.filterMouseMove=t.Area.prototype.filterMouseMove,
t.Line.prototype.anchor=function(e){
return t.Area.prototype.anchor.call(this,e).textAlign(function(e){
switch(this.name()){case"left":return"right";case"bottom":case"top":
case"center":return"center";case"right":return"left"}
}).textBaseline(function(e){switch(this.name()){case"right":case"left":
case"center":return"middle";case"top":return"bottom";case"bottom":return"top"}})
},t.Line.prototype.getShapeCore=function(e,i){
var n=e[i],r=i+1<e.length?e[i+1]:null
;return null!=r&&r.visible?new t.Shape.Line(n.left,n.top,r.left,r.top):new t.Shape.Point(n.left,n.top)
},t.Rule=function(){t.Mark.call(this)
},t.Rule.prototype=t.extend(t.Mark).property("width",Number).property("height",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase),
t.Rule.prototype.type="rule",
t.Rule.prototype.defaults=(new t.Rule).extend(t.Mark.prototype.defaults).lineWidth(1).strokeStyle("black").antialias(!1).lineCap("butt").strokeDasharray("none"),
t.Rule.prototype.anchor=t.Line.prototype.anchor,
t.Rule.prototype.buildImplied=function(e){var i=e.left,n=e.right;e.top,e.bottom,
null!=e.width||null==i&&null==n||null!=n&&null!=i?e.height=0:e.width=0,
t.Mark.prototype.buildImplied.call(this,e)
},t.Rule.prototype.getShapeCore=function(e,i){var n=e[i]
;return new t.Shape.Line(n.left,n.top,n.left+n.width,n.top+n.height)
},t.Panel=function(){
t.Bar.call(this),this.children=[],this.root=this,this.$dom=t.$&&t.$.s
},t.Panel.prototype=t.extend(t.Bar).property("transform").property("overflow",t.stringLowerCase).property("canvas",function(e){
return"string"==typeof e?document.getElementById(e):e
}),t.Panel.prototype.type="panel",
t.Panel.prototype.isPointingBarrier=!1,t.Panel.prototype._zOrderChildCount=0,
t.Panel.prototype.defaults=(new t.Panel).extend(t.Bar.prototype.defaults).fillStyle(null).overflow("visible"),
t.Panel.prototype.anchor=function(e){var i=t.Bar.prototype.anchor.call(this,e)
;return i.parent=this,i},t.Panel.prototype.add=function(e){var t=new e
;return t.parent=this,
t.root=this.root,t.childIndex=this.children.length,this.children.push(t),
0!==(+t._zOrder||0)&&this._zOrderChildCount++,t
},t.Panel.prototype.bind=function(){t.Mark.prototype.bind.call(this)
;for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].bind()
},t.Panel.prototype.buildInstance=function(e){
if(t.Bar.prototype.buildInstance.call(this,e),e.visible){
var i=this.scale*e.transform.k;t.Mark.prototype.index=-1
;for(var n,r=this.children,o=e.children||(e.children=[]),a=0,s=r.length;a<s;a++)n=r[a],
n.scene=o[a],n.scale=i,n.build()
;for(a=s;a--;)n=r[a],o[a]=n.scene,delete n.scene,delete n.scale;o.length=s}
},t.Panel.prototype.buildImplied=function(e){
this.parent||this._buildRootInstanceImplied(e)?(e.transform||(e.transform=t.Transform.identity),
t.Mark.prototype.buildImplied.call(this,e)):e.visible=!1
},t.Panel.prototype._buildRootInstanceImplied=function(e){var t=e.canvas;if(t){
if(!this._rootInstanceStealCanvas(e,t))return!1
;this._rootInstanceInitCanvas(e,t)
}else e.canvas=this._rootInstanceGetInlineCanvas(e);return!0
},t.Panel.prototype._rootInstanceStealCanvas=function(e,i){var n=i.$panel
;if(n!==this){if(n){if(this.$lastCreateId)return!1
;n._disposeRootPanel(),this._updateCreateId(i)}i.$panel=this,t.removeChildren(i)
}else this._updateCreateId(i);return!0
},t.Panel.prototype._registerBoundEvent=function(e,t,i,n){
e.removeEventListener&&(this._boundEvents||(this._boundEvents=[])).push([e,t,i,n])
},t.Panel.prototype.dispose=function(){var e=this.root,t=e.scene
;e._disposeRootPanel();var i=t?e.canvas():null
;e.canvas(null),i&&(i.$panel=null),
e.binds=null,t&&(t.$defs=null,t.$g=null,e.scene=null)
},t.Panel.prototype._disposeRootPanel=function(){var e=this.$transition
;e&&e.stop();var t=this._boundEvents;if(t){this._boundEvents=null
;for(var i=0,n=t.length;i<n;i++){var r=t[i]
;r[0].removeEventListener(r[1],r[2],r[3])}}
},t.Panel.prototype._rootInstanceInitCanvas=function(e,i){var n,r,o
;null==e.width&&(o=t.cssStyle(i),
n=parseFloat(o("width")||0),e.width=n-e.left-e.right),
null==e.height&&(o||(o=t.cssStyle(i)),
r=parseFloat(o("height")||0),e.height=r-e.top-e.bottom),o=null
},t.Panel.prototype._rootInstanceGetInlineCanvas=function(e){
var t,i=this.$canvas||(this.$canvas=[])
;if(!(t=i[this.index]))if(t=i[this.index]=document.createElement("span"),
this.$dom)this.$dom.parentNode.insertBefore(t,this.$dom);else{
for(var n=document.body;n.lastChild&&n.lastChild.tagName;)n=n.lastChild
;n!=document.body&&(n=n.parentNode),n.appendChild(t)}return t
},t.Panel.prototype._updateCreateId=function(e){
this.$lastCreateId=e.$pvCreateId=(e.$pvCreateId||0)+1},t.Image=function(){
t.Bar.call(this)
},t.Image.prototype=t.extend(t.Bar).property("url",String).property("imageWidth",Number).property("imageHeight",Number),
t.Image.prototype.type="image",
t.Image.prototype.defaults=(new t.Image).extend(t.Bar.prototype.defaults).fillStyle(null),
t.Image.prototype.image=function(e){return this.$image=function(){
var i=e.apply(this,arguments)
;return null==i?t.Color.transparent:"string"==typeof i?t.color(i):i},this
},t.Image.prototype.bind=function(){t.Bar.prototype.bind.call(this)
;var e=this.binds,i=this;do{e.image=i.$image}while(!e.image&&(i=i.proto))
},t.Image.prototype.buildImplied=function(e){
if(t.Bar.prototype.buildImplied.call(this,e),
e.visible&&(null==e.imageWidth&&(e.imageWidth=e.width),
null==e.imageHeight&&(e.imageHeight=e.height),null==e.url&&this.binds.image)){
var i,n=this.$canvas||(this.$canvas=document.createElement("canvas")),r=n.getContext("2d"),o=e.imageWidth,a=e.imageHeight,s=t.Mark.stack
;n.width=o,
n.height=a,i=(e.image=r.createImageData(o,a)).data,s.unshift(null,null)
;for(var l=0,u=0;l<a;l++){s[1]=l;for(var c=0;c<o;c++){s[0]=c
;var h=this.binds.image.apply(this,s)
;i[u++]=h.r,i[u++]=h.g,i[u++]=h.b,i[u++]=255*h.a}}s.splice(0,2)}
},t.Wedge=function(){t.Mark.call(this)
},t.Wedge.prototype=t.extend(t.Mark).property("startAngle",Number).property("endAngle",Number).property("angle",Number).property("innerRadius",Number).property("outerRadius",Number).property("lineWidth",Number).property("strokeStyle",t.fillStyle).property("lineJoin",t.stringLowerCase).property("strokeMiterLimit",Number).property("lineCap",t.stringLowerCase).property("strokeDasharray",t.stringLowerCase).property("fillStyle",t.fillStyle),
t.Wedge.prototype.type="wedge",
t.Wedge.prototype.defaults=(new t.Wedge).extend(t.Mark.prototype.defaults).startAngle(function(){
var e=this.sibling();return e?e.endAngle:-Math.PI/2
}).innerRadius(0).lineWidth(1.5).strokeStyle(null).fillStyle(t.Colors.category20().by(t.index)).lineJoin("miter").strokeMiterLimit(8).lineCap("butt").strokeDasharray("none"),
t.Wedge.prototype.midRadius=function(){
return(this.innerRadius()+this.outerRadius())/2
},t.Wedge.prototype.midAngle=function(){
return(this.startAngle()+this.endAngle())/2
},t.Wedge.prototype.anchor=function(e){function i(e){
return e.innerRadius||e.angle<2*Math.PI}function n(e){
return(e.innerRadius+e.outerRadius)/2}function r(e){
return(e.startAngle+e.endAngle)/2}
return t.Mark.prototype.anchor.call(this,e).left(function(){
var e=this.scene.target[this.index];if(i(e))switch(this.name()){case"outer":
return e.left+e.outerRadius*Math.cos(r(e));case"inner":
return e.left+e.innerRadius*Math.cos(r(e));case"start":
return e.left+n(e)*Math.cos(e.startAngle);case"center":
return e.left+n(e)*Math.cos(r(e));case"end":
return e.left+n(e)*Math.cos(e.endAngle)}return e.left}).top(function(){
var e=this.scene.target[this.index];if(i(e))switch(this.name()){case"outer":
return e.top+e.outerRadius*Math.sin(r(e));case"inner":
return e.top+e.innerRadius*Math.sin(r(e));case"start":
return e.top+n(e)*Math.sin(e.startAngle);case"center":
return e.top+n(e)*Math.sin(r(e));case"end":
return e.top+n(e)*Math.sin(e.endAngle)}return e.top}).textAlign(function(){
var e=this.scene.target[this.index];if(i(e))switch(this.name()){case"outer":
return t.Wedge.upright(r(e))?"right":"left";case"inner":
return t.Wedge.upright(r(e))?"left":"right"}return"center"
}).textBaseline(function(){var e=this.scene.target[this.index]
;if(i(e))switch(this.name()){case"start":
return t.Wedge.upright(e.startAngle)?"top":"bottom";case"end":
return t.Wedge.upright(e.endAngle)?"bottom":"top"}return"middle"
}).textAngle(function(){var e=this.scene.target[this.index],n=0
;if(i(e))switch(this.name()){case"center":case"inner":case"outer":n=r(e);break
;case"start":n=e.startAngle;break;case"end":n=e.endAngle}
return t.Wedge.upright(n)?n:n+Math.PI})},t.Wedge.upright=function(e){
return e%=2*Math.PI,(e=e<0?2*Math.PI+e:e)<Math.PI/2||e>=3*Math.PI/2
},t.Wedge.prototype.buildImplied=function(e){
null==e.angle?e.angle=e.endAngle-e.startAngle:null==e.endAngle&&(e.endAngle=e.startAngle+e.angle),
t.Mark.prototype.buildImplied.call(this,e)
},t.Wedge.prototype.getShapeCore=function(e,i){var n=e[i]
;return new t.Shape.Wedge(n.left,n.top,n.innerRadius,n.outerRadius,n.startAngle,n.angle)
},t.Ease=function(){function e(e){return function(t){return 1-e(1-t)}}
function i(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}
function n(e){return function(t){return t<0?0:t>1?1:Math.pow(t,e)}}
function r(e){return 1-Math.cos(e*Math.PI/2)}function o(e){
return e?Math.pow(2,10*(e-1))-.001:0}function a(e){return-(Math.sqrt(1-e*e)-1)}
function s(e,t){var i
;return t||(t=.45),!e||e<1?(e=1,i=t/4):i=t/(2*Math.PI)*Math.asin(1/e),
function(n){
return n<=0||n>=1?n:-e*Math.pow(2,10*--n)*Math.sin((n-i)*(2*Math.PI)/t)}}
function l(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}
function u(e){
return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375
}var c=n(2),h=n(3),d=s(),f=l(),p={linear:t.identity,"quad-in":c,"quad-out":e(c),
"quad-in-out":i(c),"quad-out-in":i(e(c)),"cubic-in":h,"cubic-out":e(h),
"cubic-in-out":i(h),"cubic-out-in":i(e(h)),"sin-in":r,"sin-out":e(r),
"sin-in-out":i(r),"sin-out-in":i(e(r)),"exp-in":o,"exp-out":e(o),
"exp-in-out":i(o),"exp-out-in":i(e(o)),"circle-in":a,"circle-out":e(a),
"circle-in-out":i(a),"circle-out-in":i(e(a)),"elastic-in":d,"elastic-out":e(d),
"elastic-in-out":i(d),"elastic-out-in":i(e(d)),"back-in":f,"back-out":e(f),
"back-in-out":i(f),"back-out-in":i(e(f)),"bounce-in":u,"bounce-out":e(u),
"bounce-in-out":i(u),"bounce-out-in":i(e(u))};return t.ease=function(e){
return p[e]},{reverse:e,reflect:i,linear:function(){return t.identity},
sin:function(){return r},exp:function(){return o},circle:function(){return a},
elastic:s,back:l,bounce:u,poly:n}}(),t.Transient=function(e){
t.Mark.call(this),this.fillStyle(null).strokeStyle(null).textStyle(null),
this.on=function(t){return e.on(t)}
},t.Transient.prototype=t.extend(t.Mark),function(){function e(e){
for(var t={},i=e.length;i--;){var n=e[i],r=n.id;r&&(t[r]=n)}return t}
function i(e,i,n,r){var o;if(i in s){var a=t.Scale.interpolator(n[i],r[i])
;o=function(e){n[i]=a(e)}}else o=function(e){e>.5&&(n[i]=r[i])}
;o.next=e.head,e.head=o}function n(e,t,n){
for(var r in t)"children"!==r&&t[r]!=n[r]&&i(e,r,t,n);var a=t.children
;if(a)for(var s=n.children,l=0,u=a.length;l<u;l++)o(e,a[l],s[l])}
function r(e,t,i,n){var r,o=Object.create(e[t]),a=e.mark,s=a.root.scene
;n.target&&(r=n.target[n.length])&&(e=Object.create(e),
e.target=Object.create(n.target),e.target[t]=r),i||(i=l)
;var u=i.$properties,c=i.$propertiesMap
;return u=a.binds.optional.filter(function(e){return!(e.name in c)
}).concat(u),a.context(e,t,function(){
this.buildProperties(o,u),this.buildImplied(o)}),a.root.scene=s,o}
function o(t,i,o){
for(var a,s,l=i.mark,u=e(i),c=e(o),h=0,d=i.length;h<d;h++)if(a=i[h],
s=a.id?c[a.id]:o[h],a.index=h,a.visible){if(!s||!s.visible){
var f=r(i,h,l.$exit,o);a.transition=s?2:(o.push(f),1),s=f}n(t,a,s)}
for(h=0,d=o.length;h<d;h++)if(s=o[h],
(!(a=s.id?u[s.id]:i[h])||!a.visible)&&s.visible){var p=r(o,h,l.$enter,i)
;a?i[a.index]=p:i.push(p),n(t,p,s)}}function a(e){
for(var t=0,i=0;t<e.length;t++){var n=e[t]
;1!=n.transition&&(e[i++]=n,2==n.transition&&(n.visible=!1),
n.children&&n.children.forEach(a))}e.length=i}var s={top:1,left:1,right:1,
bottom:1,width:1,height:1,innerRadius:1,outerRadius:1,radius:1,shapeRadius:1,
shapeSize:1,startAngle:1,endAngle:1,angle:1,fillStyle:1,strokeStyle:1,
lineWidth:1,eccentricity:1,tension:1,textAngle:1,textStyle:1,textMargin:1
},l=new t.Transient;t.Transition=function(e){function i(t){
var i=e.root.$transition===l
;if(i&&(e.root.$transition=null),null!=n&&(clearInterval(n),
n=null),i&&h(e.scene),r){var o=r;r=null,o(t)}return t}
var n,r,s,l=this,u=t.ease("cubic-in-out"),c=250,h=function(e){s||(s=!0,a(e))}
;l.ease=function(e){return arguments.length?(u="function"==typeof e?e:t.ease(e),
l):u},l.duration=function(e){return arguments.length?(c=Number(e),l):c
},l.start=function(a){
if(e.parent)throw new Error("Animated partial rendering is not supported.");r=a
;var s=e.root;if(s.$transition)try{s.$transition.stop()}catch(e){return i(!1)}
var d,f;s.$transition=l,s._renderId++;var p=e.scene;e.scene=null
;var m=t.Mark.prototype.index;try{e.bind(),e.build();var g=e.scene
;e.scene=p,t.Mark.prototype.index=m,f=Date.now(),d={},o(d,p,g)}catch(e){
return t.Mark.prototype.index=m,i(!1)}if(!d.head)return i(!0);var v=function(){
var n=Math.max(0,Math.min(1,(Date.now()-f)/c)),r=u(n),o=d.head;do{o(r)
}while(o=o.next)
;1===n?(h(e.scene),t.Scene.updateAll(p),i(!0)):t.Scene.updateAll(p)}
;n=setInterval(function(){try{v()}catch(e){i(!1)}},24)},l.stop=function(){i(!0)}
}}(),t.simulation=function(e){return new t.Simulation(e)
},t.Simulation=function(e){for(var t=0;t<e.length;t++)this.particle(e[t])
},t.Simulation.prototype.particle=function(e){
return e.next=this.particles,isNaN(e.px)&&(e.px=e.x),
isNaN(e.py)&&(e.py=e.y),isNaN(e.fx)&&(e.fx=0),
isNaN(e.fy)&&(e.fy=0),this.particles=e,this
},t.Simulation.prototype.force=function(e){
return e.next=this.forces,this.forces=e,this
},t.Simulation.prototype.constraint=function(e){
return e.next=this.constraints,this.constraints=e,this
},t.Simulation.prototype.stabilize=function(e){var i;arguments.length||(e=3)
;for(var n=0;n<e;n++){var r=new t.Quadtree(this.particles)
;for(i=this.constraints;i;i=i.next)i.apply(this.particles,r)}
for(var o=this.particles;o;o=o.next)o.px=o.x,o.py=o.y;return this
},t.Simulation.prototype.step=function(){var e,i,n
;for(e=this.particles;e;e=e.next){var r=e.px,o=e.py
;e.px=e.x,e.py=e.y,e.x+=e.vx=e.x-r+e.fx,e.y+=e.vy=e.y-o+e.fy}
var a=new t.Quadtree(this.particles)
;for(n=this.constraints;n;n=n.next)n.apply(this.particles,a)
;for(e=this.particles;e;e=e.next)e.fx=e.fy=0
;for(i=this.forces;i;i=i.next)i.apply(this.particles,a)},t.Quadtree=function(e){
function i(e,t,i,r,o,a){
if(!isNaN(t.x)&&!isNaN(t.y))if(e.leaf)if(e.p)if(Math.abs(e.p.x-t.x)+Math.abs(e.p.y-t.y)<.01)n(e,t,i,r,o,a);else{
var s=e.p;e.p=null,n(e,s,i,r,o,a),n(e,t,i,r,o,a)}else e.p=t;else n(e,t,i,r,o,a)}
function n(e,n,r,o,a,s){var l=.5*(r+a),u=.5*(o+s),c=n.x>=l,h=n.y>=u
;switch(e.leaf=!1,(h<<1)+c){case 0:e=e.c1||(e.c1=new t.Quadtree.Node);break
;case 1:e=e.c2||(e.c2=new t.Quadtree.Node);break;case 2:
e=e.c3||(e.c3=new t.Quadtree.Node);break;case 3:
e=e.c4||(e.c4=new t.Quadtree.Node)}c?r=l:a=l,h?o=u:s=u,i(e,n,r,o,a,s)}
var r,o=Number.POSITIVE_INFINITY,a=o,s=Number.NEGATIVE_INFINITY,l=s
;for(r=e;r;r=r.next)r.x<o&&(o=r.x),r.y<a&&(a=r.y),r.x>s&&(s=r.x),r.y>l&&(l=r.y)
;var u=s-o,c=l-a
;for(u>c?l=a+u:s=o+c,this.xMin=o,this.yMin=a,this.xMax=s,this.yMax=l,
this.root=new t.Quadtree.Node,r=e;r;r=r.next)i(this.root,r,o,a,s,l)
},t.Quadtree.Node=function(){
this.leaf=!0,this.c1=null,this.c2=null,this.c3=null,this.c4=null,this.p=null
},t.Force={},t.Force.charge=function(e){function t(i){function n(e){
t(e),i.cn+=e.cn,r+=e.cn*e.cx,o+=e.cn*e.cy}var r=0,o=0
;i.cn=0,i.leaf||(i.c1&&n(i.c1),
i.c2&&n(i.c2),i.c3&&n(i.c3),i.c4&&n(i.c4)),i.p&&(i.cn+=e,r+=e*i.p.x,o+=e*i.p.y),
i.cx=r/i.cn,i.cy=o/i.cn}function i(t,n,o,l,u,c){
var h=t.cx-n.x,d=t.cy-n.y,f=1/Math.sqrt(h*h+d*d);if(t.leaf&&t.p!=n||(u-o)*f<s){
if(f<a)return;f>r&&(f=r);var p=t.cn*f*f*f,m=h*p,g=d*p;n.fx+=m,n.fy+=g
}else if(!t.leaf){var v=.5*(o+u),y=.5*(l+c)
;if(t.c1&&i(t.c1,n,o,l,v,y),t.c2&&i(t.c2,n,v,l,u,y),
t.c3&&i(t.c3,n,o,y,v,c),t.c4&&i(t.c4,n,v,y,u,c),f<a)return
;if(f>r&&(f=r),t.p&&t.p!=n){var p=e*f*f*f,m=h*p,g=d*p;n.fx+=m,n.fy+=g}}}
var n=2,r=1/n,o=500,a=1/o,s=.9,l={}
;return arguments.length||(e=-40),l.constant=function(t){
return arguments.length?(e=Number(t),l):e},l.domain=function(e,t){
return arguments.length?(n=Number(e),r=1/n,o=Number(t),a=1/o,l):[n,o]
},l.theta=function(e){return arguments.length?(s=Number(e),l):s
},l.apply=function(e,n){t(n.root)
;for(var r=e;r;r=r.next)i(n.root,r,n.xMin,n.yMin,n.xMax,n.yMax)},l
},t.Force.drag=function(e){var t={}
;return arguments.length||(e=.1),t.constant=function(i){
return arguments.length?(e=i,t):e},t.apply=function(t){
if(e)for(var i=t;i;i=i.next)i.fx-=e*i.vx,i.fy-=e*i.vy},t
},t.Force.spring=function(e){var t,i,n=.1,r=20,o={}
;return arguments.length||(e=.1),o.links=function(e){
return arguments.length?(t=e,i=e.map(function(e){
return 1/Math.sqrt(Math.max(e.sourceNode.linkDegree,e.targetNode.linkDegree))}),
o):t},o.constant=function(t){return arguments.length?(e=Number(t),o):e
},o.damping=function(e){return arguments.length?(n=Number(e),o):n
},o.length=function(e){return arguments.length?(r=Number(e),o):r
},o.apply=function(o){for(var a=0;a<t.length;a++){
var s=t[a].sourceNode,l=t[a].targetNode,u=s.x-l.x,c=s.y-l.y,h=Math.sqrt(u*u+c*c),d=h?1/h:1,f=e*i[a],p=n*i[a],m=(f*(h-r)+p*(u*(s.vx-l.vx)+c*(s.vy-l.vy))*d)*d,g=-m*(h?u:.01*(.5-Math.random())),v=-m*(h?c:.01*(.5-Math.random()))
;s.fx+=g,s.fy+=v,l.fx-=g,l.fy-=v}},o
},t.Constraint={},t.Constraint.collision=function(e){function t(s,l,u,c,h,d){
if(!s.leaf){var f=.5*(u+h),p=.5*(c+d),m=p>r,g=p<a,v=f>n,y=f<o
;m&&(s.c1&&v&&t(s.c1,l,u,c,f,p),
s.c2&&y&&t(s.c2,l,f,c,h,p)),g&&(s.c3&&v&&t(s.c3,l,u,p,f,d),
s.c4&&y&&t(s.c4,l,f,p,h,d))}if(s.p&&s.p!=l){
var b=l.x-s.p.x,_=l.y-s.p.y,x=Math.sqrt(b*b+_*_),w=i+e(s.p);if(x<w){
var C=(x-w)/x*.5;b*=C,_*=C,l.x-=b,l.y-=_,s.p.x+=b,s.p.y+=_}}}
var i,n,r,o,a,s=1,l={};return arguments.length||(i=10),l.repeat=function(e){
return arguments.length?(s=Number(e),l):s},l.apply=function(l,u){var c,h,d=-1/0
;for(c=l;c;c=c.next)(h=e(c))>d&&(d=h)
;for(var f=0;f<s;f++)for(c=l;c;c=c.next)h=(i=e(c))+d,
n=c.x-h,o=c.x+h,r=c.y-h,a=c.y+h,t(u.root,c,u.xMin,u.yMin,u.xMax,u.yMax)},l
},t.Constraint.position=function(e){var t=1,i={}
;return arguments.length||(e=function(e){return e.fix}),i.alpha=function(e){
return arguments.length?(t=Number(e),i):t},i.apply=function(i){
for(var n=i;n;n=n.next){var r=e(n)
;r&&(n.x+=(r.x-n.x)*t,n.y+=(r.y-n.y)*t,n.fx=n.fy=n.vx=n.vy=0)}},i
},t.Constraint.bound=function(){var e,t,i={};return i.x=function(t,i){
return arguments.length?(e={min:Math.min(t,i),max:Math.max(t,i)},this):e
},i.y=function(e,i){return arguments.length?(t={min:Math.min(e,i),
max:Math.max(e,i)},this):t},i.apply=function(i){
if(e)for(var n=i;n;n=n.next)n.x=n.x<e.min?e.min:n.x>e.max?e.max:n.x
;if(t)for(var n=i;n;n=n.next)n.y=n.y<t.min?t.min:n.y>t.max?t.max:n.y},i
},t.Layout=function(){t.Panel.call(this)
},t.Layout.prototype=t.extend(t.Panel),t.Layout.prototype.property=t.Mark.prototype.localProperty,
t.Layout.Network=function(){t.Layout.call(this);var e=this
;this.$id=t.id(),(this.node=(new t.Mark).data(function(){return e.nodes()
}).strokeStyle("#1f77b4").fillStyle("#fff").left(function(e){return e.x
}).top(function(e){return e.y
})).parent=this,this.link=(new t.Mark).extend(this.node).data(function(e){
return[e.sourceNode,e.targetNode]}).fillStyle(null).lineWidth(function(e,t){
return 1.5*t.linkValue
}).strokeStyle("rgba(0,0,0,.2)"),this.link.add=function(i){
return e.add(t.Panel).data(function(){return e.links()}).add(i).extend(this)
},(this.label=(new t.Mark).extend(this.node).textMargin(7).textBaseline("middle").text(function(e){
return e.nodeName||e.nodeValue}).textAngle(function(e){var i=e.midAngle
;return t.Wedge.upright(i)?i:i+Math.PI}).textAlign(function(e){
return t.Wedge.upright(e.midAngle)?"left":"right"})).parent=this
},t.Layout.Network.prototype=t.extend(t.Layout).property("nodes",function(e){
return e.map(function(e,t){return"object"!=typeof e&&(e={nodeValue:e
}),e.index=t,e})}).property("links",function(e){return e.map(function(e){
return isNaN(e.linkValue)&&(e.linkValue=isNaN(e.value)?1:e.value),e})
}),t.Layout.Network.prototype.reset=function(){return this.$id=t.id(),this
},t.Layout.Network.prototype.buildProperties=function(e,i){
(e.$id||0)<this.$id&&t.Layout.prototype.buildProperties.call(this,e,i)
},t.Layout.Network.prototype.buildImplied=function(e){
if(t.Layout.prototype.buildImplied.call(this,e),e.$id>=this.$id)return!0
;e.$id=this.$id,e.nodes.forEach(function(e){e.linkDegree=0
}),e.links.forEach(function(t){var i=t.linkValue
;(t.sourceNode||(t.sourceNode=e.nodes[t.source])).linkDegree+=i,
(t.targetNode||(t.targetNode=e.nodes[t.target])).linkDegree+=i})
},t.Layout.Hierarchy=function(){
t.Layout.Network.call(this),this.link.strokeStyle("#ccc")
},t.Layout.Hierarchy.prototype=t.extend(t.Layout.Network),
t.Layout.Hierarchy.prototype.buildImplied=function(e){
e.links||(e.links=t.Layout.Hierarchy.links.call(this)),
t.Layout.Network.prototype.buildImplied.call(this,e)
},t.Layout.Hierarchy.links=function(){return this.nodes().filter(function(e){
return e.parentNode}).map(function(e){return{sourceNode:e,
targetNode:e.parentNode,linkValue:1}})},t.Layout.Hierarchy.NodeLink={
buildImplied:function(e){function t(e){return e.parentNode?e.depth*(l-s)+s:0}
var i=e.nodes,n=e.orient,r=/^(top|bottom)$/.test(n),o=e.width,a=e.height
;if("radial"==n){var s=e.innerRadius,l=e.outerRadius
;null==s&&(s=0),null==l&&(l=Math.min(o,a)/2)}for(var u=0;u<i.length;u++){
var c=i[u];c.midAngle="radial"==n?function(e){
return e.parentNode?2*(e.breadth-.25)*Math.PI:0
}(c):r?Math.PI/2:0,c.x=function(e){switch(n){case"left":return e.depth*o
;case"right":return o-e.depth*o;case"top":return e.breadth*o;case"bottom":
return o-e.breadth*o;case"radial":return o/2+t(e)*Math.cos(e.midAngle)}
}(c),c.y=function(e){switch(n){case"left":return e.breadth*a;case"right":
return a-e.breadth*a;case"top":return e.depth*a;case"bottom":return a-e.depth*a
;case"radial":return a/2+t(e)*Math.sin(e.midAngle)}
}(c),c.firstChild&&(c.midAngle+=Math.PI)}}},t.Layout.Hierarchy.Fill={
constructor:function(){
this.node.strokeStyle("#fff").fillStyle("#ccc").width(function(e){return e.dx
}).height(function(e){return e.dy}).innerRadius(function(e){return e.innerRadius
}).outerRadius(function(e){return e.outerRadius}).startAngle(function(e){
return e.startAngle}).angle(function(e){return e.angle
}),this.label.textAlign("center").left(function(e){return e.x+e.dx/2
}).top(function(e){return e.y+e.dy/2}),delete this.link},
buildImplied:function(e){function t(e,t){return(e+t)/(1+t)}
var i=e.nodes,n=e.orient,r=/^(top|bottom)$/.test(n),o=e.width,a=e.height,s=-i[0].minDepth
;if("radial"==n){var l=e.innerRadius,u=e.outerRadius
;null==l&&(l=0),l&&(s*=2),null==u&&(u=Math.min(o,a)/2)}
for(var c=0;c<i.length;c++){var h=i[c];h.x=function(e){switch(n){case"left":
return t(e.minDepth,s)*o;case"right":return(1-t(e.maxDepth,s))*o;case"top":
return e.minBreadth*o;case"bottom":return(1-e.maxBreadth)*o;case"radial":
return o/2}}(h),h.y=function(e){switch(n){case"left":return e.minBreadth*a
;case"right":return(1-e.maxBreadth)*a;case"top":return t(e.minDepth,s)*a
;case"bottom":return(1-t(e.maxDepth,s))*a;case"radial":return a/2}
}(h),"radial"==n?(h.innerRadius=function(e){
return Math.max(0,t(e.minDepth,s/2))*(u-l)+l}(h),h.outerRadius=function(e){
return t(e.maxDepth,s/2)*(u-l)+l}(h),h.startAngle=function(e){
return 2*(e.parentNode?e.minBreadth-.25:0)*Math.PI}(h),h.angle=function(e){
return 2*(e.parentNode?e.maxBreadth-e.minBreadth:1)*Math.PI
}(h),h.midAngle=h.startAngle+h.angle/2):h.midAngle=r?-Math.PI/2:0,
h.dx=function(e){switch(n){case"left":case"right":
return(e.maxDepth-e.minDepth)/(1+s)*o;case"top":case"bottom":
return(e.maxBreadth-e.minBreadth)*o;case"radial":
return e.parentNode?(e.innerRadius+e.outerRadius)*Math.cos(e.midAngle):0}
}(h),h.dy=function(e){switch(n){case"left":case"right":
return(e.maxBreadth-e.minBreadth)*a;case"top":case"bottom":
return(e.maxDepth-e.minDepth)/(1+s)*a;case"radial":
return e.parentNode?(e.innerRadius+e.outerRadius)*Math.sin(e.midAngle):0}}(h)}}
},t.Layout.Grid=function(){t.Layout.call(this);var e=this
;(this.cell=(new t.Mark).data(function(){return e.scene[e.index].$grid
}).width(function(){return e.width()/e.cols()}).height(function(){
return e.height()/e.rows()}).left(function(){
return this.width()*(this.index%e.cols())}).top(function(){
return this.height()*Math.floor(this.index/e.cols())})).parent=this
},t.Layout.Grid.prototype=t.extend(t.Layout).property("rows").property("cols"),
t.Layout.Grid.prototype.defaults=(new t.Layout.Grid).extend(t.Layout.prototype.defaults).rows(1).cols(1),
t.Layout.Grid.prototype.buildImplied=function(e){
t.Layout.prototype.buildImplied.call(this,e);var i=e.rows,n=e.cols
;"object"==typeof n&&(i=t.transpose(n)),
"object"==typeof i?(e.$grid=t.blend(i),e.rows=i.length,
e.cols=i[0]?i[0].length:0):e.$grid=t.repeat([e.data],i*n)
},t.Layout.Stack=function(){function e(e){return function(){
return o[e](this.parent.index,this.index)}}t.Layout.call(this)
;var i,n=this,r=function(){return null},o={t:r,l:r,r:r,b:r,w:r,h:r
},a=n.buildImplied;this.buildImplied=function(e){a.call(this,e)
;var n,s=e.layers,l=s.length,u=e.orient,c=/^(top|bottom)\b/.test(u),h=this.parent[c?"height":"width"](),d=[],f=[],p=[],m=t.Mark.stack,g={
parent:{parent:this}};m.unshift(null),i=[];for(var v=0;v<l;v++){p[v]=[],f[v]=[],
g.parent.index=v,
m[0]=s[v],i[v]=this.$values.apply(g.parent,m),v||(n=i[v].length),m.unshift(null)
;for(var y=0;y<n;y++)m[0]=i[v][y],
g.index=y,v||(d[y]=this.$x.apply(g,m)),p[v][y]=this.$y.apply(g,m);m.shift()}
m.shift();var b;switch(e.order){case"inside-out":for(var _=p.map(function(e){
return t.max.index(e)}),x=t.range(l).sort(function(e,t){return _[e]-_[t]
}),w=p.map(function(e){return t.sum(e)}),C=0,S=0,k=[],D=[],v=0;v<l;v++){
var y=x[v];C<S?(C+=w[y],k.push(y)):(S+=w[y],D.push(y))}b=D.reverse().concat(k)
;break;case"reverse":b=t.range(l-1,-1,-1);break;default:b=t.range(l)}
switch(e.offset){case"silohouette":for(var y=0;y<n;y++){
for(var g=0,v=0;v<l;v++)g+=p[v][y];f[b[0]][y]=(h-g)/2}break;case"wiggle":
for(var g=0,v=0;v<l;v++)g+=p[v][0];f[b[0]][0]=g=(h-g)/2;for(var y=1;y<n;y++){
for(var M=0,N=0,T=d[y]-d[y-1],v=0;v<l;v++)M+=p[v][y];for(var v=0;v<l;v++){
for(var A=(p[b[v]][y]-p[b[v]][y-1])/(2*T),j=0;j<v;j++)A+=(p[b[j]][y]-p[b[j]][y-1])/T
;N+=A*p[b[v]][y]}f[b[0]][y]=g-=M?N/M*T:0}break;case"expand":
for(var y=0;y<n;y++){f[b[0]][y]=0;for(var j=0,v=0;v<l;v++)j+=p[v][y];if(j){j=h/j
;for(var v=0;v<l;v++)p[v][y]*=j}else{j=h/l;for(var v=0;v<l;v++)p[v][y]=j}}break
;default:for(var y=0;y<n;y++)f[b[0]][y]=0}
for(var y=0;y<n;y++)for(var g=f[b[0]][y],v=1;v<l;v++)g+=p[b[v-1]][y],
f[b[v]][y]=g
;var v=u.indexOf("-"),I=c?"h":"w",P=v<0?c?"l":"b":u.charAt(v+1),L=u.charAt(0)
;for(var R in o)o[R]=r;o[P]=function(e,t){return d[t]},o[L]=function(e,t){
return f[e][t]},o[I]=function(e,t){return p[e][t]}
},this.layer=(new t.Mark).data(function(){return i[this.parent.index]
}).top(e("t")).left(e("l")).right(e("r")).bottom(e("b")).width(e("w")).height(e("h")),
this.layer.add=function(e){return n.add(t.Panel).data(function(){
return n.layers()}).add(e).extend(this)}
},t.Layout.Stack.prototype=t.extend(t.Layout).property("orient",String).property("offset",String).property("order",String).property("layers"),
t.Layout.Stack.prototype.defaults=(new t.Layout.Stack).extend(t.Layout.prototype.defaults).orient("bottom-left").offset("zero").layers([[]]),
t.Layout.Stack.prototype.$x=t.Layout.Stack.prototype.$y=function(){return 0
},t.Layout.Stack.prototype.x=function(e){return this.$x=t.functor(e),this
},t.Layout.Stack.prototype.y=function(e){return this.$y=t.functor(e),this
},t.Layout.Stack.prototype.$values=t.identity,
t.Layout.Stack.prototype.values=function(e){
return this.$values=t.functor(e),this},t.Layout.Band=function(){function e(e){
return function(){return i[e](this.index,this.parent.index)}}t.Layout.call(this)
;var i,n,r=this,o=r.buildImplied,a=(new t.Mark).data(function(){
return n[this.parent.index]
}).top(e("t")).left(e("l")).right(e("r")).bottom(e("b")).width(e("w")).height(e("h")).antialias(e("antialias"))
;this.buildImplied=function(e){
o.call(this,e),i=Object.create(t.Layout.Band.$baseItemProps),n=[]
;var r=e.layers,a=r.length;if(a>0){
var s=e.orient,l=/^(top|bottom)\b/.test(s),u=this.parent[l?"height":"width"](),c=this._readData(r,n,e),h=c.length
;if("reverse"===e.bandOrder&&c.reverse(),"reverse"===e.order){n.reverse()
;for(var d=0;d<h;d++)c[d].items.reverse()}switch(e.layout){case"grouped":
this._calcGrouped(c,a,u,e);break;case"stacked":this._calcStacked(c,a,u,e)}
for(var f=e.hZero||0,p="stacked"===e.layout,m=0;m<h;m++)for(var g=c[m],v=p?Math.max(0,g.vertiMargin)/2:0,y=0;y<a;y++){
var b=g.items[y];b.zero&&(b.h=f,b.y-=v+f/2)}this._bindItemProps(c,i,s,l)}}
;var s=this.item={end:this,add:function(e){
return r.add(t.Panel).data(function(){return r.layers()}).add(e).extend(a)},
order:function(e){return r.order(e),this},w:function(e){
return r.$iw=t.functor(e),this},h:function(e){return r.$ih=t.functor(e),this},
horizontalRatio:function(e){return r.$ihorizRatio=t.functor(e),this},
verticalMargin:function(e){return r.$ivertiMargin=t.functor(e),this}
},l=this.band={end:this,w:function(e){return r.$bw=t.functor(e),this},
x:function(e){return r.$bx=t.functor(e),this},order:function(e){
return r.bandOrder(e),this},differentialControl:function(e){
return r.$bDiffControl=t.functor(e),this}};this.band.item=s,this.item.band=l
},t.Layout.Band.$baseItemProps=function(){var e=function(){return null};return{
t:e,l:e,r:e,b:e,w:e,h:e}
}(),t.Layout.Band.prototype=t.extend(t.Layout).property("orient",String).property("layout",String).property("layers").property("yZero",Number).property("hZero",Number).property("verticalMode",String).property("horizontalMode",String).property("order",String).property("bandOrder",String),
t.Layout.Band.prototype.defaults=(new t.Layout.Band).extend(t.Layout.prototype.defaults).orient("bottom-left").layout("grouped").yZero(0).hZero(1.5).layers([[]]),
t.Layout.Band.prototype.$bx=t.Layout.Band.prototype.$bw=t.Layout.Band.prototype.$bDiffControl=t.Layout.Band.prototype.$iw=t.Layout.Band.prototype.$ih=t.Layout.Band.prototype.$ivertiMargin=t.functor(0),
t.Layout.Band.prototype.$ihorizRatio=t.functor(.9),
t.Layout.Band.prototype.$values=t.identity,
t.Layout.Band.prototype.values=function(e){return this.$values=t.functor(e),this
},t.Layout.prototype._readData=function(e,i,n){
var r,o=e.length,a=[],s=t.Mark.stack,l=n.hZero,u={parent:{parent:this}}
;s.unshift(null);for(var c=0;c<o;c++){u.parent.index=c,s[0]=e[c]
;var h=i[c]=this.$values.apply(u.parent,s);c||(r=h.length),s.unshift(null)
;for(var d=0;d<r;d++){s[0]=h[d],u.index=d;var f=a[d];f||(f=a[d]={
horizRatio:this.$ihorizRatio.apply(u,s),
vertiMargin:this.$ivertiMargin.apply(u,s),w:this.$bw.apply(u,s),
x:this.$bx.apply(u,s),
diffControl:this.$bDiffControl?this.$bDiffControl.apply(u,s):0,items:[]})
;var p=this.$ih.apply(u,s),m=null!=p?Math.abs(p):p;f.items[c]={y:n.yZero||0,x:0,
w:this.$iw.apply(u,s),h:m,zero:null!=m&&m<=l,dir:p<0?-1:1}}s.shift()}
return s.shift(),a},t.Layout.Band.prototype._normalizeBands=function(e,t,i,n){
var r,o=e.length;if("expand"===n.verticalMode)for(var a=0;a<o;a++){r=e[a].items
;for(var s=null,l=0,u=0;u<t;u++){var c=r[u];c.dir=1;var h=c.h
;null!=h&&(l++,s+=h)}if(l)if(s)for(var d=i/s,u=0;u<t;u++){var h=r[u].h
;null!=h&&(r[u].h=h*d,r[u].zero=r[u].h<=n.hZero)
}else if(0==s)for(var u=0;u<t;u++)r[u].h=0;else for(var f=i/l,u=0;u<t;u++){
var h=r[u].h;null!=h&&(r[u].h=f)}}return r
},t.Layout.Band.prototype._calcGrouped=function(e,t,i,n){
for(var r=this._normalizeBands(e,t,i,n),o=0,a=e.length;o<a;o++){
for(var s=e[o],r=s.items,l=s.w,u=s.horizRatio,c=0,h=0;h<t;h++)c+=r[h].w
;if(1===t?u=1:u>0&&u<=1||(u=1),
null==l)l=s.w=c/u;else if("expand"===n.horizontalMode){var d=u*l
;if(c)for(var f=d/c,h=0;h<t;h++)r[h].w*=f;else for(var p=d/t,h=0;h<t;h++)r[h].w=p
;c=d}for(var m=c/u,g=s.x-m/2,v=t>1?(m-c)/(t-1):0,h=0;h<t;h++){var y=r[h]
;y.x=g,g+=y.w+v,y.dir<0&&(y.y-=y.h)}}
},t.Layout.Band.prototype._calcStacked=function(e,t,i,n){
for(var r=this._normalizeBands(e,t,i,n),o=n.yZero,a=o,s=0,l=e.length;s<l;s++){
var u=e[s],c=u.x,h=u.diffControl,d=h<0,f=Math.max(0,u.vertiMargin);r=u.items
;var p=this._layoutItemsOfDir(1,d,r,f,c,a),m=null
;if(p.existsOtherDir&&(m=this._layoutItemsOfDir(-1,d,r,f,c,a)),h){
if(1===Math.abs(h)){var g=a;a=p.yOffset,m&&(a-=g-m.yOffset)}}else a=o}
},t.Layout.Band.prototype._layoutItemsOfDir=function(e,t,i,n,r,o){
for(var a=!1,s=n/2,l=t?-e:e,u=t,c=0,h=i.length;c<h;c+=1){var d=i[u?h-c-1:c]
;if(d.dir===e){var f=d.h||0;l>0?(d.y=o+s,o+=f):(d.y=o-(f-s),o-=f);var p=f-n
;d.h=p>0?p:0,d.x=r-d.w/2}else a=!0}return{existsOtherDir:a,yOffset:o}
},t.Layout.Band.prototype._bindItemProps=function(e,t,i,n){
var r=i.indexOf("-"),o=n?"h":"w",a=n?"w":"h",s=r<0?n?"l":"b":i.charAt(r+1),l=i.charAt(0)
;t[s]=function(t,i){return e[t].items[i].x},t[l]=function(t,i){
return e[t].items[i].y},t[a]=function(t,i){return e[t].items[i].w
},t[o]=function(t,i){return e[t].items[i].h||0},t.antialias=function(t,i){
return e[t].items[i].zero}},t.Layout.Treemap=function(){
t.Layout.Hierarchy.call(this),
this.node.strokeStyle("#fff").fillStyle("rgba(31, 119, 180, .25)").width(function(e){
return e.dx}).height(function(e){return e.dy}),this.label.visible(function(e){
return!e.firstChild}).left(function(e){return e.x+e.dx/2}).top(function(e){
return e.y+e.dy/2}).textAlign("center").textAngle(function(e){
return e.dx>e.dy?0:-Math.PI/2
}),(this.leaf=(new t.Mark).extend(this.node).fillStyle(null).strokeStyle(null).visible(function(e){
return!e.firstChild})).parent=this,delete this.link
},t.Layout.Treemap.prototype=t.extend(t.Layout.Hierarchy).property("round",Boolean).property("mode",String).property("order",String),
t.Layout.Treemap.prototype.defaults=(new t.Layout.Treemap).extend(t.Layout.Hierarchy.prototype.defaults).mode("squarify").order("ascending"),
t.Layout.Treemap.prototype.$size=function(e){return Number(e.nodeValue)
},t.Layout.Treemap.prototype.$padLeft=t.Layout.Treemap.prototype.$padRight=t.Layout.Treemap.prototype.$padBottom=t.Layout.Treemap.prototype.$padTop=function(){
return 0},t.Layout.Treemap.prototype.size=function(e){
return this.$size=t.functor(e),this
},t.Layout.Treemap.prototype.padding=function(e){
return e=t.functor(e),this.paddingLeft(e).paddingRight(e).paddingTop(e).paddingBottom(e)
},t.Layout.Treemap.prototype.paddingLeft=function(e){
return arguments.length?(this.$padLeft=t.functor(e),this):this.$padLeft
},t.Layout.Treemap.prototype.paddingRight=function(e){
return arguments.length?(this.$padRight=t.functor(e),this):this.$padRight
},t.Layout.Treemap.prototype.paddingBottom=function(e){
return arguments.length?(this.$padBottom=t.functor(e),this):this.$padBottom
},t.Layout.Treemap.prototype.paddingTop=function(e){
return arguments.length?(this.$padTop=t.functor(e),this):this.$padTop
},t.Layout.Treemap.prototype.buildImplied=function(e){function i(e,t,i,n,r,o,a){
for(var s=0,l=0;s<e.length;s++){var u=e[s]
;i?(u.x=n+l,u.y=r,l+=u.dx=c(o*u.size/t),
u.dy=a):(u.x=n,u.y=r+l,u.dx=o,l+=u.dy=c(a*u.size/t))}u&&(i?u.dx+=o-l:u.dy+=a-l)}
function n(e,t){for(var i=-1/0,n=1/0,r=0,o=0;o<e.length;o++){var a=e[o].size
;a<n&&(n=a),a>i&&(i=a),r+=a}return r*=r,t*=t,Math.max(t*i/r,r/(t*n))}
function r(e,r){function o(e){var n=d==g,r=t.sum(e,u),o=g?c(r/g):0
;return i(e,r,n,s,l,n?d:o,n?o:f),n?(l+=o,f-=o):(s+=o,d-=o),g=Math.min(d,f),n}
var a=e.parentNode,s=e.x,l=e.y,d=e.dx,f=e.dy
;if(a&&(s+=a.paddingLeft,l+=a.paddingTop,
d+=-a.paddingLeft-a.paddingRight,f+=-a.paddingTop-a.paddingBottom),
"squarify"==h){var p=[],m=1/0,g=Math.min(d,f),v=d*f/e.size;if(!(e.size<=0)){
e.visitBefore(function(e){e.size*=v});for(var y=e.childNodes.slice();y.length;){
var b=y[y.length-1];if(b.size){p.push(b);var v=n(p,g)
;v<=m?(y.pop(),m=v):(p.pop(),o(p),p.length=0,m=1/0)}else y.pop()}
if(o(p))for(var r=0;r<p.length;r++)p[r].dy+=f;else for(var r=0;r<p.length;r++)p[r].dx+=d
}}else i(e.childNodes,e.size,"slice"==h||"dice"!=h&&1&r,s,l,d,f)}
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var o=this,a=e.nodes,s=a[0],l=t.Mark.stack,u=function(e){return e.size
},c=e.round?Math.round:Number,h=e.mode;l.unshift(null);try{
s.visitAfter(function(e,i){
e.depth=i,e.x=e.y=e.dx=e.dy=0,l[0]=e,e.firstChild?(e.size=t.sum(e.childNodes,u),
e.paddingRight=+o.$padRight.apply(o,l)||0,
e.paddingLeft=+o.$padLeft.apply(o,l)||0,
e.paddingBottom=+o.$padBottom.apply(o,l)||0,
e.paddingTop=+o.$padTop.apply(o,l)||0):e.size=o.$size.apply(o,l)})}finally{
l.shift()}switch(e.order){case"ascending":s.sort(function(e,t){
return e.size-t.size});break;case"descending":s.sort(function(e,t){
return t.size-e.size});break;case"reverse":s.reverse()}s.x=0,s.y=0,s.dx=e.width,
s.dy=e.height,s.visitBefore(r)}},t.Layout.Tree=function(){
t.Layout.Hierarchy.call(this)
},t.Layout.Tree.prototype=t.extend(t.Layout.Hierarchy).property("group",Number).property("breadth",Number).property("depth",Number).property("orient",String),
t.Layout.Tree.prototype.defaults=(new t.Layout.Tree).extend(t.Layout.Hierarchy.prototype.defaults).group(1).breadth(15).depth(60).orient("top"),
t.Layout.Tree.prototype.buildImplied=function(e){function i(e){var t,n,o
;if(e.firstChild){t=e.firstChild,n=e.lastChild,o=t
;for(var a=t;a;a=a.nextSibling)i(a),o=r(a,o);l(e);var s=.5*(t.prelim+n.prelim)
;(t=e.previousSibling)?(e.prelim=t.prelim+c(e.depth,!0),
e.mod=e.prelim-s):e.prelim=s
}else(t=e.previousSibling)&&(e.prelim=t.prelim+c(e.depth,!0))}function n(e,t,i){
e.breadth=e.prelim+t,t+=e.mod;for(var r=e.firstChild;r;r=r.nextSibling)n(r,t,i)}
function r(e,t){var i=e.previousSibling;if(i){
for(var n=e,r=e,l=i,h=e.parentNode.firstChild,d=n.mod,f=r.mod,p=l.mod,m=h.mod,g=a(l),v=o(n);g&&v;){
l=g,n=v,h=o(h),r=a(r),r.ancestor=e;var y=l.prelim+p-(n.prelim+d)+c(l.depth,!1)
;y>0&&(s(u(l,e,t),e,y),
d+=y,f+=y),p+=l.mod,d+=n.mod,m+=h.mod,f+=r.mod,g=a(l),v=o(n)}
g&&!a(r)&&(r.thread=g,r.mod+=p-f),v&&!o(h)&&(h.thread=v,h.mod+=d-m,t=e)}return t
}function o(e){return e.firstChild||e.thread}function a(e){
return e.lastChild||e.thread}function s(e,t,i){var n=t.number-e.number
;t.change-=i/n,t.shift+=i,e.change+=i/n,t.prelim+=i,t.mod+=i}function l(e){
for(var t=0,i=0,n=e.lastChild;n;n=n.previousSibling)n.prelim+=t,
n.mod+=t,i+=n.change,t+=n.shift+i}function u(e,t,i){
return e.ancestor.parentNode==t.parentNode?e.ancestor:i}function c(e,t){
return(t?1:y+1)/("radial"==m?e:1)}function h(e){return"radial"==m?e.breadth/g:0}
function d(e){switch(m){case"left":return e.depth;case"right":return b-e.depth
;case"top":case"bottom":return e.breadth+b/2;case"radial":
return b/2+e.depth*Math.cos(h(e))}}function f(e){switch(m){case"left":
case"right":return e.breadth+_/2;case"top":return e.depth;case"bottom":
return _-e.depth;case"radial":return _/2+e.depth*Math.sin(h(e))}}
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var p=e.nodes,m=e.orient,g=e.depth,v=e.breadth,y=e.group,b=e.width,_=e.height,x=p[0]
;x.visitAfter(function(e,t){
e.ancestor=e,e.prelim=0,e.mod=0,e.change=0,e.shift=0,
e.number=e.previousSibling?e.previousSibling.number+1:0,e.depth=t
}),i(x),n(x,-x.prelim,0),x.visitAfter(function(e){
e.breadth*=v,e.depth*=g,e.midAngle=h(e),
e.x=d(e),e.y=f(e),e.firstChild&&(e.midAngle+=Math.PI),
delete e.breadth,delete e.depth,
delete e.ancestor,delete e.prelim,delete e.mod,delete e.change,
delete e.shift,delete e.number,delete e.thread})}},t.Layout.Indent=function(){
t.Layout.Hierarchy.call(this),this.link.interpolate("step-after")
},t.Layout.Indent.prototype=t.extend(t.Layout.Hierarchy).property("depth",Number).property("breadth",Number),
t.Layout.Indent.prototype.defaults=(new t.Layout.Indent).extend(t.Layout.Hierarchy.prototype.defaults).depth(15).breadth(15),
t.Layout.Indent.prototype.buildImplied=function(e){function i(e,t,n){
e.x=a+n++*o,e.y=s+t++*r,e.midAngle=0
;for(var l=e.firstChild;l;l=l.nextSibling)t=i(l,t,n);return t}
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var n=e.nodes,r=e.breadth,o=e.depth,a=0,s=0;i(n[0],1,1)}
},t.Layout.Pack=function(){
t.Layout.Hierarchy.call(this),this.node.shapeRadius(function(e){return e.radius
}).strokeStyle("rgb(31, 119, 180)").fillStyle("rgba(31, 119, 180, .25)"),
this.label.textAlign("center"),delete this.link
},t.Layout.Pack.prototype=t.extend(t.Layout.Hierarchy).property("spacing",Number).property("order",String),
t.Layout.Pack.prototype.defaults=(new t.Layout.Pack).extend(t.Layout.Hierarchy.prototype.defaults).spacing(1).order("ascending"),
t.Layout.Pack.prototype.$radius=function(){return 1
},t.Layout.Pack.prototype.size=function(e){
return this.$radius="function"==typeof e?function(){
return Math.sqrt(e.apply(this,arguments))}:(e=Math.sqrt(e),function(){return e
}),this},t.Layout.Pack.prototype.buildImplied=function(e){function i(t){
for(var r=[],o=t.firstChild;o;o=o.nextSibling)o.firstChild&&(o.radius=i(o)),
o.n=o.p=o,r.push(o);switch(e.order){case"ascending":r.sort(function(e,t){
return e.radius-t.radius});break;case"descending":r.sort(function(e,t){
return t.radius-e.radius});break;case"reverse":r.reverse()}return n(r)}
function n(t){function i(e){
d=Math.min(e.x-e.radius,d),f=Math.max(e.x+e.radius,f),
p=Math.min(e.y-e.radius,p),m=Math.max(e.y+e.radius,m)}function n(e,t){var i=e.n
;e.n=t,t.p=e,t.n=i,i.p=t}function o(e,t){e.n=t,t.p=e}function a(e,t){
var i=t.x-e.x,n=t.y-e.y,r=e.radius+t.radius;return r*r-i*i-n*n>.001}
var s,l,u,c,h,d=1/0,f=-1/0,p=1/0,m=-1/0
;if(s=t[0],s.x=-s.radius,s.y=0,i(s),t.length>1&&(l=t[1],l.x=l.radius,l.y=0,i(l),
t.length>2)){u=t[2],r(s,l,u),i(u),n(s,u),s.p=u,n(u,l),l=s.n
;for(var g=3;g<t.length;g++){r(s,l,u=t[g]);var v=0,y=1,b=1;for(c=l.n;c!=l;c=c.n,
y++)if(a(c,u)){v=1;break}if(1==v)for(h=s.p;h!=c.p;h=h.p,b++)if(a(h,u)){
b<y&&(v=-1,c=h);break}
0==v?(n(s,u),l=u,i(u)):v>0?(o(s,c),l=c,g--):v<0&&(o(c,l),s=c,g--)}}
for(var _=(d+f)/2,x=(p+m)/2,w=0,g=0;g<t.length;g++){var C=t[g]
;C.x-=_,C.y-=x,w=Math.max(w,C.radius+Math.sqrt(C.x*C.x+C.y*C.y))}
return w+e.spacing}function r(e,t,i){
var n=t.radius+i.radius,r=e.radius+i.radius,o=t.x-e.x,a=t.y-e.y,s=Math.sqrt(o*o+a*a),l=(r*r+s*s-n*n)/(2*r*s),u=Math.acos(l),c=l*r,h=Math.sin(u)*r
;o/=s,a/=s,i.x=e.x+c*o+h*a,i.y=e.y+c*a-h*o}function o(e,t,i,n){
for(var r=e.firstChild;r;r=r.nextSibling)r.x+=e.x,r.y+=e.y,o(r,t,i,n)
;e.x=t+n*e.x,e.y=i+n*e.y,e.radius*=n}
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var a=this,s=e.nodes,l=s[0];!function(e){var i=t.Mark.stack;i.unshift(null)
;for(var n=0,r=e.length;n<r;n++){var o=e[n]
;o.firstChild||(o.radius=a.$radius.apply(a,(i[0]=o,i)))}i.shift()
}(s),l.x=0,l.y=0,l.radius=i(l);var u=this.width(),c=this.height()
;o(l,u/2,c/2,1/Math.max(2*l.radius/u,2*l.radius/c))}},t.Layout.Force=function(){
t.Layout.Network.call(this),this.link.lineWidth(function(e,t){
return 1.5*Math.sqrt(t.linkValue)}),this.label.textAlign("center")
},t.Layout.Force.prototype=t.extend(t.Layout.Network).property("bound",Boolean).property("iterations",Number).property("dragConstant",Number).property("chargeConstant",Number).property("chargeMinDistance",Number).property("chargeMaxDistance",Number).property("chargeTheta",Number).property("springConstant",Number).property("springDamping",Number).property("springLength",Number),
t.Layout.Force.prototype.defaults=(new t.Layout.Force).extend(t.Layout.Network.prototype.defaults).dragConstant(.1).chargeConstant(-40).chargeMinDistance(2).chargeMaxDistance(500).chargeTheta(.9).springConstant(.1).springDamping(.3).springLength(20),
t.Layout.Force.prototype.buildImplied=function(e){function i(e){
return e.fix?1:e.vx*e.vx+e.vy*e.vy}
if(t.Layout.Network.prototype.buildImplied.call(this,e)){var n=e.$force
;n&&(n.next=this.binds.$force,this.binds.$force=n)}else{
for(var r,o=this,a=e.nodes,s=e.links,l=e.iterations,u=e.width,c=e.height,h=0;h<a.length;h++)r=a[h],
isNaN(r.x)&&(r.x=u/2+40*Math.random()-20),
isNaN(r.y)&&(r.y=c/2+40*Math.random()-20);var d=t.simulation(a)
;if(d.force(t.Force.drag(e.dragConstant)),
d.force(t.Force.charge(e.chargeConstant).domain(e.chargeMinDistance,e.chargeMaxDistance).theta(e.chargeTheta)),
d.force(t.Force.spring(e.springConstant).damping(e.springDamping).length(e.springLength).links(s)),
d.constraint(t.Constraint.position()),
e.bound&&d.constraint(t.Constraint.bound().x(6,u-6).y(6,c-6)),
null==l)d.step(),d.step(),e.$force=this.binds.$force={next:this.binds.$force,
nodes:a,min:1e-4*(s.length+1),sim:d
},this.$timer||(this.$timer=setInterval(function(){
for(var e=!1,n=o.binds.$force;n;n=n.next)t.max(n.nodes,i)>n.min&&(n.sim.step(),
e=!0);e&&o.render()},42));else for(var h=0;h<l;h++)d.step()}
},t.Layout.Cluster=function(){t.Layout.Hierarchy.call(this)
;var e,i=this.buildImplied;this.buildImplied=function(t){
i.call(this,t),e=/^(top|bottom)$/.test(t.orient)?"step-before":/^(left|right)$/.test(t.orient)?"step-after":"linear"
},this.link.interpolate(function(){return e})
},t.Layout.Cluster.prototype=t.extend(t.Layout.Hierarchy).property("group",Number).property("orient",String).property("innerRadius",Number).property("outerRadius",Number),
t.Layout.Cluster.prototype.defaults=(new t.Layout.Cluster).extend(t.Layout.Hierarchy.prototype.defaults).group(0).orient("top"),
t.Layout.Cluster.prototype.buildImplied=function(e){
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var i,n,r=e.nodes[0],o=e.group,a=0,s=.5-o/2,l=void 0;r.visitAfter(function(e){
e.firstChild?e.depth=1+t.max(e.childNodes,function(e){return e.depth
}):(o&&l!=e.parentNode&&(l=e.parentNode,a+=o),a++,e.depth=0)}),i=1/a,n=1/r.depth
;var l=void 0;r.visitAfter(function(e){
e.firstChild?e.breadth=t.mean(e.childNodes,function(e){return e.breadth
}):(o&&l!=e.parentNode&&(l=e.parentNode,
s+=o),e.breadth=i*s++),e.depth=1-e.depth*n}),r.visitAfter(function(e){
e.minBreadth=e.firstChild?e.firstChild.minBreadth:e.breadth-i/2,
e.maxBreadth=e.firstChild?e.lastChild.maxBreadth:e.breadth+i/2
}),r.visitBefore(function(e){
e.minDepth=e.parentNode?e.parentNode.maxDepth:0,e.maxDepth=e.parentNode?e.depth+r.depth:e.minDepth+2*r.depth
}),r.minDepth=-n,t.Layout.Hierarchy.NodeLink.buildImplied.call(this,e)}
},t.Layout.Cluster.Fill=function(){
t.Layout.Cluster.call(this),t.Layout.Hierarchy.Fill.constructor.call(this)
},t.Layout.Cluster.Fill.prototype=t.extend(t.Layout.Cluster),
t.Layout.Cluster.Fill.prototype.buildImplied=function(e){
t.Layout.Cluster.prototype.buildImplied.call(this,e)||t.Layout.Hierarchy.Fill.buildImplied.call(this,e)
},t.Layout.Partition=function(){t.Layout.Hierarchy.call(this)
},t.Layout.Partition.prototype=t.extend(t.Layout.Hierarchy).property("order",String).property("orient",String).property("innerRadius",Number).property("outerRadius",Number),
t.Layout.Partition.prototype.defaults=(new t.Layout.Partition).extend(t.Layout.Hierarchy.prototype.defaults).orient("top"),
t.Layout.Partition.prototype.$size=function(){return 1
},t.Layout.Partition.prototype.size=function(e){return this.$size=e,this
},t.Layout.Partition.prototype.buildImplied=function(e){
if(!t.Layout.Hierarchy.prototype.buildImplied.call(this,e)){
var i=this,n=e.nodes[0],r=t.Mark.stack,o=0
;switch(r.unshift(null),n.visitAfter(function(e,n){
n>o&&(o=n),e.size=e.firstChild?t.sum(e.childNodes,function(e){return e.size
}):i.$size.apply(i,(r[0]=e,r))}),r.shift(),e.order){case"ascending":
n.sort(function(e,t){return e.size-t.size});break;case"descending":
n.sort(function(e,t){return t.size-e.size})}
n.minBreadth=0,n.breadth=.5,n.maxBreadth=1,n.visitBefore(function(e){
for(var t=e.minBreadth,i=e.maxBreadth-t,n=e.firstChild;n;n=n.nextSibling)n.minBreadth=t,
t+=n.size/e.size*i,n.maxBreadth=t,n.breadth=(t+n.minBreadth)/2
}),n.visitAfter(function(e,t){e.minDepth=(t-1)/o,e.maxDepth=e.depth=t/o
}),t.Layout.Hierarchy.NodeLink.buildImplied.call(this,e)}
},t.Layout.Partition.Fill=function(){
t.Layout.Partition.call(this),t.Layout.Hierarchy.Fill.constructor.call(this)
},t.Layout.Partition.Fill.prototype=t.extend(t.Layout.Partition),
t.Layout.Partition.Fill.prototype.buildImplied=function(e){
t.Layout.Partition.prototype.buildImplied.call(this,e)||t.Layout.Hierarchy.Fill.buildImplied.call(this,e)
},t.Layout.Arc=function(){t.Layout.Network.call(this)
;var e,i,n,r=this.buildImplied;this.buildImplied=function(t){
r.call(this,t),i=t.directed,
e="radial"==t.orient?"linear":"polar",n="right"==t.orient||"top"==t.orient
},this.link.data(function(e){var t=e.sourceNode,r=e.targetNode
;return n!=(i||t.breadth<r.breadth)?[t,r]:[r,t]}).interpolate(function(){
return e})
},t.Layout.Arc.prototype=t.extend(t.Layout.Network).property("orient",String).property("directed",Boolean),
t.Layout.Arc.prototype.defaults=(new t.Layout.Arc).extend(t.Layout.Network.prototype.defaults).orient("bottom"),
t.Layout.Arc.prototype.sort=function(e){return this.$sort=e,this
},t.Layout.Arc.prototype.buildImplied=function(e){function i(e){switch(r){
case"top":return-Math.PI/2;case"bottom":return Math.PI/2;case"left":
return Math.PI;case"right":return 0;case"radial":return 2*(e-.25)*Math.PI}}
if(!t.Layout.Network.prototype.buildImplied.call(this,e)){
var n=e.nodes,r=e.orient,o=this.$sort,a=t.range(n.length),s=e.width,l=e.height,u=Math.min(s,l)/2
;o&&a.sort(function(e,t){return o(n[e],n[t])});for(var c=0;c<n.length;c++){
var h=n[a[c]],d=h.breadth=(c+.5)/n.length;h.x=function(e){switch(r){case"top":
case"bottom":return e*s;case"left":return 0;case"right":return s;case"radial":
return s/2+u*Math.cos(i(e))}}(d),h.y=function(e){switch(r){case"top":return 0
;case"bottom":return l;case"left":case"right":return e*l;case"radial":
return l/2+u*Math.sin(i(e))}}(d),h.midAngle=i(d)}}},t.Layout.Horizon=function(){
t.Layout.call(this);var e,i,n,r,o,a,s=this,l=this.buildImplied
;this.buildImplied=function(s){
l.call(this,s),e=s.bands,i=s.mode,n=Math.round(("color"==i?.5:1)*s.height),
r=s.backgroundStyle,
o=t.ramp(r,s.negativeStyle).domain(0,e),a=t.ramp(r,s.positiveStyle).domain(0,e)}
;var e=(new t.Panel).data(function(){return t.range(2*e)
}).overflow("hidden").height(function(){return n}).top(function(e){
return"color"==i?(1&e)*n:0}).fillStyle(function(e){return e?null:r})
;this.band=(new t.Mark).top(function(e,t){return"mirror"==i&&1&t?(t+1>>1)*n:null
}).bottom(function(e,t){
return"mirror"==i?1&t?null:(t+1>>1)*-n:(1&t||-1)*(t+1>>1)*n
}).fillStyle(function(e,t){return(1&t?o:a)(1+(t>>1))
}),this.band.add=function(i){return s.add(t.Panel).extend(e).add(i).extend(this)
}
},t.Layout.Horizon.prototype=t.extend(t.Layout).property("bands",Number).property("mode",String).property("backgroundStyle",t.fillStyle).property("positiveStyle",t.fillStyle).property("negativeStyle",t.fillStyle),
t.Layout.Horizon.prototype.defaults=(new t.Layout.Horizon).extend(t.Layout.prototype.defaults).bands(2).mode("offset").backgroundStyle("white").positiveStyle("#1f77b4").negativeStyle("#d62728"),
t.Layout.Rollup=function(){t.Layout.Network.call(this)
;var e,i,n=this,r=n.buildImplied;this.buildImplied=function(t){
r.call(this,t),e=t.$rollup.nodes,i=t.$rollup.links},this.node.data(function(){
return e}).shapeSize(function(e){return 20*e.nodes.length
}),this.link.interpolate("polar").eccentricity(.8),this.link.add=function(e){
return n.add(t.Panel).data(function(){return i}).add(e).extend(this)}
},t.Layout.Rollup.prototype=t.extend(t.Layout.Network).property("directed",Boolean),
t.Layout.Rollup.prototype.x=function(e){return this.$x=t.functor(e),this
},t.Layout.Rollup.prototype.y=function(e){return this.$y=t.functor(e),this
},t.Layout.Rollup.prototype.buildImplied=function(e){function i(e){
return s[e]+","+l[e]}if(!t.Layout.Network.prototype.buildImplied.call(this,e)){
var n=e.nodes,r=e.links,o=e.directed,a=n.length,s=[],l=[],u=0,c={},h={},d=t.Mark.stack,f={
parent:this};d.unshift(null)
;for(var p=0;p<a;p++)f.index=p,d[0]=n[p],s[p]=this.$x.apply(f,d),
l[p]=this.$y.apply(f,d);d.shift();for(var p=0;p<n.length;p++){var m=i(p),g=c[m]
;g||(g=c[m]=Object.create(n[p]),
g.index=u++,g.x=s[p],g.y=l[p],g.nodes=[]),g.nodes.push(n[p])}
for(var p=0;p<r.length;p++){
var v=r[p].sourceNode,y=r[p].targetNode,b=c[i(v.index)],_=c[i(y.index)],x=!o&&b.index>_.index,w=x?_.index+","+b.index:b.index+","+_.index,C=h[w]
;C||(C=h[w]={sourceNode:b,targetNode:_,linkValue:0,links:[]
}),C.links.push(r[p]),C.linkValue+=r[p].linkValue}e.$rollup={nodes:t.values(c),
links:t.values(h)}}},t.Layout.Matrix=function(){t.Layout.Network.call(this)
;var e,i,n,r,o,a=this,s=a.buildImplied;this.buildImplied=function(t){
s.call(this,t),
e=t.nodes.length,i=t.width/e,n=t.height/e,r=t.$matrix.labels,o=t.$matrix.pairs},
this.link.data(function(){return o}).left(function(){return i*(this.index%e)
}).top(function(){return n*Math.floor(this.index/e)}).width(function(){return i
}).height(function(){return n
}).lineWidth(1.5).strokeStyle("#fff").fillStyle(function(e){
return e.linkValue?"#555":"#eee"
}).parent=this,delete this.link.add,this.label.data(function(){return r
}).left(function(){return 1&this.index?i*(.5+(this.index>>1)):0
}).top(function(){return 1&this.index?0:n*(.5+(this.index>>1))
}).textMargin(4).textAlign(function(){return 1&this.index?"left":"right"
}).textAngle(function(){return 1&this.index?-Math.PI/2:0}),delete this.node
},t.Layout.Matrix.prototype=t.extend(t.Layout.Network).property("directed",Boolean),
t.Layout.Matrix.prototype.sort=function(e){return this.$sort=e,this
},t.Layout.Matrix.prototype.buildImplied=function(e){
if(!t.Layout.Network.prototype.buildImplied.call(this,e)){
var i=e.nodes,n=e.links,r=this.$sort,o=i.length,a=t.range(o),s=[],l=[],u={}
;e.$matrix={labels:s,pairs:l},r&&a.sort(function(e,t){return r(i[e],i[t])})
;for(var c=0;c<o;c++)for(var h=0;h<o;h++){var d=a[c],f=a[h],p={row:c,col:h,
sourceNode:i[d],targetNode:i[f],linkValue:0};l.push(u[d+"."+f]=p)}
for(var c=0;c<o;c++){var d=a[c];s.push(i[d],i[d])}for(var c=0;c<n.length;c++){
var m=n[c],g=m.sourceNode.index,v=m.targetNode.index,y=m.linkValue
;u[g+"."+v].linkValue+=y,e.directed||(u[v+"."+g].linkValue+=y)}}
},t.Layout.Bullet=function(){t.Layout.call(this)
;var e,i,n,r,o,a=this,s=a.buildImplied,l=a.x=t.Scale.linear()
;this.buildImplied=function(a){
s.call(this,o=a),e=a.orient,i=/^left|right$/.test(e),
n=t.ramp("#bbb","#eee").domain(0,Math.max(1,o.ranges.length-1)),
r=t.ramp("steelblue","lightsteelblue").domain(0,Math.max(1,o.measures.length-1))
},(this.range=new t.Mark).data(function(){return o.ranges
}).reverse(!0).left(function(){return"left"==e?0:null}).top(function(){
return"top"==e?0:null}).right(function(){return"right"==e?0:null
}).bottom(function(){return"bottom"==e?0:null}).width(function(e){
return i?l(e):null}).height(function(e){return i?null:l(e)
}).fillStyle(function(){return n(this.index)
}).antialias(!1).parent=a,(this.measure=new t.Mark).extend(this.range).data(function(){
return o.measures}).left(function(){
return"left"==e?0:i?null:this.parent.width()/3.25}).top(function(){
return"top"==e?0:i?this.parent.height()/3.25:null}).right(function(){
return"right"==e?0:i?null:this.parent.width()/3.25}).bottom(function(){
return"bottom"==e?0:i?this.parent.height()/3.25:null}).fillStyle(function(){
return r(this.index)}).parent=a,(this.marker=new t.Mark).data(function(){
return o.markers}).left(function(t){
return"left"==e?l(t):i?null:this.parent.width()/2}).top(function(t){
return"top"==e?l(t):i?this.parent.height()/2:null}).right(function(t){
return"right"==e?l(t):null}).bottom(function(t){return"bottom"==e?l(t):null
}).strokeStyle("black").shape("bar").shapeAngle(function(){return i?0:Math.PI/2
}).parent=a,(this.tick=new t.Mark).data(function(){return l.ticks(7)
}).left(function(t){return"left"==e?l(t):null}).top(function(t){
return"top"==e?l(t):null}).right(function(t){return"right"==e?l(t):i?null:-6
}).bottom(function(t){return"bottom"==e?l(t):i?-8:null}).height(function(){
return i?6:null}).width(function(){return i?null:6}).parent=a
},t.Layout.Bullet.prototype=t.extend(t.Layout).property("orient",String).property("ranges").property("markers").property("measures").property("minimum").property("maximum"),
t.Layout.Bullet.prototype.defaults=(new t.Layout.Bullet).extend(t.Layout.prototype.defaults).orient("left").ranges([]).markers([]).measures([]),
t.Layout.Bullet.prototype._originIsZero=!0,
t.Layout.Bullet.prototype.originIsZero=function(e){
return arguments.length?this._originIsZero=!!e:this._originIsZero
},t.Layout.Bullet.prototype.buildImplied=function(e){
t.Layout.prototype.buildImplied.call(this,e)
;var i,n=this.parent[/^left|right$/.test(e.orient)?"width":"height"](),r=e.maximum,o=e.minimum
;null==r?(i=[].concat(e.ranges,e.markers,e.measures),
r=t.max(i)):r=+r,null==o?(i||(i=[].concat(e.ranges,e.markers,e.measures)),
o=t.min(i),
o*=.95):o=+o,(o>r||r-o<1e-10)&&(o=Math.abs(r)<1e-10?-.1:.99*r),this._originIsZero&&o*r>0&&(o>0?o=0:r=0),
e.minimum=o,e.maximum=r,this.x.domain(o,r).range(0,n)
},t.Behavior={},t.Behavior.dragBase=function(e){function i(i){
if(h||(h=!0,this.addEventInterceptor("click",s,!0)),!l){var a=this.root.scene.$g
;l=[[a,"mousemove",t.listen(a,"mousemove",n)],[a,"mouseup",t.listen(a,"mouseup",r)],[document,"mousemove",t.listen(document,"mousemove",n)],[document,"mouseup",t.listen(document,"mouseup",r)]]
}var f=arguments[arguments.length-1];u=f.target,c=!1,f.stopPropagation()
;var p=this.mouse(),m=this.scene,g=this.index;d=m[g].drag={phase:"start",m:p,
m1:p,m2:null,d:i,scene:m,index:g},f=o(f,d),e.dragstart.call(this,f);var v=d.m
;v!==p&&(p.x=v.x,p.y=v.y)}function n(t){if(d){
d.phase="move",t.stopPropagation(),t=o(t,d);var i=d.scene
;i.mark.context(i,d.index,function(){var i=d.m2||d.m1,n=this.mouse()
;if(!(i&&n.distance2(i).dist2<=2)){d.m=d.m2=n,e.drag.call(this,t);var r=d.m
;r!==n&&(n.x=r.x,n.y=r.y)}})}}function r(i){if(d){d.phase="end"
;var n=d.m2,r=n&&d.m1.distance2(n).dist2>.1
;d.canceled=!r,c=r&&u===i.target,c||(u=null),
i.stopPropagation(),i=o(i,d),l&&(l.forEach(function(e){t.unlisten.apply(t,e)
}),l=null);var a=d.scene,s=d.index;try{a.mark.context(a,s,function(){
e.dragend.call(this,i)})}finally{d=null,delete a[s].drag}}}function o(e,t){try{
return e.drag=t,e}catch(e){}var i={};for(var n in e){var r=e[n]
;i[n]="function"!=typeof r?r:a(r,e)}return i._sourceEvent=e,i}function a(e,t){
return function(){return e.apply(t,arguments)}}function s(e,t){
if(c&&u===t.target)return c=!1,u=null,!1}var l,u,c,h,d
;return e.autoRender=!0,e.positionConstraint=null,e.bound=function(e,t){
return Math.max(d.min[t],Math.min(d.max[t],e))},i.autoRender=function(t){
return arguments.length?(e.autoRender=!!t,i):e.autoRender
},i.positionConstraint=function(t){
return arguments.length?(e.positionConstraint=t,i):e.positionConstraint},i
},t.Behavior.drag=function(){var e,i=null,n=1,r=1,o={dragstart:function(i){
var n=i.drag;n.type="drag";var r=n.d,a=t.vector(r.x,r.y)
;r.fix=a,r.drag=n,e=a.minus(n.m1);var s=this.parent;n.max={
x:s.width()-(r.dx||0),y:s.height()-(r.dy||0)},n.min={x:0,y:0
},o.autoRender&&this.render(),t.Mark.dispatch("dragstart",n.scene,n.index,i)},
drag:function(i){var a=i.drag,s=a.m2,l=a.d;a.m=e.plus(s)
;var u=o.positionConstraint;u&&u(a);var c=a.m;n&&(l.x=l.fix.x=o.bound(c.x,"x")),
r&&(l.y=l.fix.y=o.bound(c.y,"y")),
o.autoRender&&this.render(),t.Mark.dispatch("drag",a.scene,a.index,i)},
dragend:function(i){var n=i.drag,r=n.d
;r.fix=null,e=null,o.autoRender&&this.render();try{
t.Mark.dispatch("dragend",n.scene,n.index,i)}finally{delete r.drag}}
},a=t.Behavior.dragBase(o);return a.collapse=function(e){if(arguments.length){
switch(i=String(e)){case"y":n=1,r=0;break;case"x":n=0,r=1;break;default:n=1,r=1}
return a}return i},a},t.Behavior.point=function(e){function i(e,t){
if(e.visible)for(var i=e.children.length-1;i>=0;i--)if(n(e.children[i],t))return!0
}function n(e,t){var n,a,s,l=e.mark,u="panel"===l.type;if(l.$handlers.point){
var c,h=(u&&l.parent||l).mouse(),d=l._pointingRadiusMax,f=d*d
;for(a=e.length;a--;)if((c=r(e,a))&&o(e,a,h,t,c,f)){n=!0;break}}if(u){l.scene=e,
s=!(!l.isPointingBarrier||!l.parent);try{
for(a=e.length;a--;)if(l.index=a,(!s||l.getShape(e,a).containsPoint(l.parent.mouse()))&&i(e[a],t))return!0
}finally{delete l.scene,delete l.index}}return n}function r(e,t){var i=e[t]
;if(!i.visible)return 0;if(!d)return 1;var n=e.mark.properties
;if(!n.fillStyle&&!n.strokeStyle)return 1
;var r=i.fillStyle?i.fillStyle.opacity:0,o=i.strokeStyle?i.strokeStyle.opacity:0,a=Math.max(r,o)
;return a<.02?0:a>.98?1:.5}function o(e,i,n,r,o,a){
var s,l=e.mark.getShape(e,i),u=l.hasArea(),d=l.containsPoint(n,p)?!h||l.containsPoint(n)?2:1:0,f=isFinite(a)&&d<2,m=function(){
if(f&&a<=0)return-1;if(s=l.distance2(n,p),f&&t.floatLess(a,s.cost))return-2
;if(v&&!d&&t.floatLess(g,s.dist2))return-3;if(u===r.hasArea){
if(d<r.inside)return-4;if(d>r.inside)return 1}else{if(h){
if(!d&&r.inside)return-5;if(d&&!r.inside)return 2}if(u||2!==r.inside){
if(u&&2===d){if(2===r.inside)return-7
;if(0===r.inside&&t.floatLess(3,r.cost))return 4}}else{if(2===d)return 3
;if(0===d&&t.floatLess(3,s.cost))return-6}}if(!h||!d){
if(t.floatLess(r.dist2,s.dist2))return-8
;if(t.floatLess(s.dist2,r.dist2))return 5}
return h&&t.floatLess(s.cost,r.cost)?6:-9}();if(c&&function(){if(m<-3||m>0){
var t=e&&e.mark
;console.log("POINT "+(m>0?"choose":"skip")+" ("+m+") "+(t?t.type+" "+i:"none")+" in="+d+" d2="+(s&&s.dist2)+" cost="+(s&&s.cost)+" opaq="+(1===o))
}
}(),m>0&&(r.hasArea=u,r.inside=d,r.dist2=s.dist2,r.cost=s.cost,r.scenes=e,r.index=i,
r.shape=l,u&&2===d&&1===o))return!0}function a(){var e=t.event
;c&&console.log("POINT MOUSE MOVE BEG");try{var n={cost:1/0,dist2:1/0,inside:0,
hasArea:!1,x:e.pageX||0,y:e.pageY||0};if(u&&y&&t.Shape.dist2(n,u).cost<y)return
;if(i(this.scene[this.index],n),
n.inside||isFinite(n.cost)||(n=null),e.pointFrom=u,e.pointTo=n,u){
if(n&&u.scenes==n.scenes&&u.index==n.index)return
;e.isPointSwitch=!!n,t.Mark.dispatch("unpoint",u.scenes,u.index,e)}
u=n,n&&(t.Mark.dispatch("point",n.scenes,n.index,e),
m||("panel"===this.type?(m=this,this.event("mouseout",function(){
s.call(this.scene.$g)
}),f&&m.addEventInterceptor("click",l)):t.listen(this.root.canvas(),"mouseout",s)))
}finally{c&&console.log("POINT MOUSE MOVE END")}}function s(){var e=t.event
;u&&!t.ancestor(this,e.relatedTarget)&&(t.Mark.dispatch("unpoint",u.scenes,u.index,e),
u=null)}function l(e,t){if(u){var i=u.scenes,n=i.mark.$handlers[e]
;if(n)return[n,i,u.index,t]}}"object"!=typeof e&&(e={radius:e})
;var u,c=0,h=null,d=!!t.get(e,"painted",!1),f=!!t.get(e,"stealClick",!1),p={x:1,
y:1},m=null,g=function(){var i=t.parseNumNonNeg(t.get(e,"radius"),30);return i*i
}(),v=isFinite(g),y=function(){var i=t.parseNumNonNeg(t.get(e,"radiusHyst"),0)
;return isFinite(i)||(i=4),i*i}();return a.collapse=function(e){
if(arguments.length){switch(h=String(e)){case"y":p.x=1,p.y=0;break;case"x":
p.x=0,p.y=1;break;default:p.x=1,p.y=1,h=null}return a}return h
},e&&null!=e.collapse&&a.collapse(e.collapse),e=null,a
},t.Behavior.select=function(){var e=null,i=1,n=1,r=!1,o={dragstart:function(e){
var a=e.drag;a.type="select",a.dxmin=0,a.dymin=0;var s=a.d;s.drag=a,a.max={
x:this.width(),y:this.height()},a.min={x:0,y:0};var l=o.positionConstraint
;l&&(a.m=a.m.clone(),l(a));var u=a.m
;i&&(s.x=o.bound(u.x,"x"),r||(s.dx=Math.max(0,a.dxmin))),
n&&(s.y=o.bound(u.y,"y"),
r||(s.dy=Math.max(0,a.dymin))),t.Mark.dispatch("selectstart",a.scene,a.index,e)
},drag:function(e){var a=e.drag,s=a.m1,l=a.d
;a.max.x=this.width(),a.max.y=this.height();var u=o.positionConstraint
;u&&(a.m=a.m.clone(),u(a));var c=a.m;if(i){var h=Math.min(s.x,c.x)
;if(h=o.bound(h,"x"),l.x=h,!r){var d=Math.max(c.x,s.x)
;d=o.bound(d,"x"),l.dx=Math.max(0,a.dxmin,d-h)}}if(n){var f=Math.min(s.y,c.y)
;if(f=o.bound(f,"y"),l.y=f,!r){var p=Math.max(c.y,s.y)
;p=o.bound(p,"y"),l.dy=Math.max(0,a.dymin,p-f)}}
o.autoRender&&this.render(),t.Mark.dispatch("select",a.scene,a.index,e)},
dragend:function(e){var i=e.drag;try{
t.Mark.dispatch("selectend",i.scene,i.index,e)}finally{delete i.d.drag}}
},a=t.Behavior.dragBase(o);return a.collapse=function(t){if(arguments.length){
switch(e=String(t)){case"y":i=1,n=0;break;case"x":i=0,n=1;break;default:i=1,n=1}
return a}return e},a.preserveLength=function(e){
return arguments.length?(r=!!e,a):r},a},t.Behavior.resize=function(e){
var i=!1,n="left"===e||"right"===e,r={dragstart:function(i){var n=i.drag
;n.type="resize";var r=n.m1,o=n.d;switch(o.drag=n,e){case"left":r.x=o.x+o.dx
;break;case"right":r.x=o.x;break;case"top":r.y=o.y+o.dy;break;case"bottom":
r.y=o.y}var a=this.parent;n.max={x:a.width(),y:a.height()},n.min={x:0,y:0
},t.Mark.dispatch("resizestart",n.scene,n.index,i)},drag:function(e){
var o=e.drag,a=o.m1,s=r.positionConstraint;s&&(o.m=o.m.clone(),s(o))
;var l=o.m,u=o.d;if(!i||n){var c=Math.min(a.x,l.x),h=Math.max(l.x,a.x)
;c=r.bound(c,"x"),h=r.bound(h,"x"),u.x=c,u.dx=h-c}if(!i||!n){
var d=Math.min(a.y,l.y),f=Math.max(l.y,a.y)
;d=r.bound(d,"y"),f=r.bound(f,"y"),u.y=d,u.dy=f-d}
r.autoRender&&this.render(),t.Mark.dispatch("resize",o.scene,o.index,e)},
dragend:function(e){var i=e.drag;i.max=null;try{
t.Mark.dispatch("resizeend",i.scene,i.index,e)}finally{delete i.d.drag}}
},o=t.Behavior.dragBase(r);return o.preserveOrtho=function(e){
return arguments.length?(i=!!e,o):i},o},t.Behavior.pan=function(){function e(){
o=this.index,
r=this.scene,s=t.vector(t.event.pageX,t.event.pageY),a=this.transform(),
l=1/(a.k*this.scale),u&&(u={x:(1-a.k)*this.width(),y:(1-a.k)*this.height()})}
function i(e){r&&(r.mark.context(r,o,function(){
var e=(t.event.pageX-s.x)*l,i=(t.event.pageY-s.y)*l,n=a.translate(e,i)
;u&&(n.x=Math.max(u.x,Math.min(0,n.x)),
n.y=Math.max(u.y,Math.min(0,n.y))),this.transform(n).render()
}),t.Mark.dispatch("pan",r,o,e))}function n(){r=null}var r,o,a,s,l,u
;return e.bound=function(e){
return arguments.length?(u=Boolean(e),this):Boolean(u)
},t.listen(window,"mousemove",i),t.listen(window,"mouseup",n),e
},t.Behavior.zoom=function(e){function i(i){
var r=this.mouse(),o=t.event.wheel*e,a=this.transform().translate(r.x,r.y).scale(o<0?1e3/(1e3-o):(1e3+o)/1e3).translate(-r.x,-r.y)
;n&&(a.k=Math.max(1,a.k),
a.x=Math.max((1-a.k)*this.width(),Math.min(0,a.x)),a.y=Math.max((1-a.k)*this.height(),Math.min(0,a.y))),
this.transform(a).render(),t.Mark.dispatch("zoom",this.scene,this.index,i)}var n
;return arguments.length||(e=1/48),i.bound=function(e){
return arguments.length?(n=Boolean(e),this):Boolean(n)},i
},t.Geo=function(){},t.Geo.projections={mercator:{project:function(e){return{
x:e.lng/180,
y:e.lat>85?1:e.lat<-85?-1:Math.log(Math.tan(Math.PI/4+t.radians(e.lat)/2))/Math.PI
}},invert:function(e){return{lng:180*e.x,
lat:t.degrees(2*Math.atan(Math.exp(e.y*Math.PI))-Math.PI/2)}}},"gall-peters":{
project:function(e){return{x:e.lng/180,y:Math.sin(t.radians(e.lat))}},
invert:function(e){return{lng:180*e.x,lat:t.degrees(Math.asin(e.y))}}},
sinusoidal:{project:function(e){return{
x:t.radians(e.lng)*Math.cos(t.radians(e.lat))/Math.PI,y:e.lat/90}},
invert:function(e){return{lng:t.degrees(e.x*Math.PI/Math.cos(e.y*Math.PI/2)),
lat:90*e.y}}},aitoff:{project:function(e){
var i=t.radians(e.lng),n=t.radians(e.lat),r=Math.acos(Math.cos(n)*Math.cos(i/2))
;return{x:2*(r?Math.cos(n)*Math.sin(i/2)*r/Math.sin(r):0)/Math.PI,
y:2*(r?Math.sin(n)*r/Math.sin(r):0)/Math.PI}},invert:function(e){
var i=e.x*Math.PI/2,n=e.y*Math.PI/2;return{lng:t.degrees(i/Math.cos(n)),
lat:t.degrees(n)}}},hammer:{project:function(e){
var i=t.radians(e.lng),n=t.radians(e.lat),r=Math.sqrt(1+Math.cos(n)*Math.cos(i/2))
;return{x:2*Math.SQRT2*Math.cos(n)*Math.sin(i/2)/r/3,
y:Math.SQRT2*Math.sin(n)/r/1.5}},invert:function(e){
var i=3*e.x,n=1.5*e.y,r=Math.sqrt(1-i*i/16-n*n/4);return{
lng:t.degrees(2*Math.atan2(r*i,2*(2*r*r-1))),lat:t.degrees(Math.asin(r*n))}}},
identity:{project:function(e){return{x:e.lng/180,y:e.lat/90}},
invert:function(e){return{lng:180*e.x,lat:90*e.y}}}},t.Geo.scale=function(e){
function i(e){if(!o||e.lng!=o.lng||e.lat!=o.lat){o=e;var t=n(e);a={x:h(t.x),
y:d(t.y)}}return a}function n(e){var t={lng:e.lng-f.lng,lat:e.lat}
;return c.project(t)}function r(e){var t=c.invert(e);return t.lng+=f.lng,t}
var o,a,s={x:0,y:0},l={x:1,y:1
},u=[],c=t.Geo.projections.identity,h=t.Scale.linear(-1,1).range(0,1),d=t.Scale.linear(-1,1).range(1,0),f={
lng:0,lat:0};return i.x=function(e){return i(e).x},i.y=function(e){return i(e).y
},i.ticks={lng:function(e){var i,n;if(u.length>1){var r=t.Scale.linear()
;void 0==e&&(e=10),i=r.domain(u,function(e){return e.lat
}).ticks(e),n=r.domain(u,function(e){return e.lng}).ticks(e)
}else i=t.range(-80,81,10),n=t.range(-180,181,10);return n.map(function(e){
return i.map(function(t){return{lat:t,lng:e}})})},lat:function(e){
return t.transpose(i.ticks.lng(e))}},i.invert=function(e){return r({
x:h.invert(e.x),y:d.invert(e.y)})},i.domain=function(e,i){if(arguments.length){
if(u=e instanceof Array?arguments.length>1?t.map(e,i):e:Array.prototype.slice.call(arguments),
u.length>1){var r=u.map(function(e){return e.lng}),a=u.map(function(e){
return e.lat});f={lng:(t.max(r)+t.min(r))/2,lat:(t.max(a)+t.min(a))/2}
;var s=u.map(n);h.domain(s,function(e){return e.x}),d.domain(s,function(e){
return e.y})}else f={lng:0,lat:0},h.domain(-1,1),d.domain(-1,1)
;return o=null,this}return u},i.range=function(e,t){
return arguments.length?("object"==typeof e?(s={x:Number(e.x),y:Number(e.y)},l={
x:Number(t.x),y:Number(t.y)}):(s={x:0,y:0},l={x:Number(e),y:Number(t)
}),h.range(s.x,l.x),d.range(l.y,s.y),o=null,this):[s,l]
},i.projection=function(e){
return arguments.length?(c="string"==typeof e?t.Geo.projections[e]||t.Geo.projections.identity:e,
this.domain(u)):e
},t.copyOwn(i,t.Scale.common),arguments.length&&i.projection(e),i},t
}),define("cdf/lib/CCC/cdo",["./def","./protovis-compat!"],function(e,t){
function i(e,t){var i=e&&e.length;if(i){for(var n=0;n<i;n++){var r=e[n]
;t&&(r[t]=null),r.dispose()}e.length=0}}function n(e,t,i,n,r){i[n]=e
;var o=e[t]||(e[t]=[]);null==r||r>=o.length?o.push(i):o.splice(r,0,i)}
function r(t,i,n,r){var o,a=t[i]
;a&&(o=a.indexOf(n))>=0&&e.array.removeAt(a,o),n[r]=null}function o(e){
return e.toISOString()}function a(e,t){return e.id-t.id}function s(e,t){
return t.id-e.id}function l(){delete this.isSelected}function u(e){
return e.isNull||e.isSelected}function c(e){return!0===e.isSelected}
function h(e){return!1===e.isSelected}function d(e){return!0===e.isVisible}
function f(e){return!1===e.isVisible}function p(e){return!0===e.isNull}
function m(e){return!1===e.isNull}function g(t,i,n,r,o){var a
;if(this.owner===this)a=new Me.Atom(this,n,r,t,i),o&&(a.isVirtual=!0);else{
var s=this.parent||this.linkParent;a=s._atomsByKey[i]||g.call(s,t,i,n,r,o)}
return e.array.insert(this._atoms,a,this._atomComparer),
C.call(this),this._atomsByKey[i]=a,a}function v(t){
var i=t.key,n=this,r=!n._lazyInit
;if(t.dimension===n)return n.owner===n||e.assert("Should be an owner dimension"),
i||t!==n._virtualNullAtom?r?C.call(this):this._sumCache=null:t=n.intern(null),t
;if(r){var o=n._atomsByKey[i];if(o){
if(o!==t)throw e.error.operationInvalid("Atom is from a different root data.")
;return C.call(n),t}
if(n.owner===n)throw e.error.operationInvalid("Atom is from a different root data.")
}
return v.call(n.parent||n.linkParent,t),r?(n._atomsByKey[i]=t,i?e.array.insert(n._atoms,t,n._atomComparer):(n._nullAtom=t,
n._atoms.unshift(t)),C.call(n)):this._sumCache=null,t}function y(t){
var i=e.get(t,"visible"),n=e.get(t,"selected")
;return(null==i?null:!!i)+":"+(null==n?null:!!n)}function b(e){
var t=this._nullAtom
;return t||(this.owner===this?this.data._atomsBase[this.name]=t=new Me.Atom(this,null,e,null,""):t=b.call(this.parent||this.linkParent,e),
this._atomsByKey[""]=this._nullAtom=t,this._atoms.unshift(t)),t}function _(){
return this.owner===this||e.assert("Can only create atoms on an owner dimension."),
this._virtualNullAtom||(this._virtualNullAtom=new Me.Atom(this,null,"",null,""),
this.data._atomsBase[this.name]=this._virtualNullAtom),this._virtualNullAtom}
function x(){
this.owner===this||e.assert("Can only unintern atoms of an owner dimension.")
;var t=this._atoms;if(t){for(var i=this._atomsByKey,n=0,r=t.length;n<r;){
var o=t[n];if(o.visited)delete o.visited,n++;else if(o!==this._virtualNullAtom){
t.splice(n,1),r--;var a=o.key
;delete i[a],a||(delete this._nullAtom,this.data._atomsBase[this.name]=this._virtualNullAtom)
}}C.call(this)}}function w(){var t=this._atoms;if(t){
for(var i,n=this._atomsByKey,r=0,o=t.length;r<o;){var a=t[r]
;a.isVirtual?(t.splice(r,1),
o--,i=!0,delete n[a.key||e.assert("Cannot be the null or virtual null atom.")]):r++
}i&&C.call(this)}}function C(){
this._atomVisibleDatumsCount=this._sumCache=this._visibleAtoms=this._visibleIndexes=null
}function S(e){n(this,"childNodes",e,"parent"),e.owner=this.owner}function k(e){
n(this,"_linkChildren",e,"linkParent"),e.owner=this.owner}function D(e,t){var i
;if(!this._disposed&&(i=this._atomVisibleDatumsCount)){
var n=e.atoms[this.name],r=n.key,o=i[r]
;i[r]=(o||0)+(t?1:-1),this._visibleAtoms=this._sumCache=this._visibleIndexes=null
}}function M(){var e=this._atomVisibleDatumsCount
;return e||(e={},this.data.datums(null,{visible:!0}).each(function(t){
var i=t.atoms[this.name],n=i.key;e[n]=(e[n]||0)+1
},this),this._atomVisibleDatumsCount=e),e}function N(e){var t=[]
;return this._atoms.forEach(function(i,n){this.isVisible(i)===e&&t.push(n)
},this),t}function T(t){return e.query(this._atoms).where(function(e){
return this.isVisible(e)===t},this).array()}function A(t,i){
this.insertAt(t,i),e.lazy(this,"_childrenByKey")[t.key]=t}function j(e,t){
n(this,"_linkChildren",e,"linkParent",t)}function I(e){
r(this,"_linkChildren",e,"linkParent")}function P(){i(this.childNodes,"parent"),
this._childrenByKey=null,
i(this._linkChildren,"linkParent"),this._groupByCache=null,
this._sumAbsCache=null}function L(){
this.isOwner()||e.fail("Can only be called on the owner data.")}function R(t,i){
!t.isNull||e.assert("Null datums do not notify selected changes"),
i?this._selectedNotNullDatums.set(t.id,t):this._selectedNotNullDatums.rem(t.id),
this._sumAbsCache=null}function O(t,i){var n=t.id,r=this
;if(e.hasOwnProp.call(r._datumsById,n)){
!t.isNull||e.assert("Null datums do not notify visible changes"),
i?r._visibleNotNullDatums.set(n,t):r._visibleNotNullDatums.rem(n),
r._sumAbsCache=null
;for(var o=r._dimensionsList,a=0,s=o.length;a<s;)D.call(o[a++],t,i)
;for(o=r.childNodes,a=0,s=o.length;a<s;)O.call(o[a++],t,i)
;if((o=r._linkChildren)&&(s=o.length))for(a=0;a<s;)O.call(o[a++],t,i)}}
function E(e){for(var t,i=[e];t=e.parent||e.linkParent;)i.unshift(e=t);return i}
function B(e,t){
for(var i,n=0,r=Math.min(e.length,t.length),o=null;n<r&&(i=e[n])===t[n];)o=i,n++
;return o}function F(t,i){function n(t){if(t){var i=t.key
;if(!e.hasOwnProp.call(o,i)){null!==u&&e.hasOwnProp.call(u,i)&&(t=u[i])
;var n=t.id
;r.push(t),o[i]=t,a[n]=t,null!==d&&d.push(t),t.isNull||(t.isSelected&&h.set(n,t),
t.isVisible&&c.set(n,t))}}}if(!t)throw e.error.argumentRequired("setDatums")
;var r,o,a,s=this._datums.length>0,l=!!e.get(i,"isAdditive"),u=null,c=this._visibleNotNullDatums,h=this._selectedNotNullDatums
;s&&!l?(P.call(this),
u=this._datumsByKey,this._datums=r=[],this._datumsById=a={},
this._datumsByKey=o={},
c.clear(),h&&h.clear()):(r=this._datums,o=this._datumsByKey,
a=this._datumsById,s&&(this._sumAbsCache=null))
;var d=null,f=!!this._linkChildren&&this._linkChildren.length>0
;if(f&&s&&l&&(d=[]),
e.array.is(t))for(var p=0,m=t.length;p<m;)n.call(this,t[p++]);else{
if(!(t instanceof e.Query))throw e.error.argumentInvalid("setDatums","Argument is of invalid type.")
;t.each(n,this)}this.select&&this.select(r).forEach(function(e){
q.call(this,e),null!==d&&d.splice(d.indexOf(e),1)
},this),z.call(this),f&&this._onDatumsAdded(d||r)}function z(){
for(var e=-1,t=this._datums,i=t.length;++e<i;)V.call(this,t[e],!1,!0)
;var n=this._dimensionsList;for(e=-1,i=n.length;++e<i;)x.call(n[e])}
function V(e,t,i){var n=this._dimensionsList;if(n||(t=!1),t||i){
var r,o,a,s=e.atoms,l=0
;if(n)for(r=n.length;l<r;)a=n[l++],(o=s[a.name])&&(t&&v.call(a,o),
i&&(o.visited=!0));else{var u=this.type.dimensionsNames()
;for(r=u.length;l<r;)(o=s[u[l++]])&&(o.visited=!0)}}}function q(e){
var t=this._datums,i=this._selectedNotNullDatums,n=e.id
;t.splice(t.indexOf(e),1),
delete this._datumsById[n],delete this._datumsByKey[e.key],
i&&e.isSelected&&i.rem(n),e.isVisible&&this._visibleNotNullDatums.rem(n)}
function H(t){function i(t){if(null!=t){
"object"==typeof t||e.fail.invalidArgument("datumFilter");var i={},r=!1
;for(var o in t){
var a=t[o],s=this.dimensions(o).getDistinctAtoms(null!==a?e.array.as(a):[null])
;s.length&&(r=!0,i[o]=s)}r&&n.push(i)}}var n=[]
;return t=e.array.as(t),t&&t.forEach(i,this),n}function W(t,i){
var n=e.get(i,"visible"),r=e.get(i,"isNull"),o=e.get(i,"selected"),a=e.get(i,"where")
;return null!=n&&(t=t.where(n?d:f)),
null!=r&&(t=t.where(r?p:m)),null!=o&&(t=t.where(o?c:h)),a&&(t=t.where(a)),t}
function U(t,i){
var n=e.get(i,"visible"),r=e.get(i,"isNull"),o=e.get(i,"selected"),a=e.get(i,"where"),s=[]
;null!=n&&s.unshift(n?d:f),
null!=r&&s.unshift(r?p:m),null!=o&&s.unshift(o?c:h),a&&s.unshift(a),
t&&s.unshift(G(t));var l=s.length;return l?1===l?s[0]:function(e){
for(var t=l;t;)if(!s[--t](e))return!1;return!0}:null}function G(e){
function t(t){for(var r=t.atoms,o=0;o<n;o++)if(i(r,e[o]))return!0;return!1}
function i(e,t){for(var i in t)if(t[i].indexOf(e[i])<0)return!1;return!0}
var n=e.length;return t}function $(t,i){
var n=e.array.as(e.get(i,"orderBy")),r=e.create(i||{},{orderBy:null})
;return e.query(t).selectMany(function(e,t){
return n&&(r.orderBy=n[t]),K.call(this,e,r)},this).distinct(e.propGet("id"))}
function K(t,i){var n=i.orderBy;if(n){
if(n.indexOf("|")>=0)throw e.error.argumentInvalid("keyArgs.orderBy","Multi-dimension order by is not supported.")
}else n=Object.keys(t).sort().join(",")
;var r=this.groupBy(n,i),o=r.treeHeight,a=[];return e.query(function(){var i
;if(this._data){if(this._datumsQuery){
if(this._data||e.assert("Must have a current data"),
a.length||e.assert("Must have a parent data"),
!this._dimAtomsOrQuery||e.assert(),
this._datumsQuery.next())return this.item=this._datumsQuery.item,1
;this._datumsQuery=null,
i=a.pop(),this._data=i.data,this._dimAtomsOrQuery=i.dimAtomsOrQuery}
}else this._data=r,
this._dimAtomsOrQuery=e.query(t[r.groupingLevelSpec.dimensions[0].name])
;this._dimAtomsOrQuery||e.assert("Invalid programmer"),
this._data||e.assert("Must have a current data");for(var n=a.length;;){
for(;this._dimAtomsOrQuery.next();){
var s=this._dimAtomsOrQuery.item,l=this._data.child(s.key)
;if(l&&(n<o-1||l._datums.length)){if(a.push({data:this._data,
dimAtomsOrQuery:this._dimAtomsOrQuery
}),this._data=l,!(n<o-1))return this._dimAtomsOrQuery=null,
this._datumsQuery=e.query(l._datums),
this._datumsQuery.next(),this.item=this._datumsQuery.item,1
;this._dimAtomsOrQuery=e.query(t[l.groupingLevelSpec.dimensions[0].name]),n++}}
if(!n)return 0
;i=a.pop(),this._data=i.data,this._dimAtomsOrQuery=i.dimAtomsOrQuery,n--}
return 0})}function X(t,i,n){
return e.string.is(t)||e.fail.argumentInvalid("groupLevelText","Invalid grouping specification."),
e.query(t.split(/\s*\|\s*/)).where(e.truthy).select(function(t){
var r=Ie.exec(t)||e.fail.argumentInvalid("groupLevelText","Invalid grouping level syntax '{0}'.",[t]),o=r[1],a=(r[2]||"").toLowerCase(),s="desc"===a,l=new Me.GroupingDimensionSpec(o,s)
;return i&&l.bindComplexType(i,n),l})}function Y(t,i){function n(){
var n={},o=e.query(r.source).select(function(e){i(e,n);var t=n.series
;return null!=t&&null!=t.v&&(t=t.v),t||null}).distinct().array()
;return r._createPlot2SeriesKeySet(t,o)}var r=this;this._dataPartGet(n)}
function Q(t){
return e.string.is(t)?!!this.mask(t):e.is(t,Oe)?!!this.mask(t.mask()).style(t.style()):void 0
}function Z(e){e||(e="");var t="_"+e,i=Ee[t]
;return i||(Be===Oe.cacheLimit&&(Ee={},Be=0),Ee[t]=i=J(e),Be++),i}function J(e){
function t(e,t){
return null==e?o?o(t):"":(e=+e,isNaN(e)||!isFinite(e)?"":i?0===e?r?r(t):i(t,e,null,!1):e>0?i(t,e,r,!1):n?n(t,-e,r||i):i(t,-e,r,!0):String(e))
}var i,n,r,o;return function(){var t,a,s,l=ee(e)
;if(l.forEach(te),t=l.length,i=o=n=r=null,
t&&(i=ae(s=l[0]),t>1&&(a=l[1],n=ae(a.empty?s:a),
t>2&&(a=l[2],r=re(a.empty?s:a),t>3&&(a=l[3],
o=oe(a.empty?s:a),t>4)))))throw new Error("Invalid mask. More than 4 sections.")
}(),t}function ee(e){var t=[];if(e){
var i,n,r,o,a=-1,s=e.length,l="",u=1,c=1,h=0,d=0,f=function(e){
u=0,r.list.push(e)},p=function(e){u=0,l+=e},m=function(){l&&(b(),f({type:0,
text:l}),l="")},g=function(e){m(),f(e)},v=function(){m(),!h&&d&&f({type:2
}),r.digits=o,o=0,c=0,r=n.fractional},y=function(){
!n||u&&t.length||(c?v():m(),r.digits=o,t.push(n)),u=c=1,d=o=h=0,n={empty:0,
scale:0,groupOn:0,scientific:0,abbreviationOn:0,integer:{list:[],digits:0},
fractional:{list:[],digits:0}},r=n.integer},b=function(){"A"===l?(l="",g({type:6
})):"C"===l?(l="",g({type:4})):"AC"===l?(l="",g({type:6}),g({type:4
})):"CA"===l&&(l="",g({type:4}),g({type:6}))}
;for(y();++a<s;)if("0"===(i=e.charAt(a)))g({type:1}),h=1,o++;else if("#"===i)g({
type:2}),h=1,o++;else if(","===i)c&&g({type:3
});else if("."===i)c&&(d=1,v());else if(""===i)g({type:4
});else if("C"===i&&"Currency"===e.substring(a,a+8))g({type:4
}),a+=7;else if("A"===i&&"Abbreviation"===e.substring(a,a+12))g({type:6
}),a+=11;else if(";"===i)y(),(a+1>=s||";"===e.charAt(a+1))&&(a++,t.push({empty:1
}));else if("\\"===i)++a<s&&p(e.charAt(a));else if('"'===i){a++
;var _=e.indexOf(i,a);_<0&&(_=s),p(e.substring(a,_)),a=_}else" "===i?g({type:7
}):("e"!==i&&"E"!==i||!function(){var t,r=a+1,o=!1,l=0;if(r<s){
if("-"===(t=e.charAt(r))||"+"===t){if(o="+"===t,!(++r<s))return 0;t=e.charAt(r)}
for(;"0"===t&&++l&&++r<s&&(t=e.charAt(r)););if(l)return a=r-1,g({type:5,text:i,
digits:l,positive:o}),n.scientific=1,1}return 0
}())&&("%"===i?n.scale+=2:""===i?n.scale+=3:""===i&&(n.scale+=4),p(i));y()}
return t}function te(e){e.empty||(ie(e,!0),ie(e,!1))}function ie(e,t){
function i(e){l[o](e)}
for(var n,r,o=t?"push":"unshift",a=e[t?"integer":"fractional"],s=a.list,l=a.list=[],u=a.digits-1,c=0,h=0,d=s.length,f=t?0:d,p=t?function(){
return f<d?s[f++]:null}:function(){return f>0?s[--f]:null
};n=p();)switch(r=n.type){case 0:i(ue(n.text));break;case 1:case 2:
h&&2===r&&(r=1),i(ce(t,u,1===r,!c)),u--,c=1,h||1!==r||(h=1);break;case 3:
ne(s,f,d)?c&&(e.groupOn=1):e.scale-=3;break;case 4:i(me);break;case 5:i(de(e,n))
;break;case 6:e.abbreviationOn=1,i(ge);break;case 7:i(ue(" "))}
!t&&a.digits&&l.unshift(he(h))}function ne(e,t,i){for(;t<i;){var n=e[t++].type
;if(1===n||2===n)return 1}return 0}function re(e){function t(t){
return se(e,t,0,!1)}return t}function oe(e){function t(t){return se(e,t,"",!1)}
return t}function ae(t){function i(i,n,r,o){var a,s,l=n,u=0,c=t.scale
;if(t.abbreviationOn)for(var h=i.abbreviations.length,d=h;d>0;d--){var f=3*d
;if(Math.pow(10,f)<=n){c-=f,s=d-1;break}}
return t.scientific&&(a=Math.floor(Math.log(n)/Math.LN10),
u=c+a-t.integer.digits+1,
c-=u),c&&(n=e.mult10(n,c)),n=e.round10(n,t.fractional.digits),
!n&&r?r(i,l):se(t,i,n,o,u,s)}return i}function se(e,t,i,n,r,o){
var a=""+i,s=a.indexOf("."),l=s<0?a:a.substr(0,s),u=s<0?"":a.substr(s+1)
;"0"===l&&(l=""),r||(r=0);var c=[]
;return n&&c.push(t.negativeSign),l=l.split(""),
u=u.split(""),t.group&&e.groupOn&&le(t,l),e.integer.list.forEach(function(e){
c.push(e(t,l,r,o))}),e.fractional.list.forEach(function(e){c.push(e(t,u,r,o))}),
c.join("")}function le(e,t){for(var i,n=e.group,r=function(){t[o-l-1]+=n
},o=t.length,a=e.groupSizes,s=a.length,l=0,u=-1;++u<s;){
if(!((l+=i=a[u])<o))return;r()}for(;(l+=i)<o;)r()}function ue(e){function t(){
return e}return t}function ce(e,t,i,n){function r(t){
return t[e?"integerPad":"fractionPad"]}function o(e,i){var r=i.length;if(t<r){
var o=r-1-t;return n?i.slice(0,o+1).join(""):i[o]}return s?s(e):""}
function a(e,i){return t<i.length?i[t]:s?s(e):""}var s=i?r:null;return e?o:a}
function he(e){return e?fe:pe}function de(e,t){function i(e,i,n){
var r=n<0?e.negativeSign:t.positive?"+":"",o=""+Math.abs(n),a=t.digits-o.length
;return a>0&&(o=new Array(a+1).join("0")+o),t.text+r+o}return i}function fe(e){
return e.decimal}function pe(e,t){return t.length?e.decimal:""}function me(e){
return e.currency}function ge(e,t,i,n){if(null!=n)return e.abbreviations[n]}
function ve(t){
return e.string.is(t)?!!this.mask(t):e.is(t,Fe)?!!this.mask(t.mask()):void 0}
function ye(i){return i?t.Format.createFormatter(t.Format.date(i)):e.string.to}
function be(t){
return e.is(t,ze)?!!this.formatter(t.formatter()):e.fun.is(t)?!!this.formatter(t):void 0
}function _e(e){return null!=e?String(e):""}function xe(t){function i(i){
return e.is(i,t)||e.is(i,ze)?i:null}function n(i,n){
return(e.fun.is(i)?ze:t)(i,n)}return{cast:i,factory:n}}function we(t){
switch(e.classOf(t)){case qe:
return!!this.number(t.number()).percent(t.percent()).date(t.date()).any(t.any())
;case Oe:return!!this.number(t);case Fe:return!!this.date(t);case ze:
return!!this.any(t)}if(e.string.is(t)){var i=Ue(t)
;if(i)return!!e.configure(this,i)}}function Ce(t,i){t=ke(t);var n=e.getOwn(He,t)
;return n?e.configure(n,i):(n=He[t]=qe(i),n.languageCode=t),n}function Se(e){
var t=/^([a-z]{2,8})(?:[-_]([a-z]{2}|\d{3}))?$/i,i=t.exec(e);if(!i)return null
;var n=i[1]?i[1].toLowerCase():"",r=i[2]?i[2].toLowerCase():"";return{
code:n+(r?"-"+r:""),primary:n,region:r}}function ke(e){
return e?e.toLowerCase():""}function De(t,i){t=ke(t);var n=e.getOwn(He,t)
;if(n)return n;if(!i)return null;var r=Se(t);if(r){
if(r.code!==t&&(n=e.getOwn(He,r.code)))return n
;if(r.region&&(n=e.getOwn(He,r.primary)))return n}return e.getOwn(He,Ve,null)}
var Me=e.globalSpace("cdo",{});e.type("cdo.DimensionType").init(function(i,n,r){
this.complexType=i,this.name=n,this.label=e.get(r,"label")||e.titleFromName(n)
;var a=e.splitIndexedId(n)
;this.group=a[0],this.groupLevel=e.nullyTo(a[1],0),this.label.indexOf("{")>=0&&(this.label=e.format(this.label,[this.groupLevel+1])),
this.isHidden=!!e.get(r,"isHidden")
;var s=e.get(r,"valueType")||null,l=Me.DimensionType.valueTypeName(s),u=e.getOwn(Me.DimensionType.cast,l,null)
;this.valueType=s,this.valueTypeName=l,this.cast=u
;var c=this.valueType===Number,h=!c&&this.valueType===Date
;if(this.isDiscreteValueType=!c&&!h,
this.isDiscrete=e.get(r,"isDiscrete"),null==this.isDiscrete)this.isDiscrete=this.isDiscreteValueType;else if(this.isDiscrete=!!this.isDiscrete,
!this.isDiscrete&&this.isDiscreteValueType)throw e.error.argumentInvalid("isDiscrete","The only supported continuous value types are Number and Date.")
;if(this._converter=e.get(r,"converter")||null,!this._converter){
var d=e.get(r,"rawFormat");if(d)switch(this.valueType){case Date:
this._converter=t.Format.createParser(t.Format.date(d))}}
this._key=e.get(r,"key")||null,
null===this._key&&h&&(this._key=o),this.setComparer(r&&r.comparer)
;var f,p=e.get(r,"formatter"),m=e.get(r,"formatProto"),g=c?"number":h?"date":"any"
;p?f=Me.format(e.set({},g,p),m):this.isDiscreteValueType?f=qe(null,m):(f=e.get(r,"format"),
f||c||(f=e.get(r,"rawFormat"))&&(f=f.replace(/-/g,"/")),
f?e.is(f,qe)||((e.string.is(f)||e.fun.is(f)&&!e.classOf(f))&&(f=e.set({},g,f)),
f=qe(f,m)):f=qe(null,m),
p=f[g]()),this._formatter=p||null,this._format=f||null,this.isKey=Boolean(e.get(r,"isKey"))
}).add({isCalculated:!1,compare:function(e,t){
return null==e?null==t?0:-1:null==t?1:this._comparer.call(null,e,t)},
comparer:function(e){var t=this
;return t.isComparable?e?t._rc||(t._rc=function(e,i){return t.compare(i,e)
}):t._dc||(t._dc=function(e,i){return t.compare(e,i)}):null},
setComparer:function(t){
if(void 0===t||!t&&!this.isDiscrete)switch(this.valueType){case Number:
case Date:t=e.compare}
this._comparer=t||null,this.isComparable=null!=this._comparer,
this._rc=this._dc=this._rac=this._dac=null},atomComparer:function(e){
return e?this._rac||(this._rac=this._createReverseAtomComparer()):this._dac||(this._dac=this._createDirectAtomComparer())
},_toDiscrete:function(){this.isDiscrete=!0},_toCalculated:function(){
this.isCalculated=!0},_createReverseAtomComparer:function(){function e(e,i){
return e===i?0:t.compare(i.value,e.value)}if(!this.isComparable)return s
;var t=this;return e},_createDirectAtomComparer:function(){function e(e,i){
return e===i?0:t.compare(e.value,i.value)}if(!this.isComparable)return a
;var t=this;return e},format:function(){return this._format},
formatter:function(){return this._formatter},converter:function(){
return this._converter}}),Me.DimensionType.cast={Date:function(e){
return e instanceof Date?e:new Date(e)},Number:function(e){
return e=Number(e),isNaN(e)?null:e},String:String,Boolean:Boolean,Object:Object,
Any:null},Me.DimensionType.dimensionGroupName=function(e){
return e.replace(/^(.*?)(\d*)$/,"$1")
},Me.DimensionType.valueTypeName=function(t){if(null==t)return"Any";switch(t){
case Boolean:return"Boolean";case Number:return"Number";case String:
return"String";case Object:return"Object";case Date:return"Date";default:
throw e.error.argumentInvalid("valueType","Invalid valueType function: '{0}'.",[t])
}},e.type("cdo.ComplexType").init(function(t,i){
if(this._dims={},this._dimsList=[],
this._dimsNames=[],this._calculations=[],this._calculatedDimNames={},
this._dimsIndexByName=null,
this._dimsByGroup={},this._dimsNamesByGroup={},this.format=qe(null,e.get(i,"formatProto")),
this.nullNumberAtom=new Me.NumberAtom(this,null),
t)for(var n in t)this.addDimension(n,t[n])}).add({describe:function(){
var t=e.textTable(2).rowSep().row("Dimension","Properties").rowSep()
;return this._dimsList.forEach(function(e){var i=[]
;i.push('"'+e.label+'"'),i.push(e.valueTypeName),
e.isComparable&&i.push("comparable"),
e.isDiscrete||i.push("continuous"),e.isHidden&&i.push("hidden"),
t.row(e.name,i.join(", "))}),t.rowSep(!0),"COMPLEX TYPE INFORMATION\n"+t()+"\n"
},dimensions:function(t,i){if(null==t)return this._dims
;var n=e.getOwn(this._dims,t,null)
;if(!n&&e.get(i,"assertExists",!0))throw e.error.argumentInvalid("name","Undefined dimension '{0}'",[t])
;return n},filterExtensionDimensionNames:function(t){
return t.filter(function(t){return!!e.hasOwn(this,t)},this._dims)},
dimensionsList:function(){return this._dimsList},
calculatedDimensionsList:function(){return this._calcDimsList},
dimensionsNames:function(){return this._dimsNames},
groupDimensions:function(t,i){var n=e.getOwn(this._dimsByGroup,t)
;if(!n&&e.get(i,"assertExists",!0))throw e.error.operationInvalid("There is no dimension type group with name '{0}'.",[t])
;return n},groupDimensionsNames:function(t,i){
var n=e.getOwn(this._dimsNamesByGroup,t)
;if(!n&&e.get(i,"assertExists",!0))throw e.error.operationInvalid("There is no dimension type group with name '{0}'.",[t])
;return n},addDimension:function(t,i){
t||e.fail.argumentRequired("name"),!e.hasOwn(this._dims,t)||e.fail.operationInvalid("A dimension type with name '{0}' is already defined.",[t])
;var n=new Me.DimensionType(this,t,i);this._dims[t]=n,this._dimsIndexByName=null
;var r,o=n.group;if(o){var a,s=e.getOwn(this._dimsByGroup,o)
;s?a=this._dimsNamesByGroup[o]:(s=this._dimsByGroup[o]=[],
a=this._dimsNamesByGroup[o]=[]),
r=e.array.insert(a,t,e.compare),r=~r,e.array.insertAt(s,r,n)}
var l,u=this._dimsList.length;if(o){r=n.groupLevel;for(var c=0;c<u;c++){
var h=this._dimsList[c];if(h.group===o){if(h.groupLevel>r){l=c;break}l=c+1}}
null==l&&(l=u)}else l=u
;return e.array.insertAt(this._dimsList,l,n),e.array.insertAt(this._dimsNames,l,t),
n._calculate&&(l=e.array.binarySearch(this._calcDimsList,n._calculationOrder,e.compare,function(e){
return e._calculationOrder
}),l>=0?l++:l=~l,e.array.insertAt(this._calcDimsList,l,n)),n},
addCalculation:function(t){t||e.fail.argumentRequired("calcSpec")
;var i=t.calculation||e.fail.argumentRequired("calculations[i].calculation"),n=t.names
;if((n=e.string.is(n)?n.split(/\s*\,\s*/):e.array.as(n))&&n.length){
var r=this._calculatedDimNames;n.forEach(function(t){if(t){
t=t.replace(/^\s*(.+?)\s*$/,"$1"),
!e.hasOwn(r,t)||e.fail.argumentInvalid("calculations[i].names","Dimension name '{0}' is already being calculated.",[t])
;var i=this._dims[t]||e.fail.argumentInvalid("calculations[i].names","Undefined dimension with name '{0}'' ",[t])
;r[t]=!0,i._toCalculated()}},this)}this._calculations.push(i)},
isCalculated:function(t){return e.hasOwn(this._calculatedDimNames,t)},
_calculate:function(e){var t=this._calculations,i=t.length;if(i){
for(var n={},r=0;r<i;r++)(0,t[r])(e,n);return n}},
sortDimensionNames:function(t,i){var n=this._dimsIndexByName
;return n||(n=e.query(this._dimsList).object({name:function(e){return e.name},
value:function(e,t){return t}}),this._dimsIndexByName=n),t.sort(function(t,r){
return e.compare(n[i?i(t):t],n[i?i(r):r])}),t}
}),e.type("cdo.ComplexTypeProject").init(function(e){
this._dims={},this._dimList=[],this._dimGroupsDims={},this._dimGroupSpecs=e||{},
this._calcList=[]}).add({_ensureDim:function(t,i){
t||e.fail.argumentInvalid("name","Invalid dimension name '{0}'.",[t])
;var n=e.getOwn(this._dims,t);if(n)i&&e.setUDefaults(n.spec,i);else{
n=this._dims[t]=this._createDim(t,i),this._dimList.push(n)
;var r=e.array.lazy(this._dimGroupsDims,n.groupName)
;e.array.insert(r,t,e.compare)}return n},hasDim:function(t){
return e.hasOwn(this._dims,t)},setDim:function(t,i){
var n=this._ensureDim(t).spec;return i&&e.copy(n,i),this},
setDimDefaults:function(t,i){
return e.setUDefaults(this._ensureDim(t).spec,i),this},_createDim:function(t,i){
var n=Me.DimensionType.dimensionGroupName(t),r=this._dimGroupSpecs[n]
;return r&&(i=e.create(r,i)),{name:t,groupName:n,spec:i||{}}},
readDim:function(t,i){var n=this._ensureDim(t,i)
;if(n.isRead)throw e.error.operationInvalid("Dimension '{0}' already is the target of a reader.",[t])
;if(n.isCalc)throw e.error.operationInvalid("Dimension '{0}' is being calculated, so it cannot be the target of a reader.",[t])
;n.isRead=!0},calcDim:function(t,i){var n=this._ensureDim(t,i)
;if(n.isCalc)throw e.error.operationInvalid("Dimension '{0}' already is being calculated.",[t])
;if(n.isRead)throw e.error.operationInvalid("Dimension '{0}' is the target of a reader, so it cannot be calculated.",[t])
;n.isCalc=!0},isReadOrCalc:function(t){if(t){var i=e.getOwn(this._dims,t)
;if(i)return i.isRead||i.isCalc}return!1},groupDimensionsNames:function(e){
return this._dimGroupsDims[e]},setCalc:function(t){
t||e.fail.argumentRequired("calculations[i]"),
t.calculation||e.fail.argumentRequired("calculations[i].calculation")
;var i=t.names
;i=e.string.is(i)?i.split(/\s*\,\s*/):e.array.as(i),i&&i.length&&i.forEach(this.calcDim,this),
this._calcList.push(t)},configureComplexType:function(e,t){
this._dimList.forEach(function(i){var n=i.name,r=i.spec
;r=this._extendSpec(n,r,t),e.addDimension(n,r)
},this),this._calcList.forEach(function(t){e.addCalculation(t)})},
_extendSpec:function(t,i,n){var r=Me.DimensionType.dimensionGroupName(t)
;switch(i||(i={}),r){case"category":
e.get(n,"isCategoryTimeSeries",!1)&&void 0===i.valueType&&(i.valueType=Date)
;break;case"value":void 0===i.valueType&&(i.valueType=Number)}
return void 0!==i.converter||i.valueType!==Date||i.rawFormat||(i.rawFormat=e.get(n,"timeSeriesFormat")),
i.formatProto=e.get(n,"formatProto"),i}
}),e.type("cdo.Atom").init(function(t,i,n,r,o){
this.dimension=t,this.id=null==i?-e.nextId():e.nextId(),
this.value=i,this._label=null==n?null:n,void 0!==r&&(this.rawValue=r),this.key=o
}).add({isVirtual:!1,rawValue:void 0,get label(){var e=this._label
;return null===e&&(this._label=e=this.dimension.format(this.value,this.rawValue)),
e},set label(t){this._label=e.string.to(t)},get labelPercent(){
return this.dimension.type.format().percent()(this.value)},toString:function(){
var e=this.label;return null!=e?e:(e=this.value,null!=e?""+e:"")}
}),e.type("cdo.NumberAtom").init(function(t,i,n){
this.complexType=t,this.id=e.nextId(),
this.value=null==i?null:i,this._label=null==n?null:n,
this.key=null==i?"":i.toString()}).add({dimension:null,get key(){
return""+this.value},get rawValue(){return this.value},get label(){
var e=this._label
;return null===e&&(this._label=e=this.complexType.format.number()(this.value,this.rawValue)),
e},set label(t){this._label=e.string.to(t)},get labelPercent(){
return this.complexType.format.percent()(this.value)}});var Ne=1
;e.type("cdo.Complex").init(function(t,i,n,r,o,a){this.id=Ne++,r||(r=null);var s
;t?(s=t.owner,
null===r&&(r=t.atoms)):s=this,this.owner=s,this.atoms=r?Object.create(r):{}
;var l=!!n;if(n||(n=s.type._dimsNames),i){
var u,c=this.atoms,h=s._dimensions,d=function(t){var n=i[t],o=h[t]
;if(void 0===o){
if(!l)throw e.error.operationInvalid("Extension atom values require dimension names to be specified.")
;if(!(n instanceof Me.Atom))throw e.error.operationInvalid("Extension atom values must be cdo.Atom instances.")
;c[t]=n}else n=o.intern(n),null==n.value||null!==r&&n===r[t]||(c[t]=n)}
;if(l)for(var f=-1,p=n.length;++f<p;)d(n[f]);else for(u in i)d(u);if(a){
i=s.type._calculate(this);for(u in i)e.hasOwnProp.call(c,u)||d(u)}}
this._initValueKeyLabel(n,o)}).add({labelSep:" ~ ",keySep:"~",value:null,
label:null,rawValue:void 0,_initValueKeyLabel:function(e,t){var i,n=e.length
;if(0===n)this.key="",
this.value=null,t&&(this.label="");else if(1===n)i=this.atoms[e[0]],
this.key=this._getAtomKey(i),
this.value=i.value,this.rawValue=i.rawValue,t&&(this.label=i.label);else{
for(var r,o,a,s="",l=this.owner.keySep,u=this.owner.labelSep,c=this.atoms,h="",d=-1;++d<n;)i=c[e[d]],
0===d?r=i.key:r+=l+i.key,
o=this._getAtomKey(i),null!==o&&(0===d?s=o:s+=l+o),t&&""!==(a=i.label)&&(""===h?h=a:h+=u+a)
;this.value=this.rawValue=r,this.key=s,t&&(this.label=h)}},
_getAtomKey:function(e){return e.key},getSpecifiedAtom:function(e){
return this.atoms[e]},ensureLabel:function(){var t=this.label;if(null==t){t=""
;var i=this.owner.labelSep;e.eachOwn(this.atoms,function(e){var n=e.label
;n&&(t?t+=i+n:t=n)}),this.label=t}return t},view:function(e){
return new Me.ComplexView(this,e)},toString:function(){
var t=[""+e.qualNameOf(this.constructor)]
;return null!=this.index&&t.push("#"+this.index),
this.owner.type.dimensionsNames().forEach(function(i){
t.push(i+": "+e.describe(this.atoms[i].value))},this),t.join(" ")},
rightTrimKeySep:function(e){
return e&&Me.Complex.rightTrimKeySep(e,this.owner.keySep)},
absKeyTrimmed:function(){return this.rightTrimKeySep(this.absKey)},
keyTrimmed:function(){return this.rightTrimKeySep(this.key)}
}),Me.Complex.rightTrimKeySep=function(e,t){
if(e&&t)for(var i,n=t.length;e.lastIndexOf(t)===(i=e.length-n)&&i>=0;)e=e.substr(0,i)
;return e},Me.Complex.values=function(e,t){var i=e.atoms
;return t.map(function(e){return i[e].value})
},Me.Complex.compositeKey=function(e,t){
for(var i="",n=t.length,r=e.owner.keySep,o=e.atoms,a=0;a<n;a++){
var s=o[t[a]].key;a?i+=r+s:i=s}return i},Me.Complex.labels=function(e,t){
var i=e.atoms;return t.map(function(e){return i[e].label})}
;var Te=e.propGet("id");e.type("cdo.ComplexView",Me.Complex).init(function(e,t){
this.source=e,this.viewDimNames=t,this.base(e,e.atoms,t,e.owner.atoms,!0)
}).add({values:function(){return Me.Complex.values(this,this.viewDimNames)},
labels:function(){return Me.Complex.labels(this,this.viewDimNames)}
}),e.type("cdo.Datum",Me.Complex).init(function(e,t,i){
this.base(e,t,i,null,!1,!0),this.key||(this.key=this.id)}).add({isSelected:!1,
isVisible:!0,isNull:!1,isVirtual:!1,isTrend:!1,trend:null,isInterpolated:!1,
interpolation:null,_getAtomKey:function(e){return e.dimension.isKey?e.key:null},
setSelected:function(e){if(this.isNull)return!1;e=null==e||!!e
;var t=this.isSelected!==e
;return t&&(e?this.isSelected=!0:delete this.isSelected,
R.call(this.owner,this,e)),t},toggleSelected:function(){
return this.setSelected(!this.isSelected)},setVisible:function(e){
if(this.isNull)return!1;e=null==e||!!e;var t=this.isVisible!==e
;return t&&(this.isVisible=e,O.call(this.owner,this,e)),t},
toggleVisible:function(){return this.setVisible(!this.isVisible)}})
;var Ae=Me.Datum.isSelected=e.propGet("isSelected")
;Me.Datum.isSelectedT=c,Me.Datum.isSelectedF=h,
Me.Datum.isVisibleT=d,Me.Datum.isVisibleF=f,
Me.Datum.isNullT=p,Me.Datum.isNullF=m,
e.type("cdo.TrendDatum",Me.Datum).init(function(e,t,i,n){
this.base(e,t,i),this.trend=n}).add({isVirtual:!0,isTrend:!0
}),e.type("cdo.InterpolationDatum",Me.Datum).init(function(e,t,i,n,r){
this.base(e,t,i),this.interpolation=n,this.interpDimName=r}).add({isVirtual:!0,
isInterpolated:!0});var je={abs:!0};e.type("cdo.Dimension").init(function(t,i){
this.data=t,this.type=i,this.root=this,this.owner=this;var n=i.name
;if(this.name=n,
this._atomComparer=i.atomComparer(),this._atomsByKey={},this.isKey=i.isKey,
t.isOwner())this._atoms=[],this._lazyInit=null,_.call(this);else{
var r,o=t.parent
;o?(r=o._dimensions[n],S.call(r,this),this.root=t.parent.root):(o=t.linkParent,
o||e.assert("Data must have a linkParent"),
r=o._dimensions[n],k.call(r,this)),this._nullAtom=this.owner._nullAtom,
this._lazyInit=function(){this._lazyInit=null
;for(var t=this.data._datums,o=t.length,a=this._atomsByKey,s=i.isDiscrete,l=0;l<o;l++){
var u=t[l];if(s||!u.isNull){var c=u.atoms[n];a[c.key]=c}}
this._atoms=r.atoms().filter(function(t){return e.hasOwnProp.call(a,t.key)})}}
}).add({parent:null,linkParent:null,_linkChildren:null,_atomsByKey:null,
_atomVisibleDatumsCount:null,_disposed:!1,_nullAtom:null,_virtualNullAtom:null,
_visibleAtoms:null,_visibleIndexes:null,_atomComparer:null,_atoms:null,
_sumCache:null,count:function(){
return null!==this._lazyInit&&this._lazyInit(),this._atoms.length},
isVisible:function(t){
return null!==this._lazyInit&&this._lazyInit(),e.hasOwn(this._atomsByKey,t.key)||e.assert("Atom must exist in this dimension."),
M.call(this)[t.key]>0},atoms:function(t){null!==this._lazyInit&&this._lazyInit()
;var i=e.get(t,"visible")
;return null==i?this._atoms:(i=!!i,this._visibleAtoms||(this._visibleAtoms={}),
this._visibleAtoms[i]||(this._visibleAtoms[i]=T.call(this,i)))},
indexes:function(i){null!==this._lazyInit&&this._lazyInit()
;var n=e.get(i,"visible")
;return null==n?t.range(0,this._atoms.length):(n=!!n,this._visibleIndexes||(this._visibleIndexes={}),
this._visibleIndexes[n]||(this._visibleIndexes[n]=N.call(this,n)))},
atom:function(e){if(null==e||""===e)return this._nullAtom
;if(e instanceof Me.Atom)return e;null!==this._lazyInit&&this._lazyInit()
;var t=this.type._key,i=t?t.call(null,e):e;return this._atomsByKey[i]||null},
getDistinctAtoms:function(e){var t,i,n,r=[],o=e?e.length:0;if(o){n={}
;for(var a=0;a<o;a++)(t=this.atom(e[a]))&&!n[i="\0"+t.key]&&(n[i]=t,r.push(t))}
return r},extent:function(t){var i,n=this.atoms(t),r=n.length;if(r){
var o=this._nullAtom&&null==n[0].value?1:0,a=r-o;if(a>0){var s=n[o],l=n[r-1]
;if(s!==l&&e.get(t,"abs",!1)){var u=s.value<0?-1:1,c=l.value<0?-1:1
;if(u===c)c<0&&(i=l,l=s,s=i);else if(a>2){l.value<-s.value&&(l=s)
;var h=e.array.binarySearch(n,0,this.type.comparer(),function(e){return e.value
});if(h<0){h=~h;var d=n[h-1],f=n[h];s=-d.value<f.value?d:f}else s=n[h]
}else l.value<-s.value&&(i=l,l=s,s=i)}return{min:s,max:l}}}},min:function(e){
var t=this.atoms(e),i=t.length;if(i){var n=this._nullAtom&&null==t[0].value?1:0
;return i>n?t[n]:void 0}},max:function(e){var t=this.atoms(e),i=t.length
;return i&&null!=t[i-1].value?t[i-1]:void 0},sumAbs:function(e){
return this.sumAbsAtom(e).value},value:function(e){
return this.valueAtom(e).value},valueAbs:function(e){
return this.valueAbsAtom(e).value},sum:function(e){return this.sumAtom(e).value
},sumAtom:function(t){
var i=!!e.get(t,"abs",!1),n=e.get(t,"zeroIfNone",!0),r=y(t)+":"+i,o=e.getOwn(this._sumCache,r)
;if(void 0===o){var a=this.name,s=this.data.datums(null,t).reduce(function(e,t){
if(t.isNull)return e;var n=t.atoms[a].value
;return null===n?e:(i&&n<0&&(n=-n),null!=e?e+n:n)},null)
;(this._sumCache||(this._sumCache={}))[r]=o=this.read(s)}
return n&&null===o.value?this.read(0):o},sumAbsAtom:function(t){
return t=t?e.create(t,je):je,this.sumAtom(t)},valueAtom:function(e){
return this.sumAtom(e)},valueAbsAtom:function(e){var t=this.valueAtom(e)
;return t.value<0?this.read(-t.value):t},percent:function(e,t){
var i=e instanceof Me.Atom?e.value:e;if(!i)return 0;var n=this.sumAbs(t)
;return n?Math.abs(i)/n:0},valuePercent:function(e){var t=this.valueAbs(e)
;if(!t)return 0;var i=this.data.parent
;return i?t/i.dimensionsSumAbs(this.name,e):1},percentOverParent:function(e){
return this.valuePercent(e)},format:function(t,i){
return e.string.to(this.type._formatter?this.type._formatter.call(null,t,i):t)},
intern:function(e,t){return this._read(e,!0,t)},read:function(e){
return this._read(e,!1)},_read:function(t,i,n){var r,o
;if(null==t||""===t)return this._nullAtom||(i?b.call(this):this.owner._virtualNullAtom)
;if("object"==typeof t){if(t instanceof Me.Atom){
if(t.dimension!==this)throw e.error.operationInvalid("Atom is of a different dimension.")
;return t}
if("v"in t&&(o=t.f,null==(t=t.v)||""===t))return this._nullAtom||(i?b.call(this,o):this.owner._virtualNullAtom)
}var a,s=this.type
;if(n||null===(a=s._converter))r=t;else if(null==(r=a(t))||""===r)return this._nullAtom||(i?b.call(this):this.owner._virtualNullAtom)
;if(null!==(a=s.cast)&&(null==(r=a(r))||""===r))return this._nullAtom||(i?b.call(this):this.owner._virtualNullAtom)
;var l=""+(null!==(a=s._key)?a(r):r)
;if(0===l.length)throw e.error.operationInvalid("Only a null value can have an empty key.")
;var u
;return i?(null!==this._lazyInit&&this._lazyInit(),void 0!==(u=this._atomsByKey[l])?(i&&!n&&u.isVirtual&&delete u.isVirtual,
u):g.call(this,t,l,r,o,n)):void 0!==(u=this.owner._atomsByKey[l])?u:new Me.Atom(this,r,o,t,l)
},dispose:function(){var e,t=this
;t._disposed||(i(t.childNodes,"parent"),i(t._linkChildren,"linkParent"),
(e=t.parent)&&r(e,"childNodes",t,"parent"),
(e=t.linkParent)&&r(e,"_linkChildren",t,"linkParent"),
C.call(t),t._lazyInit=t._atoms=t._nullAtom=t._virtualNullAtom=null,
t._disposed=!0)}}),e.type("cdo.Data",Me.Complex).init(function(i){
if(null==i)throw e.error.argumentRequired("keyArgs")
;this._visibleNotNullDatums=new e.Map
;var n,r,o,a,s,l,u=null,c=null,h=this.parent=i.parent||null
;if(h)this.root=h.root,
this.depth=h.depth+1,this.type=h.type,n=h.owner,u=i.datums||e.fail.argumentRequired("datums"),
c=i.atoms||e.fail.argumentRequired("atoms"),
a=i.atomsDimNames||e.fail.argumentRequired("atomsDimNames"),
o=h.atoms,l=i.extensionDatums||h.extensionDatums,
r=Object.create(h.atomsIsSet),a.forEach(function(e){r[e]=!0});else{
this.root=this,a=[];var d=i.linkParent||null
;d?(n=d.owner,this.type=n.type,u=i.datums||e.fail.argumentRequired("datums"),
this._leafs=[],
o=i.atomsBase||d.atoms,r=i.atomsBaseIsSet||Object.create(d.atomsIsSet),
l=i.extensionDatums||d.extensionDatums,
s=e.get(i,"index",null),j.call(d,this,s)):(n=this,
this.type=i.type||e.fail.argumentRequired("type"),
o={},r={},i.labelSep&&(this.labelSep=i.labelSep),
i.keySep&&(this.keySep=i.keySep),this._selectedNotNullDatums=new e.Map)}
this.owner=n,
this._datums=[],this._datumsById={},this._datumsByKey={},null!==u&&this._addDatumsLocal(u),
this._atomsBase=o,
this.atomsIsSet=r,this.extensionDatums=l||null,this._dimensions={},
this._dimensionsList=[],
this.type.dimensionsList().forEach(this._initDimension,this),
this.base(n,c,a,o,!0),
t.Dom.Node.call(this),h?(s=e.get(i,"index",null),A.call(h,this,s),
this.absKey=h.absKey?e.string.join(n.keySep,h.absKey,this.key):this.key,
this.absLabel=h.absLabel?e.string.join(n.labelSep,h.absLabel,this.label):this.label):(this.absKey=this.key,
this.absLabel=this.label)}).add(t.Dom.Node).add({parent:null,linkParent:null,
_dimensions:null,_dimensionsList:null,_freeDimensionNames:null,
_linkChildren:null,_leafs:null,_childrenByKey:null,_visibleNotNullDatums:null,
_selectedNotNullDatums:null,_groupByCache:null,_sumAbsCache:null,
treeHeight:null,_datums:null,_datumsById:null,_datumsByKey:null,depth:0,
label:"",absLabel:"",_disposed:!1,_isFlattenGroup:!1,
_isDegenerateFlattenGroup:!1,_initDimension:function(e){
var t=new Me.Dimension(this,e)
;this._dimensions[e.name]=t,this._dimensionsList.push(t)},
dimensions:function(t,i){if(null==t)return this._dimensions
;var n=e.getOwn(this._dimensions,t)
;if(!n&&e.get(i,"assertExists",!0))throw e.error.argumentInvalid("name","Undefined dimension '{0}'.",[t])
;return n},dimensionsList:function(){return this._dimensionsList},
getSpecifiedAtom:function(e){return!0===this.atomsIsSet[e]?this.atoms[e]:null},
freeDimensionsNames:function(){var e=this._freeDimensionNames
;return e||(this._freeDimensionNames=e=this.type.dimensionsNames().filter(function(e){
var t=this.atoms[e];return!(t instanceof Me.Atom)||null==t.value},this)),e},
isOwner:function(){return this.owner===this},children:function(){
var t=this.childNodes;return t.length>0?e.query(t):e.query()},child:function(t){
return e.getOwn(this._childrenByKey,t,null)},childCount:function(){
return this.childNodes.length},contains:function(t){
return e.hasOwn(this._datumsById,t.id)},datumByKey:function(t){
return e.getOwn(this._datumsByKey,t,null)},leafs:function(){
return e.query(this._leafs)},count:function(){return this._datums.length},
firstDatum:function(){return this._datums.length>0?this._datums[0]:null},
firstAtoms:function(){return(this.firstDatum()||this).atoms},
singleDatum:function(){var e=this._datums;return 1===e.length?e[0]:null},
dispose:function(){var e=this;if(!e._disposed){P.call(e);var t
;(t=e._selectedNotNullDatums)&&t.clear(),
e._visibleNotNullDatums.clear(),t=e._dimensionsList
;for(var i=0,n=t.length;i<n;i++)t[i].dispose()
;e._dimensions=null,e._dimensionsList=null,
(t=e.parent)&&(t.removeChild(e),e.parent=null),
(t=e.linkParent)&&I.call(t,e),e._disposed=!0}},disposeChildren:function(){
P.call(this)}}),Me.Data.add({selectedCount:function(){
return this.isOwner()?this._selectedNotNullDatums.count:this.datums(null,{
selected:!0}).count()},selectedDatums:function(){
return this.isOwner()?this._selectedNotNullDatums.values():this.datums(null,{
selected:!0}).array()},selectedDatumMap:function(){
if(this.isOwner())return this._selectedNotNullDatums.clone()
;var t=this.datums(null,{selected:!0}).object({name:e.propGet("id")})
;return new e.Set(t)},visibleCount:function(){
return this._visibleNotNullDatums.count},replaceSelected:function(t){
e.array.is(t)||(t=t.array());var i=e.query(t).where(Ae).object({name:Te
}),n=this.owner.clearSelected(function(t){return!e.hasOwn(i,t.id)})
;return n|=Me.Data.setSelected(t,!0)},clearSelected:function(e){
if(this.owner!==this)return this.owner.clearSelected(e)
;if(!this._selectedNotNullDatums.count)return!1;var t
;return e?(t=!1,this._selectedNotNullDatums.values().filter(e).forEach(function(e){
t=!0,l.call(e),this._selectedNotNullDatums.rem(e.id)
},this)):(t=!0,this._selectedNotNullDatums.values().forEach(function(e){
l.call(e)}),this._selectedNotNullDatums.clear()),t}
}),Me.Data.setSelected=function(t,i){var n=0
;return t&&e.query(t).each(function(e){n|=e.setSelected(i)}),!!n
},Me.Data.toggleSelected=function(t,i){e.array.isLike(t)||(t=e.query(t).array())
;var n=e.query(t),r=i?n.any(Ae):n.all(u);return this.setSelected(t,!r)
},Me.Data.setVisible=function(t,i){var n=0
;return t&&e.query(t).each(function(e){n|=e.setVisible(i)}),!!n
},Me.Data.toggleVisible=function(t){e.array.isLike(t)||(t=e.query(t).array())
;var i=e.query(t).all(e.propGet("isVisible"));return Me.Data.setVisible(t,!i)
},Me.Data.add({select:null,load:function(t,i){L.call(this)
;var n=e.get(i,"where"),r=e.get(i,"isNull"),o=e.get(i,"isAdditive",!1),a=e.query(t).select(function(e){
var t=new Me.Datum(this,e);return r&&r(t)&&(t.isNull=!0),n&&!n(t)?null:t},this)
;F.call(this,a,{isAdditive:o,doAtomGC:!0})},clearVirtuals:function(){
var t=this._datums,i=t.length;if(i>0){this._sumAbsCache=null
;for(var n,r=0;r<i;){var o=t[r];o.isVirtual?(q.call(this,o),i--,n=!0):r++}if(n){
if(!t.length&&this.parent)return void this.dispose();var a=this.childNodes
;if(a)for(r=0,i=a.length;r<i;){var s=a[r];s.clearVirtuals(),s.parent?r++:i--}
this._linkChildren&&this._linkChildren.forEach(function(e){e.clearVirtuals()})}}
e.eachOwn(this._dimensions,function(e){w.call(e)})},add:function(e){
L.call(this),F.call(this,e,{isAdditive:!0,doAtomGC:!0})},
_addDatumsSimple:function(e){this._addDatumsLocal(e),this._onDatumsAdded(e)},
_onDatumsAdded:function(e){var t=this._linkChildren
;if(t)for(var i=-1,n=t.length;++i<n;)t[i]._addDatumsSimple(e)},
_addDatumsLocal:function(e){
var t=this._datums,i=this._visibleNotNullDatums,n=this._selectedNotNullDatums,r=this._datumsById,o=this._datumsByKey,a=!!this._dimensions
;this._sumAbsCache=null;for(var s=-1,l=e.length;++s<l;){var u=e[s],c=u.id
;void 0===r[c]&&(t.push(u),
r[c]=u,o[u.key]=u,a&&V.call(this,u,!0,!1),u.isNull||(n&&u.isSelected&&n.set(c,u),
u.isVisible&&i.set(c,u)))}},groupBy:function(t,i){
var n,r,o=new Me.GroupingOper(this,t,i),a=o.key;return a&&(n=this._groupByCache,
r=n&&n[a]),
r?e.debug>=7&&e.log("[GroupBy] Cache key hit '"+a+"'"):(e.debug>=7&&e.log("[GroupBy] "+(a?"Cache key not found : '"+a+"' on '"+this.id+"'":"No Cache key")),
r=o.execute(),a&&((n||(this._groupByCache={}))[a]=r)),r},where:function(t,i){
var n=t&&H.call(this,t),r=this._datums
;r.length>0&&(n?r=$.call(this,n,i).array():i&&(r=W(e.query(r),i).array()))
;var o=(n||i)&&U(n,i);return new Me.FilteredData({linkParent:this,datums:r,
where:o})},datums:function(t,i){if(0===this._datums.length)return e.query()
;if(!t)return i?W(e.query(this._datums),i):e.query(this._datums)
;var n=H.call(this,t);return $.call(this,n,i)},datum:function(e,t){
return this.datums(e,t).first()||null},dimensionsSumAbs:function(e,t){
var i=this.dimensionNumberValue(e,t).value;return null!==i&&i<0?-i:i},
dimensionNumberValue:function(e,t){var i=this._createDimensionOperArgs(e,t)
;return this._dimensionNumberValue(i)},_createDimensionOperArgs:function(t,i){
var n,r,o=null;"function"==typeof t?(n=t,r=e.get(i,"discrimPossibleDims")||null,
null!==(o=e.get(i,"discrimKey")||null)&&(o="discrim:"+o)):(n=e.fun.constant(t),
r=[t],o=t);var a=null;return null!==o&&(a=o+":"+y(i)+":"+(r||[]).join("|")),{
discrimFun:n,discrimPossibleDimNames:r,cacheKey:a,keyArgs:i}},
_dimensionNumberValue:function(t){var i,n=t.cacheKey
;return null!==n&&void 0!==(i=e.getOwn(this._sumAbsCache,n))||(i=this._dimensionNumberValueCore(t),
null!==n&&((this._sumAbsCache||(this._sumAbsCache={}))[n]=i)),i},
_dimensionNumberValueCore:function(t){
var i,n=t.discrimFun(this,null!==t.discrimPossibleDimNames)
;if(0===this.childCount()){
if(null!==n)return this.dimensions(n).valueAtom(t.keyArgs)
;i=e.query(t.discrimPossibleDimNames).select(function(e){
return this.dimensions(e).valueAbsAtom(t.keyArgs).value
},this).reduce(e.addPreservingNull,null)
}else i=this.children().where(function(e){
return!e._isFlattenGroup||e._isDegenerateFlattenGroup}).select(function(e){
var i=e._dimensionNumberValue(t).value;return null!==i&&i<0?-i:i
}).reduce(e.addPreservingNull,null)
;return null!==n?this.dimensions(n).read(i):null===i?this.type.nullNumberAtom:new Me.NumberAtom(this.type,i)
},dimensionPercentValue:function(e,t){function i(e){
return null===a?new Me.NumberAtom(this.type,e):a.read(e)}
var n=this._createDimensionOperArgs(e,t),r=this._dimensionNumberValue(n),o=r.value
;if(null===o)return r;var a=r.dimension;if(0===o)return i.call(this,0)
;var s=this.parent;if(null===s)return i.call(this,1)
;var l=s._dimensionNumberValue(n);return i.call(this,Math.abs(o)/l.value)}
}).type().add({lca:function(e){var t,i,n,r=e.length,o=null;if(r){
if(1===r)return e[0];var a=1;i=E(e[0]);do{
if(t=e[a],n=E(t),!(o=B(i,n)))return null;i=n}while(++a<r)}return o}
}),Me.querySpecPredicate=G,e.type("cdo.FilteredData",Me.Data).init(function(t){
if(null==t||null!=t.parent||null==t.linkParent)throw e.error.argumentRequired("keyArgs.linkParent")
;this.base(t),this._wherePred=t.where||e.fail.argumentRequired("keyArgs.where")
}).add({_addDatumsSimple:function(e){e=e.filter(this._wherePred),this.base(e)}
}),e.type("cdo.GroupingData",Me.Data).init(function(t){
if(null==t)throw e.error.argumentRequired("keyArgs")
;this.base(t),this.groupingOper=t.groupingOper||e.fail.argumentRequired("keyArgs.groupingOper"),
this.groupingSpec=t.groupingSpec||null,
this.groupingLevelSpec=t.groupingLevelSpec||null
}),e.type("cdo.GroupingRootData",Me.GroupingData).init(function(t){
if(null==t||null!=t.parent||null==t.linkParent)throw e.error.argumentRequired("keyArgs.linkParent")
;var i=t.groupingSpec
;if(null==i)throw e.error.argumentRequired("keyArgs.groupingSpec")
;var n=t.groupingOper;if(n&&i.hasExtensionComplexTypes){t=Object.create(t)
;var r=t.atomsBase=Object.create(t.linkParent.atoms),o=n._extensionDataSetsMap
;i.extensionDimensions().each(function(e){
void 0===r[e.fullName]&&(r[e.fullName]=o[e.dataSetName].owner.atoms[e.name])})}
this.base(t)}).add({_addDatumsSimple:function(e){
e=this.groupingOper.executeAdd(this,e),this._onDatumsAdded(e)}
}),e.type("cdo.GroupData",Me.GroupingData).init(function(t){
if(null==t||null==t.parent)throw e.error.argumentRequired("keyArgs.parent")
;this.base(t)}),Me.Data.add({getInfo:function(){
var t=["DATA SUMMARY",e.logSeparator,"  Dimension",e.logSeparator]
;return e.eachOwn(this.dimensions(),function(e,i){var n=e.count(),r=e.type,o=[]
;o.push(),
o.push(r.valueTypeName),r.isComparable&&o.push("comparable"),r.isDiscrete||o.push("continuous"),
r.isHidden&&o.push("hidden"),
t.push("  "+i+' ("'+r.label+'", #'+n+")\n\t"+e.atoms().slice(0,10).map(function(e){
return e.label}).join(", ")+(n>10?"...":""))}),t.join("\n")},
getValues:function(){return t.range(0,this.getCategoriesSize()).map(function(e){
return this._getValuesForCategoryIndex(e)},this)},
_getDimensionValues:function(e){
return this.dimensions(e).atoms().map(function(e){return e.value})},
_getDimensionVisibleValues:function(e){return this.dimensions(e).atoms({
visible:!0}).map(function(e){return e.value})},getSeries:function(){
return this._getDimensionValues("series")},getVisibleSeriesIndexes:function(){
return this.dimensions("series").indexes({visible:!0})},
getVisibleCategoriesIndexes:function(){
return this.dimensions("category").indexes({visible:!0})},
getVisibleSeries:function(){return this._getDimensionVisibleValues("series")},
getCategories:function(){return this._getDimensionValues("category")},
getVisibleCategories:function(){
return this._getDimensionVisibleValues("category")},
_getValuesForCategoryIndex:function(t){
var i=this.dimensions("category").atoms()[t],n=this.datums({category:i
}).uniqueIndex(function(e){return e.atoms.series.key})
;return this.dimensions("series").atoms().map(function(t){
var i=e.getOwn(n,t.key);return i?i.atoms.value.value:null})},
getSeriesSize:function(){var e=this.dimensions("series",{assertExists:!1})
;return e?e.count():0},getCategoriesSize:function(){
var e=this.dimensions("category",{assertExists:!1});return e?e.count():0}
}),e.type("cdo.DataOper").init(function(t,i){
t||e.fail.argumentRequired("linkParent"),this._linkParent=t}).add({key:null,
execute:e.abstractMethod
}),e.type("cdo.GroupingOper",Me.DataOper).init(function(t,i,n){
if(i||e.fail.argumentRequired("groupingSpecs"),
i=e.array.as(i),0===i.length)throw e.error.argumentRequired("groupingSpecText")
;e.get(n,"inverted",!1)&&(i=i.slice().reverse()),this.base(t,n)
;var r=e.get(n,"where"),o=r&&e.get(n,"whereKey")||"",a=e.get(n,"visible",null),s=e.get(n,"selected",null)
;this._preFilter=U(null,{visible:a,selected:s,where:r})
;var l=e.get(n,"isNull",null);this._postFilter=U(null,{isNull:l})
;var u=null==s&&!(r&&!o),c=u?[]:null,h="",d=null,f=e.get(n,"extensionDataSetsMap",null),p=e.get(n,"reverse",!1)
;this._groupSpecs=i.map(function(i){if(i instanceof Me.GroupingSpec){
if(i.complexType!==t.type)throw e.error.argumentInvalid("groupingSpecText","Invalid associated complex type.")
}else i=Me.GroupingSpec.parse(i,t.type)
;if(i.isNull)throw e.error.argumentInvalid("groupingSpecText","Null grouping specification.")
;return i.flatteningMode===Me.FlatteningMode.SingleLevel&&(i=i.toSingleLevel()),
p&&(i=i.reverse()),
u&&c.push(i.key),null!==i.extensionComplexTypeNames&&i.extensionComplexTypeNames.forEach(function(t){
var i
;if(null===f||!(i=f[t]))throw e.error.operationInvalid("Grouping specification requires extension data set '{0}'.",[t])
;null===d&&(d=Object.create(null)),d[t]=i,u&&(h+=t+":"+i.id+";")}),i
}),this._extensionDataSetsMap=d,
u&&(this.key=c.join("!!")+":"+[a,l,o,h].join(":"))}).add({
_getExtensionDatumsMap:function(){var t=null,i=this._extensionDataSetsMap;if(i){
t=Object.create(null);var n=this._linkParent.extensionDatums
;if(e.query(Object.keys(i)).each(function(e){var r=i[e],o=r._datums
;if(0===o.length)return!1;if(null!==n){var a=n[e];a&&(o=a.filter(function(e){
return o.indexOf(e)>=0}))}if(0===o.length)return!1;t[e]=o}))return!1}return t},
execute:function(){
var t=this._linkParent._datums,i=e.query(t).where(this._preFilter),n=this._group(i)
;return this._generateData(n,null,this._linkParent,null)},
executeAdd:function(t,i){
var n=e.query(i).where(this._preFilter),r=this._group(n)
;return this._generateData(r,null,this._linkParent,t),r.datums},
_group:function(t){var i={isRoot:!0,
treeHeight:e.query(this._groupSpecs).select(function(e){
return e.flatteningMode&Me.FlatteningMode.Dfs?1:e.depth}).reduce(e.add,0),
datums:[],datumsById:{},groupSpec:this._groupSpecs[0],
groupLevelSpec:this._groupSpecs[0].levels[0]},n=this._getExtensionDatumsMap()
;return!1!==n&&this._groupSpecRecursive(i,e.query(t).array(),n,0),i},
_groupSpecRecursive:function(e,t,i,n){var r=this._groupSpecs[n]
;0!=(r.flatteningMode&Me.FlatteningMode.Dfs)?this._groupSpecRecursiveFlattened(e,t,i,r,n):this._groupSpecRecursiveNormal(e,t,i,r,n)
},_groupSpecRecursiveNormal:function(e,t,i,n,r){function o(e,t,u,c){
var h=a[c],d=c===s-1,f=l&&d;e.groupSpec=n,e.groupLevelSpec=h
;for(var p=e.children=this._groupLevelDatums(h,e,t,u,!1),m=0,g=p.length;m<g;m++){
var v=p[m];if(!f){var y=v.datums
;v.datums=[],v.datumsById={},d?this._groupSpecRecursive(v,y,v.extensionDatumsMap,r+1):o.call(this,v,y,v.extensionDatumsMap,c+1)
}this._addChildDatums(e.datums,e.datumsById,v.datums,i)}}
var a=n.levels,s=a.length,l=r===this._groupSpecs.length-1
;e.isRoot&&(e.label=n.rootLabel),o.call(this,e,t,i,0)},
_addChildDatums:function(t,i,n,r){
if(null===r)e.array.append(t,n);else for(var o=-1,a=n.length;++o<a;){var s=n[o]
;void 0===i[s.id]&&(i[s.id]=s,t.push(s))}},
_groupSpecRecursiveFlattened:function(t,i,n,r,o){function a(t,i,r,f){
for(var m=l[f],g=f===u-1,v=c&&g,y=this._groupLevelDatums(m,t,i,r,!0),b=c?t.datums:[],_=c?t.datumsById:{},x=0,w=y.length;x<w;x++){
var C=y[x],S=C.datums
;if(e.array.lazy(t,"_children").push(C),e.hasOwn(d,C.key))this._addChildDatums(b,_,S,n);else{
var k=h.length
;s||(p(C),t.isFlattenGroup=!0),v||(C.datums=[],C.datumsById={},g?this._groupSpecRecursive(C,S,r,o+1):a.call(this,C,S,r,f+1)),
this._addChildDatums(b,_,C.datums,n),
s&&(e.hasOwn(d,C.key)&&(C.isFlattenGroup||e.assert("Must be a parent for duplicate keys to exist."),
1===C._children.length&&(h.splice(k,h.length-k),C.isDegenerateFlattenGroup=!0)),
p(C),t.isFlattenGroup=!0)}}c||this._groupSpecRecursive(t,b,r,o+1)}
var s=r.flatteningMode===Me.FlatteningMode.DfsPost,l=r.levels,u=l.length,c=o===this._groupSpecs.length-1,h=[],d={},f={
key:"",absKey:"",atoms:{},datums:[],datumsById:{},label:r.rootLabel,dimNames:[]
},p=function(e){h.push(e),d[e.key]=e}
;t.children=h,t.childrenByKey=d,s||p(f),a.call(this,f,i,n,0),
s&&p(f),t.datums=f.datums},_groupLevelDatums:function(t,i,n,r,o){
function a(n,r){var a=u.call(t,n,r),s=e.hasOwnProp.call(f,a)&&f[a]
;s?p&&!p(n)||s.datums.push(n):(s=c.call(t,n,r),
s.key=a,s.firstDatum=n,s.datums=!p||p(n)?[n]:[],
s.extensionDatumsMap=r,o&&(null===m&&(m=n.owner.keySep),
this._onNewChildNodeFlattened(a,m,s,t,i)),e.array.insert(d,s,h),f[a]=s)}
function s(e,t){for(var i=-1,n=t.length;++i<n;)a.call(this,e,t[i])}
function l(e,t,i){
for(var n=y[t],o=n.dataSetName,a=r[o],s=-1,u=a.length,c=t+1,h=c>=y.length;++s<u;){
var d=Object.create(i);d[o]=[a[s]],h?e.push(d):l(e,c,d)}}
var u,c,h,d=[],f=Object.create(null),p=this._postFilter,m=null,g=-1,v=n.length,y=t.extensionDimensions
;if(null!==y){
u=t.buildKeyWithExtension,c=t.buildGroupNodeWithExtension,h=t.compareNodesWithExtension.bind(t)
;var b=[];for(l(b,0,r);++g<v;)s.call(this,n[g],b)
}else for(u=t.buildKeyMain,c=t.buildGroupNodeMain,
h=t.compareNodesMain.bind(t);++g<v;)a.call(this,n[g],r)
;if(p)for(g=d.length;g--;)0===d[g].datums.length&&d.splice(g,1);return d},
_onNewChildNodeFlattened:function(t,i,n,r,o){
if(e.copy(n.atoms,o.atoms),n.dimNames=r.accAllDimensionNames(),
o.dimNames.length){var a=o.absKey+i+t
;n.absKey=a,n.key=Me.Complex.rightTrimKeySep(a,i)}else n.absKey=t},
_generateData:function(t,i,n,r){var o=null,a=!1
;if(t.isRoot)null!==r?(o=r,o._addDatumsLocal(t.datums)):(a=!0,
o=new Me.GroupingRootData({groupingOper:this,groupingSpec:t.groupSpec,
groupingLevelSpec:t.groupLevelSpec,linkParent:n,datums:t.datums,
extensionDatums:t.extensionDatumsMap
}),o.treeHeight=t.treeHeight);else if(null!==r&&null!==(o=n.child(t.key))&&o._addDatumsSimple(t.datums),
null===o){a=!0;var s,l=null
;null!==r&&(s=n.childNodes).length>0&&(l=~e.array.binarySearch(s,t.datums[0],i.groupLevelSpec.mainDatumComparer)),
o=new Me.GroupData({groupingOper:this,groupingSpec:t.groupSpec,
groupingLevelSpec:t.groupLevelSpec,parent:n,atoms:t.atoms,datums:t.datums,
index:l,atomsDimNames:t.dimNames,extensionDatums:t.extensionDatumsMap})}if(a){
t.isFlattenGroup&&(o._isFlattenGroup=!0,
o._isDegenerateFlattenGroup=!!t.isDegenerateFlattenGroup);var u=t.label
;u&&(o.label+=u,o.absLabel+=u)}var c=t.children,h=c?c.length:0
;if(h>0)for(var d=-1;++d<h;)this._generateData(c[d],t,o,r);else if(a&&!t.isRoot){
var f=o.root._leafs;o.leafIndex=f.length,f.push(o)}return o}
}),e.space("cdo").FlatteningMode=e.makeEnum(["SingleLevel","DfsPre","DfsPost"],{
zero:"None",all:"AllMask"
}),Me.FlatteningMode.Dfs=Me.FlatteningMode.DfsPre|Me.FlatteningMode.DfsPost,
e.type("cdo.GroupingSpec").init(function(t,i,n,r){
this.complexType=i||null,i=this.complexType
;var o=null,a=[],s=[],l=[],u=!1,c=null
;this.levels=e.query(t||void 0).where(function(e){
return e.allDimensions.length>0}).select(function(e){
return a.push(e.key),s.push.apply(s,e.dimensionNames()),
e.allDimensions.forEach(function(e){
if(e.dataSetName?(null===o&&(o=Object.create(null)),
o[e.dataSetName]=!0,l.push(e.fullName)):l.push(e.name),null!==i&&!u){
var t=e.dimensionType
;t.isDiscrete?u=!0:null===c?c=t.valueType:c!==t.valueType&&(u=!0)}
}),e._setAccAllDimNames(l.slice(0)),e
}).array(),this.extensionComplexTypesMap=null,
this.extensionComplexTypeNames=o&&Object.keys(o),
null!==i&&o&&this._setExtensionComplexTypesMap(n),
this._dimNames=s,this._allDimNames=l,
this.depth=this.levels.length,this._isDiscrete=null!==i?u:void 0,
this._singleContinuousValueType=null!==i?u?null:c:void 0,
this.isSingleDimension=1===l.length,
this.firstDimension=this.depth>0?this.levels[0].allDimensions[0]:null,
this.lastDimension=this.depth>0?this.levels[this.depth-1].lastDimension():null,
this.rootLabel=e.get(r,"rootLabel")||"",
this.flatteningMode=e.get(r,"flatteningMode")||Me.FlatteningMode.None,
this._cacheKey=this._calcCacheKey(),this.key=this._cacheKey+"##"+a.join("||")
}).add({_calcCacheKey:function(t){
return[e.get(t,"flatteningMode")||this.flatteningMode,e.get(t,"rootLabel")||this.rootLabel].join("#")
},bind:function(t,i){this.complexType=t||e.fail.argumentRequired("complexType"),
this._setExtensionComplexTypesMap(i),i=this.extensionComplexTypesMap
;var n=!1,r=null;this.levels.forEach(function(e){
if(e.bind(t,i),!n)for(var o=e.allDimensions,a=-1,s=o.length;++a<s;){
var l=o[a].dimensionType;if(l.isDiscrete){n=!0;break}
if(null===r)r=l.valueType;else if(r!==l.valueType){n=!0;break}}
}),this._isDiscrete=n,this._singleContinuousValueType=n?null:r},get isBound(){
return!!this.complexType},_setExtensionComplexTypesMap:function(t){
if(this.hasExtensionComplexTypes){if(!t){
var i=e.error.operationInvalid("Expects a map of extension types.")
;throw i.code="need-extension-map",i}
this.extensionComplexTypesMap=e.copyProps(t,this.extensionComplexTypeNames)
}else this.extensionComplexTypesMap=null},get isNull(){return 0===this.depth},
get isSingleLevel(){return 1===this.depth},get hasExtensionComplexTypes(){
return!!this.extensionComplexTypeNames},isDiscrete:function(){
return this._isDiscrete},get singleContinuousValueType(){
return this._singleContinuousValueType},get singleDimensionName(){
if(this.isSingleDimension)return this.firstDimension.name
;throw e.error.operationInvalid("Expected grouping to contain exactly one dimension.")
},get singleDimensionType(){
if(this.isSingleDimension)return this.firstDimension.dimensionType
;throw e.error.operationInvalid("Grouping contains more than one dimension.")},
dimensions:function(){
return e.query(this.levels).prop("dimensions").selectMany()},
allDimensions:function(){
return e.query(this.levels).prop("allDimensions").selectMany()},
extensionDimensions:function(){
return e.query(this.levels).prop("extensionDimensions").selectMany()},
dimensionNames:function(){return this._dimNames},get allDimensionNames(){
return this._allDimNames},firstDimensionType:function(){
var e=this.firstDimension;return e&&e.dimensionType},
firstDimensionName:function(){var e=this.firstDimensionType();return e&&e.name},
firstDimensionValueType:function(){var e=this.firstDimensionType()
;return e&&e.valueType},lastDimensionType:function(){var e=this.lastDimension
;return e&&e.dimensionType},lastDimensionName:function(){
var e=this.lastDimensionType();return e&&e.name},
lastDimensionValueType:function(){var e=this.lastDimensionType()
;return e&&e.valueType},ensure:function(t){var i;if(t){
var n=this._calcCacheKey(t);if(n!==this._cacheKey){
var r=e.lazy(this,"_groupingCache");i=e.getOwn(r,n),i||(i=r[n]=this._ensure(t))}
}return i||this},_ensure:function(t){
return new Me.GroupingSpec(this.levels,this.complexType,this.extensionComplexTypesMap,{
flatteningMode:e.get(t,"flatteningMode")||this.flatteningMode,
rootLabel:e.get(t,"rootLabel")||this.rootLabel})},toSingleLevel:function(){
if(this.isSingleLevel)return this
;var e=this.allDimensions().array(),t=new Me.GroupingLevelSpec(e,this.complexType,this.extensionComplexTypesMap)
;return new Me.GroupingSpec([t],this.complexType,this.extensionComplexTypesMap,{
flatteningMode:Me.FlatteningMode.SingleLevel,rootLabel:this.rootLabel})},
reverse:function(){var e=this.levels.map(function(e){return e.reverse()})
;return new Me.GroupingSpec(e,this.complexType,this.extensionComplexTypesMap,{
flatteningMode:this.flatteningMode,rootLabel:this.rootLabel})},view:function(e){
var t=e instanceof Me.Datum?this.dimensionNames():this.allDimensionNames
;return e.view(t)},toString:function(){return this.levels.map(String).join(", ")
}}),e.type("cdo.GroupingLevelSpec").init(function(t){
var i=[],n=[],r=[],o=[],a=null
;this.dimensions=o,this.allDimensions=e.query(t).select(function(e){
return i.push(e.key),
e.dataSetName?(n.push(e.fullName),null===a&&(a=[]),a.push(e)):(n.push(e.name),
r.push(e.name),o.push(e)),e
}).array(),this.extensionDimensions=a,this._dimNames=r,
this._allDimNames=n,this._accDimNames=null,this.depth=this.allDimensions.length,
this.key=i.join(",")}).add({_setAccAllDimNames:function(e){this._accDimNames=e},
accAllDimensionNames:function(){return this._accDimNames},
dimensionNames:function(){return this._dimNames},get allDimensionNames(){
return this._allDimNames},lastDimension:function(){
return this.allDimensions[this.depth-1]},bind:function(e,t){
this.allDimensions.forEach(function(i){i.bindComplexType(e,t)})},
compareNodesMain:function(e,t){
for(var i,n=this.dimensions,r=n.length,o=-1;++o<r;)if(0!==(i=n[o].compareDatums(e.firstDatum,t.firstDatum)))return i
;return 0},compareNodesWithExtension:function(e,t){
for(var i,n,r,o,a,s=this.allDimensions,l=s.length,u=-1;++u<l;)if(null!==(r=(n=s[u]).dataSetName)?(o=e.extensionDatumsMap[r][0],
a=t.extensionDatumsMap[r][0]):(o=e.firstDatum,
a=t.firstDatum),0!==(i=n.compareDatums(o,a)))return i;return 0},
buildKeyMain:function(e){return Me.Complex.compositeKey(e,this._dimNames)},
buildKeyWithExtension:function(e,t){
for(var i,n="",r=this.allDimensions,o=r.length,a=-1,s=e.owner.keySep,l=e.atoms;++a<o;){
var u=null!==(i=r[a]).dataSetName?t[i.dataSetName][0].atoms[i.name].key:l[i.name].key
;a?n+=s+u:n=u}return n},buildGroupNodeMain:function(t){var i=this._dimNames
;return{atoms:e.copyProps(t.atoms,i),dimNames:i}},
buildGroupNodeWithExtension:function(e,t){
for(var i,n={},r=this.allDimensions,o=r.length,a=e.atoms,s=-1;++s<o;)null!==(i=r[s]).dataSetName?n[i.fullName]=t[i.dataSetName][0].atoms[i.name]:n[i.name]=a[i.name]
;return{atoms:n,dimNames:this._allDimNames}},reverse:function(){
var e=this.allDimensions.map(function(e){return e.reverse()})
;return new Me.GroupingLevelSpec(e,this.complexType,this.extensionComplexTypesMap)
},toString:function(){
return e.query(this.allDimensions).select(String).array().join("|")}
}),e.type("cdo.GroupingDimensionSpec").init(function(e,t,i){this.fullName=e
;var n=/^(?:(.+?)\.)?(.+)$/.exec(e)
;this.dataSetName=n&&n[1]||null,this.name=n?n[2]:e,
this.isReversed=!!t,this.key=e+":"+(t?"0":"1"),
this.dimensionType=null,i&&this.bind(i)}).add({bindComplexType:function(t,i){
t||e.fail.argumentRequired("complexType");var n;if(null!==this.dataSetName){
var r=e.get(i,this.dataSetName)
;if(!r)throw e.error.operationInvalid("The data set name '{0}' of dimension '{1}' is not defined.",[this.dataSetName,this.fullName])
;n=r}else n=t;return this.bind(n.dimensions(this.name)),this},bind:function(t){
if(this.dimensionType=t||e.fail.argumentRequired("dimensionType"),
t.isComparable){var i=t.atomComparer(this.isReversed),n=this.name
;this.compareDatums=function(e,t){return i(e.atoms[n],t.atoms[n])}
}else this.isReversed?this.compareDatums=function(e,t){return t.id-e.id
}:this.compareDatums=function(e,t){return e.id-t.id};return this},
compareDatums:function(t,i){throw e.error.operationInvalid("Not Bound.")},
reverse:function(){
return new Me.GroupingDimensionSpec(this.fullName,!this.isReversed,this.dimensionType)
},toString:function(){
return this.fullName+(this.dimensionType?' ("'+this.dimensionType.label+'")':"")+(this.isReversed?" desc":"")
}}),Me.GroupingSpec.parse=function(t,i,n){var r=null;if(t){
var o=e.string.is(t)?t.split(/\s*,\s*/):e.array.as(t)
;r=e.query(o).select(function(e){var t=X(e,i,n)
;return new Me.GroupingLevelSpec(t,i,n)})}return new Me.GroupingSpec(r,i,n)}
;var Ie=/^\s*(.+?)(?:\s+(asc|desc))?\s*$/i
;e.type("cdo.LinearInterpolationOper").init(function(t,i,n,r,o,a,s,l){
this._newDatums=[],this._data=n;var u=r.flatten(t).children()
;this._isCatDiscrete=r.grouping.isDiscrete(),
this._isCatDiscrete||(u=u.where(function(e){return null!==e.value}))
;var c=o.isBound()?o.flatten(i,{visible:!0,isNull:!1
}).children().array():[null],h=this._valDim=t.owner.dimensions(s),d={visible:!0,
zeroIfNone:!1};this._stretchEnds=l,this._catInfos=u.select(function(e,t){
var i=n.child(e.key),r={data:i||e,value:e.value,isInterpolated:!1,serInfos:null,
index:t};return r.serInfos=[],c.forEach(function(e){var t=i
;t&&e&&(t=t.child(e.key));var n=a.getBoundDimensionName(t||e,!0)
;if(null===n||n===s){var o=t?t.dimensions(h.name).value(d):null
;r.serInfos.push({data:e,group:t,value:o,isNull:null==o,catInfo:r})}}),r
}).array(),
this._serCount=c.length,this._serStates=e.range(0,this._serCount).select(function(e){
return new Me.LinearInterpolationOperSeriesState(this,e)},this).array()}).add({
interpolate:function(){
for(var e;e=this._catInfos.shift();)e.serInfos.forEach(this._visitSeries,this)
;var t=this._newDatums;t.length&&this._data.owner.add(t)},
_visitSeries:function(e,t){this._serStates[t].visit(e)},
nextUnprocessedNonNullCategOfSeries:function(e){
for(var t=0,i=this._catInfos.length;t<i;){
var n=this._catInfos[t++],r=n.serInfos[e];if(!r.isNull)return r}}
}),e.type("cdo.LinearInterpolationOperSeriesState").init(function(e,t){
this.interpolation=e,this.index=t,this._lastNonNull(null)}).add({
visit:function(e){e.isNull?this._interpolate(e):this._lastNonNull(e)},
_lastNonNull:function(e){
return arguments.length&&(this.__lastNonNull=e,this.__nextNonNull=void 0),
this.__lastNonNull},_nextNonNull:function(){return this.__nextNonNull},
_initInterpData:function(){if(void 0===this.__nextNonNull){
var t=this.__lastNonNull,i=this.__nextNonNull=this.interpolation.nextUnprocessedNonNullCategOfSeries(this.index)||null
;if(i&&t){var n=t.value,r=i.value,o=r-n;if(this.interpolation._isCatDiscrete){
var a=i.catInfo.index-t.catInfo.index
;a>=2||e.assert("Must have at least one interpolation point."),
this._stepValue=o/a,this._middleIndex=~~(a/2);var s=a-1;this._isOdd=s%2>0}else{
var l=+t.catInfo.value,u=+i.catInfo.value,c=u-l
;this._steep=o/c,this._middleCat=(u+l)/2}}}},_interpolate:function(t){
this._initInterpData();var i=this.__nextNonNull,n=this.__lastNonNull,r=i||n
;if(r){var o,a,s=this.interpolation,l=t.catInfo;if(i&&n)if(s._isCatDiscrete){
var u=l.index-n.catInfo.index
;o=n.value+this._stepValue*u,a=(this._isOdd?u<this._middleIndex:u<=this._middleIndex)?n.group:i.group
}else{var c=+l.value,h=+n.catInfo.value
;o=n.value+this._steep*(c-h),a=c<this._middleCat?n.group:i.group}else{
if(!s._stretchEnds)return;o=r.value,a=r.group}var d=Object.create(a.atoms)
;e.copyOwn(d,l.data.atoms);var f=s._valDim,p=f.intern(o,!0);d[f.name]=p
;var m=s._datumDimNames
;m||(s._datumDimNames=m=a.type.filterExtensionDimensionNames(e.keys(d))),
s._newDatums.push(new Me.InterpolationDatum(a.owner,d,m,"linear",f.name))}}
}),e.type("cdo.ZeroInterpolationOper").init(function(t,i,n,r,o,a,s,l){
this._newDatums=[],this._data=n;var u=r.flatten(t).children()
;this._isCatDiscrete=r.grouping.isDiscrete(),
this._isCatDiscrete||(u=u.where(function(e){return null!==e.value}))
;var c=o.isBound()?o.flatten(i,{visible:!0,isNull:!1
}).children().array():[null],h=this._valDim=t.owner.dimensions(s),d={visible:!0,
zeroIfNone:!1};this._stretchEnds=l,this._catInfos=u.select(function(e,t){
var i=n.child(e.key),r={data:i||e,value:e.value,isInterpolated:!1,serInfos:null,
index:t};return r.serInfos=[],c.forEach(function(e){var t=i
;t&&e&&(t=t.child(e.key));var n=a.getBoundDimensionName(t||e,!0)
;if(null===n||n===s){var o=t?t.dimensions(h.name).value(d):null
;r.serInfos.push({data:e,group:t,value:o,isNull:null==o,catInfo:r})}}),r
}).array(),
this._serCount=c.length,this._serStates=e.range(0,this._serCount).select(function(e){
return new Me.ZeroInterpolationOperSeriesState(this,e)},this).array()}).add({
interpolate:function(){
for(var e;e=this._catInfos.shift();)e.serInfos.forEach(this._visitSeries,this)
;var t=this._newDatums;t.length&&this._data.owner.add(t)},
_visitSeries:function(e,t){this._serStates[t].visit(e)},
nextUnprocessedNonNullCategOfSeries:function(e){
for(var t=0,i=this._catInfos.length;t<i;){
var n=this._catInfos[t++],r=n.serInfos[e];if(!r.isNull)return r}}
}),e.type("cdo.ZeroInterpolationOperSeriesState").init(function(e,t){
this.interpolation=e,this.index=t,this._lastNonNull(null)}).add({
visit:function(e){e.isNull?this._interpolate(e):this._lastNonNull(e)},
_lastNonNull:function(e){
return arguments.length&&(this.__lastNonNull=e,this.__nextNonNull=void 0),
this.__lastNonNull},_nextNonNull:function(){return this.__nextNonNull},
_initInterpData:function(){if(void 0===this.__nextNonNull){
var t=this.__lastNonNull,i=this.__nextNonNull=this.interpolation.nextUnprocessedNonNullCategOfSeries(this.index)||null
;if(i&&t)if(this.interpolation._isCatDiscrete){
var n=i.catInfo.index-t.catInfo.index
;n>=2||e.assert("Must have at least one interpolation point."),
this._middleIndex=~~(n/2);var r=n-1;this._isOdd=r%2>0}else{
var o=+t.catInfo.value,a=+i.catInfo.value;this._middleCat=(a+o)/2}}},
_interpolate:function(t){this._initInterpData()
;var i=this.__nextNonNull,n=this.__lastNonNull,r=i||n;if(r){
var o,a=this.interpolation,s=t.catInfo;if(i&&n)if(a._isCatDiscrete){
var l=s.index-n.catInfo.index
;o=this._isOdd?l<this._middleIndex?n.group:i.group:l<=this._middleIndex?n.group:i.group
}else{var u=+s.value;o=u<this._middleCat?n.group:i.group}else{
if(!a._stretchEnds)return;o=r.group}var c=Object.create(o.atoms)
;e.copyOwn(c,s.data.atoms)
;var h=a._valDim,d=a._zeroAtom||(a._zeroAtom=h.intern(0,!0));c[h.name]=d
;var f=a._datumDimNames
;f||(a._datumDimNames=f=o.type.filterExtensionDimensionNames(e.keys(c))),
a._newDatums.push(new Me.InterpolationDatum(o.owner,c,f,"zero",h.name))}}
}),e.type("cdo.TranslationOper").init(function(t,i,n,r){
this.complexTypeProj=t||e.fail.argumentRequired("complexTypeProj"),
this.source=i||e.fail.argumentRequired("source"),
this.metadata=n||e.fail.argumentRequired("metadata"),
this.options=r||{},this._initType(),
e.debug>=4&&(this._logLogicalRows=!0,this._logLogicalRowCount=0)}).add({
_logLogicalRows:!1,logSource:e.abstractMethod,logLogicalRow:e.abstractMethod,
_translType:"Unknown",logTranslatorType:function(){
return this._translType+" data source translator"},
logicalColumnCount:function(){return this.metadata.length},
setSource:function(t){if(!t)throw e.error.argumentRequired("source")
;this.source=t},defReader:function(t){t||e.fail.argumentRequired("readerSpec")
;var i=e.string.is(t)?t:t.names
;i=e.string.is(i)?i.split(/\s*\,\s*/):e.array.as(i);var n=e.array.as(t.indexes)
;n&&n.forEach(this._userUseIndex,this);var r=!(!i||!i.length),o=t.reader
;if(o)r||e.fail.argumentRequired("reader.names","Required argument when a reader function is specified."),
this._userRead(o,i);else{if(r)return this._userCreateReaders(i,n)
;n&&n.forEach(function(e){this._userIndexesToSingleDim[e]=null},this)}return n},
configureType:function(){this._configureTypeCore()},
_configureTypeCore:e.abstractMethod,_initType:function(){
this._userDimsReaders=[],this._userDimsReadersByDim={},this._userUsedIndexes={},
this._userIndexesToSingleDim=[];var t=this.options.readers
;t&&e.array.each(t,this.defReader,this)
;var i=e.parseDistinctIndexArray(this.options.multiChartIndexes)
;i&&(this._multiChartIndexes=this.defReader({names:"multiChart",indexes:i}))},
_userUseIndex:function(t){
if((t=+t)<0)throw e.error.argumentInvalid("index","Invalid reader index: '{0}'.",[t])
;if(e.hasOwn(this._userUsedIndexes,t))throw e.error.argumentInvalid("index","Column '{0}' of the logical table is already assigned.",[t])
;return this._userUsedIndexes[t]=!0,t},_userCreateReaders:function(t,i){
i?i.forEach(function(e,t){i[t]=+e}):i=[];var n,r=i.length,o=t.length;if(o>r){
var a=r>0?i[r-1]+1:0;do{
a=this._getNextFreeLogicalColumnIndex(a),i[r]=a,this._userUseIndex(a),r++
}while(o>r)}
for(var s,l=r===o?o:o-1,u=0;u<l;u++)n=t[u],s=i[u],this._userIndexesToSingleDim[s]=n,
this._userRead(this._propGet(n,s),n)
;if(l<o)for(var c=e.splitIndexedId(t[o-1]),h=c[0],d=e.nullyTo(c[1],0),f=l;f<r;f++,
d++)n=e.indexedId(h,d),
s=i[f],this._userIndexesToSingleDim[s]=n,this._userRead(this._propGet(n,s),n)
;return i},_userRead:function(t,i){
e.fun.is(t)||e.fail.argumentInvalid("reader","Reader must be a function."),
e.array.is(i)?i.forEach(function(e){this._readDim(e,t)
},this):this._readDim(i,t),this._userDimsReaders.push(t)},
_readDim:function(t,i){var n,r,o=this._userIndexesToSingleDim.indexOf(t)
;if(o>=0&&(n=this._logicalRowInfos[o])&&!this.options.ignoreMetadataLabels){
var a=n.label||n.name&&e.titleFromName(n.name);a&&(r={label:a})}
this.complexTypeProj.readDim(t,r),this._userDimsReadersByDim[t]=i},
execute:function(e){return this.data=e,this._executeCore()},
_executeCore:function(){var t=this._getDimensionsReaders()
;return e.query(this._getLogicalRows()).select(function(e){
return this._readLogicalRow(e,t)},this)},_getLogicalRows:function(){
return this.source},_getDimensionsReaders:function(){
return this._userDimsReaders.slice().reverse()},_readLogicalRow:function(e,t){
for(var i=this._logLogicalRows&&this._logLogicalRowBefore(e),n=t.length,r=this.data,o={};n--;)t[n].call(r,e,o)
;return i&&this._logLogicalRowAfter(o),o},_logLogicalRowBefore:function(t){
return this._logLogicalRowCount<10?(e.log("logical row ["+this._logLogicalRowCount+++"]: "+e.describe(t)),
!0):(e.log("..."),this._logLogicalRows=!1)},_logLogicalRowAfter:function(t){
var i={};for(var n in t){var r=t[n]
;e.object.is(r)&&(r="v"in r?r.v:"value"in r?r.value:"..."),i[n]=r}
e.log("-> read: "+e.describe(i))},_propGet:function(e,t){function i(i,n){
n[e]=i[t]}return i},_getNextFreeLogicalColumnIndex:function(t,i){
for(null==t&&(t=0),null==i&&(i=1/0);t<i&&e.hasOwn(this._userUsedIndexes,t);)t++
;return t<i?t:-1},_getPhysicalGroupStartIndex:function(t){
return e.getOwn(this._logicalRowPhysicalGroupIndex,t)},
_getPhysicalGroupLength:function(t){
return e.getOwn(this._logicalRowPhysicalGroupsLength,t)},
_configureTypeByPhysicalGroup:function(t,i,n,r){
var o=this._logicalRowPhysicalGroupIndex[t],a=this._logicalRowPhysicalGroupsLength[t],s=o+a-1,l=o
;if((n=null==n?a:Math.min(a,n))&&l<=s){i||(i=t),r||(r=1/0)
;for(var u,c=0;n&&c<r;)if(u=e.indexedId(i,c++),
!this.complexTypeProj.isReadOrCalc(u)){
if((l=this._getNextFreeLogicalColumnIndex(l))>s)return l;this.defReader({
names:u,indexes:l}),l++,n--}}return l},_configureTypeByOrgLevel:function(e,t){
var i=[],n=[];this._logicalRowInfos.forEach(function(e,t){if(!this[t]){
var r=1===e.type?i:n;r&&r.push(t)}
},this._userUsedIndexes),this._configureTypeByDimGroups(n,this._processDimGroupSpecs(e,!0,1/0)),
this._configureTypeByDimGroups(i,this._processDimGroupSpecs(t,!1,1))},
_processDimGroupSpecs:function(t,i,n){return t.map(function(t){
return e.string.is(t)?{name:t,greedy:i,maxCount:n}:e.setDefaults(t,{greedy:i,
maxCount:n})})},_configureTypeByDimGroups:function(e,t){
if(t)for(var i,n=-1,r=t.length;++n<r&&(i=e.length);){
var o=t[n],a=Math.min(o.maxCount,i),s=this._getFreeDimGroupNames(o.name,a,o.greedy)
;s&&(s.length,this.defReader({names:s,indexes:e.splice(0,s.length)}))}},
_getFreeDimGroupNames:function(t,i,n){if(!t)return null;var r=[],o=0
;for(null==i&&(i=1);i;){var a=e.indexedId(t,o++)
;this.complexTypeProj.isReadOrCalc(a)?n||i--:(r.push(a),i--)}
return r.length?r:null}
}),e.type("cdo.MatrixTranslationOper",Me.TranslationOper).add({
_initType:function(){
this.J=this.metadata.length,this.I=this.source.length,this._processMetadata(),
this.base()},setSource:function(e){this.base(e),this.I=this.source.length},
_knownContinuousColTypes:{numeric:1,number:1,integer:1},
_processMetadata:function(){
var t,i=this.options.typeCheckingMode,n=this._knownContinuousColTypes
;if("none"===i)t=e.query(this.metadata).select(function(e,t){e.colIndex=t
;var i=e.colType;return i&&1===n[i.toLowerCase()]?1:0}).array();else{
var r="extended"===i,o=e.query(this.metadata).select(function(e,t){
return e.colIndex=t,e}).where(function(e){var t=e.colType
;return!t||1!==n[t.toLowerCase()]}).select(function(e){return e.colIndex
}).array(),a=this.I,s=this.source,l=o.length;t=e.array.create(this.J,1)
;for(var u=0;u<a&&l>0;u++)for(var c=s[u],h=0;h<l;){var d=o[h],f=c[d]
;null!=f?(t[d]=this._getSourceValueType(f,r),o.splice(h,1),l--):h++}}
this._columnTypes=t},_buildLogicalColumnInfoFromMetadata:function(e){
var t=this.metadata[e];return{type:this._columnTypes[e],name:t.colName,
label:t.colLabel}},_getSourceValueType:function(e,t){switch(typeof e){
case"number":return 1;case"string":return t&&""!==e&&!isNaN(+e)?1:0
;case"object":return e instanceof Date?1:0}return 0},logSource:function(){
var t=Me.previewRowsMax,i=Me.previewColsMax,n=this.metadata,r=n.length,o=e.array.prepend
;r>i&&(n=n.slice(0,i),n.push({colName:"("+i+"/"+r+")",colType:"..."}))
;var a=e.textTable(n.length+1).rowSep().row.apply(a,o(n.map(function(e){
return e.colName}),["Name"])).rowSep().row.apply(a,o(n.map(function(e){
return e.colLabel?'"'+e.colLabel+'"':""
}),["Label"])).rowSep().row.apply(a,o(n.map(function(e){return e.colType
}),["Type"])).rowSep();return e.query(this.source).take(t).each(function(t,n){
r>i&&(t=t.slice(0,i)),a.row.apply(a,o(t.map(function(t){return e.describe(t)
}),[n+1]))
}),a.rowSep().row("("+Math.min(t,this.I)+"/"+this.I+")").rowSep(!0),"DATA SOURCE SUMMARY\n"+a()+"\n"
},_logLogicalRow:function(t,i){
var n=e.textTable(6).rowSep().row("Index","Kind","Type","Name","Label","Dimension").rowSep(),r=0
;return t.forEach(function(e){for(var t=0,o=i[e];t<o;t++){
var a=this._logicalRowInfos[r]
;n.row(r,e,a.type?"number":"string",a.name||"",a.label||"",this._userIndexesToSingleDim[r]||""),
r++}},this),n.rowSep(!0),"LOGICAL TABLE\n"+n()+"\n"},
_createPlot2SeriesKeySet:function(t,i){var n=null,r=i.length
;return e.query(t).each(function(t){var o=+t
;if(isNaN(o))throw e.error.argumentInvalid("plot2SeriesIndexes","Element is not a number '{0}'.",[t])
;if(o<0){
if(o<=-r)throw e.error.argumentInvalid("plot2SeriesIndexes","Index is out of range '{0}'.",[o])
;o=r+o
}else if(o>=r)throw e.error.argumentInvalid("plot2SeriesIndexes","Index is out of range '{0}'.",[o])
;n||(n={}),n[i[o]]=!0}),n},_dataPartGet:function(t){function i(t,i){
i[l]=e.hasOwn(r,t)?a||(a=n.intern("1")):o||(o=n.intern("0"))}
var n,r,o,a,s=this,l=this.options.dataPartDimName,u=function(){
r=t(),n=s.data.dimensions(l),
e.debug>=3&&r&&e.log("Second axis series values: "+e.describe(e.keys(r))),u=null
};this.complexTypeProj.setCalc({names:l,calculation:function(e,t){
u&&u(),i(e.atoms.series.value,t)}})},_configureTypeCore:function(){
["series","category","value"].forEach(function(e){
this._configureTypeByPhysicalGroup(e)},this)}
}),Me.previewRowsMax=15,Me.previewColsMax=6,
e.type("cdo.CrosstabTranslationOper",Me.MatrixTranslationOper).add({
_translType:"Crosstab",logicalColumnCount:function(){return this.R+this.C+this.M
},_executeCore:function(){function t(e,t){
for(var i=o[e],n=0,s=a[e];s-- >0;)r[i++]=t[n++]}function i(e,t){
for(var i=o.M,n=a._colGroupsIndexes[t],s=a.M,l=0;l<s;l++){var u=n[l]
;r[i++]=null!=u?e[u]:null}}if(!this.metadata.length)return e.query()
;var n=this._getDimensionsReaders(),r=new Array(this.logicalColumnCount()),o=this._logicalRowCrossGroupIndex,a=this,s=e.query(this.source)
;if(this._colGroups&&this._colGroups.length){var l=function(o){
return t("R",o),e.query(this._colGroups).select(function(e,a){
return t("C",e),i(o,a),this._readLogicalRow(r,n)},this)}
;return s.selectMany(l,this)}return s.select(function(e){
return t("R",e),this._readLogicalRow(r,n)},this)},_processMetadata:function(){
this.base(),this._separator=this.options.separator||"~";var t=this.R=1;this.C=1,
this.M=1,this.measuresDirection=null
;var i=this.options.seriesInRows,n=this.metadata,r=this.options.compatVersion<=1,o=function(){
var e=i?function(e){return e.colName}:r?function(e){return{v:e.colName}
}:function(e){return{v:e.colName,f:e.colLabel}};return n.map(e)
}(),a=this._logicalRowCrossGroupInfos={};if(this.options.isMultiValued){
var s=e.get(this.options,"measuresInColumns",!0)
;if(s||null==this.options.measuresIndex){t=this.R=this._getCategoriesCount()
;var l=o.slice(t)
;l.length>0?(s?(this.measuresDirection="columns",this._processEncodedColGroups(l)):(this._colGroups=l,
this._colGroupsIndexes=[],this._colGroups.forEach(function(e,t){
this._colGroups[t]=this._splitEncodedColGroupCell(e),
this._colGroupsIndexes[t]=[this.R+t]
},this),a.M=[this._buildLogicalColumnInfoFromMetadata(t)]),
this.C=this._colGroups[0].length,a.C=e.range(0,this.C).select(function(){return{
type:0}}).array()):(this.C=this.M=0,a.M=[],a.C=[])}else{
this.measuresDirection="rows",this.R=+this.options.measuresIndex
;var u=this.options.measuresCount
;null==u&&(u=1),this.M=u,this._colGroups=o.slice(this.R+1),
this._colGroups.forEach(function(e,t){this._colGroups[t]=[e]},this)}
}else t=this.R=this._getCategoriesCount(),
this._colGroups=o.slice(t),this._colGroupsIndexes=new Array(this._colGroups.length),
this._colGroups.forEach(function(e,i){
this._colGroups[i]=[e],this._colGroupsIndexes[i]=[t+i]},this),a.C=[{type:0
}],a.M=[{type:this._columnTypes[t]}]
;a.R=e.range(0,this.R).select(this._buildLogicalColumnInfoFromMetadata,this).array()
;var c=this._logicalRowCrossGroupIndex={C:i?this.R:0,R:i?0:this.C,
M:this.C+this.R},h=this._logicalRowInfos=new Array(this.logicalColumnCount())
;e.eachOwn(c,function(e,t){a[t].forEach(function(t,i){h[e+i]=t})
}),this._logicalRowPhysicalGroupsLength={series:i?this.R:this.C,
category:i?this.C:this.R,value:this.M},this._logicalRowPhysicalGroupIndex={
series:0,category:this._logicalRowPhysicalGroupsLength.series,
value:this.C+this.R}},logLogicalRow:function(){
return this._logLogicalRow(["C","R","M"],{C:this.C,R:this.R,M:this.M})},
_getCategoriesCount:function(){var t=this.options.categoriesCount
;return null!=t&&(!isFinite(t)||t<0)&&(t=null),
null==t&&((t=e.query(this._columnTypes).whayl(function(e){return 0===e
}).count())||(t=1)),t},_splitEncodedColGroupCell:function(e){var t,i=e.v
;return null==i?i=[]:(i=i.split(this._separator),
(t=e.f)&&(t=t.split(this._separator))),i.map(function(e,i){return{v:e,f:t&&t[i]}
})},_processEncodedColGroups:function(t){
for(var i,n=t.length||e.assert("Must have columns"),r=this.R,o=[],a={},s=[],l=0;l<n;l++){
var u,c,h,d,f=t[l],p=f.v,m=f.f,g=p.lastIndexOf(this._separator)
;g<0?(u=p,c=m,p="",
h=[]):(u=p.substring(g+1),p=p.substring(0,g),h=p.split(this._separator),
null!=m&&(d=m.split(this._separator),c=d.pop()),h.forEach(function(e,t){
var i=d&&d[t];h[t]={v:e,f:i}})),i&&i.encValues===p?i.measureNames.push(u):(i={
startIndex:l,encValues:p,values:h,measureNames:[u]},o.push(i))
;var v=l-i.startIndex,y=e.getOwn(a,u)
;y?v>y.groupIndex&&(y.groupIndex=v):(a[u]=y={name:u,label:c,
type:this._columnTypes[r+l],groupIndex:v,index:l},s.push(y))}
s.sort(function(t,i){
return e.compare(t.groupIndex,i.groupIndex)||e.compare(t.index,i.index)
}),s.forEach(function(e,t){e.groupIndex=t})
;var b=o.length,_=new Array(b),x=new Array(b),w=s.length;o.map(function(e,t){
_[t]=e.values;var i=e.startIndex,n=x[t]=new Array(w)
;e.measureNames.forEach(function(e,t){var o=a[e].groupIndex;n[o]=r+i+t})
}),this._colGroups=_,
this._colGroupsIndexes=x,this._logicalRowCrossGroupInfos.M=s,this.M=w},
configureType:function(){
if("rows"===this.measuresDirection)throw e.error.notImplemented()
;var t=this.options.dataPartDimName
;if(t&&1===this.C&&!this.complexTypeProj.isReadOrCalc(t)){
var i=this.options.plot2DataSeriesIndexes;if(null!=i){
var n=this._colGroups.map(function(e){return""+e[0].v})
;this._plot2SeriesKeySet=this._createPlot2SeriesKeySet(i,n)}}
if(this.base(),this._plot2SeriesKeySet&&this._userDimsReadersByDim.series){
var r=e.fun.constant(this._plot2SeriesKeySet);this._dataPartGet(r)}}
}),e.type("cdo.RelationalTranslationOper",Me.MatrixTranslationOper).add({M:0,
C:0,S:0,_translType:"Relational",_processMetadata:function(){this.base()
;var t,i,n,r,o=this.metadata,a=this.J,s=this.options.categoriesCount
;if(null!=s&&(!isFinite(s)||s<0)&&(s=0),
this.options.isMultiValued&&(i=e.parseDistinctIndexArray(this.options.measuresIndexes,0,a-1),
n=i?i.length:0),
null==n)if(a>0&&a<=3&&(null==s||1===s))n=1,i=[a-1],s=a>=2?1:0,t=a>=3?1:0,
r=s+t;else if(null!=s&&s>=a)r=s=a,t=n=0;else{var l=null!=s?a-s:1/0
;i=e.query(o).where(function(e,t){return 0!==this._columnTypes[t]
},this).select(function(e){return e.colIndex}).take(l).array(),n=i.length}
null==r&&(r=a-n,0===r?t=s=0:null!=s?s>r?(s=r,t=0):t=r-s:(t=r>1?1:0,s=r-t))
;var u=this.options.seriesInRows,c=[];r&&(t&&!u&&c.push({name:"S",count:t
}),s&&c.push({name:"C",count:s}),t&&u&&c.push({name:"S",count:t})),n&&c.push({
name:"M",count:n});var h=e.range(0,a).array()
;i&&i.slice().sort(e.descending).forEach(function(e){h.splice(e,1)});var d={}
;c.forEach(function(e){var t=e.count,n=e.name
;d[n]=e,e.indexes=i&&"M"===n?i:h.splice(0,t)}),this.M=n,this.S=t,this.C=s
;var f=[];["S","C","M"].forEach(function(t){var i=d[t]
;i&&e.array.append(f,i.indexes)
}),this._logicalRowInfos=f.map(this._buildLogicalColumnInfoFromMetadata,this),
this._logicalRowPerm=f,this._logicalRowPhysicalGroupsLength={series:this.S,
category:this.C,value:this.M},this._logicalRowPhysicalGroupIndex={series:0,
category:this._logicalRowPhysicalGroupsLength.series,value:this.S+this.C}},
logLogicalRow:function(){return this._logLogicalRow(["S","C","M"],{S:this.S,
C:this.C,M:this.M})},configureType:function(){this.base()
;var e=this.options.dataPartDimName
;if(e&&!this.complexTypeProj.isReadOrCalc(e)){
var t=this.options.plot2DataSeriesIndexes;if(null!=t){
var i=this._userDimsReadersByDim.series;i&&Y.call(this,t,i)}}},
_executeCore:function(){
var i=this._getDimensionsReaders(),n=this._logicalRowPerm
;return e.query(this._getLogicalRows()).select(function(e){
return e=t.permute(e,n),this._readLogicalRow(e,i)},this)}})
;var Pe=Me.numberFormatStyle=function(e,t){return new Re(e,t)
},Le=e.priv.key().property(),Re=Pe.of=e("cdo.NumberFormatStyle",e.FieldsBase.extend({
init:function(){e.classify(this,Pe)},fields:{decimal:{cast:String,fail:e.falsy},
group:{cast:String},groupSizes:{fail:e.array.empty},negativeSign:{cast:String,
fail:e.falsy},currency:{cast:String,fail:e.falsy},integerPad:{cast:String,
fail:e.falsy},fractionPad:{cast:String,fail:e.falsy},abbreviations:{
fail:e.array.empty}},methods:{tryConfigure:function(t){
if(e.is(t,Pe))return!!this.integerPad(t.integerPad()).fractionPad(t.fractionPad()).decimal(t.decimal()).group(t.group()).groupSizes(t.groupSizes()).negativeSign(t.negativeSign()).currency(t.currency()).abbreviations(t.abbreviations())
;if(e.string.is(t)){var i=Ue(t)
;if(i)return!!e.configure(this,i.number().style())}}}},{fieldsPrivProp:Le}))
;e.classify(Re.prototype,Pe),Pe.defaults=Pe({integerPad:"0",fractionPad:"0",
decimal:".",group:",",groupSizes:[3],abbreviations:["k","m","b","t"],
negativeSign:"-",currency:"$"});var Oe=Me.numberFormat=function(t,i){
function n(e){return o||(o=Z(r.mask)),o(e,Le(r.style))}var r,o
;return n.format=n,n.tryConfigure=Q,e.classify(n,Oe),r=e.instance(n,t,i,{mask:{
cast:String,change:function(){o=null}},style:{cast:e.createAs(Re),factory:Pe}}),
n};Oe.defaults=Oe().style(Pe()),Oe.cacheLimit=20
;var Ee={},Be=0,Fe=Me.dateFormat=function(t,i){function n(e){
return o||(o=ye(r.mask)),o(e)}var r,o
;return n.format=n,n.tryConfigure=ve,e.classify(n,Fe),r=e.instance(n,t,i,{mask:{
cast:String,change:function(){o=null}}
}),arguments.length&&e.configure(n,arguments[0]),n};Fe.defaults=Fe()
;var ze=Me.customFormat=function(t,i){function n(e){var t=r.formatter
;return String(t&&t.apply(null,arguments))}var r
;return n.format=n,n.tryConfigure=be,e.classify(n,ze),r=e.instance(n,t,i,{
formatter:{cast:e.fun.as}}),n};ze.defaults=ze().formatter(_e)
;var Ve="en-us",qe=Me.format=function(t,i){function n(){}n.tryConfigure=we;var r
;if(!i&&e.string.is(t)){var o=Ue(t);r=o.languageCode,o&&(i=o,t=null)}
return n.languageCode=r||Ve,e.classify(n,qe),e.instance(n,t,i,{number:xe(Oe),
percent:xe(Oe),date:xe(Fe),any:{cast:e.createAs(ze),factory:ze}}),n}
;qe.defaults=qe({number:"#,0.##",percent:"#,0.#%",date:"%Y/%m/%d",any:ze()})
;var He={},We=He[Ve]=qe.defaults,Ue=Me.format.language=function(t,i){
var n=arguments.length;if(!n)return We;if(1==n){
if(void 0===t)throw e.error.operationInvalid("Undefined 'style' value.")
;if(null===t||""===t)t=Ve;else{if(e.is(t,qe))return We=t;if("object"==typeof t){
for(var r in t)Ce(r,e.getOwn(t,r));return Me.format}}return De(t,!0)}
if(2==n)return Ce(t,i)
;throw e.error.operationInvalid("Wrong number of arguments")};return Ue({
"en-gb":{number:{mask:"#,0.##",style:{integerPad:"0",fractionPad:"0",
decimal:".",group:",",groupSizes:[3],abbreviations:["k","m","b","t"],
negativeSign:"-",currency:""}},date:{mask:"%d/%m/%Y"}},"pt-pt":{number:{
mask:"#,0.##",style:{integerPad:"0",fractionPad:"0",decimal:",",group:" ",
groupSizes:[3],abbreviations:["k","m","b","t"],negativeSign:"-",currency:""}},
date:{mask:"%d/%m/%Y"}}}),Me}),function(e,t){
"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){
if(!e.document)throw new Error("jQuery requires a window with a document")
;return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){
function i(e){var t=!!e&&"length"in e&&e.length,i=de.type(e)
;return"function"!==i&&!de.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)
}function n(e,t,i){if(de.isFunction(t))return de.grep(e,function(e,n){
return!!t.call(e,n,e)!==i});if(t.nodeType)return de.grep(e,function(e){
return e===t!==i});if("string"==typeof t){if(we.test(t))return de.filter(t,e,i)
;t=de.filter(t,e)}return de.grep(e,function(e){return de.inArray(e,t)>-1!==i})}
function r(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){
var t={};return de.each(e.match(Me)||[],function(e,i){t[i]=!0}),t}function a(){
ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",s),
e.removeEventListener("load",s)):(ne.detachEvent("onreadystatechange",s),
e.detachEvent("onload",s))}function s(){
(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(a(),
de.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){
var n="data-"+t.replace(Ie,"-$1").toLowerCase()
;if("string"==typeof(i=e.getAttribute(n))){try{
i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:je.test(i)?de.parseJSON(i):i)
}catch(e){}de.data(e,t,i)}else i=void 0}return i}function u(e){var t
;for(t in e)if(("data"!==t||!de.isEmptyObject(e[t]))&&"toJSON"!==t)return!1
;return!0}function c(e,t,i,n){if(Ae(e)){
var r,o,a=de.expando,s=e.nodeType,l=s?de.cache:e,u=s?e[a]:e[a]&&a
;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof t)return u||(u=s?e[a]=ie.pop()||de.guid++:a),
l[u]||(l[u]=s?{}:{toJSON:de.noop
}),"object"!=typeof t&&"function"!=typeof t||(n?l[u]=de.extend(l[u],t):l[u].data=de.extend(l[u].data,t)),
o=l[u],
n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[de.camelCase(t)]=i),"string"==typeof t?null==(r=o[t])&&(r=o[de.camelCase(t)]):r=o,
r}}function h(e,t,i){if(Ae(e)){
var n,r,o=e.nodeType,a=o?de.cache:e,s=o?e[de.expando]:de.expando;if(a[s]){
if(t&&(n=i?a[s]:a[s].data)){
de.isArray(t)?t=t.concat(de.map(t,de.camelCase)):t in n?t=[t]:(t=de.camelCase(t),
t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]]
;if(i?!u(n):!de.isEmptyObject(n))return}
(i||(delete a[s].data,u(a[s])))&&(o?de.cleanData([e],!0):he.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)
}}}function d(e,t,i,n){var r,o=1,a=20,s=n?function(){return n.cur()}:function(){
return de.css(e,t,"")
},l=s(),u=i&&i[3]||(de.cssNumber[t]?"":"px"),c=(de.cssNumber[t]||"px"!==u&&+l)&&Le.exec(de.css(e,t))
;if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do{o=o||".5",c/=o,de.style(e,t,c+u)
}while(o!==(o=s()/l)&&1!==o&&--a)}
return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],
n&&(n.unit=u,n.start=c,n.end=r)),r}function f(e){
var t=qe.split("|"),i=e.createDocumentFragment()
;if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}
function p(e,t){
var i,n,r=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0
;if(!o)for(o=[],
i=e.childNodes||e;null!=(n=i[r]);r++)!t||de.nodeName(n,t)?o.push(n):de.merge(o,p(n,t))
;return void 0===t||t&&de.nodeName(e,t)?de.merge([e],o):o}function m(e,t){
for(var i,n=0;null!=(i=e[n]);n++)de._data(i,"globalEval",!t||de._data(t[n],"globalEval"))
}function g(e){Be.test(e.type)&&(e.defaultChecked=e.checked)}
function v(e,t,i,n,r){
for(var o,a,s,l,u,c,h,d=e.length,v=f(t),y=[],b=0;b<d;b++)if((a=e[b])||0===a)if("object"===de.type(a))de.merge(y,a.nodeType?[a]:a);else if(We.test(a)){
for(l=l||v.appendChild(t.createElement("div")),
u=(Fe.exec(a)||["",""])[1].toLowerCase(),
h=He[u]||He._default,l.innerHTML=h[1]+de.htmlPrefilter(a)+h[2],
o=h[0];o--;)l=l.lastChild
;if(!he.leadingWhitespace&&Ve.test(a)&&y.push(t.createTextNode(Ve.exec(a)[0])),
!he.tbody)for(a="table"!==u||Ue.test(a)?"<table>"!==h[1]||Ue.test(a)?0:l:l.firstChild,
o=a&&a.childNodes.length;o--;)de.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c)
;for(de.merge(y,l.childNodes),
l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild
}else y.push(t.createTextNode(a))
;for(l&&v.removeChild(l),he.appendChecked||de.grep(p(y,"input"),g),
b=0;a=y[b++];)if(n&&de.inArray(a,n)>-1)r&&r.push(a);else if(s=de.contains(a.ownerDocument,a),
l=p(v.appendChild(a),"script"),
s&&m(l),i)for(o=0;a=l[o++];)ze.test(a.type||"")&&i.push(a);return l=null,v}
function y(){return!0}function b(){return!1}function _(){try{
return ne.activeElement}catch(e){}}function x(e,t,i,n,r,o){var a,s
;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0)
;for(s in t)x(e,s,i,n,t[s],o);return e}
if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,
n=void 0):(r=n,n=i,i=void 0)),!1===r)r=b;else if(!r)return e;return 1===o&&(a=r,
r=function(e){return de().off(e),a.apply(this,arguments)
},r.guid=a.guid||(a.guid=de.guid++)),e.each(function(){
de.event.add(this,t,r,n,i)})}function w(e,t){
return de.nodeName(e,"table")&&de.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e
}function C(e){return e.type=(null!==de.find.attr(e,"type"))+"/"+e.type,e}
function S(e){var t=it.exec(e.type)
;return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){
if(1===t.nodeType&&de.hasData(e)){
var i,n,r,o=de._data(e),a=de._data(t,o),s=o.events;if(s){
delete a.handle,a.events={}
;for(i in s)for(n=0,r=s[i].length;n<r;n++)de.event.add(t,i,s[i][n])}
a.data&&(a.data=de.extend({},a.data))}}function D(e,t){var i,n,r
;if(1===t.nodeType){
if(i=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[de.expando]){r=de._data(t)
;for(n in r.events)de.removeEvent(t,n,r.handle);t.removeAttribute(de.expando)}
"script"===i&&t.text!==e.text?(C(t).text=e.text,
S(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),
he.html5Clone&&e.innerHTML&&!de.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Be.test(e.type)?(t.defaultChecked=t.checked=e.checked,
t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)
}}function M(e,t,i,n){t=oe.apply([],t)
;var r,o,a,s,l,u,c=0,h=e.length,d=h-1,f=t[0],m=de.isFunction(f)
;if(m||h>1&&"string"==typeof f&&!he.checkClone&&tt.test(f))return e.each(function(r){
var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),M(o,t,i,n)})
;if(h&&(u=v(t,e[0].ownerDocument,!1,e,n),
r=u.firstChild,1===u.childNodes.length&&(u=r),r||n)){
for(s=de.map(p(u,"script"),C),
a=s.length;c<h;c++)o=u,c!==d&&(o=de.clone(o,!0,!0),
a&&de.merge(s,p(o,"script"))),i.call(e[c],o,c)
;if(a)for(l=s[s.length-1].ownerDocument,
de.map(s,S),c=0;c<a;c++)o=s[c],ze.test(o.type||"")&&!de._data(o,"globalEval")&&de.contains(l,o)&&(o.src?de._evalUrl&&de._evalUrl(o.src):de.globalEval((o.text||o.textContent||o.innerHTML||"").replace(nt,"")))
;u=r=null}return e}function N(e,t,i){
for(var n,r=t?de.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||de.cleanData(p(n)),
n.parentNode&&(i&&de.contains(n.ownerDocument,n)&&m(p(n,"script")),
n.parentNode.removeChild(n));return e}function T(e,t){
var i=de(t.createElement(e)).appendTo(t.body),n=de.css(i[0],"display")
;return i.detach(),n}function A(e){var t=ne,i=st[e]
;return i||(i=T(e,t),"none"!==i&&i||(at=(at||de("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
t=(at[0].contentWindow||at[0].contentDocument).document,
t.write(),t.close(),i=T(e,t),at.detach()),st[e]=i),i}function j(e,t){return{
get:function(){
return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}
function I(e){if(e in wt)return e
;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=xt.length;i--;)if((e=xt[i]+t)in wt)return e
}function P(e,t){
for(var i,n,r,o=[],a=0,s=e.length;a<s;a++)n=e[a],n.style&&(o[a]=de._data(n,"olddisplay"),
i=n.style.display,
t?(o[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Oe(n)&&(o[a]=de._data(n,"olddisplay",A(n.nodeName)))):(r=Oe(n),
(i&&"none"!==i||!r)&&de._data(n,"olddisplay",r?i:de.css(n,"display"))))
;for(a=0;a<s;a++)n=e[a],
n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"))
;return e}function L(e,t,i){var n=yt.exec(t)
;return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function R(e,t,i,n,r){
for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===i&&(a+=de.css(e,i+Re[o],!0,r)),
n?("content"===i&&(a-=de.css(e,"padding"+Re[o],!0,r)),
"margin"!==i&&(a-=de.css(e,"border"+Re[o]+"Width",!0,r))):(a+=de.css(e,"padding"+Re[o],!0,r),
"padding"!==i&&(a+=de.css(e,"border"+Re[o]+"Width",!0,r)));return a}
function O(e,t,i){
var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dt(e),a=he.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,o)
;if(r<=0||null==r){
if(r=ft(e,t,o),(r<0||null==r)&&(r=e.style[t]),ut.test(r))return r
;n=a&&(he.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}
return r+R(e,t,i||(a?"border":"content"),n,o)+"px"}function E(e,t,i,n,r){
return new E.prototype.init(e,t,i,n,r)}function B(){
return e.setTimeout(function(){Ct=void 0}),Ct=de.now()}function F(e,t){var i,n={
height:e},r=0;for(t=t?1:0;r<4;r+=2-t)i=Re[r],n["margin"+i]=n["padding"+i]=e
;return t&&(n.opacity=n.width=e),n}function z(e,t,i){
for(var n,r=(H.tweeners[t]||[]).concat(H.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n
}function V(e,t,i){
var n,r,o,a,s,l,u,c=this,h={},d=e.style,f=e.nodeType&&Oe(e),p=de._data(e,"fxshow")
;i.queue||(s=de._queueHooks(e,"fx"),
null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){
s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){
s.unqueued--,de.queue(e,"fx").length||s.empty.fire()})
})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],
u=de.css(e,"display"),
"inline"===("none"===u?de._data(e,"olddisplay")||A(e.nodeName):u)&&"none"===de.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?d.zoom=1:d.display="inline-block")),
i.overflow&&(d.overflow="hidden",he.shrinkWrapBlocks()||c.always(function(){
d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}))
;for(n in t)if(r=t[n],kt.exec(r)){
if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){
if("show"!==r||!p||void 0===p[n])continue;f=!0}h[n]=p&&p[n]||de.style(e,n)
}else u=void 0
;if(de.isEmptyObject(h))"inline"===("none"===u?A(e.nodeName):u)&&(d.display=u);else{
p?"hidden"in p&&(f=p.hidden):p=de._data(e,"fxshow",{}),
o&&(p.hidden=!f),f?de(e).show():c.done(function(){de(e).hide()
}),c.done(function(){var t;de._removeData(e,"fxshow")
;for(t in h)de.style(e,t,h[t])})
;for(n in h)a=z(f?p[n]:0,n,c),n in p||(p[n]=a.start,
f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function q(e,t){
var i,n,r,o,a
;for(i in e)if(n=de.camelCase(i),r=t[n],o=e[i],de.isArray(o)&&(r=o[1],
o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=de.cssHooks[n])&&"expand"in a){
o=a.expand(o),delete e[n];for(i in o)i in e||(e[i]=o[i],t[i]=r)}else t[n]=r}
function H(e,t,i){
var n,r,o=0,a=H.prefilters.length,s=de.Deferred().always(function(){
delete l.elem}),l=function(){if(r)return!1
;for(var t=Ct||B(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,o=1-n,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o)
;return s.notifyWith(e,[u,o,i]),o<1&&l?i:(s.resolveWith(e,[u]),!1)
},u=s.promise({elem:e,props:de.extend({},t),opts:de.extend(!0,{specialEasing:{},
easing:de.easing._default},i),originalProperties:t,originalOptions:i,
startTime:Ct||B(),duration:i.duration,tweens:[],createTween:function(t,i){
var n=de.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing)
;return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0
;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1)
;return t?(s.notifyWith(e,[u,1,0]),
s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props
;for(q(c,u.opts.specialEasing);o<a;o++)if(n=H.prefilters[o].call(u,e,c,u.opts))return de.isFunction(n.stop)&&(de._queueHooks(u.elem,u.opts.queue).stop=de.proxy(n.stop,n)),
n
;return de.map(c,z,u),de.isFunction(u.opts.start)&&u.opts.start.call(e,u),de.fx.timer(de.extend(l,{
elem:e,anim:u,queue:u.opts.queue
})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)
}function W(e){return de.attr(e,"class")||""}function U(e){return function(t,i){
"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(Me)||[]
;if(de.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",
(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function G(e,t,i,n){
function r(s){var l;return o[s]=!0,de.each(e[s]||[],function(e,s){var u=s(t,i,n)
;return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),
!1)}),l}var o={},a=e===Yt;return r(t.dataTypes[0])||!o["*"]&&r("*")}
function $(e,t){var i,n,r=de.ajaxSettings.flatOptions||{}
;for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n])
;return i&&de.extend(!0,e,i),e}function K(e,t,i){
for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),
void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"))
;if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}
if(l[0]in i)o=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){o=a
;break}n||(n=a)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}
function X(e,t,i,n){var r,o,a,s,l,u={},c=e.dataTypes.slice()
;if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a]
;for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),
!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),
l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){
if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if(s=r.split(" "),
s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){
!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}
if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{
state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{
state:"success",data:t}}function Y(e){
return e.style&&e.style.display||de.css(e,"display")}function Q(e){
if(!de.contains(e.ownerDocument||ne,e))return!0;for(;e&&1===e.nodeType;){
if("none"===Y(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}
function Z(e,t,i,n){var r;if(de.isArray(t))de.each(t,function(t,r){
i||ti.test(e)?n(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)
});else if(i||"object"!==de.type(t))n(e,t);else for(r in t)Z(e+"["+r+"]",t[r],i,n)
}function J(){try{return new e.XMLHttpRequest}catch(e){}}function ee(){try{
return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){
return de.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}
var ie=[],ne=e.document,re=ie.slice,oe=ie.concat,ae=ie.push,se=ie.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,he={},de=function(e,t){
return new de.fn.init(e,t)
},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,me=/-([\da-z])/gi,ge=function(e,t){
return t.toUpperCase()};de.fn=de.prototype={jquery:"1.12.4",constructor:de,
selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){
return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},
pushStack:function(e){var t=de.merge(this.constructor(),e)
;return t.prevObject=this,t.context=this.context,t},each:function(e){
return de.each(this,e)},map:function(e){
return this.pushStack(de.map(this,function(t,i){return e.call(t,i,t)}))},
slice:function(){return this.pushStack(re.apply(this,arguments))},
first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(e){var t=this.length,i=+e+(e<0?t:0)
;return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){
return this.prevObject||this.constructor()},push:ae,sort:ie.sort,
splice:ie.splice},de.extend=de.fn.extend=function(){
var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1
;for("boolean"==typeof a&&(u=a,
a=arguments[s]||{},s++),"object"==typeof a||de.isFunction(a)||(a={}),
s===l&&(a=this,
s--);s<l;s++)if(null!=(r=arguments[s]))for(n in r)e=a[n],i=r[n],a!==i&&(u&&i&&(de.isPlainObject(i)||(t=de.isArray(i)))?(t?(t=!1,
o=e&&de.isArray(e)?e:[]):o=e&&de.isPlainObject(e)?e:{},
a[n]=de.extend(u,o,i)):void 0!==i&&(a[n]=i));return a},de.extend({
expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,
error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){
return"function"===de.type(e)},isArray:Array.isArray||function(e){
return"array"===de.type(e)},isWindow:function(e){return null!=e&&e==e.window},
isNumeric:function(e){var t=e&&e.toString()
;return!de.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t
;for(t in e)return!1;return!0},isPlainObject:function(e){var t
;if(!e||"object"!==de.type(e)||e.nodeType||de.isWindow(e))return!1;try{
if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1
}catch(e){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);
return void 0===t||ce.call(e,t)},type:function(e){
return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e
},globalEval:function(t){t&&de.trim(t)&&(e.execScript||function(t){
e.eval.call(e,t)})(t)},camelCase:function(e){
return e.replace(pe,"ms-").replace(me,ge)},nodeName:function(e,t){
return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},
each:function(e,t){var n,r=0
;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break
;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},
makeArray:function(e,t){var n=t||[]
;return null!=e&&(i(Object(e))?de.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),
n},inArray:function(e,t,i){var n;if(t){if(se)return se.call(t,e,i)
;for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i
}return-1},merge:function(e,t){
for(var i=+t.length,n=0,r=e.length;n<i;)e[r++]=t[n++]
;if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},
grep:function(e,t,i){
for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},
map:function(e,t,n){var r,o,a=0,s=[]
;if(i(e))for(r=e.length;a<r;a++)null!=(o=t(e[a],a,n))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,n))&&s.push(o)
;return oe.apply([],s)},guid:1,proxy:function(e,t){var i,n,r
;if("string"==typeof t&&(r=e[t],
t=e,e=r),de.isFunction(e))return i=re.call(arguments,2),n=function(){
return e.apply(t||this,i.concat(re.call(arguments)))
},n.guid=e.guid=e.guid||de.guid++,n},now:function(){return+new Date},support:he
}),
"function"==typeof Symbol&&(de.fn[Symbol.iterator]=ie[Symbol.iterator]),de.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){
le["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,i,n){
var r,o,a,s,u,h,d,f,p=t&&t.ownerDocument,m=t?t.nodeType:9
;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i
;if(!n&&((t?t.ownerDocument||t:B)!==A&&T(t),t=t||A,I)){
if(11!==m&&(h=me.exec(e)))if(r=h[1]){if(9===m){
if(!(a=t.getElementById(r)))return i;if(a.id===r)return i.push(a),i
}else if(p&&(a=p.getElementById(r))&&O(t,a)&&a.id===r)return i.push(a),i}else{
if(h[2])return Y.apply(i,t.getElementsByTagName(e)),i
;if((r=h[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Y.apply(i,t.getElementsByClassName(r)),
i}if(b.qsa&&!H[e+" "]&&(!P||!P.test(e))){
if(1!==m)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){
for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=E),
d=C(e),o=d.length,u=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=u+" "+c(d[o])
;f=d.join(","),p=ge.test(e)&&l(t.parentNode)||t}if(f)try{
return Y.apply(i,p.querySelectorAll(f)),i}catch(e){}finally{
s===E&&t.removeAttribute("id")}}}return k(e.replace(oe,"$1"),t,i,n)}
function i(){function e(i,n){
return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[]
;return e}function n(e){return e[E]=!0,e}function r(e){
var t=A.createElement("div");try{return!!e(t)}catch(e){return!1}finally{
t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){
for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function a(e,t){
var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U)
;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}
function s(e){return n(function(t){return t=+t,n(function(i,n){
for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}
function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}
function c(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}
function h(e,t,i){var n=t.dir,r=i&&"parentNode"===n,o=z++
;return t.first?function(t,i,o){
for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,o)}:function(t,i,a){
var s,l,u,c=[F,o];if(a){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,a))return!0
}else for(;t=t[n];)if(1===t.nodeType||r){
if(u=t[E]||(t[E]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),
(s=l[n])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[n]=c,c[2]=e(t,i,a))return!0}}
}function d(e){return e.length>1?function(t,i,n){
for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}
function f(e,i,n){for(var r=0,o=i.length;r<o;r++)t(e,i[r],n);return n}
function p(e,t,i,n,r){
for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),
u&&t.push(s)));return a}function m(e,t,i,r,o,a){
return r&&!r[E]&&(r=m(r)),o&&!o[E]&&(o=m(o,a)),n(function(n,a,s,l){
var u,c,h,d=[],m=[],g=a.length,v=n||f(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:p(v,d,e,s,l),b=i?o||(n?e:g||r)?[]:a:y
;if(i&&i(y,b,s,l),
r)for(u=p(b,m),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(b[m[c]]=!(y[m[c]]=h))
;if(n){if(o||e){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h)
;o(null,b=[],u,l)}
for(c=b.length;c--;)(h=b[c])&&(u=o?Z(n,h):d[c])>-1&&(n[u]=!(a[u]=h))}
}else b=p(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):Y.apply(a,b)})}
function g(e){
for(var t,i,n,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=h(function(e){
return e===t},a,!0),u=h(function(e){return Z(t,e)>-1},a,!0),f=[function(e,i,n){
var r=!o&&(n||i!==D)||((t=i).nodeType?l(e,i,n):u(e,i,n));return t=null,r
}];s<r;s++)if(i=_.relative[e[s].type])f=[h(d(f),i)];else{
if(i=_.filter[e[s].type].apply(null,e[s].matches),i[E]){
for(n=++s;n<r&&!_.relative[e[n].type];n++);
return m(s>1&&d(f),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""
})).replace(oe,"$1"),i,s<n&&g(e.slice(s,n)),n<r&&g(e=e.slice(n)),n<r&&c(e))}
f.push(i)}return d(f)}function v(e,i){
var r=i.length>0,o=e.length>0,a=function(n,a,s,l,u){
var c,h,d,f=0,m="0",g=n&&[],v=[],y=D,b=n||o&&_.find.TAG("*",u),x=F+=null==y?1:Math.random()||.1,w=b.length
;for(u&&(D=a===A||a||u);m!==w&&null!=(c=b[m]);m++){if(o&&c){
for(h=0,a||c.ownerDocument===A||(T(c),s=!I);d=e[h++];)if(d(c,a||A,s)){l.push(c)
;break}u&&(F=x)}r&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=m,r&&m!==f){
for(h=0;d=i[h++];)d(g,v,a,s);if(n){if(f>0)for(;m--;)g[m]||v[m]||(v[m]=K.call(l))
;v=p(v)}Y.apply(l,v),u&&!n&&v.length>0&&f+i.length>1&&t.uniqueSort(l)}
return u&&(F=x,D=y),g};return r?n(a):a}
var y,b,_,x,w,C,S,k,D,M,N,T,A,j,I,P,L,R,O,E="sizzle"+1*new Date,B=e.document,F=0,z=0,V=i(),q=i(),H=i(),W=function(e,t){
return e===t&&(N=!0),0
},U=1<<31,G={}.hasOwnProperty,$=[],K=$.pop,X=$.push,Y=$.push,Q=$.slice,Z=function(e,t){
for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1
},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(ne),ce=new RegExp("^"+te+"$"),he={
ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),
TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ie),
PSEUDO:new RegExp("^"+ne),
CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),
bool:new RegExp("^(?:"+J+")$","i"),
needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")
},de=/^(?:input|select|textarea|button)$/i,fe=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,i){
var n="0x"+t-65536
;return n!==n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)
},_e=function(){T()};try{
Y.apply($=Q.call(B.childNodes),B.childNodes),$[B.childNodes.length].nodeType
}catch(e){Y={apply:$.length?function(e,t){X.apply(e,Q.call(t))}:function(e,t){
for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}
b=t.support={},w=t.isXML=function(e){
var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName
},T=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:B
;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,
j=A.documentElement,I=!w(A),
(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),
b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")
}),b.getElementsByTagName=r(function(e){
return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),
b.getElementsByClassName=pe.test(A.getElementsByClassName),
b.getById=r(function(e){
return j.appendChild(e).id=E,!A.getElementsByName||!A.getElementsByName(E).length
}),b.getById?(_.find.ID=function(e,t){if(void 0!==t.getElementById&&I){
var i=t.getElementById(e);return i?[i]:[]}},_.filter.ID=function(e){
var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}
}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(ye,be)
;return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id")
;return i&&i.value===t}}),_.find.TAG=b.getElementsByTagName?function(e,t){
return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0
}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){
for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o
},_.find.CLASS=b.getElementsByClassName&&function(e,t){
if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)
},L=[],P=[],(b.qsa=pe.test(A.querySelectorAll))&&(r(function(e){
j.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",
e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ee+"*(?:''|\"\")"),
e.querySelectorAll("[selected]").length||P.push("\\["+ee+"*(?:value|"+J+")"),
e.querySelectorAll("[id~="+E+"-]").length||P.push("~="),
e.querySelectorAll(":checked").length||P.push(":checked"),
e.querySelectorAll("a#"+E+"+*").length||P.push(".#.+[+~]")}),r(function(e){
var t=A.createElement("input")
;t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),
e.querySelectorAll("[name=d]").length&&P.push("name"+ee+"*[*^$|!~]?="),
e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),
e.querySelectorAll("*,:x"),P.push(",.*:")
})),(b.matchesSelector=pe.test(R=j.matches||j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&r(function(e){
b.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),L.push("!=",ne)
}),P=P.length&&new RegExp(P.join("|")),
L=L.length&&new RegExp(L.join("|")),t=pe.test(j.compareDocumentPosition),
O=t||pe.test(j.contains)?function(e,t){
var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))
}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1
},W=t?function(e,t){if(e===t)return N=!0,0
;var i=!e.compareDocumentPosition-!t.compareDocumentPosition
;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,
1&i||!b.sortDetached&&t.compareDocumentPosition(e)===i?e===A||e.ownerDocument===B&&O(B,e)?-1:t===A||t.ownerDocument===B&&O(B,t)?1:M?Z(M,e)-Z(M,t):0:4&i?-1:1)
}:function(e,t){if(e===t)return N=!0,0
;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t]
;if(!r||!o)return e===A?-1:t===A?1:r?-1:o?1:M?Z(M,e)-Z(M,t):0
;if(r===o)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i)
;for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++
;return n?a(s[n],l[n]):s[n]===B?-1:l[n]===B?1:0},A):A},t.matches=function(e,i){
return t(e,null,null,i)},t.matchesSelector=function(e,i){
if((e.ownerDocument||e)!==A&&T(e),
i=i.replace(le,"='$1']"),b.matchesSelector&&I&&!H[i+" "]&&(!L||!L.test(i))&&(!P||!P.test(i)))try{
var n=R.call(e,i)
;if(n||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return n
}catch(e){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){
return(e.ownerDocument||e)!==A&&T(e),O(e,t)},t.attr=function(e,t){
(e.ownerDocument||e)!==A&&T(e)
;var i=_.attrHandle[t.toLowerCase()],n=i&&G.call(_.attrHandle,t.toLowerCase())?i(e,t,!I):void 0
;return void 0!==n?n:b.attributes||!I?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null
},t.error=function(e){
throw new Error("Syntax error, unrecognized expression: "+e)
},t.uniqueSort=function(e){var t,i=[],n=0,r=0
;if(N=!b.detectDuplicates,M=!b.sortStable&&e.slice(0),e.sort(W),N){
for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return M=null,
e},x=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){
if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent
;for(e=e.firstChild;e;e=e.nextSibling)i+=x(e)
}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=x(t);return i
},_=t.selectors={cacheLength:50,createPseudo:n,match:he,attrHandle:{},find:{},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{
dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{
ATTR:function(e){
return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),
"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){
return e[1]=e[1].toLowerCase(),
"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),
e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){
var t,i=!e[6]&&e[2]
;return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=C(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),
e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){
var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0
}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},
CLASS:function(e){var t=V[e+" "]
;return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&V(e,function(e){
return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")
})},ATTR:function(e,i,n){return function(r){var o=t.attr(r,e)
;return null==o?"!="===i:!i||(o+="",
"="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(re," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))
}},CHILD:function(e,t,i,n,r){
var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t
;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){
var u,c,h,d,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1
;if(g){if(o){for(;m;){
for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1
;p=m="only"===e&&!p&&"nextSibling"}return!0}
if(p=[a?g.firstChild:g.lastChild],a&&y){
for(d=g,h=d[E]||(d[E]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],f=u[0]===F&&u[1],
b=f&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===t){
c[e]=[F,f,b];break}
}else if(y&&(d=t,h=d[E]||(d[E]={}),c=h[d.uniqueID]||(h[d.uniqueID]={}),
u=c[e]||[],
f=u[0]===F&&u[1],b=f),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[E]||(d[E]={}),
c=h[d.uniqueID]||(h[d.uniqueID]={}),c[e]=[F,b]),d!==t)););
return(b-=r)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,i){
var r,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e)
;return o[E]?o(i):o.length>1?(r=[e,e,"",i],
_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){
for(var n,r=o(e,i),a=r.length;a--;)n=Z(e,r[a]),e[n]=!(t[n]=r[a])}):function(e){
return o(e,0,r)}):o}},pseudos:{not:n(function(e){
var t=[],i=[],r=S(e.replace(oe,"$1"));return r[E]?n(function(e,t,i,n){
for(var o,a=r(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))
}):function(e,n,o){return t[0]=e,r(t,null,o,i),t[0]=null,!i.pop()}}),
has:n(function(e){return function(i){return t(e,i).length>0}}),
contains:n(function(e){return e=e.replace(ye,be),function(t){
return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:n(function(e){
return ce.test(e||"")||t.error("unsupported lang: "+e),
e=e.replace(ye,be).toLowerCase(),function(t){var i;do{
if(i=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")
}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){
var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){
return e===j},focus:function(e){
return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)
},enabled:function(e){return!1===e.disabled},disabled:function(e){
return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&!!e.checked||"option"===t&&!!e.selected},
selected:function(e){
return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},
empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1
;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){
return fe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},
button:function(e){var t=e.nodeName.toLowerCase()
;return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())
},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),
eq:s(function(e,t,i){return[i<0?i+t:i]}),even:s(function(e,t){
for(var i=0;i<t;i+=2)e.push(i);return e}),odd:s(function(e,t){
for(var i=1;i<t;i+=2)e.push(i);return e}),lt:s(function(e,t,i){
for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:s(function(e,t,i){
for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}},_.pseudos.nth=_.pseudos.eq
;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0
})_.pseudos[y]=function(e){return function(t){
return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,
reset:!0})_.pseudos[y]=function(e){return function(t){
var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}
}(y)
;return u.prototype=_.filters=_.pseudos,_.setFilters=new u,C=t.tokenize=function(e,i){
var n,r,o,a,s,l,u,c=q[e+" "];if(c)return i?0:c.slice(0)
;for(s=e,l=[],u=_.preFilter;s;){
n&&!(r=ae.exec(s))||(r&&(s=s.slice(r[0].length)||s),
l.push(o=[])),n=!1,(r=se.exec(s))&&(n=r.shift(),o.push({value:n,
type:r[0].replace(oe," ")}),s=s.slice(n.length))
;for(a in _.filter)!(r=he[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({
value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}
return i?s.length:s?t.error(e):q(e,l).slice(0)},S=t.compile=function(e,t){
var i,n=[],r=[],o=H[e+" "];if(!o){
for(t||(t=C(e)),i=t.length;i--;)o=g(t[i]),o[E]?n.push(o):r.push(o)
;o=H(e,v(r,n)),o.selector=e}return o},k=t.select=function(e,t,i,n){
var r,o,a,s,u,h="function"==typeof e&&e,d=!n&&C(e=h.selector||e)
;if(i=i||[],1===d.length){
if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&I&&_.relative[o[1].type]){
if(!(t=(_.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return i
;h&&(t=t.parentNode),e=e.slice(o.shift().value.length)}
for(r=he.needsContext.test(e)?0:o.length;r--&&(a=o[r],
!_.relative[s=a.type]);)if((u=_.find[s])&&(n=u(a.matches[0].replace(ye,be),ge.test(o[0].type)&&l(t.parentNode)||t))){
if(o.splice(r,1),!(e=n.length&&c(o)))return Y.apply(i,n),i;break}}
return(h||S(e,d))(n,t,!I,i,!t||ge.test(e)&&l(t.parentNode)||t),i
},b.sortStable=E.split("").sort(W).join("")===E,
b.detectDuplicates=!!N,T(),b.sortDetached=r(function(e){
return 1&e.compareDocumentPosition(A.createElement("div"))}),r(function(e){
return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")
})||o("type|href|height|width",function(e,t,i){
if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)
}),b.attributes&&r(function(e){
return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),
""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){
if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){
return null==e.getAttribute("disabled")})||o(J,function(e,t,i){var n
;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null
}),t}(e)
;de.find=ve,de.expr=ve.selectors,de.expr[":"]=de.expr.pseudos,de.uniqueSort=de.unique=ve.uniqueSort,
de.text=ve.getText,de.isXMLDoc=ve.isXML,de.contains=ve.contains
;var ye=function(e,t,i){
for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){
if(r&&de(e).is(i))break;n.push(e)}return n},be=function(e,t){
for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i
},_e=de.expr.match.needsContext,xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/
;de.filter=function(e,t,i){var n=t[0]
;return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?de.find.matchesSelector(n,e)?[n]:[]:de.find.matches(e,de.grep(t,function(e){
return 1===e.nodeType}))},de.fn.extend({find:function(e){
var t,i=[],n=this,r=n.length
;if("string"!=typeof e)return this.pushStack(de(e).filter(function(){
for(t=0;t<r;t++)if(de.contains(n[t],this))return!0}))
;for(t=0;t<r;t++)de.find(e,n[t],i)
;return i=this.pushStack(r>1?de.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,
i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){
return this.pushStack(n(this,e||[],!0))},is:function(e){
return!!n(this,"string"==typeof e&&_e.test(e)?de(e):e||[],!1).length}})
;var Ce,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(de.fn.init=function(e,t,i){
var n,r;if(!e)return this;if(i=i||Ce,"string"==typeof e){
if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Se.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e)
;if(n[1]){
if(t=t instanceof de?t[0]:t,de.merge(this,de.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),
xe.test(n[1])&&de.isPlainObject(t))for(n in t)de.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n])
;return this}if((r=ne.getElementById(n[2]))&&r.parentNode){
if(r.id!==n[2])return Ce.find(e);this.length=1,this[0]=r}return this.context=ne,
this.selector=e,this}
return e.nodeType?(this.context=this[0]=e,this.length=1,this):de.isFunction(e)?void 0!==i.ready?i.ready(e):e(de):(void 0!==e.selector&&(this.selector=e.selector,
this.context=e.context),de.makeArray(e,this))}).prototype=de.fn,Ce=de(ne)
;var ke=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,
prev:!0};de.fn.extend({has:function(e){var t,i=de(e,this),n=i.length
;return this.filter(function(){
for(t=0;t<n;t++)if(de.contains(this,i[t]))return!0})},closest:function(e,t){
for(var i,n=0,r=this.length,o=[],a=_e.test(e)||"string"!=typeof e?de(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&de.find.matchesSelector(i,e))){
o.push(i);break}return this.pushStack(o.length>1?de.uniqueSort(o):o)},
index:function(e){
return e?"string"==typeof e?de.inArray(this[0],de(e)):de.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1
},add:function(e,t){
return this.pushStack(de.uniqueSort(de.merge(this.get(),de(e,t))))},
addBack:function(e){
return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),de.each({
parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},
parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,i){
return ye(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},
prev:function(e){return r(e,"previousSibling")},nextAll:function(e){
return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},
nextUntil:function(e,t,i){return ye(e,"nextSibling",i)},
prevUntil:function(e,t,i){return ye(e,"previousSibling",i)},
siblings:function(e){return be((e.parentNode||{}).firstChild,e)},
children:function(e){return be(e.firstChild)},contents:function(e){
return de.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:de.merge([],e.childNodes)
}},function(e,t){de.fn[e]=function(i,n){var r=de.map(this,t,i)
;return"Until"!==e.slice(-5)&&(n=i),
n&&"string"==typeof n&&(r=de.filter(n,r)),this.length>1&&(De[e]||(r=de.uniqueSort(r)),
ke.test(e)&&(r=r.reverse())),this.pushStack(r)}});var Me=/\S+/g
;de.Callbacks=function(e){e="string"==typeof e?o(e):de.extend({},e)
;var t,i,n,r,a=[],s=[],l=-1,u=function(){
for(r=e.once,n=t=!0;s.length;l=-1)for(i=s.shift();++l<a.length;)!1===a[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=a.length,
i=!1);e.memory||(i=!1),t=!1,r&&(a=i?[]:"")},c={add:function(){
return a&&(i&&!t&&(l=a.length-1,s.push(i)),function t(i){
de.each(i,function(i,n){
de.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==de.type(n)&&t(n)
})}(arguments),i&&!t&&u()),this},remove:function(){
return de.each(arguments,function(e,t){
for(var i;(i=de.inArray(t,a,i))>-1;)a.splice(i,1),i<=l&&l--}),this},
has:function(e){return e?de.inArray(e,a)>-1:a.length>0},empty:function(){
return a&&(a=[]),this},disable:function(){return r=s=[],a=i="",this},
disabled:function(){return!a},lock:function(){return r=!0,i||c.disable(),this},
locked:function(){return!!r},fireWith:function(e,i){
return r||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||u()),this},
fire:function(){return c.fireWith(this,arguments),this},fired:function(){
return!!n}};return c},de.extend({Deferred:function(e){
var t=[["resolve","done",de.Callbacks("once memory"),"resolved"],["reject","fail",de.Callbacks("once memory"),"rejected"],["notify","progress",de.Callbacks("memory")]],i="pending",n={
state:function(){return i},always:function(){
return r.done(arguments).fail(arguments),this},then:function(){var e=arguments
;return de.Deferred(function(i){de.each(t,function(t,o){
var a=de.isFunction(e[t])&&e[t];r[o[1]](function(){
var e=a&&a.apply(this,arguments)
;e&&de.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,a?[e]:arguments)
})}),e=null}).promise()},promise:function(e){return null!=e?de.extend(e,n):n}
},r={};return n.pipe=n.then,de.each(t,function(e,o){var a=o[2],s=o[3]
;n[o[1]]=a.add,s&&a.add(function(){i=s
},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){
return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=a.fireWith
}),n.promise(r),e&&e.call(r,r),r},when:function(e){
var t,i,n,r=0,o=re.call(arguments),a=o.length,s=1!==a||e&&de.isFunction(e.promise)?a:0,l=1===s?e:de.Deferred(),u=function(e,i,n){
return function(r){
i[e]=this,n[e]=arguments.length>1?re.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)
}}
;if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);r<a;r++)o[r]&&de.isFunction(o[r].promise)?o[r].promise().progress(u(r,i,t)).done(u(r,n,o)).fail(l.reject):--s
;return s||l.resolveWith(n,o),l.promise()}});var Ne;de.fn.ready=function(e){
return de.ready.promise().done(e),this},de.extend({isReady:!1,readyWait:1,
holdReady:function(e){e?de.readyWait++:de.ready(!0)},ready:function(e){
(!0===e?--de.readyWait:de.isReady)||(de.isReady=!0,
!0!==e&&--de.readyWait>0||(Ne.resolveWith(ne,[de]),
de.fn.triggerHandler&&(de(ne).triggerHandler("ready"),de(ne).off("ready"))))}}),
de.ready.promise=function(t){
if(!Ne)if(Ne=de.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(de.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",s),
e.addEventListener("load",s);else{
ne.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{
i=null==e.frameElement&&ne.documentElement}catch(e){}
i&&i.doScroll&&function t(){if(!de.isReady){try{i.doScroll("left")}catch(i){
return e.setTimeout(t,50)}a(),de.ready()}}()}return Ne.promise(t)
},de.ready.promise();var Te;for(Te in de(he))break
;he.ownFirst="0"===Te,he.inlineBlockNeedsLayout=!1,de(function(){var e,t,i,n
;(i=ne.getElementsByTagName("body")[0])&&i.style&&(t=ne.createElement("div"),
n=ne.createElement("div"),
n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
i.appendChild(n).appendChild(t),
void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
he.inlineBlockNeedsLayout=e=3===t.offsetWidth,
e&&(i.style.zoom=1)),i.removeChild(n))}),function(){
var e=ne.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(e){
he.deleteExpando=!1}e=null}();var Ae=function(e){
var t=de.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1
;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)
},je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ie=/([A-Z])/g;de.extend({cache:{},noData:{
"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
},hasData:function(e){
return!!(e=e.nodeType?de.cache[e[de.expando]]:e[de.expando])&&!u(e)},
data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},
_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){
return h(e,t,!0)}}),de.fn.extend({data:function(e,t){
var i,n,r,o=this[0],a=o&&o.attributes;if(void 0===e){
if(this.length&&(r=de.data(o),1===o.nodeType&&!de._data(o,"parsedAttrs"))){
for(i=a.length;i--;)a[i]&&(n=a[i].name,
0===n.indexOf("data-")&&(n=de.camelCase(n.slice(5)),l(o,n,r[n])))
;de._data(o,"parsedAttrs",!0)}return r}
return"object"==typeof e?this.each(function(){de.data(this,e)
}):arguments.length>1?this.each(function(){de.data(this,e,t)
}):o?l(o,e,de.data(o,e)):void 0},removeData:function(e){
return this.each(function(){de.removeData(this,e)})}}),de.extend({
queue:function(e,t,i){var n
;if(e)return t=(t||"fx")+"queue",n=de._data(e,t),i&&(!n||de.isArray(i)?n=de._data(e,t,de.makeArray(i)):n.push(i)),
n||[]},dequeue:function(e,t){t=t||"fx"
;var i=de.queue(e,t),n=i.length,r=i.shift(),o=de._queueHooks(e,t),a=function(){
de.dequeue(e,t)}
;"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),
delete o.stop,r.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){
var i=t+"queueHooks";return de._data(e,i)||de._data(e,i,{
empty:de.Callbacks("once memory").add(function(){
de._removeData(e,t+"queue"),de._removeData(e,i)})})}}),de.fn.extend({
queue:function(e,t){var i=2
;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?de.queue(this[0],e):void 0===t?this:this.each(function(){
var i=de.queue(this,e,t)
;de._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&de.dequeue(this,e)})},
dequeue:function(e){return this.each(function(){de.dequeue(this,e)})},
clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){
var i,n=1,r=de.Deferred(),o=this,a=this.length,s=function(){
--n||r.resolveWith(o,[o])}
;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=de._data(o[a],e+"queueHooks"))&&i.empty&&(n++,
i.empty.add(s));return s(),r.promise(t)}}),function(){var e
;he.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n
;return(i=ne.getElementsByTagName("body")[0])&&i.style?(t=ne.createElement("div"),
n=ne.createElement("div"),
n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
i.appendChild(n).appendChild(t),
void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
t.appendChild(ne.createElement("div")).style.width="5px",
e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}()
;var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Le=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Oe=function(e,t){
return e=t||e,"none"===de.css(e,"display")||!de.contains(e.ownerDocument,e)
},Ee=function(e,t,i,n,r,o,a){var s=0,l=e.length,u=null==i
;if("object"===de.type(i)){r=!0;for(s in i)Ee(e,t,s,i[s],!0,o,a)
}else if(void 0!==n&&(r=!0,
de.isFunction(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,i){
return u.call(de(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)))
;return r?e:u?t.call(e):l?t(e[0],i):o
},Be=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,ze=/^$|\/(?:java|ecma)script/i,Ve=/^\s+/,qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video"
;!function(){
var e=ne.createElement("div"),t=ne.createDocumentFragment(),i=ne.createElement("input")
;e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
he.leadingWhitespace=3===e.firstChild.nodeType,
he.tbody=!e.getElementsByTagName("tbody").length,
he.htmlSerialize=!!e.getElementsByTagName("link").length,
he.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,
i.type="checkbox",
i.checked=!0,t.appendChild(i),he.appendChecked=i.checked,e.innerHTML="<textarea>x</textarea>",
he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,
t.appendChild(e),i=ne.createElement("input"),
i.setAttribute("type","radio"),i.setAttribute("checked","checked"),
i.setAttribute("name","t"),
e.appendChild(i),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,
he.noCloneEvent=!!e.addEventListener,
e[de.expando]=1,he.attributes=!e.getAttribute(de.expando)}();var He={
option:[1,"<select multiple='multiple'>","</select>"],
legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],
param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],
tr:[2,"<table><tbody>","</tbody></table>"],
col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]}
;He.optgroup=He.option,
He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td
;var We=/<|&#?\w+;/,Ue=/<tbody/i;!function(){var t,i,n=ne.createElement("div")
;for(t in{submit:!0,change:!0,focusin:!0
})i="on"+t,(he[t]=i in e)||(n.setAttribute(i,"t"),
he[t]=!1===n.attributes[i].expando);n=null}()
;var Ge=/^(?:input|select|textarea)$/i,$e=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xe=/^(?:focusinfocus|focusoutblur)$/,Ye=/^([^.]*)(?:\.(.+)|)/
;de.event={global:{},add:function(e,t,i,n,r){
var o,a,s,l,u,c,h,d,f,p,m,g=de._data(e);if(g){
for(i.handler&&(l=i,i=l.handler,r=l.selector),
i.guid||(i.guid=de.guid++),(a=g.events)||(a=g.events={}),
(c=g.handle)||(c=g.handle=function(e){
return void 0===de||e&&de.event.triggered===e.type?void 0:de.event.dispatch.apply(c.elem,arguments)
},
c.elem=e),t=(t||"").match(Me)||[""],s=t.length;s--;)o=Ye.exec(t[s])||[],f=m=o[1],
p=(o[2]||"").split(".").sort(),
f&&(u=de.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,
u=de.event.special[f]||{},h=de.extend({type:f,origType:m,data:n,handler:i,
guid:i.guid,selector:r,needsContext:r&&de.expr.match.needsContext.test(r),
namespace:p.join(".")
},l),(d=a[f])||(d=a[f]=[],d.delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,c)||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),
u.add&&(u.add.call(e,h),
h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),
de.event.global[f]=!0);e=null}},remove:function(e,t,i,n,r){
var o,a,s,l,u,c,h,d,f,p,m,g=de.hasData(e)&&de._data(e);if(g&&(c=g.events)){
for(t=(t||"").match(Me)||[""],
u=t.length;u--;)if(s=Ye.exec(t[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),
f){
for(h=de.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),
l=o=d.length;o--;)a=d[o],
!r&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(o,1),
a.selector&&d.delegateCount--,h.remove&&h.remove.call(e,a))
;l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,g.handle)||de.removeEvent(e,f,g.handle),
delete c[f])}else for(f in c)de.event.remove(e,f+t[u],i,n,!0)
;de.isEmptyObject(c)&&(delete g.handle,de._removeData(e,"events"))}},
trigger:function(t,i,n,r){
var o,a,s,l,u,c,h,d=[n||ne],f=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[]
;if(s=c=n=n||ne,
3!==n.nodeType&&8!==n.nodeType&&!Xe.test(f+de.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),
f=p.shift(),
p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[de.expando]?t:new de.Event(f,"object"==typeof t&&t),
t.isTrigger=r?2:3,
t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,
t.result=void 0,
t.target||(t.target=n),i=null==i?[t]:de.makeArray(i,[t]),u=de.event.special[f]||{},
r||!u.trigger||!1!==u.trigger.apply(n,i))){if(!r&&!u.noBubble&&!de.isWindow(n)){
for(l=u.delegateType||f,
Xe.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s
;c===(n.ownerDocument||ne)&&d.push(c.defaultView||c.parentWindow||e)}
for(h=0;(s=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:u.bindType||f,
o=(de._data(s,"events")||{})[t.type]&&de._data(s,"handle"),
o&&o.apply(s,i),(o=a&&s[a])&&o.apply&&Ae(s)&&(t.result=o.apply(s,i),
!1===t.result&&t.preventDefault())
;if(t.type=f,!r&&!t.isDefaultPrevented()&&(!u._default||!1===u._default.apply(d.pop(),i))&&Ae(n)&&a&&n[f]&&!de.isWindow(n)){
c=n[a],c&&(n[a]=null),de.event.triggered=f;try{n[f]()}catch(e){}
de.event.triggered=void 0,c&&(n[a]=c)}return t.result}},dispatch:function(e){
e=de.event.fix(e)
;var t,i,n,r,o,a=[],s=re.call(arguments),l=(de._data(this,"events")||{})[e.type]||[],u=de.event.special[e.type]||{}
;if(s[0]=e,
e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){
for(a=de.event.handlers.call(this,e,l),
t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,
i=0;(o=r.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,
e.data=o.data,
void 0!==(n=((de.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),
e.stopPropagation()))
;return u.postDispatch&&u.postDispatch.call(this,e),e.result}},
handlers:function(e,t){var i,n,r,o,a=[],s=t.delegateCount,l=e.target
;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){
for(n=[],
i=0;i<s;i++)o=t[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?de(r,this).index(l)>-1:de.find(r,this,null,[l]).length),
n[r]&&n.push(o);n.length&&a.push({elem:l,handlers:n})}
return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){
if(e[de.expando])return e;var t,i,n,r=e.type,o=e,a=this.fixHooks[r]
;for(a||(this.fixHooks[r]=a=Ke.test(r)?this.mouseHooks:$e.test(r)?this.keyHooks:{}),
n=a.props?this.props.concat(a.props):this.props,
e=new de.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i]
;return e.target||(e.target=o.srcElement||ne),
3===e.target.nodeType&&(e.target=e.target.parentNode),
e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},
props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(e,t){
return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},
mouseHooks:{
props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(e,t){var i,n,r,o=t.button,a=t.fromElement
;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ne,
r=n.documentElement,
i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),
e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),
!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),
e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{
noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)try{
return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{
trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},
delegateType:"focusout"},click:{trigger:function(){
if(de.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),
!1},_default:function(e){return de.nodeName(e.target,"a")}},beforeunload:{
postDispatch:function(e){
void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},
simulate:function(e,t,i){var n=de.extend(new de.Event,i,{type:e,isSimulated:!0})
;de.event.trigger(n,null,t),n.isDefaultPrevented()&&i.preventDefault()}
},de.removeEvent=ne.removeEventListener?function(e,t,i){
e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){var n="on"+t
;e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))
},de.Event=function(e,t){if(!(this instanceof de.Event))return new de.Event(e,t)
;e&&e.type?(this.originalEvent=e,
this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:b):this.type=e,
t&&de.extend(this,t),this.timeStamp=e&&e.timeStamp||de.now(),this[de.expando]=!0
},de.Event.prototype={constructor:de.Event,isDefaultPrevented:b,
isPropagationStopped:b,isImmediatePropagationStopped:b,
preventDefault:function(){var e=this.originalEvent
;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)
},stopPropagation:function(){var e=this.originalEvent
;this.isPropagationStopped=y,
e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)
},stopImmediatePropagation:function(){var e=this.originalEvent
;this.isImmediatePropagationStopped=y,
e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),
this.stopPropagation()}},de.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){
de.event.special[e]={delegateType:t,bindType:t,handle:function(e){
var i,n=this,r=e.relatedTarget,o=e.handleObj
;return r&&(r===n||de.contains(n,r))||(e.type=o.origType,
i=o.handler.apply(this,arguments),e.type=t),i}}
}),he.submit||(de.event.special.submit={setup:function(){
if(de.nodeName(this,"form"))return!1
;de.event.add(this,"click._submit keypress._submit",function(e){
var t=e.target,i=de.nodeName(t,"input")||de.nodeName(t,"button")?de.prop(t,"form"):void 0
;i&&!de._data(i,"submit")&&(de.event.add(i,"submit._submit",function(e){
e._submitBubble=!0}),de._data(i,"submit",!0))})},postDispatch:function(e){
e._submitBubble&&(delete e._submitBubble,
this.parentNode&&!e.isTrigger&&de.event.simulate("submit",this.parentNode,e))},
teardown:function(){if(de.nodeName(this,"form"))return!1
;de.event.remove(this,"._submit")}}),he.change||(de.event.special.change={
setup:function(){
if(Ge.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(de.event.add(this,"propertychange._change",function(e){
"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)
}),de.event.add(this,"click._change",function(e){
this._justChanged&&!e.isTrigger&&(this._justChanged=!1),
de.event.simulate("change",this,e)})),!1
;de.event.add(this,"beforeactivate._change",function(e){var t=e.target
;Ge.test(t.nodeName)&&!de._data(t,"change")&&(de.event.add(t,"change._change",function(e){
!this.parentNode||e.isSimulated||e.isTrigger||de.event.simulate("change",this.parentNode,e)
}),de._data(t,"change",!0))})},handle:function(e){var t=e.target
;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)
},teardown:function(){
return de.event.remove(this,"._change"),!Ge.test(this.nodeName)}
}),he.focusin||de.each({focus:"focusin",blur:"focusout"},function(e,t){
var i=function(e){de.event.simulate(t,e.target,de.event.fix(e))}
;de.event.special[t]={setup:function(){
var n=this.ownerDocument||this,r=de._data(n,t)
;r||n.addEventListener(e,i,!0),de._data(n,t,(r||0)+1)},teardown:function(){
var n=this.ownerDocument||this,r=de._data(n,t)-1
;r?de._data(n,t,r):(n.removeEventListener(e,i,!0),de._removeData(n,t))}}
}),de.fn.extend({on:function(e,t,i,n){return x(this,e,t,i,n)},
one:function(e,t,i,n){return x(this,e,t,i,n,1)},off:function(e,t,i){var n,r
;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,
de(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),
this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}
return!1!==t&&"function"!=typeof t||(i=t,
t=void 0),!1===i&&(i=b),this.each(function(){de.event.remove(this,e,i,t)})},
trigger:function(e,t){return this.each(function(){de.event.trigger(e,t,this)})},
triggerHandler:function(e,t){var i=this[0]
;if(i)return de.event.trigger(e,t,i,!0)}})
;var Qe=/ jQuery\d+="(?:null|\d+)"/g,Ze=new RegExp("<(?:"+qe+")[\\s/>]","i"),Je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt=f(ne),ot=rt.appendChild(ne.createElement("div"))
;de.extend({htmlPrefilter:function(e){return e.replace(Je,"<$1></$2>")},
clone:function(e,t,i){var n,r,o,a,s,l=de.contains(e.ownerDocument,e)
;if(he.html5Clone||de.isXMLDoc(e)||!Ze.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,
ot.removeChild(o=ot.firstChild)),
!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||de.isXMLDoc(e)))for(n=p(o),
s=p(e),a=0;null!=(r=s[a]);++a)n[a]&&D(r,n[a]);if(t)if(i)for(s=s||p(e),n=n||p(o),
a=0;null!=(r=s[a]);a++)k(r,n[a]);else k(e,o)
;return n=p(o,"script"),n.length>0&&m(n,!l&&p(e,"script")),n=s=r=null,o},
cleanData:function(e,t){
for(var i,n,r,o,a=0,s=de.expando,l=de.cache,u=he.attributes,c=de.event.special;null!=(i=e[a]);a++)if((t||Ae(i))&&(r=i[s],
o=r&&l[r])){
if(o.events)for(n in o.events)c[n]?de.event.remove(i,n):de.removeEvent(i,n,o.handle)
;l[r]&&(delete l[r],
u||void 0===i.removeAttribute?i[s]=void 0:i.removeAttribute(s),ie.push(r))}}
}),de.fn.extend({domManip:M,detach:function(e){return N(this,e,!0)},
remove:function(e){return N(this,e)},text:function(e){
return Ee(this,function(e){
return void 0===e?de.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))
},null,e,arguments.length)},append:function(){
return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){
w(this,e).appendChild(e)}})},prepend:function(){
return M(this,arguments,function(e){
if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e)
;t.insertBefore(e,t.firstChild)}})},before:function(){
return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){
return M(this,arguments,function(e){
this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},
empty:function(){for(var e,t=0;null!=(e=this[t]);t++){
for(1===e.nodeType&&de.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild)
;e.options&&de.nodeName(e,"select")&&(e.options.length=0)}return this},
clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){
return de.clone(this,e,t)})},html:function(e){return Ee(this,function(e){
var t=this[0]||{},i=0,n=this.length
;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Qe,""):void 0
;if("string"==typeof e&&!et.test(e)&&(he.htmlSerialize||!Ze.test(e))&&(he.leadingWhitespace||!Ve.test(e))&&!He[(Fe.exec(e)||["",""])[1].toLowerCase()]){
e=de.htmlPrefilter(e);try{
for(;i<n;i++)t=this[i]||{},1===t.nodeType&&(de.cleanData(p(t,!1)),t.innerHTML=e)
;t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},
replaceWith:function(){var e=[];return M(this,arguments,function(t){
var i=this.parentNode
;de.inArray(this,e)<0&&(de.cleanData(p(this)),i&&i.replaceChild(t,this))},e)}}),
de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",
insertAfter:"after",replaceAll:"replaceWith"},function(e,t){
de.fn[e]=function(e){
for(var i,n=0,r=[],o=de(e),a=o.length-1;n<=a;n++)i=n===a?this:this.clone(!0),
de(o[n])[t](i),ae.apply(r,i.get());return this.pushStack(r)}});var at,st={
HTML:"block",BODY:"block"
},lt=/^margin/,ut=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),ct=function(e,t,i,n){
var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[])
;for(o in t)e.style[o]=a[o];return r},ht=ne.documentElement;!function(){
function t(){var t,c,h=ne.documentElement
;h.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
i=r=s=!1,
n=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(u),i="1%"!==(c||{}).top,
s="2px"===(c||{}).marginLeft,r="4px"===(c||{width:"4px"
}).width,u.style.marginRight="50%",n="4px"===(c||{marginRight:"4px"
}).marginRight,
t=u.appendChild(ne.createElement("div")),t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
t.style.marginRight=t.style.width="0",
u.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),
u.removeChild(t)),
u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",
u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
u.childNodes[0].style.borderCollapse="separate",
t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",
(o=0===t[0].offsetHeight)&&(t[0].style.display="",
t[1].style.display="none",o=0===t[0].offsetHeight)),h.removeChild(l)}
var i,n,r,o,a,s,l=ne.createElement("div"),u=ne.createElement("div")
;u.style&&(u.style.cssText="float:left;opacity:.5",
he.opacity="0.5"===u.style.opacity,
he.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",
u.cloneNode(!0).style.backgroundClip="",
he.clearCloneStyle="content-box"===u.style.backgroundClip,
l=ne.createElement("div"),
l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
u.innerHTML="",
l.appendChild(u),he.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,
de.extend(he,{reliableHiddenOffsets:function(){return null==i&&t(),o},
boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){
return null==i&&t(),n},pixelPosition:function(){return null==i&&t(),i},
reliableMarginRight:function(){return null==i&&t(),a},
reliableMarginLeft:function(){return null==i&&t(),s}}))}()
;var dt,ft,pt=/^(top|right|bottom|left)$/;e.getComputedStyle?(dt=function(t){
var i=t.ownerDocument.defaultView
;return i&&i.opener||(i=e),i.getComputedStyle(t)},ft=function(e,t,i){
var n,r,o,a,s=e.style
;return i=i||dt(e),a=i?i.getPropertyValue(t)||i[t]:void 0,""!==a&&void 0!==a||de.contains(e.ownerDocument,e)||(a=de.style(e,t)),
i&&!he.pixelMarginRight()&&ut.test(a)&&lt.test(t)&&(n=s.width,
r=s.minWidth,o=s.maxWidth,
s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,
s.maxWidth=o),void 0===a?a:a+""}):ht.currentStyle&&(dt=function(e){
return e.currentStyle},ft=function(e,t,i){var n,r,o,a,s=e.style
;return i=i||dt(e),
a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),ut.test(a)&&!pt.test(t)&&(n=s.left,
r=e.runtimeStyle,
o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,
a=s.pixelLeft+"px",s.left=n,o&&(r.left=o)),void 0===a?a:a+""||"auto"})
;var mt=/alpha\([^)]*\)/i,gt=/opacity\s*=\s*([^)]*)/i,vt=/^(none|table(?!-c[ea]).+)/,yt=new RegExp("^("+Pe+")(.*)$","i"),bt={
position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",
fontWeight:"400"},xt=["Webkit","O","Moz","ms"],wt=ne.createElement("div").style
;de.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ft(e,"opacity")
;return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,
fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,
order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{
float:he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){
if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){
var r,o,a,s=de.camelCase(t),l=e.style
;if(t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),a=de.cssHooks[t]||de.cssHooks[s],
void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:l[t];if(o=typeof i,
"string"===o&&(r=Le.exec(i))&&r[1]&&(i=d(e,t,r),
o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(de.cssNumber[s]?"":"px")),
he.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),
!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(e){}}},
css:function(e,t,i,n){var r,o,a,s=de.camelCase(t)
;return t=de.cssProps[s]||(de.cssProps[s]=I(s)||s),
a=de.cssHooks[t]||de.cssHooks[s],
a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=ft(e,t,n)),
"normal"===o&&t in _t&&(o=_t[t]),
""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}
}),de.each(["height","width"],function(e,t){de.cssHooks[t]={get:function(e,i,n){
if(i)return vt.test(de.css(e,"display"))&&0===e.offsetWidth?ct(e,bt,function(){
return O(e,t,n)}):O(e,t,n)},set:function(e,i,n){var r=n&&dt(e)
;return L(e,i,n?R(e,t,n,he.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,r),r):0)
}}}),he.opacity||(de.cssHooks.opacity={get:function(e,t){
return gt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""
},set:function(e,t){
var i=e.style,n=e.currentStyle,r=de.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||""
;i.zoom=1,
(t>=1||""===t)&&""===de.trim(o.replace(mt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),
""===t||n&&!n.filter)||(i.filter=mt.test(o)?o.replace(mt,r):o+" "+r)}
}),de.cssHooks.marginRight=j(he.reliableMarginRight,function(e,t){
if(t)return ct(e,{display:"inline-block"},ft,[e,"marginRight"])
}),de.cssHooks.marginLeft=j(he.reliableMarginLeft,function(e,t){
if(t)return(parseFloat(ft(e,"marginLeft"))||(de.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ct(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"
}),de.each({margin:"",padding:"",border:"Width"},function(e,t){
de.cssHooks[e+t]={expand:function(i){
for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+Re[n]+t]=o[n]||o[n-2]||o[0]
;return r}},lt.test(e)||(de.cssHooks[e+t].set=L)}),de.fn.extend({
css:function(e,t){return Ee(this,function(e,t,i){var n,r,o={},a=0
;if(de.isArray(t)){for(n=dt(e),r=t.length;a<r;a++)o[t[a]]=de.css(e,t[a],!1,n)
;return o}return void 0!==i?de.style(e,t,i):de.css(e,t)},e,t,arguments.length>1)
},show:function(){return P(this,!0)},hide:function(){return P(this)},
toggle:function(e){
return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){
Oe(this)?de(this).show():de(this).hide()})}}),de.Tween=E,E.prototype={
constructor:E,init:function(e,t,i,n,r,o){
this.elem=e,this.prop=i,this.easing=r||de.easing._default,
this.options=t,this.start=this.now=this.cur(),
this.end=n,this.unit=o||(de.cssNumber[i]?"":"px")},cur:function(){
var e=E.propHooks[this.prop]
;return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){
var t,i=E.propHooks[this.prop]
;return this.options.duration?this.pos=t=de.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,
this.now=(this.end-this.start)*t+this.start,
this.options.step&&this.options.step.call(this.elem,this.now,this),
i&&i.set?i.set(this):E.propHooks._default.set(this),this}
},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){
var t
;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=de.css(e.elem,e.prop,""),
t&&"auto"!==t?t:0)},set:function(e){
de.fx.step[e.prop]?de.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[de.cssProps[e.prop]]&&!de.cssHooks[e.prop]?e.elem[e.prop]=e.now:de.style(e.elem,e.prop,e.now+e.unit)
}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){
e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},de.easing={
linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},
_default:"swing"},de.fx=E.prototype.init,de.fx.step={}
;var Ct,St,kt=/^(?:toggle|show|hide)$/,Dt=/queueHooks$/
;de.Animation=de.extend(H,{tweeners:{"*":[function(e,t){
var i=this.createTween(e,t);return d(i.elem,e,Le.exec(t),i),i}]},
tweener:function(e,t){de.isFunction(e)?(t=e,e=["*"]):e=e.match(Me)
;for(var i,n=0,r=e.length;n<r;n++)i=e[n],
H.tweeners[i]=H.tweeners[i]||[],H.tweeners[i].unshift(t)},prefilters:[V],
prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}
}),de.speed=function(e,t,i){var n=e&&"object"==typeof e?de.extend({},e):{
complete:i||!i&&t||de.isFunction(e)&&e,duration:e,
easing:i&&t||t&&!de.isFunction(t)&&t}
;return n.duration=de.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in de.fx.speeds?de.fx.speeds[n.duration]:de.fx.speeds._default,
null!=n.queue&&!0!==n.queue||(n.queue="fx"),
n.old=n.complete,n.complete=function(){
de.isFunction(n.old)&&n.old.call(this),n.queue&&de.dequeue(this,n.queue)},n
},de.fn.extend({fadeTo:function(e,t,i,n){
return this.filter(Oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)
},animate:function(e,t,i,n){
var r=de.isEmptyObject(e),o=de.speed(t,i,n),a=function(){
var t=H(this,de.extend({},e),o);(r||de._data(this,"finish"))&&t.stop(!0)}
;return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},
stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)}
;return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),
this.each(function(){
var t=!0,r=null!=e&&e+"queueHooks",o=de.timers,a=de._data(this)
;if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&Dt.test(r)&&n(a[r])
;for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),
t=!1,o.splice(r,1));!t&&i||de.dequeue(this,e)})},finish:function(e){
return!1!==e&&(e=e||"fx"),this.each(function(){
var t,i=de._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=de.timers,a=n?n.length:0
;for(i.finish=!0,
de.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),
o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this)
;delete i.finish})}}),de.each(["toggle","show","hide"],function(e,t){
var i=de.fn[t];de.fn[t]=function(e,n,r){
return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(t,!0),e,n,r)
}}),de.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),
fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}
},function(e,t){de.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}
}),de.timers=[],de.fx.tick=function(){var e,t=de.timers,i=0
;for(Ct=de.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1)
;t.length||de.fx.stop(),Ct=void 0},de.fx.timer=function(e){
de.timers.push(e),e()?de.fx.start():de.timers.pop()
},de.fx.interval=13,de.fx.start=function(){
St||(St=e.setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){
e.clearInterval(St),St=null},de.fx.speeds={slow:600,fast:200,_default:400
},de.fn.delay=function(t,i){
return t=de.fx?de.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){
var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){
var e,t=ne.createElement("input"),i=ne.createElement("div"),n=ne.createElement("select"),r=n.appendChild(ne.createElement("option"))
;i=ne.createElement("div"),
i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
e=i.getElementsByTagName("a")[0],
t.setAttribute("type","checkbox"),i.appendChild(t),
e=i.getElementsByTagName("a")[0],
e.style.cssText="top:1px",he.getSetAttribute="t"!==i.className,
he.style=/top/.test(e.getAttribute("style")),
he.hrefNormalized="/a"===e.getAttribute("href"),
he.checkOn=!!t.value,he.optSelected=r.selected,
he.enctype=!!ne.createElement("form").enctype,
n.disabled=!0,he.optDisabled=!r.disabled,
t=ne.createElement("input"),t.setAttribute("value",""),
he.input=""===t.getAttribute("value"),
t.value="t",t.setAttribute("type","radio"),he.radioValue="t"===t.value}()
;var Mt=/\r/g,Nt=/[\x20\t\r\n\f]+/g;de.fn.extend({val:function(e){
var t,i,n,r=this[0];{
if(arguments.length)return n=de.isFunction(e),this.each(function(i){var r
;1===this.nodeType&&(r=n?e.call(this,i,de(this).val()):e,
null==r?r="":"number"==typeof r?r+="":de.isArray(r)&&(r=de.map(r,function(e){
return null==e?"":e+""
})),(t=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))
})
;if(r)return(t=de.valHooks[r.type]||de.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,
"string"==typeof i?i.replace(Mt,""):null==i?"":i)}}}),de.extend({valHooks:{
option:{get:function(e){var t=de.find.attr(e,"value")
;return null!=t?t:de.trim(de.text(e)).replace(Nt," ")}},select:{get:function(e){
for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(i=n[l],
(i.selected||l===r)&&(he.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!de.nodeName(i.parentNode,"optgroup"))){
if(t=de(i).val(),o)return t;a.push(t)}return a},set:function(e,t){
for(var i,n,r=e.options,o=de.makeArray(t),a=r.length;a--;)if(n=r[a],
de.inArray(de.valHooks.option.get(n),o)>-1)try{n.selected=i=!0}catch(e){
n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}
}),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(e,t){
if(de.isArray(t))return e.checked=de.inArray(de(e).val(),t)>-1}
},he.checkOn||(de.valHooks[this].get=function(e){
return null===e.getAttribute("value")?"on":e.value})})
;var Tt,At,jt=de.expr.attrHandle,It=/^(?:checked|selected)$/i,Pt=he.getSetAttribute,Lt=he.input
;de.fn.extend({attr:function(e,t){return Ee(this,de.attr,e,t,arguments.length>1)
},removeAttr:function(e){return this.each(function(){de.removeAttr(this,e)})}}),
de.extend({attr:function(e,t,i){var n,r,o=e.nodeType
;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?de.prop(e,t,i):(1===o&&de.isXMLDoc(e)||(t=t.toLowerCase(),
r=de.attrHooks[t]||(de.expr.match.bool.test(t)?At:Tt)),
void 0!==i?null===i?void de.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),
i):r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=de.find.attr(e,t),null==n?void 0:n))
},attrHooks:{type:{set:function(e,t){
if(!he.radioValue&&"radio"===t&&de.nodeName(e,"input")){var i=e.value
;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){
var i,n,r=0,o=t&&t.match(Me)
;if(o&&1===e.nodeType)for(;i=o[r++];)n=de.propFix[i]||i,
de.expr.match.bool.test(i)?Lt&&Pt||!It.test(i)?e[n]=!1:e[de.camelCase("default-"+i)]=e[n]=!1:de.attr(e,i,""),
e.removeAttribute(Pt?i:n)}}),At={set:function(e,t,i){
return!1===t?de.removeAttr(e,i):Lt&&Pt||!It.test(i)?e.setAttribute(!Pt&&de.propFix[i]||i,i):e[de.camelCase("default-"+i)]=e[i]=!0,
i}},de.each(de.expr.match.bool.source.match(/\w+/g),function(e,t){
var i=jt[t]||de.find.attr;Lt&&Pt||!It.test(t)?jt[t]=function(e,t,n){var r,o
;return n||(o=jt[t],jt[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,jt[t]=o),r
}:jt[t]=function(e,t,i){
if(!i)return e[de.camelCase("default-"+t)]?t.toLowerCase():null}
}),Lt&&Pt||(de.attrHooks.value={set:function(e,t,i){
if(!de.nodeName(e,"input"))return Tt&&Tt.set(e,t,i);e.defaultValue=t}
}),Pt||(Tt={set:function(e,t,i){var n=e.getAttributeNode(i)
;if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),
n.value=t+="","value"===i||t===e.getAttribute(i))return t}
},jt.id=jt.name=jt.coords=function(e,t,i){var n
;if(!i)return(n=e.getAttributeNode(t))&&""!==n.value?n.value:null
},de.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t)
;if(i&&i.specified)return i.value},set:Tt.set},de.attrHooks.contenteditable={
set:function(e,t,i){Tt.set(e,""!==t&&t,i)}
},de.each(["width","height"],function(e,t){de.attrHooks[t]={set:function(e,i){
if(""===i)return e.setAttribute(t,"auto"),i}}})),he.style||(de.attrHooks.style={
get:function(e){return e.style.cssText||void 0},set:function(e,t){
return e.style.cssText=t+""}})
;var Rt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i
;de.fn.extend({prop:function(e,t){return Ee(this,de.prop,e,t,arguments.length>1)
},removeProp:function(e){return e=de.propFix[e]||e,this.each(function(){try{
this[e]=void 0,delete this[e]}catch(e){}})}}),de.extend({prop:function(e,t,i){
var n,r,o=e.nodeType
;if(3!==o&&8!==o&&2!==o)return 1===o&&de.isXMLDoc(e)||(t=de.propFix[t]||t,
r=de.propHooks[t]),
void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]
},propHooks:{tabIndex:{get:function(e){var t=de.find.attr(e,"tabindex")
;return t?parseInt(t,10):Rt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}
},propFix:{for:"htmlFor",class:"className"}
}),he.hrefNormalized||de.each(["href","src"],function(e,t){de.propHooks[t]={
get:function(e){return e.getAttribute(t,4)}}
}),he.optSelected||(de.propHooks.selected={get:function(e){var t=e.parentNode
;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},
set:function(e){var t=e.parentNode
;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}
}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){
de.propFix[this.toLowerCase()]=this
}),he.enctype||(de.propFix.enctype="encoding");var Et=/[\t\r\n\f]/g
;de.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0
;if(de.isFunction(e))return this.each(function(t){
de(this).addClass(e.call(this,t,W(this)))})
;if("string"==typeof e&&e)for(t=e.match(Me)||[];i=this[l++];)if(r=W(i),
n=1===i.nodeType&&(" "+r+" ").replace(Et," ")){
for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ")
;s=de.trim(n),r!==s&&de.attr(i,"class",s)}return this},removeClass:function(e){
var t,i,n,r,o,a,s,l=0;if(de.isFunction(e))return this.each(function(t){
de(this).removeClass(e.call(this,t,W(this)))})
;if(!arguments.length)return this.attr("class","")
;if("string"==typeof e&&e)for(t=e.match(Me)||[];i=this[l++];)if(r=W(i),
n=1===i.nodeType&&(" "+r+" ").replace(Et," ")){
for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ")
;s=de.trim(n),r!==s&&de.attr(i,"class",s)}return this},
toggleClass:function(e,t){var i=typeof e
;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):de.isFunction(e)?this.each(function(i){
de(this).toggleClass(e.call(this,i,W(this),t),t)}):this.each(function(){
var t,n,r,o
;if("string"===i)for(n=0,r=de(this),o=e.match(Me)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||(t=W(this),
t&&de._data(this,"__className__",t),
de.attr(this,"class",t||!1===e?"":de._data(this,"__className__")||""))})},
hasClass:function(e){var t,i,n=0
;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+W(i)+" ").replace(Et," ").indexOf(t)>-1)return!0
;return!1}
}),de.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){
de.fn[t]=function(e,i){
return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),de.fn.extend({
hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}})
;var Bt=e.location,Ft=de.now(),zt=/\?/,Vt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g
;de.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"")
;var i,n=null,r=de.trim(t+"");return r&&!de.trim(r.replace(Vt,function(e,t,r,o){
return i&&t&&(n=0),0===n?e:(i=r||t,n+=!o-!r,"")
}))?Function("return "+r)():de.error("Invalid JSON: "+t)
},de.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{
e.DOMParser?(n=new e.DOMParser,
i=n.parseFromString(t,"text/xml")):(i=new e.ActiveXObject("Microsoft.XMLDOM"),
i.async="false",i.loadXML(t))}catch(e){i=void 0}
return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+t),
i}
;var qt=/#.*$/,Ht=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gt=/^(?:GET|HEAD)$/,$t=/^\/\//,Kt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xt={},Yt={},Qt="*/".concat("*"),Zt=Bt.href,Jt=Kt.exec(Zt.toLowerCase())||[]
;de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zt,type:"GET",
isLocal:Ut.test(Jt[1]),global:!0,processData:!0,async:!0,
contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,
text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,
json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",
json:"responseJSON"},converters:{"* text":String,"text html":!0,
"text json":de.parseJSON,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}
},ajaxSetup:function(e,t){
return t?$($(e,de.ajaxSettings),t):$(de.ajaxSettings,e)},ajaxPrefilter:U(Xt),
ajaxTransport:U(Yt),ajax:function(t,i){function n(t,i,n,r){var o,h,y,b,x,C=i
;2!==_&&(_=2,
l&&e.clearTimeout(l),c=void 0,s=r||"",w.readyState=t>0?4:0,o=t>=200&&t<300||304===t,
n&&(b=K(d,w,n)),
b=X(d,b,w,o),o?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),
x&&(de.lastModified[a]=x),
(x=w.getResponseHeader("etag"))&&(de.etag[a]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,
h=b.data,
y=b.error,o=!y)):(y=C,!t&&C||(C="error",t<0&&(t=0))),w.status=t,w.statusText=(i||C)+"",
o?m.resolveWith(f,[h,C,w]):m.rejectWith(f,[w,C,y]),
w.statusCode(v),v=void 0,u&&p.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?h:y]),
g.fireWith(f,[w,C]),
u&&(p.trigger("ajaxComplete",[w,d]),--de.active||de.event.trigger("ajaxStop")))}
"object"==typeof t&&(i=t,t=void 0),i=i||{}
;var r,o,a,s,l,u,c,h,d=de.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?de(f):de.event,m=de.Deferred(),g=de.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x="canceled",w={
readyState:0,getResponseHeader:function(e){var t;if(2===_){
if(!h)for(h={};t=Wt.exec(s);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}
return null==t?null:t},getAllResponseHeaders:function(){return 2===_?s:null},
setRequestHeader:function(e,t){var i=e.toLowerCase()
;return _||(e=b[i]=b[i]||e,y[e]=t),this},overrideMimeType:function(e){
return _||(d.mimeType=e),this},statusCode:function(e){var t
;if(e)if(_<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this
},abort:function(e){var t=e||x;return c&&c.abort(t),n(0,t),this}}
;if(m.promise(w).complete=g.add,
w.success=w.done,w.error=w.fail,d.url=((t||d.url||Zt)+"").replace(qt,"").replace($t,Jt[1]+"//"),
d.type=i.method||i.type||d.method||d.type,
d.dataTypes=de.trim(d.dataType||"*").toLowerCase().match(Me)||[""],
null==d.crossDomain&&(r=Kt.exec(d.url.toLowerCase()),
d.crossDomain=!(!r||r[1]===Jt[1]&&r[2]===Jt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Jt[3]||("http:"===Jt[1]?"80":"443")))),
d.data&&d.processData&&"string"!=typeof d.data&&(d.data=de.param(d.data,d.traditional)),
G(Xt,d,i,w),2===_)return w
;u=de.event&&d.global,u&&0==de.active++&&de.event.trigger("ajaxStart"),
d.type=d.type.toUpperCase(),
d.hasContent=!Gt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(zt.test(a)?"&":"?")+d.data,
delete d.data),
!1===d.cache&&(d.url=Ht.test(a)?a.replace(Ht,"$1_="+Ft++):a+(zt.test(a)?"&":"?")+"_="+Ft++)),
d.ifModified&&(de.lastModified[a]&&w.setRequestHeader("If-Modified-Since",de.lastModified[a]),
de.etag[a]&&w.setRequestHeader("If-None-Match",de.etag[a])),
(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),
w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Qt+"; q=0.01":""):d.accepts["*"])
;for(o in d.headers)w.setRequestHeader(o,d.headers[o])
;if(d.beforeSend&&(!1===d.beforeSend.call(f,w,d)||2===_))return w.abort()
;x="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(c=G(Yt,d,i,w)){
if(w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),2===_)return w
;d.async&&d.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")
},d.timeout));try{_=1,c.send(y,n)}catch(e){if(!(_<2))throw e;n(-1,e)}
}else n(-1,"No Transport");return w},getJSON:function(e,t,i){
return de.get(e,t,i,"json")},getScript:function(e,t){
return de.get(e,void 0,t,"script")}}),de.each(["get","post"],function(e,t){
de[t]=function(e,i,n,r){
return de.isFunction(i)&&(r=r||n,n=i,i=void 0),de.ajax(de.extend({url:e,type:t,
dataType:r,data:i,success:n},de.isPlainObject(e)&&e))}
}),de._evalUrl=function(e){return de.ajax({url:e,type:"GET",dataType:"script",
cache:!0,async:!1,global:!1,throws:!0})},de.fn.extend({wrapAll:function(e){
if(de.isFunction(e))return this.each(function(t){
de(this).wrapAll(e.call(this,t))});if(this[0]){
var t=de(e,this[0].ownerDocument).eq(0).clone(!0)
;this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){
for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e
}).append(this)}return this},wrapInner:function(e){
return de.isFunction(e)?this.each(function(t){de(this).wrapInner(e.call(this,t))
}):this.each(function(){var t=de(this),i=t.contents()
;i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=de.isFunction(e)
;return this.each(function(i){de(this).wrapAll(t?e.call(this,i):e)})},
unwrap:function(){return this.parent().each(function(){
de.nodeName(this,"body")||de(this).replaceWith(this.childNodes)}).end()}
}),de.expr.filters.hidden=function(e){
return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)
},de.expr.filters.visible=function(e){return!de.expr.filters.hidden(e)}
;var ei=/%20/g,ti=/\[\]$/,ii=/\r?\n/g,ni=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i
;de.param=function(e,t){var i,n=[],r=function(e,t){
t=de.isFunction(t)?t():null==t?"":t,
n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}
;if(void 0===t&&(t=de.ajaxSettings&&de.ajaxSettings.traditional),
de.isArray(e)||e.jquery&&!de.isPlainObject(e))de.each(e,function(){
r(this.name,this.value)});else for(i in e)Z(i,e[i],t,r)
;return n.join("&").replace(ei,"+")},de.fn.extend({serialize:function(){
return de.param(this.serializeArray())},serializeArray:function(){
return this.map(function(){var e=de.prop(this,"elements")
;return e?de.makeArray(e):this}).filter(function(){var e=this.type
;return this.name&&!de(this).is(":disabled")&&ri.test(this.nodeName)&&!ni.test(e)&&(this.checked||!Be.test(e))
}).map(function(e,t){var i=de(this).val()
;return null==i?null:de.isArray(i)?de.map(i,function(e){return{name:t.name,
value:e.replace(ii,"\r\n")}}):{name:t.name,value:i.replace(ii,"\r\n")}}).get()}
}),de.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){
return this.isLocal?ee():ne.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()
}:J;var oi=0,ai={},si=de.ajaxSettings.xhr()
;e.attachEvent&&e.attachEvent("onunload",function(){
for(var e in ai)ai[e](void 0,!0)
}),he.cors=!!si&&"withCredentials"in si,si=he.ajax=!!si,
si&&de.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var i;return{
send:function(n,r){var o,a=t.xhr(),s=++oi
;if(a.open(t.type,t.url,t.async,t.username,t.password),
t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o]
;t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),
t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest")
;for(o in n)void 0!==n[o]&&a.setRequestHeader(o,n[o]+"")
;a.send(t.hasContent&&t.data||null),i=function(e,n){var o,l,u
;if(i&&(n||4===a.readyState))if(delete ai[s],
i=void 0,a.onreadystatechange=de.noop,n)4!==a.readyState&&a.abort();else{
u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{
l=a.statusText}catch(e){l=""}
o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}
u&&r(o,l,u,a.getAllResponseHeaders())
},t.async?4===a.readyState?e.setTimeout(i):a.onreadystatechange=ai[s]=i:i()},
abort:function(){i&&i(void 0,!0)}}}}),de.ajaxSetup({accepts:{
script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
},contents:{script:/\b(?:java|ecma)script\b/},converters:{
"text script":function(e){return de.globalEval(e),e}}
}),de.ajaxPrefilter("script",function(e){
void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),de.ajaxTransport("script",function(e){if(e.crossDomain){
var t,i=ne.head||de("head")[0]||ne.documentElement;return{send:function(n,r){
t=ne.createElement("script"),
t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),
t.src=e.url,t.onload=t.onreadystatechange=function(e,i){
(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,
t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))
},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}})
;var li=[],ui=/(=)\?(?=&|$)|\?\?/;de.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var e=li.pop()||de.expando+"_"+Ft++;return this[e]=!0,e
}}),de.ajaxPrefilter("json jsonp",function(t,i,n){
var r,o,a,s=!1!==t.jsonp&&(ui.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ui.test(t.data)&&"data")
;if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=de.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,
s?t[s]=t[s].replace(ui,"$1"+r):!1!==t.jsonp&&(t.url+=(zt.test(t.url)?"&":"?")+t.jsonp+"="+r),
t.converters["script json"]=function(){
return a||de.error(r+" was not called"),a[0]
},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){
void 0===o?de(e).removeProp(r):e[r]=o,
t[r]&&(t.jsonpCallback=i.jsonpCallback,li.push(r)),a&&de.isFunction(o)&&o(a[0]),
a=o=void 0}),"script"}),de.parseHTML=function(e,t,i){
if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ne
;var n=xe.exec(e),r=!i&&[]
;return n?[t.createElement(n[1])]:(n=v([e],t,r),r&&r.length&&de(r).remove(),
de.merge([],n.childNodes))};var ci=de.fn.load;de.fn.load=function(e,t,i){
if("string"!=typeof e&&ci)return ci.apply(this,arguments)
;var n,r,o,a=this,s=e.indexOf(" ");return s>-1&&(n=de.trim(e.slice(s,e.length)),
e=e.slice(0,s)),
de.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),
a.length>0&&de.ajax({url:e,type:r||"GET",dataType:"html",data:t
}).done(function(e){
o=arguments,a.html(n?de("<div>").append(de.parseHTML(e)).find(n):e)
}).always(i&&function(e,t){a.each(function(){
i.apply(this,o||[e.responseText,t,e])})}),this
},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){
de.fn[t]=function(e){return this.on(t,e)}
}),de.expr.filters.animated=function(e){return de.grep(de.timers,function(t){
return e===t.elem}).length},de.offset={setOffset:function(e,t,i){
var n,r,o,a,s,l,u,c=de.css(e,"position"),h=de(e),d={}
;"static"===c&&(e.style.position="relative"),
s=h.offset(),o=de.css(e,"top"),l=de.css(e,"left"),
u=("absolute"===c||"fixed"===c)&&de.inArray("auto",[o,l])>-1,
u?(n=h.position(),a=n.top,
r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),de.isFunction(t)&&(t=t.call(e,i,de.extend({},s))),
null!=t.top&&(d.top=t.top-s.top+a),
null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d)}},
de.fn.extend({offset:function(e){
if(arguments.length)return void 0===e?this:this.each(function(t){
de.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0
},r=this[0],o=r&&r.ownerDocument
;if(o)return t=o.documentElement,de.contains(t,r)?(void 0!==r.getBoundingClientRect&&(n=r.getBoundingClientRect()),
i=te(o),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),
left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},
position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0]
;return"fixed"===de.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),
t=this.offset(),
de.nodeName(e[0],"html")||(i=e.offset()),i.top+=de.css(e[0],"borderTopWidth",!0),
i.left+=de.css(e[0],"borderLeftWidth",!0)),{
top:t.top-i.top-de.css(n,"marginTop",!0),
left:t.left-i.left-de.css(n,"marginLeft",!0)}}},offsetParent:function(){
return this.map(function(){
for(var e=this.offsetParent;e&&!de.nodeName(e,"html")&&"static"===de.css(e,"position");)e=e.offsetParent
;return e||ht})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"
},function(e,t){var i=/Y/.test(t);de.fn[e]=function(n){
return Ee(this,function(e,n,r){var o=te(e)
;if(void 0===r)return o?t in o?o[t]:o.document.documentElement[n]:e[n]
;o?o.scrollTo(i?de(o).scrollLeft():r,i?r:de(o).scrollTop()):e[n]=r
},e,n,arguments.length,null)}}),de.each(["top","left"],function(e,t){
de.cssHooks[t]=j(he.pixelPosition,function(e,i){
if(i)return i=ft(e,t),ut.test(i)?de(e).position()[t]+"px":i})}),de.each({
Height:"height",Width:"width"},function(e,t){de.each({padding:"inner"+e,
content:t,"":"outer"+e},function(i,n){de.fn[n]=function(n,r){
var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===r?"margin":"border")
;return Ee(this,function(t,i,n){var r
;return de.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,
Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?de.css(t,i,a):de.style(t,i,n,a)
},t,o?n:void 0,o,null)}})}),de.fn.extend({bind:function(e,t,i){
return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},
delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){
return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}
}),de.fn.size=function(){return this.length
},de.fn.andSelf=de.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){
return de});var hi=e.jQuery,di=e.$;return de.noConflict=function(t){
return e.$===de&&(e.$=di),t&&e.jQuery===de&&(e.jQuery=hi),de
},t||(e.jQuery=e.$=de),de}),define("cdf/lib/jquery",function(e){
return function(){return e.$}
}(this)),define("common-ui/util/require-css/css!cdf/lib/CCC/tipsy",[],function(){}),
define("cdf/lib/CCC/jquery.tipsy",["jquery","css!./tipsy"],function(e){
return function(e){function t(e){var t=e.attr("title")
;(t||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",t||"").removeAttr("title")
}function i(i,n){
this.$element=e(i),this.options=n,this.enabled=!0,t(this.$element)}i.prototype={
enter:function(){var e=this,t=this.options
;0==t.delayIn?(e.hoverState=null,e.show()):(e.hoverState="in",
setTimeout(function(){"in"===e.hoverState&&(e.hoverState=null,e.show())
},t.delayIn))},leave:function(){var e=this,t=this.options
;0==t.delayOut?e.hide():(e.hoverState="out",setTimeout(function(){
"out"===e.hoverState&&e.hide()},t.delayOut))},visible:function(){var e
;return"in"===this.hoverState||"out"!==this.hoverState&&!(!this.$tip||!(e=this.$tip[0].parentNode)||11===e.nodeType)
},update:function(){this.visible()?this.show(!0):this.enter()},
setOptions:function(t){
t=e.extend({},e.fn.tipsy.defaults,t),null==t.arrowVisible&&(t.arrowVisible=!t.useCorners),
this.options=e.fn.tipsy.elementOptions(this.$element[0],t)},show:function(t){
function i(e){var t;switch(e.charAt(0)){case"n":t={top:l.top+l.height+m,
left:l.left+l.width/2-f/2};break;case"s":t={top:l.top-p-m,
left:l.left+l.width/2-f/2};break;case"e":t={top:l.top+l.height/2-p/2,
left:l.left-f-m};break;case"w":t={top:l.top+l.height/2-p/2,left:l.left+l.width+m
}}
return 2===e.length&&("w"==e.charAt(1)?t.left=g?l.left+l.width+m:l.left+l.width/2-15:t.left=g?l.left-f-m:l.left+l.width/2-f+15),
t}if("in"!==this.hoverState){var n=this.getTitle();if(this.enabled&&n){
var r=this.tip(),o=r[0]
;r.find(".tipsy-inner")[this.options.html?"html":"text"](n)
;var a=this.options.className;o.className="tipsy"+(a?" "+a:""),t||r.remove()
;var s=o.parentNode;s&&11!==s.nodeType||r.css({top:0,left:0,visibility:"hidden",
display:"block"}).appendTo(document.body);var l,u=this.$element,c=u[0]
;if("getBoundingClientRect"in c){var h=c.getBoundingClientRect(),d=e(document)
;l={left:h.left+d.scrollLeft(),top:h.top+d.scrollTop(),width:h.right-h.left,
height:h.bottom-h.top}
}else l=e.extend({},u.offset()),l.width=c.offsetWidth,l.height=c.offsetHeight
;var f,p,m=this.options.offset,g=this.options.useCorners,v=this.options.arrowVisible
;if("getBoundingClientRect"in o){var y=o.getBoundingClientRect()
;f=y.right-y.left,p=y.bottom-y.top}else f=o.offsetWidth,p=o.offsetHeight
;v||(m-=4);var b=this.options.gravity;"function"==typeof b&&(b=b.call(c,{
width:f,height:p},i));var _=i(b)
;r.addClass("tipsy-"+b+(g&&b.length>1?b.charAt(1):""))
;var x,w,C=this.options.animate;if(t&&C>0?w=_:x=_,v){var S=g&&2===b.length
;r.find(".tipsy-arrow")[S?"hide":"show"]()}
this.options.fade&&!t?(x=e.extend(x||{},{opacity:0,display:"block",
visibility:"visible"}),w=e.extend(w||{},{opacity:this.options.opacity
})):x=e.extend(x||{},{visibility:"visible",opacity:this.options.opacity
}),x&&r.css(x),
w&&r.stop().animate(w,C>0?C:400),this._prevGravity=b,this.hoverState=null
}else this.hoverState=null,this.hide()}},hide:function(){
this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()
}):this.$tip&&this.tip().remove(),this.hoverState=null},setTitle:function(e){
e=null==e?"":""+e,this.$element.attr("original-title",e).removeAttr("title")},
getTitle:function(){var e,i=this.$element,n=this.options
;return t(i),"string"==typeof n.title?e=i.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(i[0])),
(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){if(!this.$tip){
var t=this.options.className
;this.$tip=e('<div class="tipsy'+(t?" "+t:"")+'"></div>'),
this.options.arrowVisible?this.$tip.html('<div class="tipsy-arrow"></div><div class="tipsy-inner"/></div>'):this.$tip.html('<div class="tipsy-inner"/></div>'),
this.$tip.remove()}return this.$tip},validate:function(){
var e=this.$element[0].parentNode
;e&&11!==e.nodeType||(this.hide(),this.$element=null,this.options=null)},
enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},
toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t,n){
function r(n){var r=e.data(n,"tipsy")
;return r||(r=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",r)),r}
function o(){r(this).enter()}function a(){r(this).leave()}
if(!0===t)return this.data("tipsy")
;if("string"==typeof t)return this.data("tipsy")[t](n)
;if(t=e.extend({},e.fn.tipsy.defaults,t),
null==t.arrowVisible&&(t.arrowVisible=!t.useCorners),
t.live||this.each(function(){r(this)}),"manual"!=t.trigger){
var s=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",u="hover"==t.trigger?"mouseleave":"blur"
;this[s](l,o)[s](u,a)}return this},e.fn.tipsy.defaults={delayIn:0,delayOut:0,
animate:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,
title:"title",trigger:"hover",useCorners:!1,arrowVisible:null,className:""
},e.fn.tipsy.elementOptions=function(t,i){
return e.metadata?e.extend({},i,e(t).metadata()):i
},e.fn.tipsy.autoNS=function(){
return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"
},e.fn.tipsy.autoWE=function(){
return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"
}}(e),e
}),define("cdf/lib/CCC/tipsy",["./protovis-compat!","jquery","./jquery.tipsy"],function(e,t){
return function(){function i(t){
return e.Transform.identity.translate(t.left(),t.top()).times(t.transform())}
function n(e){
for(var t,n,r,o=e.instance(),a=o.left,s=o.top,l=o.width,u=o.height;r=e.parent;){
a<0&&(l+=a,a=0),s<0&&(u+=s,s=0),t=o.right,t<0&&(l+=t),n=o.bottom,n<0&&(u+=n)
;var c=i(r),h=c.k;a=c.x+h*a,s=c.y+h*s,l*=h,u*=h,e=r,o=e.instance()}return{
left:a,top:s,width:l,height:u}}t.fn.tipsy.elementOptions=function(e,i){
var n=e.$tooltipOptions;return i=t.extend({},i,n||{},{gravity:i.gravity})}
;var r=0;e.Behavior.tipsy=function(i){function a(){
var e=K.instance(),t=K.properties.tooltip?e.tooltip:"function"==typeof K.tooltip?K.tooltip():e.title||e.text
;return"function"==typeof t&&(t=t()),t||""}function s(){
var e,t,i,r,o=K.instance();if(K.properties.width){var a=n(K)
;e=a.left,t=a.top,i=a.width,r=a.height}else{var s,u=K.toScreenTransform()
;if(K.properties.outerRadius){var c=o.startAngle+o.angle/2
;s=o.outerRadius,e=u.x+o.left+s*Math.cos(c),t=u.y+o.top+s*Math.sin(c)
}else if(K.properties.shapeRadius){
s=l().ignoreRadius?0:Math.max(2,o.shapeRadius);var h=o.left,d=o.top
;switch(o.shape){case"diamond":s*=Math.SQRT2;break;case"circle":s/=Math.SQRT2}
e=(h-s)*u.k+u.x,t=(d-s)*u.k+u.y,r=i=2*s*u.k
}else e=o.left*u.k+u.x,t=o.top*u.k+u.y}
var f=Math.ceil(e),p=Math.ceil(t),m=f-e,g=p-t
;return i=Math.max(1,Math.floor((i||0)-m)),r=Math.max(1,Math.floor((r||0)-g)),{
left:f,top:p,width:i,height:r}}function l(){return K&&K.tooltipOptions||i}
function u(){var i=l(),n=e.get(i,"gravity")
;return n&&"function"==typeof n&&(n=n.call(K)),
o.debug>=21&&o.log("[TIPSY] #"+G+" Update User Gravity "+n),
B=n||t.fn.tipsy.defaults.gravity}function c(n,r){function a(e){return s(e,r(e))}
function s(t,r){var o=l(r.left,"width"),a=l(r.top,"height"),s=E&&!i.followMouse
;s&&(s=new e.Shape.Rect(r.left,r.top,n.width,n.height).containsPoint(E))
;var u=!s&&o.fits&&a.fits;return{gravity:t,width:o,height:a,
value:o.value+a.value+(2-t.length)+(s?-1e3:0),isMouseInside:s,isTotal:u,
isPartial:o.fits||a.fits}}function l(e,t){var i=d[t],r=n[t],o=e-c[t],a=i-(o+r)
;return{fits:o>=0&&a>=0,value:(o>=0?o:4*o)+(a>=0?a:4*a)}}
if(this!==R[0])throw new Error("Assertion failed.");var u=t(window),c={
width:u.scrollLeft(),height:u.scrollTop()},d={width:u.width(),height:u.height()
},f=B;"c"===f&&(f="w");var p=a(f);if(!p.isTotal){
for(var m=Q.indexOf(f),g=1,v=Q.length;g<v;g++)p=h(p,a(Q[(m+g)%v]))
;o.debug>=21&&f!==p.gravity&&o.log("[TIPSY] #"+G+" Choosing gravity '"+p.gravity+"' over '"+f+"'"),
f=p.gravity}return o.debug>=21&&o.log("[TIPSY] #"+G+" Gravity '"+f+"'"),f}
function h(e,t){if(e.isTotal){if(!t.isTotal)return e}else if(t.isTotal){
if(!e.isTotal)return t}else if(e.isPartial){if(!t.isPartial)return e
}else if(t.isPartial&&!e.isPartial)return t;return t.value>e.value?t:e}
function d(e){R.css({
left:e.left+parseFloat(H.css("padding-left"))+H.scrollLeft(),
top:e.top+parseFloat(H.css("padding-top"))+H.scrollTop(),width:e.width,
height:e.height})}function f(e){
o.debug>=20&&o.log("[TIPSY] #"+G+" Creating _id="+q);var n=e.root.canvas()
;H=t(n);var r=n.style.position
;r&&"static"!==r||(n.style.position="relative"),H.mouseleave(S),
i.usesPoint&&i.followMouse&&e.root.event("mousemove",A),
m(),q||(q="tipsyPvBehavior_"+(new Date).getTime())
;var a=document.getElementById(q)
;a||(o.debug>=20&&o.log("[TIPSY] #"+G+" Creating Fake Tip Target="+q),
a=document.createElement("div"),
a.id=q,a.className="fakeTipsyTarget",n.appendChild(a));var s=a.style
;s.padding="0px",
s.margin="0px",s.position="absolute",s.pointerEvents="none",s.display="block",
s.zIndex=-10,
R=t(a),g(),R.removeData("tipsy"),R[0].$tooltipOptions=e.tooltipOptions
;var l=p(i);R.tipsy(l)}function p(e){var t=Object.create(e)
;return t.gravity=c,t.delayOut=0,
t.trigger="manual",null==t.animate&&(t.animate=t.followMouse?0:400),t}
function m(){if(W=H.data("tipsy-pv-shared-info")){var e=H[0].$pvCreateId||0
;if(W.createId===e)return void W.behaviors.push(k)
;W.behaviors.forEach(function(e){e()})}W={createId:H[0].$pvCreateId||0,
behaviors:[k]},H.data("tipsy-pv-shared-info",W)}function g(){
R&&(o.debug>=22?R.css({borderColor:"red",borderWidth:"1px",borderStyle:"solid",
zIndex:1e3}):R.css({borderWidth:"0px",zIndex:-10}))}function v(t){t||(t=e.event)
;var i=H.offset(),n=i.left+parseFloat(H.css("padding-left")||0),r=i.top+parseFloat(H.css("padding-top")||0)
;return{left:t.pageX-n-5,top:t.pageY-r-5,width:20,height:20}}function y(e){
e||(e=null);var t,n,r
;if(e!==K)K=e,e?(V=e.scene,z=x(V,K.index),F=e.renderId()):(F=V=z=null,
o.debug>=20&&o.log("[TIPSY] #"+G+" Cleared Mark"));else{if(!e)return!1
;if(V!==(r=e.scene))V=r,
z=x(V,K.index),F=e.renderId();else if(z!==(t=x(V,K.index)))z=t,
F=e.renderId();else{if(F===(n=e.renderId()))return!1;F=n}}
R[0].$tooltipOptions=K&&K.tooltipOptions;var a=p(i)
;return R.tipsy("setOptions",a),
e&&o.debug>=20&&o.log("[TIPSY] #"+G+" Set Mark State to "+e.type+" scenes: #"+V.length+" index: "+z+" renderId: "+F),
!0}function b(e,i){e&&i||(e=i=null);var n=!U&&e||U&&U[0]!==e
;n&&(o.debug>=20&&o.log("[TIPSY] #"+G+" "+(e?"Changing target element "+e.tagName+".":"Clearing target element.")),
n&&(U&&(U.off("mousemove",j),
U.off("mouseleave",S)),U=e?t(e):null),y(i),U&&(U.mousemove(j),U.mouseleave(S)))}
function _(e,t){var i=t
;return"function"==typeof K.getNearestInstanceToMouse&&(t=K.getNearestInstanceToMouse(e,t),
o.debug>=20&&i!==t&&o.log("[TIPSY] #"+G+" Changing index "+i+" to Nearest index "+t)),
x(e,t)}function x(e,t){if("function"==typeof K.getOwnerInstance){var i=t
;t=K.getOwnerInstance(e,t),
o.debug>=20&&i!==t&&o.log("[TIPSY] #"+G+" Changing index "+i+" to Owner index "+t)
}return t}function w(){return $++}function C(e){return e===$-1}function S(){
var e=w()
;o.debug>=30&&o.log("[TIPSY] #"+G+" Delayed Hide Begin opId="+e),X>0?window.setTimeout(function(){
C(e)?(o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding opId="+e),
M(e)):o.debug>=30&&o.log("[TIPSY] #"+G+" Delayed Hide Cancelled opId="+e)
},X):(o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding Immediately opId="+e),M(e))}
function k(){
o.debug>=30&&o.log("[TIPSY] #"+G+" Disposing"),D(),R&&(R.removeData("tipsy"),
R.each(function(e){e.$tooltipOptions=null
}),R.remove(),R=null),H&&(H.off("mouseleave",S),H=null)}function D(){var e=w()
;o.debug>=30&&o.log("[TIPSY] #"+G+" Hiding as Other opId="+e),M(e)}
function M(e){b(null,null),y(null),R&&R.data("tipsy")&&R.tipsy("leave")}
function N(){var e=W&&W.behaviors
;e&&e.length>1&&(o.debug>=30&&o.group("[TIPSY] #"+G+" Hiding Others"),
e.forEach(function(e){e!==k&&e()}),o.debug>=30&&o.groupEnd())}function T(t){
return E=new e.Shape.Point(t.pageX,t.pageY),
!(O&&E.distance2(O).cost<=8)||(o.debug>=30&&o.log("[TIPSY] #"+G+" mousemove too close"),
!1)}function A(){o.debug>=30&&o.group("[TIPSY] #"+G+" doFollowMouse")
;var t=e.event;!K||Y&&!Y(L,K)?(S(),o.debug>=30&&o.groupEnd()):(R&&K&&T(t)&&(O=E,
d(v(t)),N(),R.tipsy("update")),o.debug>=30&&o.groupEnd())}function j(t){
if(R&&T(t)){var n,r=this.$scene;if(r&&(n=r.scenes)&&n.mark&&n.mark===K){
var l=K.renderId(),c=l!==F||n!==V,h=i.followMouse,f=r.index
;if("function"!=typeof K.getOwnerInstance&&"function"!=typeof K.getNearestInstanceToMouse||(e.event=t,
K.context(n,f,function(){f=_(n,f)}),e.event=null),c|=f!==z,h||c){var p=w()
;o.debug>=20&&o.log("[TIPSY] #"+G+" Updating opId="+p),O=E;var m
;h&&(m=v(t)),c&&(F=l,V=n,z=f,K.context(n,f,function(){h||(m=s());var e=a()
;o.debug>=20&&o.log("[TIPSY] #"+G+" Update text. Was hidden. Text: "+e.substr(0,50)),
R.tipsy("setTitle",e),u()})),d(m),N(),R.tipsy("update")
}else o.debug>=20&&o.log("[TIPSY] #"+G+" !followMouse and same scene")
}else o.debug>=20&&o.log("[TIPSY] #"+G+" mousemove on != mark")}}function I(e){
H||f(e),
e._tipsy!==L&&(o.debug>=20&&o.log("[TIPSY] #"+G+" Initializing mark"),e._tipsy=L,
i.usesPoint&&e.event("unpoint",function(){
o.debug>=20&&o.group("[TIPSY] #"+G+" unpoint"),S(),o.debug>=20&&o.groupEnd()}))}
function P(t){function n(){var e=a()
;o.debug>=20&&o.log("[TIPSY] #"+G+" Set Text: "+e.substr(0,50)),
R.tipsy("setTitle",e),d(i.followMouse?v():s()),u()}var r=w()
;o.debug>=20&&o.group("[TIPSY] #"+G+" ShowTipsy opId="+r),I(t);var l=!K
;i.usesPoint?y(t):b(e.event.target,t),
T(e.event),O=E,t.index!==z?t.context(V,z,n):n(),N(),R.tipsy(l?"enter":"update"),
o.debug>=20&&o.groupEnd()}function L(){var e=this;Y&&!Y(L,e)||P(e)}i||(i={})
;var R,O,E,B,F,z,V,q,H,W,U=null,G=r++,$=0,K=null,X=i.delayOut,Y=i.isEnabled,Q=["nw","n","ne","e","se","s","sw","w"]
;return L};var o=e.Behavior.tipsy;o.debug=0,o.setDebug=function(e){o.debug=e
},o.log=function(e){"undefined"!=typeof console&&console.log(""+e)
},o.group=function(e){"undefined"!=typeof console&&console.group(""+e)
},o.groupEnd=function(e){"undefined"!=typeof console&&console.groupEnd()
},o.disposeAll=function(e){var i=e&&e.root;if(i&&i.scene){var n=i.canvas()
;if(n){var r=t(n),a=r.data("tipsy-pv-shared-info")
;a&&(a.behaviors&&a.behaviors.forEach(function(e){e()
}),r.removeData("tipsy-pv-shared-info"))}}o.removeAll()},o.removeAll=function(){
t(".tipsy").remove()}}(),e.Behavior.tipsy
}),define("cdf/lib/CCC/pvc",["./def","./protovis-compat!","./cdo","jquery","./tipsy"],function(e,t,i,n){
function r(t,i){if(t){if(null!=t.abs)return t.abs;if(!i)return t
;var n=e.firstUpperCase(t);return null!=i.abs?{abs:i.abs+n}:i+n}return i}
function o(t,i){function n(e){return f[e].resolve()}function r(e,t){var i=n(e)
;return t&&!i.isSpecified?void 0:i.value}function o(e){return n(e).isSpecified}
function a(e,t){var i=n(e);return i.isSpecified?i.value:t}function s(e){
return r(e,!0)}function l(t){return e.hasOwn(f,t)}function u(e){return d(e,!1)}
function c(e){return d(e,!0)}function h(e){return n(e)._dv}function d(t,i){
var n,o,a
;for(n in t)(o=e.hasOwnProp.call(f,n)&&f[n])&&void 0!==(a=t[n])&&o.set(a,i)
;return r}t||e.fail.argumentRequired("specs");var f={}
;return e.each(t,function(e,t){var n=new oe(t,r,i,e);f[n.name]=n
}),r.option=r,r.specified=s,
r.defaultValue=h,r.isSpecified=o,r.isDefined=l,r.getSpecified=a,
r.specify=u,r.defaults=c,r}function a(e){return function(t){var i,n,r
;for(i=0,r=e.length;i<r;i++)if(n=e[i],
"string"==typeof n&&(n=this[n]),!0===n.call(this,t))return!0}}function s(e,t){
return function(t){return t.specify(e),!0}}function l(e,t){return function(t){
var i=e.call(this,t);if(void 0!==i)return t.specify(i),!0}}function u(e){
return function(t){var i=e.call(this,t)
;if(void 0!==i)return t.defaultValue(i),!0}}function c(){
e.MetaType.apply(this,arguments);var t=this.baseType&&this.baseType.optionsDef
;this.optionsDef=e.create(t)}function h(e){e=t.color(e)
;var i=e.r,n=e.g,r=e.b,o=(i+n+r)/3
;return Math.abs(i-o)<=2&&Math.abs(n-o)<=2&&Math.abs(r-o)<=2}function d(t){
t||e.fail.argumentRequired("keyArgs")
;var i=t.type||e.fail.argumentRequired("keyArgs.type");switch(i){case"linear":
return new Y.color.LinearScalesBuild(t).buildMap();case"discrete":
return new Y.color.DiscreteScalesBuild(t).buildMap();case"normal":
return new Y.color.NormalScalesBuild(t).buildMap()}
throw e.error.argumentInvalid("scaleType","Unexistent scale type '{0}'.",[i])}
function f(t){t||e.fail.argumentRequired("keyArgs")
;var i=t.type||e.fail.argumentRequired("keyArgs.type");switch(i){case"linear":
return new Y.color.LinearScalesBuild(t).build();case"discrete":
return new Y.color.DiscreteScalesBuild(t).build();case"normal":
return new Y.color.NormalScalesBuild(t).build()}
throw e.error.argumentInvalid("scaleType","Unexistent scale type '{0}'.",[i])}
function p(e,i){if(this.event=t.event,this.pvMark=e,e){
var n=this.sign=e.sign||null
;!i&&n&&(i=n.scene()),i?this.index=i.childIndex():(this.index=null,
i=new Y.visual.Scene(null,{panel:this.panel}))
}else this.sign=null,this.index=null,i=new Y.visual.Scene(null,{
panel:this.panel,source:this.chart.root.data});this.scene=i}function m(t,i,n,r){
var o=e.lazy(i,t),a=o[n]
;return a?e.array.is(a)&&(a=o[n]=[a]):a=o[n]=[],a.push(r),Y.spec}function g(){
var e=this.chart.axes.base,t=e&&(e.role.grouping||e.role.preBoundGrouping())
;return t?t.singleDimensionName:this.chart.data.type.dimensionsNames()[0]}
function v(e){var t=[],i=e.length
;if(i>0)for(var n=this.dimension,r=this.chart.data.dimensions(n),o=r.max(),a=o?o.value:null,s=this.length,l=0;l<i;l++){
var u=e[l],c=u.atoms[n].value;if(null==c)t.push(u);else{var h=+a-+c
;h>0&&h>s&&t.push(u)}}return t}function y(){
e.MetaType.apply(this,arguments),this._vars=e.create(this.baseType&&this.baseType._vars)
}function b(e){var t;return!!(e&&(t=e.pointTo)&&t.scenes.mark._hasHoverable)}
function _(e){this._renderId!==e&&(this._renderId=e,this.renderState={})}
function x(e){var t;e&&(t=e.ownerScene)&&(e=t);var i=this._active
;return i!==e&&(i&&w.call(i,!1),this._active=i=e||null,i&&w.call(i,!0),!0)}
function w(e){this.isActive!==e&&(e?this.isActive=!0:delete this.isActive)}
function C(e,t){return function(){var i=this.vars[e]
;return void 0===i&&(i=this[t](),void 0===i&&(i=null),this.vars[e]=i),i}}
function S(t){
if(null===t.plot&&t.isRequired)throw e.error.operationInvalid("The required visual role '{0}' is unbound.",[t.name])
}function k(t,i){if(t!==i)throw e.error.operationInvalid("Invalid state.")}
function D(e){return!e.isNull}function M(e){
return e.isDiscrete()?"discrete":e.singleContinuousValueType===Date?"timeSeries":"numeric"
}function N(i){var n;if(i){var r;e.eachOwn(i,function(e,n){
r=!0,i[n]=t.fillStyle(e)}),r&&(n=i)}return n}function T(){var e,i=this.scaleType
;if(i)if("discrete"===i)if(0===this.index)e=Y.createColorScheme();else{
var n=this;e=function(){return n.chart._getRoleColorScale(n.role.grouping)}
}else he||(he=["red","yellow","green"].map(t.color)),
e=he.slice();else e=Y.createColorScheme();return e}function A(t){
if(!e.object.is(t)){var i=this.option("Position");t=(new re).setSize(t,{
singleProp:Y.BasePanel.orthogonalLength[i]})}return t}function j(e){
var t=this.option("Position");return Y.parseAlign(t,e)}function I(e){
return(new re).setSize(e,{singleProp:"width"})}function P(t){
if(e.string.is(t))t=t.split(",");else if(!e.array.is(t))throw e.error.argumentInvalid("dims","Must be a string or an array of strings.")
;return e.query(t).distinct().sort().array()}function L(t,i){function n(){
if(u||(u=!0,this.chart._processViewSpec(i),l=i.dimNames,s=i.dimsKey),!l)return!1
;var t=e.lazy(this,"_activeFilters"),n=e.getOwn(t,s)
;return void 0===n&&(t[s]=n=o(this.event)),n}function r(){
var e=this.event,t=Object.create(e);t.viewKey=s,t.viewFrom=function(){
return a(e.from)},t.viewTo=function(){return a(e.to)},this.event=t;try{
i.handler.call(this)}finally{this.event=e}}function o(e){
var t=a(e.from,null),i=a(e.to,null);if(t===i)return!1
;if(null==t||null==i)return!0
;for(var n=l.length,r=t.atoms,o=i.atoms;n--;)if(r[l[n]].value!==o[l[n]].value)return!0
;return!1}function a(e,t){return e?e._asView(s,l):t}var s,l,u=!1
;i._filter=n,i._handler=r}function R(t){
var i=O(t)||e.assert("There must exist an ancestor sign")
;return new Y.visual.BasicSign(i.panel,t)}function O(e){var t;do{e=e.parent
}while(e&&!(t=e.sign)&&(!e.proto||!(t=e.proto.sign)));return t}
function E(e,i,n,r,o,a,s,l){if(!e)return null;var u
;null==r&&(r=1/0),null==s&&(s=1/0),
null==n&&(n=0),null==a&&(a=0),n>r&&(r=n),a>s&&(s=a),
null!=i?i<n?i=n:i>r&&(i=r):t.floatEqual(n,r)&&(i=n),
null!=o?o<a?o=a:o>s&&(o=s):t.floatEqual(a,s)&&(o=a);var c=null!=i,h=null!=o
;if(c||h){
if(c&&h)return t.floatZero(i)&&t.floatZero(o)?E(e,null,0,1/0,null,0,1/0,l):(l=i/(i+o),
{mode:"abs",ratio:l,value:e*(i+o),band:i,space:o});var d,f
;return c?(d=i+a,f=i+s,
l=t.floatZero(i)?0:i/d):(d=n+o,f=r+o,l=t.floatZero(o)?1:n/d),{mode:"abs",
ratio:l,min:e*d,max:e*f,band:c?i:void 0,space:h?o:void 0}}
var p=n>0,m=a>0,g=isFinite(r)&&r>0,v=isFinite(s)&&s>0,y=p&&m,b=g&&v
;if(y||b)if(y){if(l=n/(n+a),b)return{mode:"abs",ratio:l,min:e*(n+a),max:e*(r+s),
band:n,space:a};u=a/n,g?s=u*r:v&&(r=s/u)
}else u=s/r,l=r/(r+s),p?a=u*n:m&&(n=a/u);else{if(!(p||g||m||v))return{
mode:"rel",ratio:l,min:0,max:1/0};if(u=1/l-1,m){
if(n=a/u,g&&n>=r)return E(e,i,n,r,o,a,s,l)
}else if(p&&(a=u*n,v&&a>=s))return E(e,i,n,r,o,a,s,l);g?s=u*r:v&&(r=s/u)}return{
mode:"rel",ratio:l,min:e*(n+a),max:e*(r+s)}}function B(e){
return Y.parseDomainScope(e,this.orientation)}function F(t){if(t){
if(e.hasOwn(ne.namesSet,t))return Y.BasePanel["y"===this.orientation?"horizontalAlign":"verticalAlign2"][t]
;e.debug>=2&&e.log(e.format("Invalid axis position value '{0}'.",[t]))}
return"x"===this.orientation?"bottom":"left"}function z(e){
var t=this.option("Position");return re.toOrtho(e,t)}function V(e){
var t=this.option("Position");return re.to(e,{
singleProp:Y.BasePanel.orthogonalLength[t]})}function q(t){var i=[]
;if(!t)return i;e.array.is(t)||i.push(t);for(var n=0,r=t.length;n!==r;++n){
var o=e.number.to(t[n]);null!=o&&i.push(o)}return i}function H(){
var e=["axis"],t=this.scaleType
;return t&&("discrete"!==t&&e.push("continuousAxis"),
e.push(t+"Axis")),this.v1SecondOrientedId&&e.push(this.v1SecondOrientedId+"Axis"),
e.push(this.orientedId+"Axis"),e.push(this.id+"Axis"),e}function W(e){
if("trend"===this.name)return null;var t=this.option("TrendType")
;if(!t&&e&&(t=e.type),!t||"none"===t)return null;e=e?Object.create(e):{}
;var i=Y.trends.get(t);e.info=i,e.type=t;var n=this.option("TrendLabel")
;return e.label=null!=n?String(n):i.dataPartAtom.f,e}function U(e){
return!e.isDiscrete()&&(null!=e.option("FixedMin")||null!=e.option("FixedMax")||null!=e.option("FixedLength")||null!=e.option("Ratio")||e.option("PreserveRatio"))
}function G(e,t){return{resolveV1:function(i){
if(0===this.globalIndex)return this._specifyChartOption(i,"show"+e)||i.defaultValue(t),
!0}}}function $(e){return{resolveV1:function(t){
return this._specifyChartOption(t,"show"+e),!0}}}function K(t){
return e.number.toBetween(t,0,1)}function X(e){
for(var t=[e],i=-1;++i<t.length;){var n=t[i];t.push.apply(t,n.childNodes)}
return t}Array.prototype.every||(Array.prototype.every=function(e){"use strict"
;if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0
;if("function"!=typeof e)throw new TypeError
;for(var n=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)if(r in t&&!e.call(n,t[r],r,t))return!1
;return!0});var Y=e.globalSpace("pvc",{});Y.data=i;var Q=Array.prototype.slice
;Y.invisibleFill="rgba(127,127,127,0.00001)",function(){var i=function(e){
t.Behavior.tipsy.setDebug(e)};i(e.debug),e.addOnDebugChanged(i)
}(),Y.NoDataException=e.global.NoDataException=function(){
this.name="no-data",this.message="No data found"
},Y.InvalidDataException=e.global.InvalidDataException=function(e,t){
this.name=t||"invalid-data",this.message=e||"Invalid Data."
},Y.defaultCompatVersion=function(e){var t=Y.BaseChart.prototype.defaults
;return null!=e?t.compatVersion=e:t.compatVersion},Y.cloneMatrix=function(e){
return e.map(function(e){return e.slice()})},Y.normAngle=t.Shape.normalizeAngle,
Y.orientation={vertical:"vertical",horizontal:"horizontal"
},Y.removeTipsyLegends=function(){var e=t.Behavior.tipsy
;e&&e.removeAll&&e.removeAll()},Y.createDateComparer=function(e,i){
return i||(i=t.identity),function(t,n){return e.parse(i(t))-e.parse(i(n))}
},Y.buildIndexedId=e.indexedId,Y.makeEnumParser=function(t,i,n){
if(e.array.is(i)){var r={};i.forEach(function(e){e&&(r[e.toLowerCase()]=e)
}),i=function(t){return e.hasOwn(r,t)}}
return n&&(n=n.toLowerCase()),function(r){
return r&&(r=(""+r).toLowerCase()),i(r)||(r&&e.debug>=2&&e.log.warn("Invalid '"+t+"' value: '"+r+"'. Assuming '"+n+"'."),
r=n),r}},Y.unionExtents=function(e,t){
if(e)t&&(t.min<e.min&&(e.min=t.min),t.max>e.max&&(e.max=t.max));else{
if(!t)return null;e={min:t.min,max:t.max}}return e},Y.roundPixel={epsilon:.1
},null==n.support.svg&&(n.support.svg=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),
Y.extensionTag="extension",Y.extendType=function(t,i,n){if(i){
var r,o=t.meta&&t.meta._vars,a=function(t,i){
void 0!==t&&(r||(r={}),o&&o[i]&&(i="_"+i+"EvalCore"),r[i]=e.fun.to(t))}
;n?n.forEach(function(e){a(i[e],e)}):e.each(a),r&&t.add(r)}};var Z=[null]
;Y.makeExtensionAbsId=function(t,i){if(!t)return i;var n=[]
;i=e.array.to(i)||Z,t=e.array.to(t)
;for(var o=0,a=i.length;o<a;o++)for(var s=0,l=t.length;s<l;s++){
var u=r(t[s],i[o]);u&&n.push(u)}return n},Y.uniqueExtensionAbsPrefix=function(){
return"_"+((new Date).getTime()+Math.floor(1e5*Math.random()))
},Y.defaultColorScheme=null,Y.brighterColorTransform=function(e){
return null==e?null:(e.rgb?e:t.color(e)).brighter(.6)
},Y.setDefaultColorScheme=function(e){
return Y.defaultColorScheme=Y.colorScheme(e)
},Y.defaultColor=t.Colors.category10()("?"),Y.colorScheme=function(i){
if(null==i)return null;if("function"==typeof i){
if(!i.hasOwnProperty("range"))return i;i=i.range()}else i=e.array.as(i)
;return i.length?function(){var e=t.colors(i)
;return e.domain.apply(e,arguments),e}:null},Y.createColorScheme=function(e){
return Y.colorScheme(e)||Y.defaultColorScheme||t.Colors.category10
},Y.toGrayScale=function(e,i,n,r){e=t.color(e);var o=.299*e.r+.587*e.g+.114*e.b
;void 0===n?n=200:null==n&&(n=255),void 0===r?r=30:null==r&&(r=0);var a=n-r
;return o=a<=0?n:r+o/255*a,
null==i?i=e.opacity:i<0&&(i=-i*e.opacity),o=Math.round(o),t.rgb(o,o,o,i)
},Y.time={intervals:{y:31536e6,m:2592e6,d30:2592e6,w:6048e5,d7:6048e5,d:864e5,
h:36e5,M:6e4,s:1e3,ms:1},withoutTime:function(e){
return new Date(e.getFullYear(),e.getMonth(),e.getDate())},weekday:{
previousOrSelf:function(e,t){var i=e.getDay(),n=i-t;if(n){var r=n<0?7+n:n
;e=new Date(e-r*Y.time.intervals.d)}return e},nextOrSelf:function(e,t){
var i=e.getDay(),n=i-t;if(n){var r=n>0?7-n:-n;e=new Date(e+r*Y.time.intervals.d)
}return e},closestOrSelf:function(e,t){var i=e.getDay(),n=i-t;if(n){
var r=Y.time.intervals.d,o=n>0?1:-1
;n=Math.abs(n),e=n>=4?new Date(e.getTime()+o*(7-n)*r):new Date(e.getTime()-o*n*r)
}return e}}};var J=t.Mark,ee=J.prototype.zOrder;J.prototype.zOrder=function(e){
var t=this.borderPanel;return t&&t!==this?ee.call(t,e):ee.call(this,e)
},J.prototype.wrapper=function(e){return this._wrapper=e,this
},J.prototype.wrap=function(t,i){
return t&&e.fun.is(t)&&this._wrapper&&!t._cccWrapped&&(t=this._wrapper(t,i),
t._cccWrapped=!0),t},t.Mark.prototype.call=function(e){e.call(this,this)
},J.prototype.lock=function(e,t){
return void 0!==t&&this[e](t),(this._locked||(this._locked={}))[e]=!0,this
},J.prototype.isIntercepted=function(e){
return this._intercepted&&this._intercepted[e]
},J.prototype.isLocked=function(e){return this._locked&&this._locked[e]
},J.prototype.ensureEvents=function(e){var t=this.propertyValue("events",!0)
;return t&&"none"!==t||this.events(e||"all"),this
},J.prototype.addMargin=function(i,n){if(0!==n){
var r=e.nullyTo(this.propertyValue(i),0),o=t.functor(r);this[i](function(){
return n+o.apply(this,Q.call(arguments))})}return this
},J.prototype.addMargins=function(t){var i=e.get(t,"all",0)
;return this.addMargin("left",e.get(t,"left",i)),
this.addMargin("right",e.get(t,"right",i)),
this.addMargin("top",e.get(t,"top",i)),
this.addMargin("bottom",e.get(t,"bottom",i)),this
},J.prototype.eachInstanceWithData=function(e,t){
this.eachInstance(function(i,n,r){i.mark.sign&&i[n].data&&e.call(t,i,n,r)})
},J.prototype.eachSceneWithDataOnRect=function(e,t,i,n){function r(n,r){
if(n.intersectsRect(e)){var o=r.data;o&&o.datum&&t.call(i,o)}}
var o=this,a=o.sign;if(!a||a.selectable()){
null==n&&(n=o.rubberBandSelectionMode||"partial");var s="center"===n
;o.eachInstanceWithData(function(e,t,i){var n=o.getShape(e,t,.15)
;n=(s?n.center():n).apply(i),r(n,e[t])})}
},J.prototype.eachDatumOnRect=function(e,t,i,n){function r(n,r){
if(n.intersectsRect(e)){var o=r.data;o&&o.datum&&o.datums().each(function(e){
e.isNull||t.call(i,e)})}}var o=this,a=o.sign;if(!a||a.selectable()){
null==n&&(n=o.rubberBandSelectionMode||"partial");var s="center"===n
;o.eachInstanceWithData(function(e,t,i){var n=o.getShape(e,t,.15)
;n=(s?n.center():n).apply(i),r(n,e[t])})}
},J.prototype.getOwnerInstance=function(e,t){var i=e[t].data
;return i instanceof Y.visual.Scene&&(i=i.ownerScene)?i.childIndex():t
},t.Mark.prototype._ibits=-1,
t.Mark.prototype._imask=0,t.Mark.prototype.ibits=function(e){
return arguments.length?(e=Y.visual.Interactive.parseBits(e),
this._ibits=null==e?0:e,this):this._ibits},t.Mark.prototype.imask=function(e){
return arguments.length?(e=Y.visual.Interactive.parseBits(e),
this._imask=null==e?0:e,this):this._imask
},t.Transform.prototype.transformHPosition=function(e){return this.x+this.k*e
},t.Transform.prototype.transformVPosition=function(e){return this.y+this.k*e
},t.Transform.prototype.transformLength=function(e){return this.k*e
},t.Format.createParser=function(t){function i(i){
return i instanceof Date?i:e.number.is(i)?new Date(i):t.parse(i)}return i
},t.Format.createFormatter=function(e){function t(t){return null!=t?e(t):""}
return t},t.Color.prototype.describe=function(t,i,n){
return e.describeRecursive(t,this.key,i,n)
},J.prototype.hasDelegateValue=function(e,t){var i=this.$propertiesMap[e]
;return i?!t||i.tag===t:!!this.proto&&this.proto.hasDelegateValue(e,t)
},Y.parseValuesOverflow=Y.makeEnumParser("valuesOverflow",["show","trim","hide"],"hide"),
Y.parseMultiChartOverflow=Y.makeEnumParser("multiChartOverflow",["grow","fit","clip","page"],"grow"),
Y.parseLegendClickMode=Y.makeEnumParser("legendClickMode",["toggleSelected","toggleVisible","none"],"toggleVisible"),
Y.parseTooltipAutoContent=Y.makeEnumParser("tooltipAutoContent",["summary","value"],"value"),
Y.parseSelectionMode=Y.makeEnumParser("selectionMode",["rubberbandOrClick","click","rubberBand","focusWindow","custom"],"rubberbandOrClick"),
Y.parseClearSelectionMode=Y.makeEnumParser("clearSelectionMode",["emptySpaceClick","manual"],"emptySpaceClick"),
Y.parsePointingMode=Y.makeEnumParser("pointingMode",["over","near"],"near"),
Y.parsePointingCollapse=Y.makeEnumParser("pointingCollapse",["none","x","y"],"none"),
Y.parseShape=Y.makeEnumParser("shape",t.Scene.hasSymbol,null),
Y.parseDataTypeCheckingMode=Y.makeEnumParser("typeCheckingMode",["none","minimum","extended"],"minimum"),
Y.parseLegendOverflow=Y.makeEnumParser("legendOverflow",["clip","collapse"],"clip"),
Y.parseLabelRotationDirection=Y.makeEnumParser("labelRotationDirection",["clockwise","counterclockwise"],"clockwise"),
Y.parseContinuousColorScaleType=function(t){if(t)switch(t=(""+t).toLowerCase()){
case"linear":case"normal":case"discrete":break;default:
e.debug>=2&&e.log("[Warning] Invalid 'ScaleType' option value: '"+t+"'."),t=null
}return t},Y.parseDomainScope=function(t,i){if(t)switch(t=(""+t).toLowerCase()){
case"cell":case"global":break;case"section":
if(!i)throw e.error.argumentRequired("orientation");t="y"===i?"row":"column"
;break;case"column":case"row":
i&&i!==("row"===t?"y":"x")&&(t="section",e.debug>=2&&e.log("[Warning] Invalid 'DomainScope' option value: '"+t+"' for the orientation: '"+i+"'."))
;break;default:
e.debug>=2&&e.log("[Warning] Invalid 'DomainScope' option value: '"+t+"'."),
t=null}return t},Y.parseDomainRoundingMode=function(t){
if(t)switch(t=(""+t).toLowerCase()){case"none":case"nice":case"tick":break
;default:
e.debug>=2&&e.log("[Warning] Invalid 'DomainRoundMode' value: '"+t+"'."),t=null}
return t},Y.parseOverlappedLabelsMode=function(t){
if(t)switch(t=(""+t).toLowerCase()){case"leave":case"hide":case"rotate":
case"rotatethenhide":break;default:
e.debug>=2&&e.log("[Warning] Invalid 'OverlappedLabelsMode' option value: '"+t+"'."),
t=null}return t},Y.parseTrendType=function(t){if(t){
if("none"===(t=(""+t).toLowerCase()))return t;if(Y.trends.has(t))return t
;e.debug>=2&&e.log("[Warning] Invalid 'TrendType' value: '"+t+"'.")}
},Y.parseNullInterpolationMode=function(t){if(t){switch(t=(""+t).toLowerCase()){
case"none":case"linear":case"zero":return t}
e.debug>=2&&e.log("[Warning] Invalid 'NullInterpolationMode' value: '"+t+"'.")}
},Y.parseAlign=function(t,i){i&&(i=(""+i).toLowerCase());var n,r
;return"left"===t||"right"===t?(n=i&&Y.BasePanel.verticalAlign[i])||(n="middle",
r=!!i):(n=i&&Y.BasePanel.horizontalAlign[i])||(n="center",
r=!!i),r&&e.debug>=2&&e.log(e.format("Invalid alignment value '{0}'. Assuming '{1}'.",[i,n])),
n},Y.parseAnchor=function(t){if(t){switch(t=(""+t).toLowerCase()){case"top":
case"left":case"center":case"bottom":case"right":return t}
e.debug>=2&&e.log(e.format("Invalid anchor value '{0}'.",[t]))}
},Y.parseAnchorWedge=function(t){if(t){switch(t=(""+t).toLowerCase()){
case"outer":case"inner":case"center":case"start":case"end":return t}
e.debug>=2&&e.log(e.format("Invalid wedge anchor value '{0}'.",[t]))}
},Y.parsePosition=function(t,i){
if(t&&(t=(""+t).toLowerCase(),!e.hasOwn(ne.namesSet,t))){var n=i||"left"
;e.debug>=2&&e.log(e.format("Invalid position value '{0}. Assuming '{1}'.",[t,n])),
t=n}return t||i||"left"},Y.parseAxisFixedLength=function(i){var n
;return i&&("string"==typeof i&&(i=t.parseDatePrecision(i)),
"number"!=typeof i||i<=0?e.debug>=2&&e.log(e.format("Invalid fixed length value '{0}'.",[i])):n=i),
n},Y.parseAxisRatio=function(i){var n
;if("string"==typeof i&&(/([0-9]\u002F[0-9]|[0-9]\u002F[a-z]|[0-9]\u002F[0-9][a-z])/.test(i)&&(i=i.split("/")),
2===i.length)){var r=parseInt(i[0]),o=t.parseDatePrecision(i[1])
;isNaN(r)||isNaN(o)||0==o||(i=r/o)}
return"number"!=typeof i||i<0?e.debug>=2&&e.log(e.format("Invalid ratio value '{0}'.",[i])):n=i,
n},Y.parseDomainAlign=function(t){var i;if(t){switch(t=(""+t).toLowerCase()){
case"max":case"min":case"center":return t}
i="center",e.debug>=2&&e.log(e.format("Invalid domain align value '{0}'. Assuming '{1}'.",[t,i]))
}return i},Y.parseDimensionName=function(t,i){if(t){
if(t=(""+t).toLowerCase(),i.data.type.dimensions(t,{assertExists:!1}))return t
;e.debug>=2&&e.log(e.format("[Warning] Undefined dimension with name '{0}'.",[t]))
}return null};var te=e.type("pvc.Offset").init(function(e,t){
1===arguments.length?null!=e&&this.setOffset(e):(null!=e&&(this.x=e),
null!=t&&(this.y=t))}).add({describe:function(t,i,n){
return e.describeRecursive(t,e.copyOwn(this),i,n)},setOffset:function(t,i){
if("string"==typeof t){var n=t.split(/\s+/).map(function(e){return ie.parse(e)})
;switch(n.length){case 1:return this.set(e.get(i,"singleProp","all"),n[0]),this
;case 2:return this.set("x",n[0]),this.set("y",n[1]),this;case 0:return this}
}else{if("number"==typeof t)return this.set(e.get(i,"singleProp","all"),t),this
;if("object"==typeof t){this.set("all",t.all)
;for(var r in t)"all"!==r&&this.set(r,t[r]);return this}}
return e.debug&&e.log("Invalid 'offset' value: "+e.describe(t)),this},
set:function(t,i){
null!=i&&e.hasOwn(te.namesSet,t)&&null!=(i=ie.parse(i))&&("all"===t?te.names.forEach(function(e){
this[e]=i},this):this[t]=i)},resolve:function(e){var t={}
;return re.names.forEach(function(i){var n=te.namesSizeToOffset[i],r=this[n]
;if(null!=r)if("number"==typeof r)t[n]=r;else if(e){var o=e[i]
;null!=o&&(t[n]=r.resolve(o))}},this),t}});te.type().add({names:["x","y"],
namesSizeToOffset:{width:"x",height:"y"},namesSidesToOffset:{left:"x",right:"x",
top:"y",bottom:"y"},as:function(e){
return null==e||e instanceof te||(e=(new te).setOffset(e)),e}}).add({
namesSet:t.dict(te.names,e.retTrue)});var ie=Y.PercentValue=function(e){
this.percent=e};ie.prototype.resolve=function(e){return this.percent*e
},ie.prototype.divide=function(e){return new ie(this.percent/e)
},ie.divide=function(e,t){return e instanceof ie?e.divide(t):e/t
},ie.parse=function(t){if(null!=t&&""!==t){switch(typeof t){case"number":
return t;case"string":var i=t.match(/^(.+?)\s*(%)?$/);if(i){var n=+i[1]
;if(!isNaN(n)){if(!i[2])return n;if(n>=0)return new ie(n/100)}}break
;case"object":if(t instanceof ie)return t}
e.debug&&e.log(e.format("Invalid margins component '{0}'",[""+t]))}
},ie.resolve=function(e,t){return e instanceof ie?e.resolve(t):e}
;var ne=Y.Sides=function(e){null!=e&&this.setSides(e)}
;ne.hnames="left right".split(" "),
ne.vnames="top bottom".split(" "),ne.names="left right top bottom".split(" "),
ne.namesSet=t.dict(ne.names,e.retTrue),ne.as=function(e){
return null==e||e instanceof ne||(e=(new ne).setSides(e)),e},ne.to=function(e){
return null!=e&&e instanceof ne||(e=(new ne).setSides(e)),e
},ne.prototype.describe=function(t,i,n){
return e.describeRecursive(t,e.copyOwn(this),i,n)
},ne.prototype.setSides=function(t){if("string"==typeof t){
var i=t.split(/\s+/).map(function(e){return ie.parse(e)});switch(i.length){
case 1:return this.set("all",i[0]),this;case 2:
return this.set("top",i[0]),this.set("left",i[1]),
this.set("right",i[1]),this.set("bottom",i[0]),this;case 3:
return this.set("top",i[0]),
this.set("left",i[1]),this.set("right",i[1]),this.set("bottom",i[2]),this
;case 4:
return this.set("top",i[0]),this.set("right",i[1]),this.set("bottom",i[2]),
this.set("left",i[3]),this;case 0:return this}}else{
if("number"==typeof t)return this.set("all",t),this;if("object"==typeof t){
if(t instanceof ie)this.set("all",t);else if(t instanceof ne)ne.names.forEach(function(i){
e.hasOwn(t,i)&&(this[i]=t[i])},this);else{
this.set("all",t.all),this.set("width",t.width),this.set("height",t.height)
;for(var n in t)ne.namesSet.hasOwnProperty(n)&&this.set(n,t[n])}return this}}
return e.debug&&e.log("Invalid 'sides' value: "+e.describe(t)),this
},ne.prototype.set=function(t,i){if(null!=(i=ie.parse(i)))switch(t){case"all":
ne.names.forEach(function(e){this[e]=i},this);break;case"width":
this.left=this.right=ie.divide(i,2);break;case"height":
this.top=this.bottom=ie.divide(i,2);break;default:
e.hasOwn(ne.namesSet,t)&&(this[t]=i)}},ne.prototype.resolve=function(e,t){
"object"==typeof e&&(t=e.height,e=e.width);var i={}
;return ne.names.forEach(function(n){var r=0,o=this[n]
;null!=o&&(r="number"==typeof o?o:o.resolve("left"===n||"right"===n?e:t)),i[n]=r
},this),ne.updateSize(i)},ne.updateSize=function(e){
return e.width=(e.left||0)+(e.right||0),e.height=(e.bottom||0)+(e.top||0),e
},ne.prototype.getDirectionPercentage=function(e){var t=this
;return("width"===e?ne.hnames:ne.vnames).reduce(function(e,i){
return(t.getSidePercentage(i)||0)+e},0)
},ne.prototype.getSidePercentage=function(e){var t=this[e]
;return null!=t&&"number"!=typeof t?t.percent:null
},ne.resolvedMax=function(e,t){var i={};return ne.names.forEach(function(n){
i[n]=Math.max(e[n]||0,t[n]||0)}),ne.updateSize(i)},ne.inflate=function(e,t){
var i={};return ne.names.forEach(function(n){i[n]=(e[n]||0)+t}),ne.updateSize(i)
},ne.filterAnchor=function(e,t){var i=new ne
;return ne.getAnchorSides(e).forEach(function(e){i.set(e,t[e])}),i
},ne.getAnchorSides=function(e){switch(e){case"left":case"right":
return ne.vnames;case"top":case"bottom":return ne.hnames;case"fill":
return ne.names}};var re=e.type("pvc.Size").init(function(e,t){
1===arguments.length?null!=e&&this.setSize(e):(null!=e&&(this.width=e),
null!=t&&(this.height=t))}).add({describe:function(t,i,n){
return e.describeRecursive(t,e.copyOwn(this),i,n)},setSize:function(t,i){
if("string"==typeof t){var n=t.split(/\s+/).map(function(e){return ie.parse(e)})
;switch(n.length){case 1:return this.set(e.get(i,"singleProp","all"),n[0]),this
;case 2:return this.set("width",n[0]),this.set("height",n[1]),this;case 0:
return this}}else{
if("number"==typeof t)return this.set(e.get(i,"singleProp","all"),t),this
;if("object"==typeof t){
if(t instanceof ie)this.set(e.get(i,"singleProp","all"),t);else{
this.set("all",t.all);for(var r in t)"all"!==r&&this.set(r,t[r])}return this}}
return e.debug&&e.log("Invalid 'size' value: "+e.describe(t)),this},
set:function(t,i){
return null==i||"all"!==t&&!e.hasOwn(re.namesSet,t)||null!=(i=ie.parse(i))&&("all"===t?re.names.forEach(function(e){
this[e]=i},this):this[t]=i),this},clone:function(){
return new re(this.width,this.height)},intersect:function(e){
return new re(Math.min(this.width,e.width),Math.min(this.height,e.height))},
resolve:function(e){var t={};return re.names.forEach(function(i){var n=this[i]
;if(null!=n)if("number"==typeof n)t[i]=n;else if(e){var r=e[i]
;null!=r&&(t[i]=n.resolve(r))}},this),t}})
;re.names=["width","height"],re.namesSet=t.dict(re.names,e.retTrue),
re.toOrtho=function(e,t){if(null!=e){var i
;t&&(i=Y.BasePanel.orthogonalLength[t]),e=re.to(e,{singleProp:i
}),t&&delete e[Y.BasePanel.oppositeLength[i]]}return e},re.to=function(e,t){
return null==e||e instanceof re||(e=(new re).setSize(e,t)),e
},re.applyMax=function(e,t){var i,n
;return null!=(n=t.width)&&null!=(i=e.width)&&i>n&&(e.width=n),
null!=(n=t.height)&&null!=(i=e.height)&&i>n&&(e.height=n),e
},re.applyMin=function(e,t){var i,n
;return null!=(n=t.width)&&null!=(i=e.width)&&i<n&&(e.width=n),
null!=(n=t.height)&&null!=(i=e.height)&&i<n&&(e.height=n),e
},re.applyMinMax=function(e,t,i){var n,r
;return null!=(n=e.width)&&(null!=(r=t.width)&&n<r?e.width=r:null!=(r=i.width)&&n>r&&(e.width=r)),
null!=(n=e.height)&&(null!=(r=t.height)&&n<r?e.height=r:null!=(r=i.height)&&n>r&&(e.height=r)),
e},re.deflate=function(e,t,i){var n;return{
width:null!=(n=e.width)?Math.max(n-t,0):null,
height:null!=(n=e.height)?Math.max(n-i,0):null}},re.inflate=function(e,t,i){
var n;return{width:null!=(n=e.width)?n+t:null,height:null!=(n=e.height)?n+i:null
}},re.clone=function(e){return{width:e.width,height:e.height}
},e.type("pvc.Abstract").init(function(){this.log=e.logger(this._getLogId,this)
}).add({invisibleLineWidth:.001,defaultLineWidth:1.5,_logId:null,
_getLogId:function(){
return this._logId||(this._logId=this._processLogId(this._createLogId()))},
_createLogId:function(){return String(e.qualNameOf(this.constructor))},
_processLogId:function(t){var i=t.substr(0,30)
;return i.length<30&&(i+=e.array.create(30-i.length," ").join("")),"["+i+"]"}}),
o.resolvers=a,o.constant=s,o.specify=l,o.defaultValue=u,Y.options=o
;var oe=e.type().init(function(t,i,n,r){
this.name=t,this.option=i,this._dv=this.value=e.get(r,"value"),
this._resolve=e.get(r,"resolve");var o=!this._resolve
;this.isResolved=o,this.isSpecified=!1,
this._setCalled=!1,this._context=n,this._cast=e.get(r,"cast"),
this._getDefault=o?null:e.get(r,"getDefault"),this.data=e.get(r,"data")}).add({
resolve:function(){
if(!this.isResolved&&(this.isResolved=!0,this._setCalled=!1,this._getFunProp("_resolve").call(this._context,this),
!this._setCalled)){this.isSpecified=!1;var e=this._dynDefault()
;null!=e&&(this.value=this._dv=e)}return this},specify:function(e){
return this.set(e,!1)},defaultValue:function(e){
return arguments.length&&this.set(e,!0),this._dv},cast:function(e){if(null!=e){
var t=this._getFunProp("_cast");t&&(e=t.call(this._context,e))}return e},
set:function(e,t){if(this._setCalled=!0,null!=e&&(e=this.cast(e)),null==e){
if(null==(e=this._dynDefault())){if(!this.isSpecified)return this;e=this._dv}
t=!0}
return t?(this._dv=e,this.isSpecified||(this.value=e)):(this.isResolved=this.isSpecified=!0,
this.value=e),this},_dynDefault:function(){var e=this._getFunProp("_getDefault")
;return e&&this.cast(e.call(this._context,this))},_getFunProp:function(t){
var i,n=this[t];return n&&(i=this._context)&&e.string.is(n)&&(n=i[n]),n}})
;e.MetaType.subType(c,{methods:{options:function(t){
return e.mixin(this.optionsDef,t),this},_addInitSteps:function(e){function t(){
this.option=Y.options(i.optionsDef,this)}this.base(e);var i=this;e.push(t)}}})
;var ae=c.Ctor;e("pvc.visual.OptionsBase",ae.configure({init:function(t,i,n,r){
this.type=i,
this.chart=t,this.index=null==n?0:n,this.name=e.get(r,"name"),this.id=e.indexedId(this.type,this.index),
this.optionId=this._buildOptionId(r);var o=this._resolvers=[]
;this._registerResolversFull(o,r)},methods:{_buildOptionId:function(e){
return this.id},_chartOption:function(e){return this.chart.options[e]},
_registerResolversFull:function(t,i){var n=e.get(i,"fixed")
;n&&(this._fixed=n,t.push(Y.options.specify(function(e){return n[e.name]
}))),this._registerResolversNormal(t,i);var r=e.get(i,"defaults")
;r&&(this._defaults=r),t.push(this._resolveDefault)},
_registerResolversNormal:function(t,i){
e.get(i,"byV1",1)&&this.chart.compatVersion()<=1&&t.push(this._resolveByV1OnlyLogic),
this.name&&e.get(i,"byName",1)&&t.push(this._resolveByName),
e.get(i,"byId",1)&&t.push(this._resolveByOptionId),
e.get(i,"byNaked",!this.index)&&t.push(this._resolveByNaked)},
_resolveFull:function(e){
for(var t=this._resolvers,i=0,n=t.length;i<n;i++)if(t[i].call(this,e))return!0
;return!1},_resolveFixed:Y.options.specify(function(e){
if(this._fixed)return this._fixed[e.name]}),_resolveByV1OnlyLogic:function(e){
var t,i=e.data;if(i&&(t=i.resolveV1))return t.call(this,e)},
_resolveByName:Y.options.specify(function(t){
if(this.name)return this._chartOption(this.name+e.firstUpperCase(t.name))}),
_resolveByOptionId:Y.options.specify(function(t){
return this._chartOption(this.optionId+e.firstUpperCase(t.name))}),
_resolveByNaked:Y.options.specify(function(t){
return this._chartOption(e.firstLowerCase(t.name))}),
_resolveDefault:function(e){var t,i=e.data
;if(i&&(t=i.resolveDefault)&&t.call(this,e))return!0;if(this._defaults){
var n=this._defaults[e.name];if(void 0!==n)return e.defaultValue(n),!0}},
_specifyChartOption:function(e,t){var i=this._chartOption(t)
;if(null!=i)return e.specify(i),!0}}})),e.scope(function(){function t(e){
return e=Math.floor(e),isNaN(e)?null:e<-1||!isFinite(e)?-1:e}
var i=e.makeEnum(["Interactive","ShowsActivity","ShowsSelection","ShowsTooltip","Selectable","Unselectable","Hoverable","Clickable","DoubleClickable","SelectableByClick","SelectableByRubberband","SelectableByFocusWindow","Animatable"])
;i.ShowsInteraction=i.ShowsActivity|i.ShowsSelection,
i.Actionable=i.Hoverable|i.Clickable|i.DoubleClickable|i.SelectableByClick,
i.HandlesEvents=i.Actionable|i.ShowsTooltip,
i.HandlesClickEvent=i.Clickable|i.SelectableByClick,
e("pvc.visual.Interactive",e.Object.extend({"type.methods":[i,{
ShowsAny:i.ShowsInteraction|i.ShowsTooltip,
SelectableAny:i.Selectable|i.SelectableByClick|i.SelectableByRubberband|i.SelectableByFocusWindow,
parseBits:function(n){if(null==n)return null;if("number"==typeof n)return t(n)
;"string"!=typeof n&&(n=String(n));var r=t(+n)
;return null!==r?r:(n.split(/\s*\|\s*/).forEach(function(t){var n=e.getOwn(i,t)
;null!=n&&(null===r?r=n:r|=n)}),r)}}],methods:[{_ibits:-1,ibits:function(){
return this._ibits}},e.query(e.ownKeys(i)).object({name:e.firstLowerCase,
value:function(e){var t=i[e];return function(){return!!(this.ibits()&t)}}})]}))
}),Y.color={scale:f,scales:d,toGray:Y.toGrayScale,isGray:h
},e.type("pvc.color.ScalesBuild").init(function(i){
this.keyArgs=i,this.data=i.data||e.fail.argumentRequired("keyArgs.data"),
this.domainDimName=i.colorDimension||e.fail.argumentRequired("keyArgs.colorDimension"),
this.domainDim=this.data.dimensions(this.domainDimName)
;var n=this.domainDim.type;n.isComparable?this.domainComparer=function(e,t){
return n.compare(e,t)
}:(this.domainComparer=null,e.log("Color value dimension should be comparable. Generated color scale may be invalid.")),
this.nullRangeValue=i.colorMissing?t.color(i.colorMissing):t.Color.transparent,
this.domainRangeCountDif=0}).add({build:function(){
this.range=this._getRange(),this.desiredDomainCount=this.range.length+this.domainRangeCountDif
;var e=this._getDomain();return this._createScale(e)},buildMap:function(){
this.range=this._getRange(),
this.desiredDomainCount=this.range.length+this.domainRangeCountDif;var t
;if(this.keyArgs.normPerBaseCategory)t=function(e){
var t=this._ensureDomain(null,!1,e);return this._createScale(t)};else{
var i=this._getDomain(),n=this._createScale(i);t=e.fun.constant(n)}
return this._createCategoryScalesMap(t)},_createScale:e.abstractMethod,
_createCategoryScalesMap:function(e){return this.data.children().object({
name:function(e){return e.absKey},value:e,context:this})},_getRange:function(){
var e=this.keyArgs,i=e.colors||["red","yellow","green"]
;return null!=e.colorMin&&null!=e.colorMax?i=[e.colorMin,e.colorMax]:null!=e.colorMin?i.unshift(e.colorMin):null!=e.colorMax&&i.push(e.colorMax),
i.map(function(e){return t.color(e)})},_getDataExtent:function(e){
var t=e.dimensions(this.domainDimName).extent({visible:!0});if(!t)return null
;var i=t.min.value,n=t.max.value;return n==i&&(n>=1?i=n-1:n=i+1),{min:i,max:n}},
_getDomain:function(){var e=this.keyArgs.colorDomain
;return null!=e?(e=e.slice(),
this.domainComparer&&e.sort(this.domainComparer),e.length>this.desiredDomainCount&&(e=e.slice(0,this.desiredDomainCount))):e=[],
this._ensureDomain(e,!0,this.data)},_ensureDomain:function(i,n,r){var o
;if(i&&n){var a=this.desiredDomainCount-i.length
;if(a>0&&(o=this._getDataExtent(r)))switch(a){case 1:
this.domainComparer?e.array.insert(i,o.max,this.domainComparer):i.push(o.max)
;break;case 2:
this.domainComparer?(e.array.insert(i,o.min,this.domainComparer),e.array.insert(i,o.max,this.domainComparer)):(i.unshift(o.min),
i.push(o.max));break;default:
e.debug>=2&&e.log("Ignoring option 'colorDomain' due to unsupported length."+e.format(" Should have '{0}', but instead has '{1}'.",[this.desiredDomainCount,i.length])),
i=null}}if(!i&&(o||(o=this._getDataExtent(r)),o)){
var s=o.min,l=o.max,u=(l-s)/(this.desiredDomainCount-1);i=t.range(s,l+u,u)}
return i}}),e.type("pvc.color.LinearScalesBuild",Y.color.ScalesBuild).add({
_createScale:function(e){var i=t.Scale.linear()
;return e&&i.domain.apply(i,e),i.range.apply(i,this.range),i}
}),e.type("pvc.color.DiscreteScalesBuild",Y.color.ScalesBuild).init(function(e){
this.base(e),this.domainRangeCountDif=1}).add({_createScale:function(i){
function n(e){if(null==e)return a;for(var t=0;t<r;t++)if(e<=i[t+1])return o[t]
;return o[s]}var r=i.length-1,o=this.range,a=this.nullRangeValue,s=o.length-1
;return e.copy(n,t.Scale.common),n.domain=function(){return i
},n.range=function(){return o},n}
}),e.type("pvc.visual.Context").init(function(e,t,i){
this.chart=e.chart,this.panel=e,p.call(this,t,i)}).add({get parent(){
throw e.error.operationInvalid("The 'this.parent.index' idiom has no equivalent in this version. Please try 'this.pvMark.parent.index'.")
},isPinned:!1,pin:function(){return this.isPinned=!0,this},
compatVersion:function(){return this.panel.compatVersion()},
getCompatFlag:function(e){return this.panel.getCompatFlag(e)},
finished:function(e){return this.sign.finished(e)},delegate:function(e){
return this.sign.delegate(e)},getV1Series:function(){var t
;return e.nullyTo(this.scene.firstAtoms&&(t=this.scene.firstAtoms[this.panel._getV1DimName("series")])&&t.rawValue,"Series")
},getV1Category:function(){var e
;return this.scene.firstAtoms&&(e=this.scene.firstAtoms[this.panel._getV1DimName("category")])&&e.rawValue
},getV1Value:function(){var e
;return this.scene.firstAtoms&&(e=this.scene.firstAtoms[this.panel._getV1DimName("value")])&&e.value
},getV1Datum:function(){return this.panel._getV1Datum(this.scene)},
get:function(e,t){return this.scene.get(e,t)},getSeries:function(){
return this.scene.get("series")},getCategory:function(){
return this.scene.get("category")},getValue:function(){
return this.scene.get("value")},getTick:function(){return this.scene.get("tick")
},getX:function(){return this.scene.get("x")},getY:function(){
return this.scene.get("y")},getColor:function(){return this.scene.get("color")},
getSize:function(){return this.scene.get("size")},getSeriesLabel:function(){
return this.scene.get("series","label")},getCategoryLabel:function(){
return this.scene.get("category","label")},getValueLabel:function(){
return this.scene.get("value","label")},getTickLabel:function(){
return this.scene.get("tick","label")},getXLabel:function(){
return this.scene.get("x","label")},getYLabel:function(){
return this.scene.get("y","label")},getColorLabel:function(){
return this.scene.get("color","label")},getSizeLabel:function(){
return this.scene.get("size","label")},select:function(e){
return this.scene.select(e)},toggleVisible:function(){
return this.scene.toggleVisible()},click:function(){var e=this
;if(e.clickable()&&e.panel._onClick(e),e.selectableByClick()){var t=e.event
;e.select({replace:!t||!(t.ctrlKey||t.metaKey)})}},doubleClick:function(){
this.doubleClickable()&&this.panel._onDoubleClick(this)},clickable:function(){
var e=this
;return(e.sign?e.sign.clickable():e.panel.clickable())&&(!e.scene||e.scene.clickable())
},selectableByClick:function(){var e=this
;return(e.sign?e.sign.selectableByClick():e.panel.selectableByClick())&&(!e.scene||e.scene.selectableByClick())
},doubleClickable:function(){var e=this
;return(e.sign?e.sign.doubleClickable():e.panel.doubleClickable())&&(!e.scene||e.scene.doubleClickable())
},hoverable:function(){var e=this
;return(e.sign?e.sign.hoverable():e.panel.hoverable())&&(!e.scene||e.scene.hoverable())
}}),Y.text={getFitInfo:function(e,i,n,r,o){if(""===n)return{h:!0,v:!0,d:!0}
;var a=t.Text.measureWidth(n,r);return{h:a<=e,v:a<=i,d:a<=Math.sqrt(e*e+i*i)-o}
},trimToWidthB:function(e,i,n,r,o){var a=t.Text.measureWidth(r,n),s=1.5*a
;return Y.text.trimToWidth(e,i,n,r,o,s)},trimToWidth:function(e,i,n,r,o,a){
return""===i?i:(t.Text.measureWidth(i,n)>e&&(i=Y.text.trimToWidthBin(e,i,n,r,o,a)),
i)},trimToWidthBin:function(e,i,n,r,o,a){function s(e,t,i){
return o?e.slice(t):e.slice(0,i)}var l=t.Text.measureWidth(i,n);if(l<=e)return i
;for(var u,c=0,h=Math.max(0,e-t.Text.measureWidth(r,n)),d=i.length,f=d-1,p=0;p<f&&f>0;){
var m=(h-c)/(l-c);u=Math.ceil(p*(1-m)+f*m)
;var g=s(i,d-u,u),v=t.Text.measureWidth(g,n);if(v>h)f=u-1,l=v;else{
if(!(t.Text.measureWidth(s(i,d-u-1,u+1),n)<h))return a&&v<=a?"":o?r+g:g+r;p=u+1,
c=v}}return i=s(i,d-f,f),v=t.Text.measureWidth(i,n),a&&v<=a?"":o?r+i:i+r},
justify:function(e,i,n){var r=[];if(i<t.Text.measureWidth("a",n))return r
;for(var o=(e||"").split(/\s+/),a="";o.length;){var s=o.shift();if(s){
var l=a?a+" "+s:s;t.Text.measureWidth(l,n)>i?(a&&r.push(a),a=s):a=l}}
return a&&r.push(a),r},getLabelBBox:function(e,i,n,r,o,a){
var s=t.Label.getPolygon(e,i,n,r,o,a),l=s.bbox()
;return l.source=s,l.sourceAngle=o,l.sourceAlign=n,l.sourceTextWidth=e,l}
},e.space("pvc.trends",function(t){var i={};e.set(t,"define",function(t,n){
t||e.fail.argumentRequired("type"),
n||e.fail.argumentRequired("trendSpec"),e.object.is(n)||e.fail.argumentInvalid("trendSpec","Must be a trend specification object."),
t=(""+t).toLowerCase(),
e.debug>=2&&e.hasOwn(i,t)&&e.log(e.format("[WARNING] A trend type with the name '{0}' is already defined.",[t]))
;var r=n.label||e.fail.argumentRequired("trendSpec.label"),o=n.model||e.fail.argumentRequired("trendSpec.model")
;e.fun.is(o)||e.fail.argumentInvalid("trendSpec.mode","Must be a function.")
;var a={dataPartAtom:{v:"trend",f:r},type:t,label:r,model:o};i[t]=a
},"get",function(t){
return t||e.fail.argumentRequired("type"),e.getOwn(i,t)||e.fail.operationInvalid("Undefined trend type '{0}'.",[t])
},"has",function(t){return e.hasOwn(i,t)},"types",function(){return e.ownKeys(i)
}),t.define("linear",{label:"Linear trend",model:function(t){
for(var i=e.get(t,"rows"),n=e.get(t,"x"),r=e.get(t,"y"),o=0,a=0,s=0,l=0,u=0,c=0,h=function(e){
return null!=e?+e:NaN};i.next();){var d=i.item,f=n?h(n(d)):o;if(!isNaN(f)){
var p=h(r(d));isNaN(p)||(a++,s+=f,l+=p,u+=f*p,c+=f*f)}o++}if(a>=2){
var m=s/a,g=l/a,v=u/a,y=c/a,b=y-m*m,_=0===b?0:(v-m*g)/b,x=g-_*m;return{alpha:x,
beta:_,reset:e.noop,sample:function(e){return x+_*+e}}}}
}),t.define("moving-average",{label:"Moving average",model:function(t){
var i=Math.max(+(e.get(t,"periods")||3),2),n=0,r=[];return{reset:function(){n=0,
r.length=0},sample:function(e,t,o){var a=i
;return null!=t&&(r.unshift(t),n+=t,(a=r.length)>i&&(n-=r.pop(),a=i)),n/a}}}
}),t.define("weighted-moving-average",{label:"Weighted Moving average",
model:function(t){
var i=Math.max(+(e.get(t,"periods")||3),2),n=0,r=0,o=[],a=0,s=0;return{
reset:function(){n=r=s=a=0,o.length=0},sample:function(e,t){
if(null!=t)if(a<i)o.push(t),a++,s+=a,r+=a*t,n+=t;else{r+=a*t-n,n+=t-o[0]
;for(var l=1;l<i;l++)o[l-1]=o[l];o[i-1]=t}return r/s}}}})}),Y.spec={
on:m.bind(null,"on"),before:m.bind(null,"before"),after:m.bind(null,"after")
},e("pvc.visual.SlidingWindow",Y.visual.OptionsBase.extend({init:function(e){
this.base(e,"slidingWindow",0,{byNaked:!1}),this.length=this.option("Length")},
methods:{length:null,dimension:null,select:v,initFromOptions:function(){
this.length&&(this.dimension=this.option("Dimension"),
this.override("select",this.option("Select")))},setDataFilter:function(e){
e.select=this.select.bind(this)},setDimensionsOptions:function(t){
var n=this.chart,r=n.options.dimensions,o=n.options.dimensionGroups
;t.dimensionsList().forEach(function(t){if(t.isDiscrete){var a=t.name,s=r&&r[a]
;if(!s||!s.comparer){var l=i.DimensionType.dimensionGroupName(a),u=o&&o[l]
;u&&u.comparer||n.visualRolesOf(a,!0)&&t.setComparer(e.ascending)}}})},
setLayoutPreservation:function(e){
null==e.options.preserveLayout&&(e.options.preserveLayout=!0)},
setAxesDefaults:function(e){e.axesList.forEach(function(e){var t=e.role
;t&&(t.grouping.isSingleDimension&&t.grouping.singleDimensionName===this.dimension&&(e.option.defaults({
PreserveTickAlignment:!0
}),this._setAxisFixedRatio(e)),"color"===e.type&&e.option.defaults({
PreserveMap:!0}))},this)},_setAxisFixedRatio:function(e){var t=e.option
;t.isDefined("FixedLength")&&t.isDefined("PreserveRatio")&&(this.option.isSpecified("Length")&&e.option.defaults({
FixedLength:this.length}),e.option.defaults({PreserveRatio:!0}))}},options:{
Dimension:{resolve:"_resolveFull",cast:function(e){
return Y.parseDimensionName(e,this.chart)},getDefault:g},Length:{
resolve:"_resolveFull",cast:function(e){return t.parseDatePrecision(e,null)}},
Select:{resolve:"_resolveFull",cast:e.fun.as,getDefault:function(){
return v.bind(this)}}}})),e.MetaType.subType(y,{methods:{variable:function(t,i){
var n
;if(this._vars[t])void 0!==i&&(n=e.set({},"_"+t+"EvalCore",e.fun.to(i)));else{
this._vars[t]=!0;var r=this.Ctor.prototype;n={};var o="_"+t+"Eval";n[t]=C(t,o)
;var a=o+"Core"
;e.hasOwn(r,o)||(n[o]=e.methodCaller(a)),e.hasOwn(r,a)||(n[a]=e.fun.to(void 0===i?null:i))
}return n&&this.methods(n),this}}});var se=y.Ctor
;e("pvc.visual.Scene",se.configure({init:function(n,r){
if(e.debug>=4&&(this.id=e.nextId("scene")),this._renderId=0,this.renderState={},
t.Dom.Node.call(this,null),this.parent=n||null,n){this.root=n.root
;var o=e.get(r,"index",null);n.insertAt(this,o)
}else this.root=this,this._active=null,
this._panel=e.get(r,"panel")||e.fail.argumentRequired("panel","Argument is required on root scene.")
;var a,s,l,u,c,h,d,f=e.array.to(e.get(r,"source"))
;f&&f.length?(this.source=f,a=f[0],
a instanceof i.Data?(s=a,c=f,l=s.firstDatum()||e.query(c).select(function(e){
return e.firstDatum()
}).first(e.notNully)):(a instanceof i.Datum||e.assert("not a datum"),
l=a,u=f),h=a.atoms,
d=l&&l.atoms||h):h=d=n?Object.create(n.atoms):{},this.atoms=h,this.firstAtoms=d,
c&&(this.groups=c),
s&&(this.group=s),u&&(this._datums=u),l&&(this.datum=l),a&&!a.isNull||(this.isNull=!0),
this.vars=n?Object.create(n.vars):{}},methods:[t.Dom.Node,Y.visual.Interactive,{
source:null,groups:null,group:null,_datums:null,datum:null,isNull:!1,
get:function(e,t){var i=this.vars[e];return i&&i[t||"value"]},
getSeries:function(){return this.get("series")},getCategory:function(){
return this.get("category")},getValue:function(){return this.get("value")},
getTick:function(){return this.get("tick")},getX:function(){return this.get("x")
},getY:function(){return this.get("y")},getColor:function(){
return this.get("color")},getSize:function(){return this.get("size")},
getSeriesLabel:function(){return this.get("series","label")},
getCategoryLabel:function(){return this.get("category","label")},
getValueLabel:function(){return this.get("value","label")},
getTickLabel:function(){return this.get("tick","label")},getXLabel:function(){
return this.get("x","label")},getYLabel:function(){return this.get("y","label")
},getColorLabel:function(){return this.get("color","label")},
getSizeLabel:function(){return this.get("size","label")},data:function(){
var e=this.group;if(!e){for(var t=this;!e&&(t=t.parent);)e=t.group
;e||(e=this.panel.data)}return e},allGroup:function(){
return 1===this.groups.length?this.group:this._allGroup||(this._allGroup=this._calcAllGroup())
},_calcAllGroup:function(){var e=this.groups;return e&&e.length?new i.Data({
linkParent:i.Data.lca(e),datums:this.datums(),where:function(t){
return!!e&&e.some(function(e){return e.contains(t)})}}):new i.Data({
linkParent:this.data(),datums:this.datums()})},datums:function(){
return this.groups?e.query(this.groups).selectMany(function(e){return e.datums()
}):this._datums?e.query(this._datums):e.query()},format:function(t){
return e.format(t,this._formatScope,this)},_formatScope:function(t){
if("#"===t.charAt(0)){
if(t=t.substr(1).split("."),t.length>2)throw e.error.operationInvalid("Scene format mask is invalid.")
;var i=this.firstAtoms[t[0]];if(i){if(t.length>1)switch(t[1]){case"value":
return i.value;case"label":break;default:
throw e.error.operationInvalid("Scene format mask is invalid.")}return i}
return null}return e.getPath(this.vars,t)},isRoot:function(){
return this.root===this},panel:function(){return this.root._panel},
chart:function(){return this.root._panel.chart},compatVersion:function(){
return this.root._panel.compatVersion()},children:function(){
var t=this.childNodes;return t.length?e.query(t):e.query()},leafs:function(){
function t(e){for(;e.childNodes.length;)e=e.childNodes[0];return e}var i=this
;return e.query(function(e){if(!e){var n=t(i);return n===i?0:(this.item=n,1)}
var r=this.item.nextSibling;if(r)return this.item=r,1
;for(var o=this.item;o!==i&&(o=o.parentNode);)if(r=o.nextSibling)return this.item=t(r),
1;return 0})},anyInteraction:function(){
return!!this.root._active||this.anySelected()},isActive:!1,
getIsActive:function(){return(this.ownerScene||this).isActive},
setActive:function(e){
e=!!e,this.getIsActive()===e||!e&&b(t.event)||this.chart()._setActiveScene(e?this:null)
},clearActive:function(){
return!!this.active()&&this.chart()._setActiveScene(null)},
_setActive:function(e){
this.isActive!==e&&x.call(this.root,this.isActive?null:this)},
_clearActive:function(){return x.call(this.root,null)},anyActive:function(){
return!!this.root._active},active:function(){return this.root._active},
activeSeries:function(){var e,t=this.active()
;if(t&&(e=t.vars.series))return e.value},isActiveSeries:function(){
if(this.isActive)return!0;var e=this.renderState.isActiveSeries;if(null==e){
var t
;e=void 0!==(t=this.activeSeries())&&t===this.vars.series.value,this.renderState.isActiveSeries=e
}return e},isActiveDatum:function(){return!!this.isActive},
isActiveDescendantOrSelf:function(){
return this.isActive||e.lazy(this.renderState,"isActiveDescOrSelf",this._calcIsActiveDescOrSelf,this)
},_calcIsActiveDescOrSelf:function(){var e=this.active()
;if(e)for(;e=e.parent;)if(e===this)return!0;return!1},isVisible:function(){
return this._visibleInfo().is},anyVisible:function(){
return this._visibleInfo().any},_visibleInfo:function(){
return e.lazy(this.renderState,"visibleInfo",this._createVisibleInfo,this)},
_createVisibleInfo:function(){var t=this.chart().data.owner.visibleCount()>0
;return{any:t,is:t&&this.datums().any(e.propGet("isVisible"))}},
isSelected:function(){return this._selectedInfo().is},anySelected:function(){
return this._selectedInfo().any},_selectedInfo:function(){
return e.lazy(this.renderState,"selectedInfo",this._createSelectedInfo,this)},
_createSelectedInfo:function(){var e=this.chart().data.owner.selectedCount()>0
;return{any:e,is:e&&this.datums().any(i.Datum.isSelected)}},select:function(t){
var n=this,r=n.datums().array();if(r.length){var o=n.chart()
;o._updatingSelections(function(){
(r=o._onUserSelection(r,n.group||n.datum))&&r.length&&(o.options.ctrlSelectMode&&e.get(t,"replace",!0)?o.data.replaceSelected(r):i.Data.toggleSelected(r))
})}},isSelectedDescendantOrSelf:function(){
return this.isSelected()||e.lazy(this.renderState,"isSelectedDescOrSelf",this._calcIsSelectedDescOrSelf,this)
},_calcIsSelectedDescOrSelf:function(){var e=this.firstChild;if(e)do{
if(e.isSelectedDescendantOrSelf())return!0}while(e=e.nextSibling);return!1},
toggleVisible:function(){
i.Data.toggleVisible(this.datums())&&this.chart().render(!0,!0,!1)},
asView:function(e){
return this.chart()._processViewSpec(e),this._asView(e.dimsKey,e.dimNames)},
_asView:function(t,i){if(this.ownerScene)return this.ownerScene._asView(t,i)
;var n=e.lazy(this,"_viewCache"),r=e.getOwn(n,t)
;return void 0===r&&(n[t]=r=this._calcView(i)),r},_calcView:function(e){
for(var t,n,r=null,o=0,a=e.length;o<a;o++){
if(n=e[o],!(t=this.atoms[n])||null==t.value)return null;(r||(r={}))[n]=t}
return new i.Complex(this.data().owner,r,e,null,!0,!1)}}]}))
;var le=Y.visual.ValueLabelVar=function(e,t,i,n){
this.value=e,this.label=t,void 0!==i&&(this.rawValue=i),
void 0!==n&&(this.absLabel=n)}
;e.set(le.prototype,"rawValue",void 0,"absLabel",void 0,"setValue",function(e){
return this.value=e,this},"setLabel",function(e){return this.label=e,this
},"clone",function(){return new le(this.value,this.label,this.rawValue)
},"toString",function(){var e=this.label||this.value
;return null==e?"":"string"!=typeof e?""+e:e}),le.fromComplex=function(e){
return e?new le(e.value,e.label,e.rawValue,e.absLabel):new le(null,"",null)
},le.fromAtom=le.fromComplex
;var ue=["extensionDataSetsMap","reverse","visible","selected","isNull","where","whereKey"]
;e.type("pvc.visual.Role").init(function(t,i,n){
this.uid="r"+e.nextId("visual-role"),
this.chart=t,this.name=i,this.label=e.get(n,"label")||e.titleFromName(i),
this.index=e.get(n,"index")||0,this.plot=e.get(n,"plot")||null,this._legend={
visible:!0
},this.dimensionDefaults=e.get(n,"dimensionDefaults")||{},this._isReversed=!1,
this.isRequired=!!e.get(n,"isRequired",!1),
this.autoCreateDimension=!!e.get(n,"autoCreateDimension",!1)
;var r=e.get(n,"defaultSourceRole")
;r&&(this.defaultSourceRoleName=this.plot?this.plot.ensureAbsRoleRef(r):r)
;var o=e.get(n,"defaultDimension");if(o){this.defaultDimensionName=o
;var a=o.match(/^(.*?)(\*)?$/)
;this.defaultDimensionGroup=a[1],this.defaultDimensionGreedy=!!a[2]}
if(this.rootLabel=e.get(n,"rootLabel"),
this.flatteningModes=e.get(n,"flatteningModes"),
this.flatteningMode=e.get(n,"flatteningMode"),
!o&&this.autoCreateDimension)throw e.error.argumentRequired("defaultDimension")
;var s=e.get(n,"requireSingleDimension"),l=e.get(n,"requireIsDiscrete"),u=null!=l&&!l
;if(null==s&&(s=u),!l&&e.get(n,"isMeasure")){this.isMeasure=!0
;var c=e.get(n,"isNormalized")
;(c||e.get(n,"isPercent"))&&(this.isPercent=!0),c&&(this.isNormalized=!0)}
this.boundDimensionsDataSetName=this.isMeasure?i+"Role":null,
this.discriminatorDimensionFullName=this.isMeasure?this.boundDimensionsDataSetName+".dim":null
;var h=e.get(n,"valueType",null)
;h!==this.valueType&&(this.valueType=this.dimensionDefaults.valueType=h),
s!==this.requireSingleDimension&&(this.requireSingleDimension=s),
null!=l&&(this.requireIsDiscrete=this.dimensionDefaults.isDiscrete=!!l),
this._sourceRole=null,this.grouping=null}).add({requireSingleDimension:!1,
valueType:null,requireIsDiscrete:null,isMeasure:!1,isNormalized:!1,isPercent:!1,
defaultSourceRoleName:null,defaultDimensionName:null,defaultDimensionGroup:null,
defaultDimensionGreedy:null,label:null,_rootSourceRole:void 0,_legend:null,
prettyId:function(){return(this.plot?this.plot.prettyId+".":"")+this.name},
legend:function(t){if(arguments.length){if(null!=t)switch(typeof t){
case"boolean":this._legend.visible=!!t;break;case"object":
e.each(t,function(e,t){void 0!==e&&("visible"===t&&(e=!!e),this[t]=e)
},this._legend)}return this}return this._legend},firstDimensionType:function(){
var e=this.grouping;return e&&e.firstDimensionType()},
firstDimensionName:function(){var e=this.grouping
;return e&&e.firstDimensionName()},firstDimensionValueType:function(){
var e=this.grouping;return e&&e.firstDimensionValueType()},
lastDimensionType:function(){var e=this.grouping;return e&&e.lastDimensionType()
},lastDimensionName:function(){var e=this.grouping
;return e&&e.lastDimensionName()},lastDimensionValueType:function(){
var e=this.grouping;return e&&e.lastDimensionValueType()},
get isMeasureEffective(){
return!!this.isMeasure&&(this.isBound()?!this.isDiscrete():null)},
isDiscrete:function(){var e=this.grouping;return e&&e.isDiscrete()},
get sourceRole(){return this._sourceRole},set sourceRole(e){
this._sourceRole=e||null,this._rootSourceRole=void 0},get rootSourceRole(){
var e,t=this._rootSourceRole;if(void 0===t){
if(null!==(t=this.sourceRole))for(;null!==(e=t.sourceRole);)t=e
;this._rootSourceRole=t}return t},get isReversed(){return this._isReversed},
set isReserved(e){this._isReversed=!!e},
_flatteningModes:i.FlatteningMode.AllMask,get flatteningModes(){
return this._flatteningModes},set flatteningModes(t){
if(t=e.nullyTo(t,i.FlatteningMode.AllMask),this._flatteningModes!==t){
if(!(t=this._flatteningModes&t))throw e.error.argumentInvalid("flatteningModes","Cannot become empty.")
;this._flatteningModes=t;var n=this.flatteningMode&t
;n||(n=t&-t,this.flatteningMode=n)}},
_flatteningMode:i.FlatteningMode.SingleLevel,get flatteningMode(){
return this._flatteningMode},set flatteningMode(t){
if(null!=t&&t!==this._flatteningMode){
if(!(t&this.flatteningModes))throw e.error.argumentInvalid("flatteningMode","Value is not currently valid.")
;this._flatteningMode=t}},get rootLabel(){return this._rootLabel},
set rootLabel(e){
e||(e=""),e!==this._rootLabel&&(this._rootLabel=e,this.grouping&&this._setGrouping(this.grouping))
},flatten:function(t,i){
return i=e.whiteList(i,ue)||{},i.extensionDataSetsMap||(i.extensionDataSetsMap=(this.plot||this.chart).boundDimensionsDataSetsMap),
t.groupBy(this.flattenedGrouping(i),i)},flattenedGrouping:function(){
var t=this.grouping||e.fail.operationInvalid("Role is unbound.")
;return t=t.ensure({flatteningMode:this.flatteningMode})},select:function(t,i){
var n=this.grouping||e.fail.operationInvalid("Role is unbound.")
;return i=e.whiteList(i,ue),
i.extensionDataSetsMap||(i.extensionDataSetsMap=(this.plot||this.chart).boundDimensionsDataSetsMap),
t.groupBy(n,i)},view:function(e){var t=this.grouping;if(t)return t.view(e)},
preBind:function(e){return this.__grouping=e,this},isPreBound:function(){
return!!this.__grouping},preBoundGrouping:function(){return this.__grouping},
isBound:function(){return!!this.grouping},get boundDimensionsDataSet(){
var e=this._boundDimsData;if(!e){
var t=this.chart.getBoundDimensionsDataSetOf(this)
;this._boundDimsData=e=t.where(null,{
where:this._isBoundDimensionDatum.bind(this)})}return e},
_isBoundDimensionDatum:function(e){var t=this.grouping;if(t){
var i=e.atoms.dim.value;return t.dimensionNames().indexOf(i)>=0}return!1},
_loadDimensionsDataSet:function(){
var e=this.boundDimensionsDataSet,t=e.owner,n=this.grouping.complexType,r=this.grouping.dimensionNames().map(function(e){
var r=n.dimensions(e);return new i.Datum(t,{dim:{v:e,f:r.label}})});t.add(r)},
postBind:function(e,t){var i=this.__grouping
;return i&&(i.isNull||(i.bind(e,t),this.bind(i)),delete this.__grouping),this},
bind:function(t){if(!t)throw e.error.argumentRequired("groupingSpec")
;if(this.grouping)throw e.error.operationInvalid("Visual role is already bound")
;return this._coerceGrouping(t),
this._setGrouping(t),this.isMeasureEffective&&(this._loadDimensionsDataSet(),
this._setupGetBoundDimensionName()),this},_coerceGrouping:function(t){
if(!t.isBound)throw e.error.operationInvalid("Cannot bind to an unbound grouping.")
;if(t.isNull)throw e.error.operationInvalid("Cannot bind to a null grouping.")
;if(this.requireSingleDimension&&!t.isSingleDimension)throw e.error.operationInvalid("Role '{0}' only accepts a single dimension.",[this.name])
;var n=this.valueType,r=this.requireIsDiscrete;t.dimensions().each(function(t){
var o=t.dimensionType
;if(n&&o.valueType!==n)throw e.error.operationInvalid("Role '{0}' cannot be bound to dimension '{1}'. \nIt only accepts dimensions of type '{2}' and not of type '{3}'.",[this.name,o.name,i.DimensionType.valueTypeName(n),o.valueTypeName])
;if(null!=r&&o.isDiscrete!==r){
if(!r)throw e.error.operationInvalid("Role '{0}' cannot be bound to dimension '{1}'.\nIt only accepts continuous dimensions.",[this.name,o.name])
;o._toDiscrete()}},this)},canHaveSource:function(e){var t=this.valueType
;return null==t||t===e.valueType},_setGrouping:function(e){e=e.ensure({
rootLabel:this.rootLabel}),this.isReversed&&(e=e.reverse()),this.grouping=e},
_setupGetBoundDimensionName:function(){
var e=this.discriminatorDimensionFullName,t=this.boundDimensionsDataSet,i=this.grouping.isSingleDimension?this.grouping.singleDimensionName:null
;this.getBoundDimensionName=function(n,r){var o,a=n.atoms[e]
;if(void 0===a||null===(o=a.value)){if(null!==i)return i;if(r)return null
;throw this._errorMustBindDiscrimDimension()}if(!t.datumByKey(o)){
if(r)return null;throw this._errorMustBindDiscrimDimension()}return o}},
_errorMustBindDiscrimDimension:function(){
return new e.error.operationInvalid("Must bind the measure discriminator dimension '"+this.discriminatorDimensionFullName+"'.")
},getBoundDimensionName:function(t,i){
throw e.error.operationInvalid("Not a bound measure visual role.")},
isBoundDimensionName:function(e,t){return this.getBoundDimensionName(e,!0)===t},
isBoundDimensionCompatible:function(e){
var t=this.discriminatorDimensionFullName,i=this.boundDimensionsDataSet,n=e.atoms[t]
;if(void 0===n||null===n.value)return!0;var r=n.value;return!!i.datumByKey(r)},
getCompatibleBoundDimensionNames:function(e){
var t=this.discriminatorDimensionFullName,i=this.boundDimensionsDataSet,n=e.atoms[t]
;if(void 0===n||null===n.value)return this.grouping.dimensionNames()
;var r=n.value;return null!==i.datumByKey(r)?[r]:[]},
numberValueOf:function(e,t){
return this.grouping.isSingleDimension?e.dimensionNumberValue(this.grouping.singleDimensionName,t):(t=this._getDimensionOperKeyArgs(t),
e.dimensionNumberValue(this.getBoundDimensionName.bind(this),t))},
percentOf:function(e,t){
return this.grouping.isSingleDimension?e.dimensionPercentValue(this.grouping.singleDimensionName,t):(t=this._getDimensionOperKeyArgs(t),
e.dimensionPercentValue(this.getBoundDimensionName.bind(this),t))},
_getDimensionOperKeyArgs:function(e){
return e=e?Object.create(e):{},e.discrimKey=this.uid,
e.discrimPossibleDims=this.grouping.allDimensionNames,e}}).type().add({
readConfig:function(t,n,r){var o,a={isReversed:!1,source:null,grouping:null,
legend:null};if(e.object.is(t)){
t.isReversed&&(a.isReversed=!0),a.legend=t.legend;var s=t.from;if(s){
if(s===n)throw e.error.operationInvalid("Invalid source role.")
;a.source=r(s)||e.fail.operationInvalid("Source visual role '{0}' is not defined.",[s])
}else o=t.dimensions}else(null===t||e.string.is(t))&&(o=t)
;return void 0!==o&&(a.grouping=i.GroupingSpec.parse(o)),a},
parseDataSetName:function(e){var t=/^(.+?)Role$/.exec(e);return t&&t[1]}
}),Y.visual.rolesBinder=function(){function t(){
if(k(A,x),!v)throw e.error.argumentRequired("context")
;if(!y)throw e.error.argumentRequired("complexTypeProject")
;return A=w,_=!!b&&b.level()>=3,v.query().each(function(e){var t=v.getOptions(e)
;(void 0===t||!n(e,t))&&r(e)}),j.forEach(l,this),j=[],c(),A=C,this}
function n(e,t){var i=Y.visual.Role.readConfig(t,e.name,v)
;if(i.isReversed&&(e.isReserved=!0),
null!=i.legend&&e.legend(i.legend),i.source)return e.sourceRole=i.source,o(e),!0
;var n=i.grouping;return!!n&&(a(e,n),!0)}function r(e){var t=v(e.name)
;t!==e&&e.canHaveSource(t)&&(e.sourceRole=t,o(e))}function o(e){j.push(e)}
function a(e,t){
e.preBind(t),t.isNull?S(e):t.dimensionNames().forEach(function(t){s(e,t)})}
function s(e,t){P[t]?delete I[t]:(P[t]=!0,I[t]=e,y.setDim(t))}function l(e){
return u(e,Object.create(null))}function u(t,i){var n=t.uid
;if(e.hasOwn(i,n))throw e.error.argumentInvalid("visualRoles","Cyclic source role definition.")
;if(i[n]=!0,t.isPreBound())return t.preBoundGrouping();var r=t.sourceRole;if(r){
var o=u(r,i)
;return o&&(r.isReversed&&(t.isReserved=!t.isReversed),t.preBind(o)),o}
return null}function c(){e.eachOwn(I,function(e,t){
y.setDimDefaults(t,e.dimensionDefaults)}),I=Object.create(null)}function h(){
k(A,C),A=D,v.query().where(function(e){return!e.isPreBound()
}).each(d),j.forEach(function(e){l(e)||p(e)}),c(),A=M}function d(e){
if(e.sourceRole)return o(e);var t=e.defaultDimensionGroup;if(t){
if(e.defaultDimensionGreedy){var i=y.groupDimensionsNames(t);if(i)return f(e,i)
}else if(y.hasDim(t))return f(e,t);if(e.autoCreateDimension)return y.setDim(t,{
isHidden:!0}),f(e,t)}if(e.defaultSourceRoleName){
var n=v(e.defaultSourceRoleName);if(n)return e.sourceRole=n,o(e)}p(e)}
function f(e,t){a(e,i.GroupingSpec.parse(t))}function p(e){
S(e),e.sourceRole=null}function m(t){k(A,M),A=N,v.query().where(function(e){
return e.isMeasure&&e.isPreBound()}).each(function(e){try{e.postBind(t)
}catch(e){if("need-extension-map"!==e.code)throw e}});var i=null
;v.query().where(function(e){return e.isPreBound()}).each(function(n){var r
;"dataPart"===n.name?r=null:n.plot?r=n.plot.boundDimensionsComplexTypesMap:(null===i&&(i=v.getExtensionComplexTypesMap()),
r=i);try{n.postBind(t,r)}catch(t){
if("need-extension-map"===t.code&&"dataPart"===n.name)throw e.error.operationInvalid("The data part visual role cannot be bound to measure role discriminator dimensions.")
;throw t}}),_&&g(),A=T}function g(){
var t=e.textTable(3).rowSep().row("Visual Role","Source Role","Bound to Dimension(s)").rowSep()
;v.query().each(function(e){
t.row(e.prettyId(),e.sourceRole?e.sourceRole.prettyId():"-",String(e.grouping||"-"))
}),t.rowSep(!0),b("VISUAL ROLES MAP SUMMARY\n"+t()+"\n")}
var v,y,b,_,x=0,w=1,C=2,D=3,M=4,N=5,T=6,A=x,j=[],I=Object.create(null),P=Object.create(null)
;return{logger:function(e){return arguments.length?(k(A,x),b=e,this):b},
context:function(e){return arguments.length?(k(A,x),v=e,this):v},
complexTypeProject:function(e){return arguments.length?(k(A,x),y=e,this):y},
init:t,dimensionsFinished:h,bind:m}
},e.type("pvc.visual.RoleVarHelper").init(function(t,i,n,r){this.role=n||null
;var o=n&&n.grouping;if(this.grouping=o,!i){
if(!n)throw e.error.operationInvalid("Role is not defined, so the roleName argument is required.")
;i=n.name}
if(this.roleName=i,this.sourceRoleName=null,this.hasPercentSubVar=e.get(r,"hasPercentSubVar",!1),
this.allowNestedVars=!!e.get(r,"allowNestedVars"),
this.isNumericMode=!1,null!==o){var a=n.rootSourceRole,s=a&&a.name
;s!==n.name&&(this.sourceRoleName=s),
o.isDiscrete()||o.singleContinuousValueType!==Number||(this.isNumericMode=!0)
}else{var l=t.vars[i]=this._createNullVar()
;this.hasPercentSubVar&&(l.percent=this._createNullVar())}
t["is"+e.firstUpperCase(i)+"Bound"]=!!o}).add({isBound:function(){
return!!this.grouping},onNewScene:function(t,i){if(this.grouping){
var n=this.roleName
;if(!(this.allowNestedVars?e.hasOwnProp.call(t.vars,n):n in t.vars)){
var r,o=this.sourceRoleName
;null===o||null===(r=e.getOwn(t.vars,o,null))?i&&(t.vars[n]=this._createVar(t)):t.vars[n]=r.clone()
}}},_createVar:function(e){if(this.isNumericMode){
var t=e.group,i=null!==t?t.singleDatum():e.datum
;return null!==i?this._createVarFromDatumNumber(i,e):null!==t?this._createVarFromGroupNumber(t):this._createVarFromDatumNumber(null,e)
}var n=e.datum;return null!==n&&n.isNull&&(n=e.datums().where(D).first()||null),
this._createVarFromDatumDiscrete(n)},_createNullVar:function(){
return new le(null,"")},_createVarFromDatumDiscrete:function(e){
if(null===e||e.isNull)return this._createNullVar()
;if(this.grouping.isSingleDimension)return le.fromAtom(e.atoms[this.grouping.singleDimensionName])
;var t=this.grouping.view(e);return le.fromComplex(t)},
_createVarFromDatumNumber:function(e,t){var i,n=null
;if(null===e||e.isNull)i=this._createNullVar();else{
var r,o=t.group,a=this.role.getBoundDimensionName(o||t.data(),null!=o)
;r=null!==a?e.atoms[a]:this.role.numberValueOf(o),
i=le.fromAtom(r),i.dimensionName=a,
null!=i.value&&this.hasPercentSubVar&&null!==t.group&&(n=this.role.percentOf(t.group))
}return this.hasPercentSubVar&&(i.percent=this._createPercentVar(n)),i},
_createVarFromGroupNumber:function(e){
var t=this.role.numberValueOf(e),i=le.fromAtom(t)
;if(i.dimensionName=null!==t.dimension?t.dimension.name:null,
this.hasPercentSubVar){var n=null!==t.value?this.role.percentOf(e):null
;i.percent=this._createPercentVar(n)}return i},_createPercentVar:function(e){
return null==e?this._createNullVar():new le(e.value,e.labelPercent)}
}),e.type("pvc.visual.DataCell").init(function(e,t,i,n){
this.plot=e,this.dataPartValue=e.dataPartValue,this.axisType=t,this.axisIndex=i,
this.role=n,this.key=[t,i,n.prettyId(),this.dataPartValue].join("~")}).add({
legendVisible:function(){return this.role.legend().visible},
isDataBoundOn:function(e){var t=this.role
;return!!t.isBound()&&(!t.isMeasureEffective||t.isBoundDimensionCompatible(e))}
}),e.type("pvc.visual.ColorDataCell",Y.visual.DataCell).init(function(e,t,i,n){
this.base(e,t,i,n),this._legendGroupScene=null,this._legendSymbolRenderer=null
}).add({legendSymbolRenderer:function(e){
return arguments.length?(e&&"object"==typeof e&&(e=Y.visual.legend.symbolRenderer(e)),
this._legendSymbolRenderer=e,this):this._legendSymbolRenderer}})
;var ce=e("pvc.visual.Axis",Y.visual.OptionsBase.extend({init:function(t,i,n,r){
this.base(t,i,n,r),
this.dataCells=null,this.dataCell=null,this.role=null,this._dataCellsByKey=null,
this._dataCellsScaleInfoByKey=null,this._domainData=null,this._domainItems=null,
this._domainValues=null,
this.scaleType=null,this._state={},r&&r.state&&e.copy(this._state,r.state),
t._addAxis(this)},methods:{_buildOptionId:function(){return this.id+"Axis"},
bind:function(t){
return t||e.fail.argumentRequired("dataCells"),!this.dataCells||e.fail.operationInvalid("Axis is already bound."),
this.dataCells=e.array.to(t),
this._dataCellsByKey=e.query(this.dataCells).uniqueIndex(function(e){
return e.key
}),this.dataCell=this.dataCells[0],this.role=this.dataCell&&this.dataCell.role,
this.scaleType=M(this.role.grouping),this._conciliateVisualRoles(),this},
isBound:function(){return!!this.role},__assertBound:function(){
this.isBound()||e.fail.operationInvalid("Axis is not bound.")},
isDiscrete:function(){return!!this.role&&this.role.isDiscrete()},
_conciliateVisualRoles:function(){var t=this.dataCells.length;if(t>1){
var n,r,o,a,s,l,u,c,h=this._getBoundRoleGrouping(this.role),d=function(t,i){
return e.error.operationInvalid(e.format(t,i))};if("discrete"===this.scaleType){
for(o=this.role.flatteningModes,
l=this.role.rootLabel,u=String(this.role.grouping.dimensionNames()),
c=1;c<t&&o;c++)if(n=this.dataCells[c].role,
o&=n.flatteningModes,l||(l=n.rootLabel),
r=this._getBoundRoleGrouping(n),u!==String(r.dimensionNames()))throw d("The visual roles '{0}', on axis '{1}', assumed discrete, should be bound to the same dimension list.",[[this.role.prettyId(),n.prettyId()].join("', '"),this.id])
;if(o===i.FlatteningMode.None)throw d("The visual roles on axis '{0}', assumed discrete, do not share a possible flattening mode.",[this.id])
;for(a=0,c=0;c<t;c++)n=this.dataCells[c].role,(s=n.flatteningMode)&o&&s>a&&(a=s)
;for(a||(a=o&-o),
c=0;c<t;c++)n=this.dataCells[c].role,n.rootLabel=l,n.flatteningMode=a,
n.flatteningModes=a}else{
if(!h.firstDimension.dimensionType.isComparable)throw d("The visual roles on axis '{0}', assumed continuous, should have 'comparable' groupings.",[this.id])
;for(c=1;c<t;c++){
if(n=this.dataCells[c].role,r=this._getBoundRoleGrouping(n),this.scaleType!==M(r))throw d("The visual roles on axis '{0}', assumed continuous, should have scales of the same type.",[this.id])
;if(this.role.isNormalized!==n.isNormalized)throw d("The visual roles on axis '{0}', assumed normalized, should be of the same type.",[this.id])
}}}},_getBoundRoleGrouping:function(t){var i=t.grouping
;if(!i||!i.isBound)throw e.error.operationInvalid("Axis' role '{0}' is unbound.",[t.name])
;return i},getState:function(){return this._buildState()},
_buildState:function(){return{}},setDataCellScaleInfo:function(t,i){
if(this._dataCellsByKey[t.key]!==t)throw e.error.argumentInvalid("dataCell","Not present in this axis.")
;e.lazy(this,"_dataCellsScaleInfoByKey")[t.key]=i},
getDataCellScaleInfo:function(t){
return e.getOwn(this._dataCellsScaleInfoByKey,t.key)},
domainVisibleOnly:e.retTrue,domainIgnoreNulls:e.retFalse,
domainReverse:e.retFalse,domainGroupOperator:e.fun.constant("flatten"),
domainItemValueProp:e.fun.constant("value"),
domainItemKeyProp:e.fun.constant("key"),_selectDomainItems:function(e){
return e.children()},domainData:function(){this.__assertBound()
;var t=this._domainData;if(!t){
var i=e.query(this.dataCells).select(e.propGet("dataPartValue")).distinct().array(),n=this.chart.partData(i)
;this._domainData=t=this._createDomainData(n)}return t},
domainCellData:function(e){this.__assertBound();var t=this.dataCells
;if(1===t.length)return this.domainData()
;var i=t[e],n=this.chart.partData(i.dataPartValue)
;return this._createDomainData(n)},domainCellItems:function(t){
if(this.__assertBound(),1===this.dataCells.length)return this.domainItems()
;var i=e.number.is(t)?this.domainCellData(t):t
;return this._selectDomainItems(i).array()},domainValues:function(){
var e=this._domainValues
;return e||(this._calcDomainItems(),e=this._domainValues),e},
domainItems:function(){var e=this._domainItems
;return e||(this._calcDomainItems(),e=this._domainItems),e},
domainItemCount:function(){return this.domainItems().length},
domainItemValue:function(t){return e.nullyTo(t[this.domainItemValueProp()],"")},
domainItemKey:function(t){return e.nullyTo(t[this.domainItemKeyProp()],"")},
get boundDimensionsDataSetsMap(){var e=null
;if(this.isBound()&&this.isDiscrete()){
var t=this.role.grouping.extensionComplexTypeNames;if(t){
var i=this.chart.boundDimensionsDataSetsMap
;e=Object.create(null),t.forEach(function(t){e[t]=i[t]})}}return e},
_createDomainData:function(e){this.__assertBound();var t={
visible:!!this.domainVisibleOnly()||null,
isNull:!this.chart.options.ignoreNulls&&!this.domainIgnoreNulls()&&null,
reverse:this.domainReverse(),
extensionDataSetsMap:this.boundDimensionsDataSetsMap}
;return this.role[this.domainGroupOperator()](e,t)},_calcDomainItems:function(){
var t=this.domainData(),i=[],n=[],r=Object.create(null),o=e.hasOwnProp
;this._selectDomainItems(t).each(function(e){var t=this.domainItemKey(e)
;o.call(r,t)||(r[t]=1,n.push(this.domainItemValue(e)),i.push(e))
},this),this._domainItems=i,this._domainValues=n},
scaleTreatsNullAs:e.fun.constant("null"),
scaleNullRangeValue:e.fun.constant(null),scaleUsesAbs:e.retFalse,
scaleSumNormalized:e.retFalse,setScale:function(t,i){
return this.isBound()||e.fail.operationInvalid("Axis is not bound."),
this.scale=t?i?t:this._wrapScale(t):null,this},_wrapScale:function(t){
t.type=this.scaleType;var i;if("discrete"!==t.type){
var n=this.scaleUsesAbs(),r=this.scaleTreatsNullAs();if(r&&"null"!==r){
var o="min"===r;i=n?function(e){return t(null==e?o?t.domain()[0]:0:e<0?-e:e)
}:function(e){return t(null==e?o?t.domain()[0]:0:e)}}else{
var a=this.scaleNullRangeValue();i=n?function(e){return null==e?a:t(e<0?-e:e)
}:function(e){return null==e?a:t(e)}}}else i=function(e){return t(null==e?"":e)}
;return e.copy(i,t)},sceneScale:function(t){
var i=e.get(t,"sceneVarName")||this.role.name,n=this.role.grouping,r=this.scale
;if(n.singleContinuousValueType===Number){
var o=e.get(t,"nullToZero",!0),a=function(e){var t=e.vars[i].value;if(null==t){
if(!o)return t;t=0}return r(t)};return e.copy(a,r),a}return r.by1(function(e){
return e.vars[i].value})}}}));e("pvc.visual.ColorAxis",ce.extend({methods:{
scaleNullRangeValue:function(){return this.option("Missing")||null},
scaleUsesAbs:function(){return this.option("UseAbs")},
domainVisibleOnly:function(){return"discrete"!==this.scaleType},
bind:function(t){
return this.base(t),this._legendGroupScene=null,this._plotList=e.query(t).select(function(e){
return e.plot}).distinct(function(e){return e&&e.id}).array(),this},
_buildState:function(){return{preservedMap:this._calcPreservedMap()}},
_calcPreservedMap:function(){var t=this.scale
;if(t&&"discrete"===this.scaleType){var i=this._state.preservedMap||{}
;return t.domain().forEach(function(n){e.hasOwn(i,n)||(i[n]=t(n))}),i}},
_wrapScale:function(e){var t=this.option.isSpecified
;if("discrete"!==this.scaleType||t("Transform")||!t("Colors")){
var i=this.option("Transform");i&&(e=e.transform(i))}return this.base(e)},
scheme:function(){return e.lazy(this,"_scheme",this._createScheme,this)},
_createColorMapFilter:function(t,i){var n=e.uniqueIndex(t,function(e){
return e.key});return{domain:function(i){return!e.hasOwn(t,i)},
color:function(t){return!e.hasOwn(n,t.key)}}},_getBaseScheme:function(){
return this.option("Colors")},_createScheme:function(){
var t=this,i=t._getBaseScheme();if("discrete"!==t.scaleType)return function(){
var e=i.apply(null,arguments);return t._wrapScale(e)}
;var n=this._getPreservedMap()||t.option("Map");if(!n)return function(){
var e=i.apply(null,arguments);return t._wrapScale(e)}
;var r=this._createColorMapFilter(n,i);return function(o){var a
;o instanceof Array||(o=e.array.copy(arguments)),o=o.filter(r.domain)
;var s=i(o),l=s.range().filter(r.color);s.range(l),a=function(t){
return e.getOwn(n,t)||s(t)},e.copy(a,s);var u,c;return a.domain=function(){
if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.")
;return u||(u=e.array.append(e.ownKeys(n),o)),u},a.range=function(){
if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.")
;return c||(c=e.array.append(e.own(n),l)),c},t._wrapScale(a)}},
_getPreservedMap:function(){
return this.option("PreserveMap")?this._state.preservedMap:null},
sceneScale:function(t){
var i=e.get(t,"sceneVarName")||this.role.name,n=this.scalesByCateg;if(n){
var r=this.option("Missing");return function(e){var t=e.vars[i].value
;if(null==t)return r;var o=e.group.parent.absKey;return n[o](t)}}
return this.scale.by1(function(e){return e&&e.vars[i].value})},
_registerResolversNormal:function(e,t){
this.chart.compatVersion()<=1&&e.push(this._resolveByV1OnlyLogic),
e.push(this._resolveByOptionId,this._resolveByScaleType,this._resolveByCommonId),
this.index||e.push(this._resolveByNaked)},
_resolveByScaleType:Y.options.specify(function(e){var t=this.scaleType;if(t){
var i=e.name,n=this._chartOption(t+"ColorAxis"+i)
;return void 0===n&&"discrete"!==t&&(n=this._chartOption("continuousColorAxis"+i)),
n}}),_resolveByCommonId:Y.options.specify(function(e){
return this._chartOption("colorAxes"+e.name)}),
_resolveByNaked:Y.options.specify(function(t){
return this._chartOption(this.id+e.firstUpperCase(t.name))}),
_specifyV1ChartOption:function(e,t){
if(!this.index&&this.chart.compatVersion()<=1&&this._specifyChartOption(e,t))return!0
}}}));var he,de={resolveDefault:function(t){
if(!this.index&&this._specifyChartOption(t,e.firstLowerCase(t.name)))return!0}}
;Y.visual.ColorAxis.options({Colors:{resolve:"_resolveFull",getDefault:T,data:{
resolveV1:function(e){
return"discrete"===this.scaleType?0===this.index?this._specifyChartOption(e,"colors"):1===this.index&&this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisColor"):this._specifyChartOption(e,"colorRange"),
!0},resolveDefault:function(e){
0===this.index&&this._specifyChartOption(e,"colors")}},cast:Y.colorScheme},Map:{
resolve:"_resolveFull",cast:N},PreserveMap:{resolve:"_resolveFull",cast:Boolean,
value:!1},Transform:{resolve:"_resolveFull",data:{resolveDefault:function(t){
var i=this._plotList;if(i.length){var n=!1;if(e.query(i).each(function(e){
if(e.isMain)return n=!1;var t=e.name;"plot2"!==t&&"trend"!==t||(n=!0)
}),n)return t.defaultValue(Y.brighterColorTransform),!0}}},cast:e.fun.to},
NormByCategory:{resolve:function(e){
return this.chart._allowColorPerCategory?this._resolveFull(e):(e.specify(!1),!0)
},data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"normPerBaseCategory"),!0}},cast:Boolean,
value:!1},ScaleType:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"scalingType"),!0}},
cast:Y.parseContinuousColorScaleType,value:"linear"},UseAbs:{
resolve:"_resolveFull",cast:Boolean,value:!1},Domain:{resolve:"_resolveFull",
data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"colorRangeInterval"),!0}},cast:e.array.to},
Min:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"minColor"),!0}},cast:t.color},Max:{
resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"maxColor"),!0}},cast:t.color},Missing:{
resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyV1ChartOption(e,"nullColor"),!0}},cast:t.color,
value:t.color("lightgray")},Unbound:{resolve:"_resolveFull",
getDefault:function(e){return this.option("Colors")().range()[0]||Y.defaultColor
},cast:t.color},LegendVisible:{resolve:"_resolveFull",data:de,cast:Boolean,
value:!0},LegendClickMode:{resolve:"_resolveFull",data:de,
cast:Y.parseLegendClickMode,value:"togglevisible"},LegendDrawLine:{
resolve:"_resolveFull",data:de,cast:Boolean,value:!1},LegendDrawMarker:{
resolve:"_resolveFull",data:de,cast:Boolean,value:!0},LegendShape:{
resolve:"_resolveFull",data:de,cast:Y.parseShape}
}),e("pvc.visual.SizeAxis",ce.extend({init:function(t,i,n,r){
r=e.set(r,"byNaked",!1),this.base(t,i,n,r)},methods:{
scaleTreatsNullAs:function(){return"min"},scaleUsesAbs:function(){
return this.option("UseAbs")},setScaleRange:function(t){var i=this.scale
;return i.min=t.min,
i.max=t.max,i.size=t.max-t.min,i.range(i.min,i.max),e.debug>=4&&e.log("Scale: "+e.describe(e.copyOwn(i))),
this}},options:{OriginIsZero:{resolve:"_resolveFull",cast:Boolean,value:!1},
FixedMin:{resolve:"_resolveFull",cast:e.number.to},FixedMax:{
resolve:"_resolveFull",cast:e.number.to},FixedLength:{resolve:"_resolveFull",
cast:e.number.to},DomainAlign:{resolve:"_resolveFull",cast:Y.parseDomainAlign,
value:"center"},UseAbs:{resolve:"_resolveFull",cast:Boolean,value:!1}}
})),e("pvc.visual.NormalizedAxis",ce.extend({init:function(t,i,n,r){
r=e.set(r,"byNaked",!1),this.base(t,i,n,r)},methods:{
scaleTreatsNullAs:function(){return"zero"},scaleUsesAbs:e.retTrue,
scaleSumNormalized:e.retTrue,setScaleRange:function(t){var i=this.scale
;return i.min=t.min,
i.max=t.max,i.size=t.max-t.min,i.range(i.min,i.max),e.debug>=4&&e.log("Scale: "+e.describe(e.copyOwn(i))),
this}},options:{OriginIsZero:{value:!0}}
})),e.type("pvc.BasePanel",Y.Abstract).add(Y.visual.Interactive).init(function(t,i,r){
if(this.chart=t,this.base(),this.axes=Object.create(t.axes),r){
r.scenes&&(this._sceneTypeExtensions=r.scenes,delete r.scenes);var o=r.axes
;o&&(e.copy(this.axes,o),delete r.axes)}
n.extend(this,r),this.axes.color||(this.axes.color=t.axes.color),
this.position={};var a=r&&r.margins;i||void 0!==a||(a=3),this.margins=new ne(a),
this.paddings=new ne(r&&r.paddings),
this.size=new re(r&&r.size),this.sizeMin=new re(r&&r.sizeMin),
this.sizeMax=new re(r&&r.sizeMax),
this.parent=i||null,i?(this.isTopRoot=!1,this.isRoot=i.chart!==t,
this.root=this.isRoot?this:i.root,
this.topRoot=i.topRoot,this.isRoot&&(this.position.left=t.left,
this.position.top=t.top),
i._addChild(this)):(this.root=this,this.topRoot=this,this.isRoot=!0,
this.isTopRoot=!0);var s=i||t
;if(this.data=s.data,this.isRoot)this.anchor=null,this.align=null,
this.alignTo=null,this.offset=null;else{
this.align=Y.parseAlign(this.anchor,this.align);var l=this.alignTo,u=this.anchor
;null==l||""===l||"left"!==u&&"right"!==u?l=this.align:"page-middle"!==l&&(l=isNaN(+l.charAt(0))?Y.parseAlign(u,l):ie.parse(l)),
this.alignTo=l,this.offset=new te(this.offset)}if(null==this.borderWidth){
var c,h=this._getExtensionId()
;h&&null!=this._getExtension(h,"strokeStyle")&&(c=+this._getConstantExtension(h,"lineWidth"),
!isNaN(c)&&isFinite(c)||(c=null)),this.borderWidth=null==c?0:1.5}
var d=s.ibits(),f=Y.visual.Interactive,p=t.ibits()
;d=e.bit.set(d,f.Clickable,p&f.Clickable&&!!this.clickAction),
d=e.bit.set(d,f.DoubleClickable,p&f.DoubleClickable&&!!this.doubleClickAction),
d=e.bit.set(d,f.Animatable,p&f.Animatable),this._ibits&=d}).add({
_ibits:~Y.visual.Interactive.Animatable,chart:null,parent:null,_children:null,
type:t.Panel,_extensionPrefix:"",_rubberSelectableMarks:null,height:null,
width:null,borderWidth:null,anchor:"top",pvPanel:null,margins:null,
paddings:null,isRoot:!1,isTopRoot:!1,root:null,topRoot:null,_layoutInfo:null,
_signs:null,data:null,_animating:0,_selectingByRubberband:!1,_v1DimRoleName:{
series:"series",category:"category",value:"value"},_sceneTypeExtensions:null,
clickAction:null,doubleClickAction:null,compatVersion:function(e){
return this.chart.compatVersion(e)},getCompatFlag:function(e){
return this.chart.getCompatFlag(e)},_createLogId:function(){
return""+e.qualNameOf(this.constructor)+this.chart._createLogChildSuffix()},
_getLegendRootScene:function(){return this.chart._getLegendRootScene()},
_addChild:function(t){
t.parent===this||e.assert("Child has a != parent."),(this._children||(this._children=[])).push(t)
},_addSign:function(t){
e.array.lazy(this,"_signs").push(t),t.selectableByRubberband()&&e.array.lazy(this,"_rubberSelectableMarks").push(t.pvMark)
},layout:function(i){function n(e){var i=D[e]-C[e];if(i>t.epsilon){M[e]=i
;var n=this.margins.getDirectionPercentage(e)+this.paddings.getDirectionPercentage(e)
;n=Math.max(0,Math.min(1,n)),n>0&&(i/=1-n),_[e]=i,N[e]+=i
}else i<0&&(N[e]=D[e]+k.spacings[e])}var r=e.debug>=10,o=this._layoutInfo||null
;if(o){if(!e.get(i,"force",!1))return;o.previous=null}
var a=e.get(i,"canChange",!0),s=e.get(i,"sizeAvailable"),l=e.get(i,"sizeRef")||s&&re.clone(s),u=this.chart.parent?{
width:0,height:0
}:this.sizeMin.resolve(null),c=this.sizeMax.resolve(l),h=e.get(i,"size")||this.size.resolve(l)
;if(re.applyMin(c,u),re.applyMinMax(h,u,c),!s){
if(null==h.width||null==h.height)throw e.error.operationInvalid("Panel layout without width or height set.")
;s=re.clone(h),l||(l=re.clone(s))}
var d=this.borderWidth/2,f=e.get(i,"margins"),p=e.get(i,"paddings"),m=f?ne.updateSize(f):ne.inflate(this.margins.resolve(l),d),g=p?ne.updateSize(p):ne.inflate(this.paddings.resolve(l),d),v=m.width+g.width,y=m.height+g.height,b=re.clone(s)
;re.applyMinMax(s,u,c);var _={width:Math.max(0,s.width-b.width),
height:Math.max(0,s.height-b.height)
},x=re.deflate(s,v,y),w=re.deflate(h,v,y),C=re.clone(x)
;r&&(s.width-b.width||s.height-b.height?(this.log("Size          -> "+e.describe(b)),
this.log("Size (min/max)-> "+e.describe(s))):this.log("Size          -> "+e.describe(s)),
(m.width||m.height)&&this.log(" Margins      -> "+e.describe(m)),
(g.width||g.height)&&this.log("  Paddings    -> "+e.describe(g)),
this.log("   ClientSize -> "+e.describe(x)));var S={canChange:a,sizeMin:u,
sizeMax:c,size:h,clientSizeMin:re.deflate(u,v,y),
clientSizeMax:re.deflate(c,v,y),clientSize:w},k=this._layoutInfo={sizeRef:l,
referenceSize:l,desiredClientSize:w,borderWidth:this.borderWidth,margins:m,
paddings:g,spacings:{width:v,height:y},size:s,clientSize:x,
clientSizePage:o?o.clientSizePage:re.clone(x),previous:o,restrictions:S,
sizeIncrease:null,clientSizeIncrease:null},D=this._calcLayout(k)||x
;if(this.isVisible=D.width>0&&D.height>0,this.isVisible){
k.clientSize=re.applyMinMax(D,S.clientSizeMin,S.clientSizeMax);var M={width:0,
height:0},N=k.size
;if(n.call(this,"width"),n.call(this,"height"),(M.width||M.height)&&(k.clientSizeIncrease=M),
(_.width||_.height)&&(k.sizeIncrease=_),k.sizeIncrease&&(!f||!p)){
var T=re.clone(l)
;_.width&&(T.width+=_.width),_.height&&(T.height+=_.height),f||(m=ne.inflate(this.margins.resolve(T),d)),
p||(g=ne.inflate(this.paddings.resolve(T),d)),
k.margins=m,k.paddings=g,k.spacings.width=m.width+g.width,
k.spacings.height=m.height+g.height}}else k.size={width:0,height:0}
;k.desiredClientSize=k.restrictions=k.previous=null,
this.width=this.isVisible?N.width:0,
this.height=this.isVisible?N.height:0,r&&(this.log("   ClientSize <- "+e.describe(k.clientSize)),
k.clientSizeIncrease&&this.log("             (+) "+e.describe(k.clientSizeIncrease)),
(g.width||g.height)&&this.log("  Paddings    <- "+e.describe(k.paddings)),
(m.width||m.height)&&this.log(" Margins      <- "+e.describe(k.margins)),
this.log("Size          <- "+e.describe(k.size)),
k.sizeIncrease&&this.log("             (+) "+e.describe(k.sizeIncrease))),
this._onLaidOut()},_onLaidOut:function(){this.isRoot&&this.chart._onLaidOut()},
_getLayoutState:function(){var e=this._layoutInfo,t=this.anchor
;return"fill"===t&&(t=null),{size:t?re.toOrtho(e.size,t).resolve():e.size,
margins:e.margins,paddings:e.paddings}},getLayout:function(){
return this._layoutInfo||null},_calcLayout:function(t){function i(e,t,i){
for(var n=e,r=0;n--;){if(!1===t.call(i,n,r,e))return!0;r++}return!1}
function n(t,i,n){d&&f.log.group("Iteration #"+(i+1)+" / "+n);try{
c=new ne(0),h=e.copyOwn(u);for(var o,a=t>0,s=0,l=b.length;s<l;){
o=b[s],d&&o.log.group("Layout SIDE child");try{if(r.call(this,o,a))return!0
}finally{d&&o.log.groupEnd()}s++}for(s=0,l=y.length;s<l;){
o=y[s],d&&o.log.group("Layout FILL child");try{if(r.call(this,o,a))return!0
}finally{d&&o.log.groupEnd()}s++}return!1}finally{d&&f.log.groupEnd()}}
function r(t,n){var r,u=!1;return i(6,function(i,c,f){
d&&t.log.group("Iteration #"+(c+1)+" / "+f);try{
if(_.sizeAvailable=new re(h),_.paddings=r,
_.canChange=n&&i>0,t.layout(_),t.isVisible){if(u=a.call(this,t,n))return!1
;var p=t._layoutInfo.contentOverflow;if(o(r,p)){
if(r=p,i>0)return r=new ne(r),d&&t.log("Child changed content overflow: "+e.describe(r)),
!0
;d&&t.log.warn("Child content overflow changed, but iterations limit has been reached.")
}s.call(this,t),"fill"!==t.anchor&&l.call(this,t)}return!1}finally{
d&&t.log.groupEnd()}},this),u}function o(t,i){
return!!i&&e.query(ne.names).each(function(e){var n=t&&t[e]||0,r=i&&i[e]||0
;if(Math.abs(r-n)>=Y.roundPixel.epsilon)return!1})}function a(e,t){
function i(i){var o=r[i]
;o>Y.roundPixel.epsilon&&(t?(n=!0,h[i]+=o,u[i]+=o):d&&e.log.warn("Child wanted more "+i+", but layout iterations limit has been reached."))
}var n=!1,r=e.getLayout().sizeIncrease
;return r&&("fill"===e.anchor?re.names.forEach(i):i(e.anchorLength())),n}
function s(i){var n,r=i.anchor,o=i.align,a=i.alignTo
;"fill"===r?(r="left",n=c.left+h.width/2-i.width/2,o=a="middle"):n=c[r];var s,l
;switch(o){case"top":case"bottom":case"left":case"right":s=o,l=0;break
;case"center":case"middle":s=g[m[r]],l=-i[p[s]]/2}var u,d;switch(a){case"top":
case"bottom":case"left":case"right":d=a,u=d!==s?h[p[s]]:0;break;case"center":
case"middle":d=g[m[r]],u=h[p[s]]/2;break;case"page-center":case"page-middle":
d=g[m[r]];var f=p[s];u=Math.min(h[f],t.clientSizePage[f])/2}
var y=c[d]+u+l,b=i.offset.resolve(h)
;b&&(n+=b[v[r]]||0,y+=b[v[s]]||0),i.keepInBounds&&(n<0&&(n=0),
y<0&&(y=0)),i.setPosition(e.set({},r,n,s,y))}function l(e){
var t=e.anchor,i=p[t],n=e[i];c[t]+=n,h[i]-=n}var u,c,h,d,f=this;if(f._children){
var p=Y.BasePanel.orthogonalLength,m=Y.BasePanel.relativeAnchor,g=Y.BasePanel.leftTopAnchor,v=te.namesSidesToOffset,y=[],b=[]
;f._children.forEach(function(t){var i=t.anchor
;i&&("fill"===i?y.push(t):(e.hasOwn(m,i)||e.fail.operationInvalid("Unknown anchor value '{0}'",[i]),
b.push(t)))}),d=e.debug>=10,u=e.copyOwn(t.clientSize);var _={force:!0,sizeRef:u}
;d&&f.log.group("CCC DOCK LAYOUT");try{i(5,n,f)}finally{d&&f.log.groupEnd()}}
return u},invalidateLayout:function(){
this._layoutInfo=null,this._children&&this._children.forEach(function(e){
e.invalidateLayout()})},_create:function(i){if(!this.pvPanel||i){
if(this.pvPanel=null,
this.pvRootPanel&&(this.pvRootPanel=null),delete this._signs,
this.isRoot&&(this.layout(),
this.isTopRoot&&this.chart._isMultiChartOverflowClip))return
;if(!this.isVisible)return;this.isRoot&&this._creating()
;var n=this._layoutInfo.margins,r=this._layoutInfo.paddings;if(this.isTopRoot){
this.pvRootPanel=this.pvPanel=(new t.Panel).canvas(this.chart.options.canvas)
;var o=new Y.visual.Scene(null,{panel:this})
;this.pvRootPanel.lock("data",[o]),(n.width>0||n.height>0)&&(this.pvPanel.width(this.width).height(this.height),
this.pvPanel=this.pvPanel.add(t.Panel))
}else this.pvPanel=this.parent.pvPanel.add(this.type)
;this.pvPanel.isPointingBarrier=!0
;var a=this.pvPanel,s=this.width-n.width,l=this.height-n.height
;a.width(s).height(l),
e.debug>=15&&(n.width>0||n.height>0)&&(this.isTopRoot?this.pvRootPanel:this.parent.pvPanel).add(this.type).width(this.width).height(this.height).left(null!=this.position.left?this.position.left:null).right(null!=this.position.right?this.position.right:null).top(null!=this.position.top?this.position.top:null).bottom(null!=this.position.bottom?this.position.bottom:null).strokeStyle("orange").lineWidth(1).strokeDasharray("- .")
;var u={};e.eachOwn(this.position,function(e,t){
a[t](e+n[t]),u[this.anchorLength(t)]=!0
},this),u.width||(n.left>0&&a.left(n.left),
n.right>0&&a.right(n.right)),u.height||(n.top>0&&a.top(n.top),
n.bottom>0&&a.bottom(n.bottom)),
(r.width>0||r.height>0)&&(this.pvPanel=a.add(t.Panel).width(s-r.width).height(l-r.height).left(r.left).top(r.top)),
a.borderPanel=a,
a.paddingPanel=this.pvPanel,this.pvPanel.paddingPanel=this.pvPanel,
this.pvPanel.borderPanel=a,
e.debug>=15&&(this.pvPanel.strokeStyle("lightgreen").lineWidth(1).strokeDasharray("- "),
this.pvPanel!==a&&a.strokeStyle("blue").lineWidth(1).strokeDasharray(". "))
;var c=this._getExtensionId();if(new Y.visual.Panel(this,null,{panel:a,
extensionId:c}),this._createCore(this._layoutInfo),this.isTopRoot){
var h=this.chart._multiInfo
;h&&!h.isLastPage&&"clip"===this.chart.multiOptions.option("Overflow")&&this._addMultichartOverflowClipMarker(),
this._initSelection(),
this.interactive()&&"near"===this.chart._pointingOptions.mode&&this._requirePointEvent()
}if(this.applyExtensions(),this.isRoot&&e.debug>5){
var d=["SCALES SUMMARY",e.logSeparator];this.chart.axesList.forEach(function(t){
var i=t.scale;if(i){var n=i.domain&&i.domain(),r=i.range&&i.range()
;d.push(t.id),
d.push("    domain: "+(n?e.describe(n):"?")),d.push("    range : "+(r?e.describe(r):"?"))
}},this),this.log(d.join("\n"))}}},_creating:function(){
this._children&&this._children.forEach(function(e){e._creating()})},
_createCore:function(e){this._children&&this._children.forEach(function(e){
e._create()})},render:function(t){
if(!this.isTopRoot)return this.topRoot.render(t)
;if(this._create(e.get(t,"recreate",!1)),
(!this.isTopRoot||!this.chart._isMultiChartOverflowClip)&&this.isVisible){
var i=this.pvRootPanel;this._onRender()
;var n=this._animating,r=this.animatable()
;this._animating=r&&!e.get(t,"bypassAnimation",!1)?1:0;try{
if(i.render(),this._animating){this._animating=2;var o=this
;i.transition().duration(2e3).ease("cubic-in-out").start(function(){
n?n=0:(o._animating=0,o._onRenderEnd(!0))})}else this._onRenderEnd(!1)}finally{
this._animating=0}}},_onRender:function(){
var e=this.chart.options.renderCallback
;if(e)if(this.compatVersion()<=1)e.call(this.chart);else{var t=this.context()
;e.call(t,t.scene)}},_onRenderEnd:function(e){
if(this._children&&this._children.forEach(function(t){t._onRenderEnd(e)
}),this.isTopRoot){var t=this.chart.options.renderedCallback;if(t){
var i=this.context();t.call(i,i.scene)}}},renderInteractive:function(){
if(this.isVisible){var e=this._getRenderInteractiveMarks()
;if(e&&e.length)e.forEach(function(e){e.render()
});else if(!this._children)return void this.pvPanel.render()
;this._children&&this._children.forEach(function(e){e.renderInteractive()})}},
_getRenderInteractiveMarks:function(){return this._getSelectableMarks()},
_getSelectableMarks:function(){return this._rubberSelectableMarks},
animatable:function(){
return this.base()||!!this._children&&this._children.some(function(e){
return e.animatable()})},animate:function(e,t){
return 1===this.topRoot._animating?e:t},animatingStart:function(){
return 1===this.topRoot._animating},animating:function(){
return this.topRoot._animating>0},setPosition:function(t){
for(var i in t)if(e.hasOwn(ne.namesSet,i)){var n=t[i]
;null===n?delete this.position[i]:(n=+n,
!isNaN(n)&&isFinite(n)&&(this.position[i]=n))}},
createAnchoredSize:function(e,t){return this.isAnchorTopOrBottom()?{
width:t.width,height:Math.min(t.height,e)}:{width:Math.min(t.width,e),
height:t.height}},applyExtensions:function(){
this._signs&&this._signs.forEach(function(e){e.applyExtensions()})},
extend:function(e,t,i){this.chart.extend(e,this._makeExtensionAbsId(t),i)},
extendAbs:function(e,t,i){this.chart.extend(e,t,i)},
_extendSceneType:function(t,i,n){var r=e.get(this._sceneTypeExtensions,t)
;r&&Y.extendType(i,r,n)},_absBaseExtId:{abs:"base"},_absSmallBaseExtId:{
abs:"smallBase"},_getExtensionId:function(){
if(this.isRoot)return this.chart.parent?this._absSmallBaseExtId:this._absBaseExtId
},_getExtensionPrefix:function(){return this._extensionPrefix},
_makeExtensionAbsId:function(e){
return Y.makeExtensionAbsId(e,this._getExtensionPrefix())},
_getExtension:function(e,t){
return this.chart._getExtension(this._makeExtensionAbsId(e),t)},
_getExtensionAbs:function(e,t){return this.chart._getExtension(e,t)},
_getConstantExtension:function(e,t){
return this.chart._getConstantExtension(this._makeExtensionAbsId(e),t)},
getPvPanel:function(i){var n=this.pvPanel;if(!i)return n
;if(!this.parent)throw e.error.operationInvalid("Layers are not possible in a root panel.")
;if(!n)throw e.error.operationInvalid("Cannot access layer panels without having created the main panel.")
;var r=null;if(this._layers?r=this._layers[i]:this._layers={},!r){
r=this.parent.pvPanel.borderPanel.add(this.type).extend(n.borderPanel);var o=r
;n!==n.borderPanel&&(r=o.add(t.Panel).extend(n)),
o.borderPanel=o,o.paddingPanel=r,
r.paddingPanel=r,r.borderPanel=o,this.initLayerPanel(r,i),this._layers[i]=r}
return r},initLayerPanel:function(){},_getV1DimName:function(e){
var t=this._v1DimName||(this._v1DimNameCache={}),i=t[e];if(null==i){
var n=this.visualRoles[this._v1DimRoleName[e]]
;i=n?n.grouping.firstDimension.name:"",t[e]=i}return i},_getV1Datum:function(e){
return e.datum},context:function(){var e=this._context
;return!e||e.isPinned?e=this._context=new Y.visual.Context(this):p.call(e),e},
visualRolesOf:function(e,t){return t?this.chart.visualRolesOf(e):null},
_isTooltipEnabled:function(){
return!this.selectingByRubberband()&&!this.animating()},
_getTooltipFormatter:function(e){var t=this.compatVersion()<=1,i=e.format
;if(!i){if(!t)return this._summaryTooltipFormatter.bind(this)
;if(!(i=this.chart.options.v1StyleTooltipFormat))return}return t?function(e){
return i.call(e.panel,e.getV1Series(),e.getV1Category(),e.getV1Value()||"",e.getV1Datum())
}:function(e){return i.call(e,e.scene)}},CSS_TT_CLASS:"ccc-tt",
_summaryTooltipFormatter:function(t){function i(){var e=[]
;return c.isTrend&&e.push(_("tr",{class:x("trendLabel","trend-"+v(c.trend.type))
},_("td",{colspan:3},_("span",null,y(c.trend.label))))),T&&(e.push.apply(e,n()),
f&&j&&e.push(_("tr",{class:x("dimSep")
},'<td colspan="3"><hr/></td>'))),e.push.apply(e,r()),j&&e.push(_("tr",{
class:x("datumCount")},'<td colspan="3"><span>'+M.length+"</span></td>")),e}
function n(){var t=S.atoms
;return D.sortDimensionNames(e.keys(t)).map(function(e){var i,n,r=t[e]
;return null==(i=r.value)||(n=r.dimension.type,
n.isHidden)?"":((f||(f={}))[e]=!0,a(n,i,r.label))})}function r(){
return D.dimensionsList().map(o)}function o(t){var i=t.name
;if(t.isHidden||e.getOwn(f,i))return"";var n,r,o,s,p;if(A){var m=c.atoms[i]
;r=m.value,
o=m.label,p=c.isInterpolated&&c.interpDimName===i?c.interpolation:null
}else d||(d=u.allGroup()),
n=d.dimensions(i),t.valueType===Number?(j&&(s="sum"),r=n.value(g),o=n.format(r),
null===C&&(C=w.interpolatable()),C&&(p=h(l).where(function(e){
return e.isInterpolated&&e.interpDimName===i}).select(function(e){
return e.interpolation
}).first())):(j&&(s="list"),(r=o=n.atoms(g).filter(function(e){
return null!=e.value}).map(function(e){return e.label||"- "
}).join(", "))||(r=null));return a(t,r,o,s,p)}function a(t,i,n,r,o){
var a=x("dim","dimValueType-"+t.valueTypeName,"dim"+(t.isDiscrete?"Discrete":"Continuous"),r?"dimAgg":"",r?"dimAgg-"+r:""),l=null,c=s(t.name),h=c?c.map(function(e){
if(e.isPercent&&null===l){var t=u.vars[e.name];t&&null!=t.percent&&(l=t.percent)
}return _("span",{class:x("role","role-"+e.name)},_("span",{class:x("roleIcon")
},""),_("span",{class:x("roleLabel")},y(e.label)))}):"";return _("tr",{class:a
},_("td",{class:x("dimLabel")},_("span",null,y(t.label))),_("td",{
class:x("dimRoles")},h),_("td",{class:x("dimValue",null==i?"valueNull":"")
},_("span",{class:x("value")},y(n)),null!==l?""+_("span",{class:x("valuePct")
},function(){return y(l.label)}):"",o?" "+_("span",{
class:x("interp","interp-"+v(o))},y(e.firstUpperCase(o)+" interp.")):""))}
function s(e){var t=p.visualRolesOf(e,!0);return t&&T&&(t=t.filter(function(t){
return!t.isMeasureEffective||t.isBoundDimensionName(S,e)})),t}
var l,u=t.scene,c=u.datum,h=e.query;if(!c)return""
;if(l=u.datums().array(),h(l).all(function(e){return e.isNull}))return""
;var d,f,p=this,m=this.CSS_TT_CLASS,g={visible:!0
},v=e.css.escapeClass,y=e.html.escape,b=e.html.classes,_=e.html.tag,x=b.bind(null,m),w=t.chart,C=null,S=u.group,k=u.data(),D=k.type,M=h(l).where(function(e){
return!e.isVirtual
}).array(),N=t.sign.defaultColor(u),T=!!S&&1===u.groups.length,A=1===l.length,j=M.length>1
;return _("div",{class:m},function(){
var t=e.array.appendMany(["ds"],p._getTooltipPanelClasses(),"chartOrient-"+(w.isOrientationVertical()?"v":"h"))
;return _("table",{class:x.apply(null,t),
"data-ccc-color":N&&"none"!==N.color?N.color:""},_("tBody",null,i))})},
_getTooltipPanelClasses:function(){},_requirePointEvent:function(){
if(!this.isTopRoot)return this.topRoot._requirePointEvent()
;this._attachedPointEvent||(this.pvPanel.root.events("all").event("mousemove",t.Behavior.point(this.chart._pointingOptions)),
this._attachedPointEvent=!0)},_requireTipsy:function(){
if(!this.isTopRoot)return this.topRoot._requireTipsy();if(!this._tipsy){
var i=this.chart,n=e.create(i._tooltipOptions)
;n.isEnabled=this._isTooltipEnabled.bind(this),
"near"===i._pointingOptions.mode&&(n.usesPoint=!0),
this._tipsy=t.Behavior.tipsy(n)}return this._tipsy},_onClick:function(e){
var t=this.clickAction
;t&&(this.compatVersion()<=1?this._onV1Click(e,t):t.call(e,e.scene))},
_onDoubleClick:function(e){var t=this.doubleClickAction
;t&&(this.compatVersion()<=1?this._onV1DoubleClick(e,t):t.call(e,e.scene))},
_onV1Click:function(e,t){
t.call(e.pvMark,e.getV1Series(),e.getV1Category(),e.getV1Value(),e.event,e.getV1Datum())
},_onV1DoubleClick:function(e,t){
t.call(e.pvMark,e.getV1Series(),e.getV1Category(),e.getV1Value(),e.event,e.getV1Datum())
},_addMultichartOverflowClipMarker:function(){function t(e){
var t=e.shapeRadius();if(null==t){var n=e.shapeSize();null!=n&&(t=Math.sqrt(n))}
return t||i}var i=5,n=new Y.visual.Dot(this,this.pvPanel,{noSelect:!0,
noHover:!0,noClick:!0,noDoubleClick:!0,noTooltip:!1,freePosition:!0,
extensionId:"multiChartOverflowMarker"
}).lock("data").pvMark.shape("triangle").shapeRadius(i).top(null).left(null).bottom(function(){
return t(this)+10}).right(function(){return t(this)+10
}).shapeAngle(0).lineWidth(1.5).strokeStyle("red").fillStyle("rgba(255, 0, 0, 0.2)")
;e.fun.is(n.tooltip)&&n.tooltip("Some charts did not fit the available space.")
},selectingByRubberband:function(){return this.topRoot._selectingByRubberband},
_initSelection:function(){var i=this,n=i.chart;if(i.interactive()){
var r=i.unselectable(),o=i.selectableByRubberband();if(o||r){
var a=i.data,s=i.pvRootPanel||i.pvPanel.paddingPanel
;if(i._getExtensionAbs("base","fillStyle")||s.fillStyle(Y.invisibleFill),
s.lock("events","all"),o){i._selectingByRubberband=!1
;var l,u,c,h=this.selectBar=new Y.visual.Bar(i,s,{extensionId:"rubberBand",
normalStroke:!0,noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0
}).override("defaultStrokeWidth",e.fun.constant(1.5)).override("defaultColor",function(e,t){
return"stroke"===t?"#86fe00":"rgba(203, 239, 163, 0.6)"
}).override("interactiveColor",function(e,t){return t
}).pvMark.lock("visible",function(){return!!u}).lock("left",function(){
return u.x}).lock("right").lock("top",function(){return u.y
}).lock("bottom").lock("width",function(){return u.dx
}).lock("height",function(){return u.dy}).lock("cursor").lock("events","none")
;s.intercept("data",function(){var e=this.delegate()
;return e&&e.forEach(function(e){null==e.x&&(e.x=e.y=e.dx=e.dy=0)}),e
}).event("mousedown",t.Behavior.select().autoRender(!1)).event("select",function(e){
if(u)u=new t.Shape.Rect(e.x,e.y,e.dx,e.dy);else{if(i.animating())return
;if(e.dx*e.dx+e.dy*e.dy<=4)return
;u=new t.Shape.Rect(e.x,e.y,e.dx,e.dy),i._selectingByRubberband=!0,
l||(l=s.toScreenTransform()),i.rubberBand=u.apply(l)}h.render()
}).event("selectend",function(){if(u){var e=arguments[arguments.length-1]
;l||(l=s.toScreenTransform());var t=u.apply(l)
;u=null,i._selectingByRubberband=!1,h.render();try{i._processRubberBand(t,e)
}finally{c=new Date}}}),r&&s.event("click",function(){
if(c&&new Date-c<300)return void(c=null);a.clearSelected()&&n.updateSelections()
})}else r&&s.event("click",function(){a.clearSelected()&&n.updateSelections()})}
}},_processRubberBand:function(e,t,i){this.rubberBand=e;try{
this._onRubberBandSelectionEnd(t,i)}finally{this.rubberBand=null}},
_onRubberBandSelectionEnd:function(t,n){
e.debug>=20&&this.log("rubberBand "+e.describe(this.rubberBand)),
n=Object.create(n||{}),n.toggle=!1;var r=this._getDatumsOnRubberBand(t,n)
;if(r&&r.length){var o=this.chart;o._updatingSelections(function(){
(r=o._onUserSelection(r))&&r.length&&(t.ctrlKey||t.metaKey||!o.options.ctrlSelectMode?n.toggle?i.Data.toggleSelected(r):i.Data.setSelected(r,!0):(o.data.owner.clearSelected(),
i.Data.setSelected(r,!0)))})}},_getDatumsOnRubberBand:function(t,i){
var n=new e.Map;return this._getDatumsOnRect(n,this.rubberBand,i),n.values()},
_getDatumsOnRect:function(e,t,i){this._getOwnDatumsOnRect(e,t,i)
;var n=this._children;n&&n.forEach(function(n){n._getDatumsOnRect(e,t,i)})},
_getOwnDatumsOnRect:function(t,i,n){var r=this;if(!r.isVisible)return!1
;var o=r._getSelectableMarks();if(!o||!o.length)return!1
;var a=t.count,s=e.get(n,"markSelectionMode"),l=function(e){
e.isNull||t.set(e.id,e)},u=function(e){
e.selectableByRubberband()&&e.datums().each(l)},c=function(e){
e.eachSceneWithDataOnRect(i,u,null,s)};return o.forEach(c),a<t.count},
isAnchorTopOrBottom:function(e){
return e||(e=this.anchor),"top"===e||"bottom"===e},
isOrientationVertical:function(e){return this.chart.isOrientationVertical(e)},
isOrientationHorizontal:function(e){return this.chart.isOrientationHorizontal(e)
}}).type().add({relativeAnchor:{top:"left",bottom:"left",left:"bottom",
right:"bottom"},leftBottomAnchor:{top:"bottom",bottom:"bottom",left:"left",
right:"left"},leftTopAnchor:{top:"top",bottom:"top",left:"left",right:"left"},
horizontalAlign:{top:"right",bottom:"left",middle:"center",right:"right",
left:"left",center:"center"},verticalAlign:{top:"top",bottom:"bottom",
middle:"middle",right:"bottom",left:"top",center:"middle"},verticalAlign2:{
top:"top",bottom:"bottom",middle:"middle",right:"top",left:"bottom",
center:"middle"},relativeAnchorMirror:{top:"right",bottom:"right",left:"top",
right:"top"},oppositeAnchor:{top:"bottom",bottom:"top",left:"right",right:"left"
},parallelLength:{top:"width",bottom:"width",right:"height",left:"height"},
orthogonalLength:{top:"height",bottom:"height",right:"width",left:"width"},
oppositeLength:{width:"height",height:"width"}}),e.scope(function(){
var t=Y.BasePanel,i={},n={anchorOrtho:"relativeAnchor",
anchorOrthoMirror:"relativeAnchorMirror",anchorOpposite:"oppositeAnchor",
anchorLength:"parallelLength",anchorOrthoLength:"orthogonalLength"}
;e.eachOwn(n,function(e,n){var r=t[e];i[n]=function(e){return r[e||this.anchor]}
}),t.add(i)}),e.type("pvc.ContentPanel",Y.BasePanel).add({anchor:"fill",
_getExtensionId:function(){return[{
abs:this.chart.parent?"smallContent":"content"}]}});var fe={}
;e("pvc.visual.Plot",Y.visual.OptionsBase.extend({init:function(t,i){
var n=e.getPath(t,["plotsByType",this.type]),r=n?n.length:0,o=t.plotList.length,a=!o,s=e.get(i,"isInternal",!0)
;if(i=e.setDefaults(i,"byNaked",a,"byName",s,"byV1",s),
s||(i.optionId=Y.uniqueExtensionAbsPrefix()),
this.base(t,this.type,r,i),this.name&&("$"===this.name||this.name.indexOf(".")>=0))throw e.error.argumentInvalid("name",e.format("Invalid plot name '{0}'.",[this.name]))
;this.prettyId=this.name||this.id,this.isInternal=!!s,this.isMain=a
;var l=this.extensionPrefixes=[this.optionId]
;s&&(a&&l.push(""),this.name&&l.push(this.name)),
this.visualRoles={},this.visualRoleList=[],
this.dataCellList=[],this.dataCellsByRole={},this._isBound=void 0
;var u=e.get(i,"spec");u&&this.processSpec(u)},methods:{get dataPartValue(){
return this.option("DataPart")},_buildOptionId:function(t){
return e.get(t,"optionId",this.id)},processSpec:function(t){
var i=this,n=i.chart.options,r=(i.isInternal?i.name:null)||i.optionId
;i.chart._processExtensionPointsIn(t,r,function(t,r,o){switch(o){case"name":
case"type":break;case"visualRoles":
i._visualRolesOptions=t,e.object.is(t)&&e.each(t,function(t){
e.object.is(t)&&t.from&&(t.from=i.ensureAbsRoleRef(t.from))});break;default:
n[r]=t}})},ensureAbsRoleRef:function(e){
return e&&e.indexOf(".")<0?this.prettyId+"."+e:e},
_getColorRoleSpec:e.fun.constant(null),_addVisualRole:function(t,i){
var n=this.visualRoleList;i=e.set(i,"index",n.length,"plot",this)
;var r=new Y.visual.Role(this.chart,t,i);return this.visualRoles[t]=r,n.push(r),
r},_addDataCell:function(t){
this.dataCellList.push(t),e.array.lazy(this.dataCellsByRole,t.role.name).push(t)
},get boundDimensionsComplexTypesMap(){var t=null
;return e.eachOwn(this.visualRoles,function(e){
!1!==e.isMeasureEffective&&(t||(t={}),
t[e.boundDimensionsDataSetName]=this.chart.getBoundDimensionsComplexTypeOf(e))
},this),t},get boundDimensionsDataSetsMap(){
var t=this._boundDimensionsDataSetsMap
;return t||(e.eachOwn(this.visualRoles,function(e){
!1!==e.isMeasureEffective&&(t||(t=Object.create(null)),
t[e.boundDimensionsDataSetName]=e.boundDimensionsDataSet)
},this),this._boundDimensionsDataSetsMap=t),t},interpolatable:function(){
return!1},visualRole:function(t){return e.getOwn(this.visualRoles,t,null)},
initEnd:function(){this._initVisualRoles(),this._initDataCells()},
_initVisualRoles:function(){var e=this._getColorRoleSpec()
;e&&this._addVisualRole("color",e)},_initDataCells:function(){
if(this.visualRoles.color){var e=this._getColorDataCell()
;e&&this._addDataCell(e)}},bindEnd:function(){
if(void 0!==this._isBound)throw e.error.operationInvalid("Plot binding has already ended.")
;this._isBound=this.visualRoleList.every(function(e){
return!e.isRequired||e.isBound()})},assertBound:function(){
this.isBound||this.visualRoleList.forEach(function(t){
if(t.isRequired&&!t.isBound())throw e.error.operationInvalid("The required visual role '{0}' is unbound.",[t.name])
})},get isBound(){return this._isBound},isDataBoundOn:function(t){
var i=this.isBound;if(void 0!==i){
var n=e.lazy(this,"_isBoundByData"),i=e.getOwn(n,t.id,null)
;null===i&&(i=e.query(this.dataCellList).all(function(e){
return!e.role.isBound()||e.isDataBoundOn(t)}),n[t.id]=i)}return i},
createData:function(e,t){return e.where(null,t)},
interpolateDataCell:function(t){
if(t.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")},
generateTrendsDataCell:function(t,i){
if(i.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")},
getContinuousVisibleCellExtent:function(t,i,n){
if(n.plot!==this)throw e.error.operationInvalid("Datacell not of this plot.")
;var r=n.role;if("series"===r.name)throw e.error.notImplemented()
;var o=t.visiblePlotData(this);if(i.scaleSumNormalized())return{min:0,
max:Math.abs(r.numberValueOf(o).value||0)}
;var a=r.grouping.dimensionNames(),s=i.scaleUsesAbs()
;return e.query(a).select(function(e){var t=o.dimensions(e).extent({abs:s})
;if(void 0!==t){var i=t.min.value,n=t.max.value;return{min:s?Math.abs(i):i,
max:s?Math.abs(n):n}}}).reduce(Y.unionExtents,null)},
_getColorDataCell:function(){var e=this.visualRoles.color
;if(e)return new Y.visual.ColorDataCell(this,"color",this.option("ColorAxis")-1,e)
}},options:{Orientation:{resolve:function(e){
return e.specify(this._chartOption("orientation")||"vertical"),!0},cast:String},
ValuesVisible:{resolve:"_resolveFull",data:{resolveV1:function(e){
if(0===this.globalIndex){var t=this._chartOption("showValues")
;return void 0!==t?e.specify(t):(t="point"!==this.type,e.defaultValue(t)),!0}}},
cast:Boolean,value:!1},ValuesAnchor:{resolve:"_resolveFull",cast:Y.parseAnchor},
ValuesFont:{resolve:"_resolveFull",cast:String,value:"10px sans-serif"},
ValuesMask:{resolve:"_resolveFull",cast:String,value:"{value}"},
ValuesOptimizeLegibility:{resolve:"_resolveFull",cast:Boolean,value:!1},
ValuesOverflow:{resolve:"_resolveFull",cast:Y.parseValuesOverflow,value:"hide"},
DataPart:{resolve:"_resolveFull",cast:String,value:"0"},ColorAxis:{
resolve:Y.options.resolvers([function(e){
if(0===this.globalIndex)return e.specify(1),!0},"_resolveFull"]),
cast:function(t){return t=e.number.to(t),null!=t?e.between(t,1,10):1},value:1}},
"type.methods":{registerClass:function(e){fe[e.prototype.type]=e},
getClass:function(t){return e.getOwn(fe,t)}}}));var pe={}
;e.type("pvc.PlotPanel",Y.BasePanel).init(function(e,t,i,n){
null==n.sizeMin&&(n.sizeMin=this._getOptionSizeMin(e)),
null==n.paddings&&(n.paddings=e._axisOffsetPct),
this.base(e,t,n),this.plot=i,this.dataPartValue=i.dataPartValue,
this._extensionPrefix=i.extensionPrefixes,
this.axes.color=e._getAxis("color",(i.option("ColorAxis")||0)-1),
this.orientation=i.option("Orientation"),
this.valuesVisible=i.option("ValuesVisible"),
this.valuesAnchor=i.option("ValuesAnchor"),
this.valuesMask=i.option("ValuesMask"),
this.valuesFont=i.option("ValuesFont"),this.valuesOverflow=i.option("ValuesOverflow"),
this.valuesOptimizeLegibility=i.option("ValuesOptimizeLegibility"),
this.visualRoles=i.visualRoles,this.visualRoleList=i.visualRoleList}).add({
anchor:"fill",visualRoles:null,visibleData:function(e){
return this.chart.visiblePlotData(this.plot,e)},partData:function(){
return this.chart.partData(this.dataPartValue)},_getExtensionId:function(){
return["chart","plot"]},_getOptionSizeMin:function(e){
var t=e.parent?null:e.options.plotSizeMin;return null!=t?re.to(t):null},
visualRolesOf:function(t,i){
var n=e.getOwn(this._visualRolesByDim,t,null),r=i?this.chart.visualRolesOf(t):null
;return n&&r?n.concat(r):n||r},get _visualRolesByDim(){
var t=this.__visRolesByDim
;return t||(t=this.__visRolesByDim={},this.visualRoleList.forEach(function(i){
var n=i.grouping;n&&n.dimensionNames().forEach(function(n){
e.array.lazy(t,n).push(i)})})),t},_getTooltipPanelClasses:function(){
return["plot","plot-"+this.plot.type]},isOrientationVertical:function(){
return this.orientation===Y.orientation.vertical},
isOrientationHorizontal:function(){
return this.orientation===Y.orientation.horizontal}}).type().add({
registerClass:function(e,t){pe[t||e.prototype.plotType]=e},getClass:function(t){
return e.getOwn(pe,t)}
}),e.type("pvc.PlotBgPanel",Y.BasePanel).init(function(e,t,i){this.base(e,t,i)
}).add({anchor:"fill",_getExtensionId:function(){return"plotBg"},
_createCore:function(e){
this.pvPanel.borderPanel.lock("zOrder",-13).antialias(!1),this.base(e)}
}),e("pvc.visual.Legend",Y.visual.OptionsBase.extend({init:function(t,i,n,r){
r=e.set(r,"byNaked",!1),this.base(t,i,n,r)},options:{Position:{
resolve:"_resolveFull",cast:Y.parsePosition,value:"bottom"},Size:{
resolve:"_resolveFull",cast:A},SizeMax:{resolve:"_resolveFull",cast:A},
ItemCountMax:{resolve:"_resolveFull",cast:e.number.toPositive},Align:{
resolve:"_resolveFull",data:{resolveDefault:function(e){
var t,i=this.option("Position")
;return"top"!==i&&"bottom"!==i?t="top":this.chart.compatVersion()<=1&&(t="left"),
e.defaultValue(t),!0}},cast:j},Margins:{resolve:"_resolveFull",data:{
resolveDefault:function(t){if(this.chart.compatVersion()>1){
var i=this.option("Position"),n=e.set({},Y.BasePanel.oppositeAnchor[i],5)
;t.defaultValue(n)}return!0}},cast:ne.as},Paddings:{resolve:"_resolveFull",
cast:ne.as,value:5},Font:{resolve:"_resolveFull",cast:String},ItemSize:{
resolve:"_resolveFull",cast:I},Overflow:{resolve:"_resolveFull",
cast:Y.parseLegendOverflow,value:"clip"}}
})),e.type("pvc.LegendPanel",Y.BasePanel).init(function(e,t,i){
if(this.base(e,t,i),void 0===i.font){
var n=this._getConstantExtension("label","font");n&&(this.font=n)}
var r=Y.visual.Interactive;this._ibits&r.Interactive&&(this._ibits|=r.Clickable)
}).add({pvRule:null,pvDot:null,pvLabel:null,anchor:"bottom",pvLegendPanel:null,
textMargin:6,itemPadding:2.5,itemSize:null,markerSize:15,font:"10px sans-serif",
_calcLayout:function(e){return this._getRootScene().layout(e)},
_createCore:function(i){
var n=i.clientSize,r=this._getRootScene(),o=r.vars.itemPadding,a=r.vars.contentSize,s=this.isAnchorTopOrBottom(),l=s?"top":"left",u=this.anchorOpposite(l),c=this.anchorLength(l),h=this.anchorOrthoLength(l),d=s?"center":"middle",f=s?"left":"top",p=this.anchorOpposite(f),m=0
;switch(this.align){case p:m=n[c]-a[c];break;case d:m=(n[c]-a[c])/2}
this.pvPanel.borderPanel.overflow("hidden")
;var g,v=this.pvPanel.add(t.Panel).data(r.vars.sections)[f](m)[l](function(){
var e=this.sibling();return e?e[l]+e[h]+o[h]:0})[c](function(e){return e.size[c]
})[h](function(e){return e.size[h]});this.compatVersion()<=1&&(g=function(e){
return function(t){return e.call(this,t.vars.value.rawValue)}})
;var y=this.pvLegendPanel=new Y.visual.Panel(this,v,{extensionId:"panel",
wrapper:g,noSelect:!1,noHover:!0,noClick:!1,noClickSelect:!0
}).pvMark.lock("data",function(e){return e.items
})[p](null)[u](null)[f](function(e){
for(var t,i=this.index;i>0&&!(t=this.scene[--i]).visible;);
return t&&t.visible?t[f]+t[c]+e.vars.itemPadding[c]:0})[l](s?function(e){
var t=e.vars;return t.section.size.height/2-t.itemClientSize.height/2
}:0).height(function(e){return e.vars.itemClientSize.height
}).width(s?function(e){return e.vars.itemClientSize.width}:function(){
return this.parent.width()}),b=new Y.visual.Panel(this,y,{
extensionId:"markerPanel"
}).pvMark.left(0).top(0).right(null).bottom(null).width(function(e){
return e.vars.markerSize}).height(function(e){
return e.vars.itemClientSize.height})
;e.debug>=20&&(v.strokeStyle("red").lineWidth(.5).strokeDasharray("."),
y.strokeStyle("green").lineWidth(.5).strokeDasharray("."),
b.strokeStyle("blue").lineWidth(.5).strokeDasharray(".")),
r.childNodes.forEach(function(e){
var t=new Y.visual.Panel(this,b).pvMark.visible(function(t){return t.parent===e
});e.renderer()(this,t,g)
},this),this.pvLabel=new Y.visual.Label(this,b.anchor("right"),{
extensionId:"label",noTooltip:!1,noClick:!1,wrapper:g
}).intercept("textStyle",function(e){this._finished=!1
;var t=this.delegateExtension()||"black"
;return this._finished||e.isOn()?t:Y.toGrayScale(t,null,void 0,150)
}).pvMark.textAlign("left").text(function(e){var t=e.labelText(),i=e.vars
;return i.textSize.width>i.labelWidthMax&&(t=Y.text.trimToWidthB(i.labelWidthMax,t,i.font,"..",!1)),
t}).textMargin(function(e){return e.vars.textMargin}).font(function(e){
return e.vars.font}).textDecoration(function(e){
return e.isOn()?"":"line-through"}).cursor(function(e){
return e.executable()?"pointer":"default"
}),e.debug>=16&&b.anchor("right").add(t.Panel)[this.anchorLength()](0)[this.anchorOrthoLength()](0).fillStyle(null).strokeStyle(null).lineWidth(0).add(t.Line).data(function(e){
var t=e.vars,i=Y.text.getLabelBBox(Math.min(t.labelWidthMax,t.textSize.width),2*t.textSize.height/3,"left","middle",0,t.textMargin),n=i.source.points()
;return n.length>1&&(n=n.concat(n[0])),n}).left(function(e){return e.x
}).top(function(e){return e.y
}).strokeStyle("red").lineWidth(.5).strokeDasharray("-")},_onClick:function(t){
var i=t.scene;e.fun.is(i.execute)&&i.executable()&&i.execute()},
_getExtensionPrefix:function(){return"legend"},_getExtensionId:function(){
return"area"},_getRenderInteractiveMarks:function(){
return[this.pvLegendPanel.parent]},_getRootScene:function(){
var e=this._rootScene
;return e||(this._rootScene=e=new Y.visual.legend.LegendRootScene(null,{
panel:this,source:this.chart.data,horizontal:this.isAnchorTopOrBottom(),
font:this.font,markerSize:this.markerSize,textMargin:this.textMargin,
itemPadding:this.itemPadding,itemSize:this.itemSize,
itemCountMax:this.itemCountMax,overflow:this.overflow})),e},
_getTooltipFormatter:function(e){return e.isLazy=!1,function(e){
var t=e.scene.vars.value,i=t.absLabel||t.label;return i!==e.pvMark.text()?i:""}}
}),
e.type("pvc.visual.legend.LegendRootScene",Y.visual.Scene).init(function(t,i){
this.base(t,i),
this._unresolvedMarkerDiam=e.get(i,"markerSize"),this._unresolvedItemPadding=new ne(e.get(i,"itemPadding",5)),
this._unresolvedItemSize=re.to(e.get(i,"itemSize"))||new re,
this._itemCountMax=e.get(i,"itemCountMax"),
this._overflow=e.get(i,"overflow"),e.set(this.vars,"horizontal",e.get(i,"horizontal",!1),"font",e.get(i,"font"),"textMargin",e.get(i,"textMargin",6)-3)
}).add({layout:function(t){function i(t){
var i=t.labelTextSize(),o=!i||!i.width||!i.height;if(t.isHidden=o,!o){var a,l={
width:f+i.width,height:Math.max(i.height,h)},c={width:u.width||s.width+l.width,
height:u.height||s.height+l.height},p={width:Math.max(0,c.width-s.width),
height:Math.max(0,c.height-s.height)}
;d?a=!d.items.length:(d=new Y.visual.legend.LegendItemSceneSection(0),a=!0)
;var v=d.size[m]+p[m];a||(v+=s[m]),!a&&v>_&&(n(!1),v=p[m]);var y=d.size
;y[m]=v,y[g]=Math.max(y[g],p[g]);var b=d.items.length
;r++,d.items.push(t),e.set(t.vars,"section",d,"sectionIndex",b,"textSize",i,"itemSize",c,"itemClientSize",p,"itemContentSize",l)
}}function n(e){var t=d.size
;y[g]+=t[g],v.length&&(y[g]+=s[g]),y[m]=Math.max(y[m],t[m]),
v.push(d),e||(d=new Y.visual.legend.LegendItemSceneSection(v.length))}
var r=0,o=t.clientSize;if(!(o.width>0&&o.height>0))return new re(0,0)
;var a=t.restrictions.clientSize
;if(null!=a.width&&0==a.width||null!=a.height&&0==a.height)return new re(0,0)
;var s=this._unresolvedItemPadding.resolve(o),l={width:o.width+s.width,
height:o.height+s.height},u=this._unresolvedItemSize.resolve(l),c={
width:u.width&&Math.max(0,u.width-s.width),
height:u.height&&Math.max(0,u.height-s.height)
},h=this._unresolvedMarkerDiam||c.height||15
;this.vars.itemPadding=s,this.vars.desiredItemSize=u,
this.vars.desiredItemClientSize=c,this.vars.markerSize=h
;var d,f=h+this.vars.textMargin,p=Math.max(0,Math.min(c.width||1/0,a.width||1/0,o.width)-f),m=this.vars.horizontal?"width":"height",g=Y.BasePanel.oppositeLength[m],v=[],y={
width:0,height:0},b=a[m],_=b
;if((!_||_<0)&&(_=o[m]),this.childNodes.forEach(function(e){
e.childNodes.forEach(i,this)
},this),!d||"collapse"===this._overflow&&function(e){return r>e
}(this._itemCountMax))return new re(0,0)
;n(!0),e.set(this.vars,"sections",v,"contentSize",y,"labelWidthMax",p)
;var x=this.compatVersion()<=1,w=x?_:b,C=a[g]
;return(!w||w<0)&&(w=y[m]),(!C||C<0)&&(C=y[g]),
"collapse"===this._overflow&&function(){var e=a.width||1/0,t=a.height||1/0
;return Math.min(e,o.width)<y.width||Math.min(t,o.height)<y.height
}()?new re(0,0):this.vars.size=e.set({},m,Math.min(w,o[m]),g,Math.min(C,o[g]))},
defaultGroupSceneType:function(){var t=this._groupType
;return t||(t=e.type(Y.visual.legend.LegendGroupScene),this._groupType=t),t},
createGroup:function(e){return new(this.defaultGroupSceneType())(this,e)}
}),e.type("pvc.visual.legend.LegendGroupScene",Y.visual.Scene).init(function(t,i){
this.base(t,i),
this.legendBaseIndex=e.get(i,"legendBaseIndex")||0,this.colorAxis=e.get(i,"colorAxis"),
this.clickMode=e.get(i,"clickMode"),
!this.clickMode&&this.colorAxis&&(this.clickMode=this.colorAxis.option("LegendClickMode"))
}).add({_rendererCreate:function(t,i,n){var r=this.colorAxis;if(r){
var o=r.chart._getDataPartDimName(),a=this.legendBaseIndex,s=!1
;r.dataCells.forEach(function(r,l){var u=r.legendSymbolRenderer();if(u){s=!0
;var c=this._createDataCellPanel(r,t,i,o);u(t,c,n,e.indexedId("",a+l))}
},this),s||this._createDefaultRendererPanel(t,i,n,a)}},
_createDataCellPanel:function(t,i,n,r){
var o=new Y.visual.Panel(i,n).pvMark,a=t.role,s=t.plot,l=null
;if(a.grouping.hasExtensionComplexTypes&&(l=a.grouping.extensionDimensions().select(function(e){
var t,i=Y.visual.Role.parseDataSetName(e.dataSetName)
;if(null!==i&&null!==(t=s.visualRole(i)))return t.isBoundDimensionCompatible.bind(t)
}).where(e.notNully).array(),0===l.length&&(l=null)),null!==r||null!==l){
var u=t.dataPartValue;o.visible(function(t){var i=t.group
;if(i._disposed)return e.log.warn("[CCC] FIXME: Code running on disposed scene!"),
!1;if(null!==r&&null===i.dimensions(r).atom(u))return!1
;if(null!==l)for(var n=-1,o=l.length;++n<o;)if(!l[n](i))return!1;return!0})}
return o},_createDefaultRendererPanel:function(t,i,n,r){
var o=new Y.visual.Panel(t,i).pvMark,a=this.colorAxis,s={
drawLine:a.option("LegendDrawLine"),drawMarker:a.option("LegendDrawMarker"),
markerShape:a.option("LegendShape")}
;Y.visual.legend.symbolRenderer(s)(t,o,n,e.indexedId("",r))},
hasRenderer:function(){return!!this._renderer},renderer:function(e){
return arguments.length?(e&&"object"==typeof e&&(e=Y.visual.legend.symbolRenderer(e)),
this._renderer=e,
this):this._renderer||(this._renderer=this._rendererCreate.bind(this))},
itemSceneType:function(){var t=this._itemSceneType;if(!t){
switch(t=e.type(Y.visual.legend.LegendItemScene),this.clickMode){
case"toggleselected":t.add(Y.visual.legend.LegendItemSceneSelection);break
;case"togglevisible":t.add(Y.visual.legend.LegendItemSceneVisibility)}
var i=this.panel()
;i._extendSceneType("item",t,["isOn","executable","execute","value","labelText"])
;var n=Y.makeExtensionAbsId(Y.makeExtensionAbsId("ItemScene",[this.extensionPrefix,"$"]),i._getExtensionPrefix()),r=i.chart._getExtension(n,"value")
;void 0!==r&&t.variable("value",r),this._itemSceneType=t}return t},
createItem:function(e){return new(this.itemSceneType())(this,e)}
}),e.type("pvc.visual.legend.LegendItemSceneSection").init(function(e){
this.index=e,this.items=[],this.size={width:0,height:0}
}),e.type("pvc.visual.legend.LegendItemScene",Y.visual.Scene).add({_ibits:null,
ibits:function(){var e=this._ibits;if(null==e){if(this.executable())e=-1;else{
var t=Y.visual.Interactive
;e=t.Interactive|t.ShowsInteraction|t.ShowsTooltip|t.Hoverable|t.SelectableAny}
this._ibits=e}return e},isOn:e.fun.constant(!0),executable:e.fun.constant(!1),
execute:e.fun.constant(),labelText:function(){return this.value().label},
labelTextSize:function(){return t.Text.measure(this.labelText(),this.vars.font)
},_valueEval:function(){var e=this._valueEvalCore()
;return e instanceof le||(e=new le(e,e)),e},_valueEvalCore:function(){
var e,t,i,n,r,o=this.group||this.datum
;return o&&(e=o.value,t=o.rawValue,r=this._getTrendLineSuffix(o),
i=o.ensureLabel()+r,n=o.absLabel?o.absLabel+r:i),new le(e||null,i||"",t,n)},
_getTrendLineSuffix:function(e){var t,i
;return(t=e.firstDatum())&&(i=t.trend)?" ("+i.label+")":""}}).variable("value"),
e.type("pvc.visual.legend.LegendItemSceneSelection").add({isOn:function(){
return!(this.group||this.datum).owner.selectedCount()||this.isSelected()},
executable:function(){return this.chart().selectableByClick()},
execute:function(){var e=this.datums().array();if(e.length){
var t=this,n=this.chart();n._updatingSelections(function(){
(e=n._onUserSelection(e,t.group||t.datum))&&e.length&&i.Data.toggleSelected(e,!0)
})}}}),e.type("pvc.visual.legend.LegendItemSceneVisibility").add({
isOn:function(){var e=this._isOn
;return null==e&&(e=this._isOn=this.datums().any(function(e){
return!e.isNull&&e.isVisible})),e},executable:function(){
return e.lazy(this,"_execble",this._calcExecutable,this)},
_calcExecutable:function(){
if(this._executableApriori())for(var e,t=this.root.childNodes,i=-1,n=t.length;++i<n;)if("togglevisible"===(e=t[i]).clickMode)for(var r,o=e.childNodes,a=-1,s=o.length;++a<s;)if((r=o[a])!==this&&r._executableApriori()&&r._hasAnyNonNullVisibleDatumsNotIn(this))return!0
;return!1},_hasAnyNonNullVisibleDatumsNotIn:function(e){var t=e.group
;return this.datums().any(function(e){
return!e.isNull&&e.isVisible&&!t.contains(e)})},_executableApriori:function(){
return e.lazy(this,"_execApriori",this._calcExecutableApriori,this)},
_calcExecutableApriori:function(){return this.datums().any(function(e){
return!e.isTrend})},execute:function(){
i.Data.toggleVisible(this.datums())&&(this.clearCachedState(),
this.chart().render(!0,!0,!1))},clearCachedState:function(){
delete this._execble,delete this._isOn,delete this._execApriori}
}),e.space("pvc.visual.legend").symbolRenderer=function(t){function i(e,t){
var i=Y.makeExtensionAbsId(e,t);return u?i.concat(Y.makeExtensionAbsId(e,u)):i}
function n(e,t,n,u){var c=Y.extensionTag,h=function(e){return e.color},d=["$",u]
;if(a){var f=(new J).left(0).top(function(){return this.parent.height()/2
}).width(function(){return this.parent.width()
}).lineWidth(1,c).strokeStyle(h,c).cursor(function(e){
return e.executable()?"pointer":"default"})
;l&&(f=l.extend(f)),new Y.visual.Rule(e,t,{proto:f,noSelect:!1,noHover:!1,
activeSeriesAware:!1,extensionId:i("Rule",d),showsInteraction:!0,wrapper:n})}
if(s){var p=(new J).left(function(){return this.parent.width()/2
}).top(function(){return this.parent.height()/2}).shapeSize(function(){
return this.parent.width()
},c).lineWidth(2,c).fillStyle(h,c).strokeStyle(h,c).shape(r,c).angle(a?0:Math.PI/2,c).antialias(function(){
var e=Math.abs(Math.cos(this.angle()));if(0!==e&&1!==e)switch(this.shape()){
case"square":case"bar":return!1}return!0},c).cursor(function(e){
return e.executable()?"pointer":"default"})
;o&&(p=o.extend(p)),new Y.visual.Dot(e,t,{proto:p,freePosition:!0,
activeSeriesAware:!1,noTooltip:!0,noClick:!0,extensionId:i("Dot",d),wrapper:n
}).pvMark.pointingRadiusMax(0)}}
var r,o,a=e.get(t,"drawLine",!1),s=!a||e.get(t,"drawMarker",!0),l=a?e.get(t,"rulePvProto"):null,u=e.array.to(e.get(t,"extensionPrefix"))
;return s&&(r=e.get(t,"markerShape","square"),o=e.get(t,"markerPvProto")),n}
;var me={top:"left",bottom:"right",left:"left",right:"right",middle:"center",
center:"center"},ge={top:"right",bottom:"left",left:"right",right:"left",
middle:"center",center:"center"},ve={top:0,right:Math.PI/2,bottom:0,
left:-Math.PI/2}
;e.type("pvc.TitlePanelAbstract",Y.BasePanel).init(function(e,t,i){i||(i={})
;var n=i.anchor||this.anchor;if(null==i.size){var r=i.titleSize
;null!=r&&(i.size=(new re).setSize(r,{singleProp:this.anchorOrthoLength(n)}))}
if(null==i.sizeMax){var o=i.titleSizeMax
;null!=o&&(i.sizeMax=(new re).setSize(o,{singleProp:this.anchorOrthoLength(n)}))
}
if(null==i.paddings&&(i.paddings=this.defaultPaddings),this.base(e,t,i),void 0===i.font){
var a=this._getExtension("label","font");"string"==typeof a&&(this.font=a)}
}).add({pvLabel:null,anchor:"top",title:null,titleSize:void 0,
font:"12px sans-serif",defaultPaddings:2,_extensionPrefix:"title",
_calcLayout:function(e){
var i=new re,n=this.anchor,r=this.anchorLength(n),o=this.anchorOrthoLength(n),a=this.title||"",s=t.Text.measureWidth(a,this.font)+2,l=e.clientSize[r],u=e.restrictions.clientSize[r]
;null==u?u=s>l?l:s:u>l&&(u=l)
;var c=a?s>u?Y.text.justify(a,u,this.font):[a]:[],h=t.Text.fontHeight(this.font),d=c.length*h,f=e.clientSize[o],p=e.restrictions.clientSize[o]
;if(null==p?p=d:p>f&&(p=f),d>p){var m=Math.max(1,Math.floor(p/h))
;if(c.length>m){var g=c[m];c.length=m,d=p=m*h;var v=c[m-1]+" "+g
;c[m-1]=Y.text.trimToWidthB(u,v,this.font,"..")}}
return e.lines=c,e.topOffset=(p-d)/2,e.lineSize={width:u,height:h
},e.a_width=r,e.a_height=o,i[r]=u,i[o]=p,i},_createCore:function(e){
var t,i=this._buildScene(e),n=this.isAnchorTopOrBottom(),r=this.align,o=Y.BasePanel.leftTopAnchor[this.anchor]
;this.compatVersion()<=1&&(t=function(e){return function(t){return e.call(this)}
}),this.pvLabel=new Y.visual.Label(this,this.pvPanel,{extensionId:"label",
wrapper:t
}).lock("data",i.lineScenes).pvMark.textAngle(ve[this.anchor]).textAlign(function(){
var e=this.textAngle();return((n?Math.cos(e)>=0:Math.sin(e)>=0)?me:ge)[r]
})[o](function(t){
return e.topOffset+t.vars.size.height/2+this.index*t.vars.size.height
})[this.anchorOrtho(o)](function(e){switch(r){case"middle":case"center":
return e.vars.size.width/2;case"bottom":case"left":return 0;case"top":
case"right":return e.vars.size.width}}).text(function(e){
return e.vars.textLines[this.index]}).font(this.font).textBaseline("middle")},
_buildScene:function(t){var i=new Y.visual.Scene(null,{panel:this,
source:this.chart.data}),n=t.lines
;return i.vars.size=t.lineSize,i.vars.textLines=n,
i.lineScenes=e.array.create(n.length,i),i},_getExtensionId:e.fun.constant("")}),
e.type("pvc.TitlePanel",Y.TitlePanelAbstract).init(function(e,t,i){
i||(i={}),e.compatVersion()<=1&&null==i.titleSize&&(i.titleSize=25),
this._extensionPrefix=e.parent?"smallTitle":"title",this.base(e,t,i)}).add({
font:"14px sans-serif",defaultPaddings:4
}),e.type("pvc.GridDockingPanel",Y.ContentPanel).add({
_getFillSizeMin:function(){return null},_calcLayout:function(t){function i(e){
var t=e.anchor;t&&("fill"===t?A.push(e):j.push(e))}function n(){
var e=0,t=new Array(j.length),i=0;do{i++,m&&f.log.group("Iteration #"+i+" / 5")
;try{
if((e=r(t,5===i))&&0!=(e&x))return m&&f.log("Restarting due to clientSize increase."),
e}finally{m&&f.log.groupEnd()}}while(i<5&&0!=(e&w))
;for(var i=-1,n=j.length,o=new ne(0);++i<n;){var a=j[i];if(a.isVisible){
var s=a.anchor,u=o[s]||0;a.position[s]=u,l(a,a.align),o[s]=u+t[i]
}else j.splice(i,1),t.splice(i,1),n--,i--}return 0}function r(e,i){
var n=0,r=g&&!i;p=null,N=new ne(0),T=!1;for(var o=-1,a=j.length;++o<a;){
var s=j[o];m&&s.log.group("Layout");try{var l=s.anchor,c=y[l],h=v[l],f=e[o]
;null!=f&&(S[l]-=f,k[h]+=f);var b={width:null,height:null}
;b[c]=k[c],b[h]=t.clientSize[h];var _=new re(k)
;D&&_[c]<D[c]&&(_[c]=D[c]),C.sizeAvailable=_,
C.sizeRef=b,C.canChange=r,s.layout(C);var M;if(s.isVisible){if(u(s,r))return x
;M=null==f||Math.abs(s[h]-f)>Y.roundPixel.epsilon?s[h]:f}else M=0
;null!=f&&M==f||(n|=w),e[o]=M,M&&(S[l]+=M,k[h]-=M),s.isVisible&&d(s,r)}finally{
m&&s.log.groupEnd()}}return n}function o(){var e=0,t=0;do{
t++,m&&f.log.group("Iteration #"+t+" / 9");try{
if((e=a(1===t,9===t))&&0!=(e&x))return m&&f.log("Restarting due to clientSize increase."),
e}finally{m&&f.log.groupEnd()}}while(t<9&&0!=(e&b));return 0}function a(e,t){
var i=g&&!t,n=j.length,r=j.concat(A),o=-1,a=r.length;for(o<0&&(p=null);++o<a;){
var c=r[o],f=o>=n;m&&c.log.group("Layout");try{if(s(c,i,f),c.isVisible){
if(u(c,i))return x;if(h(c,i))return b
;f||d(c,i),f?(l(c,"center"),l(c,"middle")):l(c,c.align)}}finally{
m&&c.log.groupEnd()}}return 0}function s(i,n,r){var o,a,s,l
;if(r)o=re.clone(k),s=k,l=e.copyOwn(N);else{var u=i.anchor,c=y[u],h=v[u];a={
width:null,height:null},a[c]=k[c],a[h]=i[h],s={width:null,height:null
},s[c]=k[c],s[h]=t.clientSize[h],l=e.copyOwn(ne.filterAnchor(u,N))}
C.sizeAvailable=o,C.size=a,C.sizeRef=s,C.paddings=l,C.canChange=n,i.layout(C)}
function l(e,t){var i,n;switch(t){case"top":case"bottom":case"left":case"right":
n=t,i=S[n];break;case"fill":case"middle":
n="bottom",i=S.bottom+k.height/2-e.height/2;break;case"center":
n="left",i=S.left+k.width/2-e.width/2}e.position[n]=i}function u(e,i){
function n(n){var a=o[n]
;a>Y.roundPixel.epsilon&&(i?(r|=x,t.clientSize[n]+=a,M[n]+=a):m&&e.log.warn("Child wanted more "+n+", but layout iterations limit has been reached."))
}var r=0,o=e.getLayout().sizeIncrease
;return o&&("fill"===e.anchor?re.names.forEach(n):n(e.anchorLength())),r}
function c(e){function i(i){var r=D[i]-k[i]
;(r-=M[i])>Y.roundPixel.epsilon&&(e?(n|=x,
t.clientSize[i]+=r,m&&f.log.warn("Increasing client "+i+" by "+r+" to satisfy minimum fill "+i+".")):m&&f.log.warn("Wanted more fill "+i+", "+r+", but layout iterations limit has been reached."))
}var n=0;return D&&(i("width"),i("height")),n}function h(t,i){
var n=0,r=t._layoutInfo.contentOverflow
;return r&&(m&&t.log("ContentOverflow="+e.describe(r)),
ne.getAnchorSides(t.anchor).forEach(function(e){var o=N[e]||0,a=r[e]||0
;a-o>Y.roundPixel.epsilon&&(i?(n|=b,
N[e]=a,m&&t.log("Changed content overflow: "+e+" <- "+a)):m&&t.log.warn("CANNOT change but child wanted to: "+e+"="+a))
}),n&&ne.updateSize(N)),n}function d(i,n){var r,o=0
;if(f.chart._preserveLayout||!(r=i._layoutInfo.contentOverflowOptional))return o
;m&&i.log("<= contentOverflowOptional="+e.describe(r))
;var a=t.paddings,s=i.anchorLength()
;return ne.getAnchorSides(i.anchor).forEach(function(t){if(r.hasOwnProperty(t)){
var l=a[t]||0,u=r[t]||0,c=i._layoutInfo.size[s],h=Math.max(0,c+u-k[s]),d=Math.max(0,h-S[t])
;d-l>Y.roundPixel.epsilon&&(n?(o|=_,
p||(p=new ne(a)),p[t]=Math.max(p[t]||0,d),m&&i.log("Changed optional content overflow "+t+" <- "+d)):e.debug>=2&&i.log.warn("CANNOT change optional content overflow but child wanted to: "+t+"="+d))
}}),o}var f=this;if(f._children){
var p,m=e.debug>=10,g=!1!==t.restrictions.canChange,v=Y.BasePanel.orthogonalLength,y=Y.BasePanel.parallelLength,b=2,_=4,x=8,w=16,C={
force:!0},S=new ne(0),k=e.copyOwn(t.clientSize),D=this._getFillSizeMin()
;D&&(D=D.resolve(null));var M={width:0,height:0},N=new ne(0),T=!1,A=[],j=[]
;m&&f.log.group("CCC GRID LAYOUT");try{!function(){var r=0;try{
f._children.forEach(i)}finally{}
m&&f.log.group("Phase 1 - Determine MARGINS and FILL SIZE from SIDE panels")
;try{r=n()}finally{
m&&(f.log("Final FILL margins = "+e.describe(S)),f.log("Final FILL border size = "+e.describe(k)),
f.log.groupEnd())}if(!(r|=c(g))){
m&&f.log.group("Phase 2 - Determine COMMON PADDINGS");try{r=o()}finally{
m&&(f.log("Final COMMON paddings  = "+e.describe(N)),
f.log("Final FILL client size = "+e.describe({width:(k.width||0)-(N.width||0),
height:(k.height||0)-(N.height||0)})),f.log.groupEnd())}}
g&&!r&&p&&(t.contentOverflow=p)}()}finally{m&&f.log.groupEnd()}
return t.gridMargins=ne.updateSize(S),
t.gridPaddings=ne.updateSize(N),t.gridSize=new re(k),t.clientSize}}
}),e.type("pvc.BaseChart",Y.Abstract).add(Y.visual.Interactive).add(e.EventSource).init(function(t){
var n=t,r=this.parent=e.get(t,"parent")||null
;r?t||e.fail.argumentRequired("options"):(ye&&ye(),
t=e.mixin.copy({},this.defaults,t)),
this.options=t,r?(this.root=r.root,this.smallColIndex=t.smallColIndex,
this.smallRowIndex=t.smallRowIndex):(this.root=this,
this._format=i.format.language().createChild()),
this.base(),e.debug>=3&&this.log.info("NEW CHART\n"+e.logSeparator.replace(/-/g,"=")+"\n  DebugLevel: "+e.debug),
e.debug>=3&&!r&&n&&(this.log.info("OPTIONS:\n",n),
e.debug>=5&&this.log.debug(e.describe(n,{ownOnly:!1,funs:!0
}))),r&&r._addChild(this),
this._constructData(t),this._constructVisualRoles(t),this._constructPlots(t)
}).add({_disposed:!1,parent:null,children:null,root:null,isCreated:!1,
_createVersion:0,renderCallback:void 0,left:0,top:0,width:null,height:null,
margins:null,paddings:null,_allowV1SecondAxis:!1,_preserveLayout:!1,
compatVersion:function(e){return(e||this.options).compatVersion},
getCompatFlag:function(e){return this.options.compatFlags[e]},
_createLogId:function(){
return""+e.qualNameOf(this.constructor)+this._createLogChildSuffix()},
_createLogChildSuffix:function(){
return this.parent?" ("+(this.smallRowIndex+1)+","+(this.smallColIndex+1)+")":""
},_addChild:function(t){t.parent===this||e.assert("Not a child of this chart."),
this.children.push(t)},_savePlotsLayout:function(){
this.options.preserveLayout&&this.plotPanelList&&this.plotPanelList.length&&(this._preservedPlotsLayoutInfo={},
this.plotPanelList.forEach(function(e){
this._preservedPlotsLayoutInfo[e.plot.id]=e._getLayoutState()
},this),this._preserveLayout=!0)},_create:function(e){
this._createPhase1(e),this._createPhase2()},_createPhase1:function(t){
this._createVersion++,this.isCreated=!1,e.debug>=3&&this.log("Creating")
;var i=!this.parent,n=this._isMultiChartOverflowClipRetry,r=i&&!n&&!this.data
;if(this._savePlotsLayout(),
i&&(this.children=[]),this.plotPanels={},this.plotPanelList=[],
i&&n||this._processOptions(),!n){if(r){
if(this._processDataOptions(this.options),
!this.allowNoData&&!this.resultset.length)throw new Y.NoDataException
;this._initVisualRoles(),
this._initPlots(),this._createComplexTypeAndBindVisualRoles(),
this._bindPlotsEnd()}
if(this._initAxes(),i&&(this._initData(t),!this.allowNoData&&!this.data.count()))throw new Y.NoDataException
;this._initAxesEnd()}if(i){var o=this.visualRoles.multiChart.isBound()
;o&&this._initMultiCharts(),n||(this._interpolate(o),this._generateTrends(o))}
this._setAxesScales(this._chartLevel())},_createPhase2:function(){
this._initChartPanels(),this.isCreated=!0},_setSmallLayout:function(t){
function i(e){var i=t[e];if(null!=i)return n[e]=i,!0}if(t){
var n=this,r=n.basePanel
;i("left")|i("top")&&r&&e.set(r.position,"left",this.left,"top",this.top),
i("width")|i("height")&&r&&(r.size=new re(this.width,this.height)),
i("margins")&&r&&(r.margins=new ne(this.margins)),
i("paddings")&&r&&(r.paddings=new ne(this.paddings))}},
_processOptions:function(){var t,i=this.options
;return this.parent||(this.width=i.width,
this.height=i.height,this.margins=i.margins,
this.paddings=i.paddings),this.compatVersion()<=1?i.plot2=this._allowV1SecondAxis&&!!i.secondAxis:!i.plot2&&(t=i.plots)&&(i.plot2=e.array.is(t)?e.query(t).where(function(e){
return"plot2"===e.name
}).any():!!t.plot2),this._processFormatOptions(i),this._processOptionsCore(i),
this._processExtensionPoints(),i},_processOptionsCore:function(e){
var i=this.parent
;if(i)o=i.ibits(),this._tooltipOptions=i._tooltipOptions,this._pointingOptions=i._pointingOptions;else{
var r="batik"!==t.renderer();r&&null==(r=e.interactive)&&(r=!0);var o=0;if(r){
var a=Y.visual.Interactive
;o=a.Interactive|a.ShowsInteraction,this._processTooltipOptions(e)&&(o|=a.ShowsTooltip),
e.animate&&n.support.svg&&(o|=a.Animatable);var s=!1
;if(e.selectable)switch(o|=a.Selectable,Y.parseSelectionMode(e.selectionMode)){
case"rubberbandorclick":o|=a.SelectableByRubberband|a.SelectableByClick;break
;case"rubberband":o|=a.SelectableByRubberband;break;case"click":
o|=a.SelectableByClick;break;case"focuswindow":o|=a.SelectableByFocusWindow,s=!0
}
s||"emptyspaceclick"!==Y.parseClearSelectionMode(e.clearSelectionMode)||(o|=a.Unselectable),
e.hoverable&&(o|=a.Hoverable),
e.clickable&&(o|=a.Clickable|a.DoubleClickable),this._processPointingOptions(e)
;var l
;(l=e.on)&&this.on(l),(l=e.before)&&this.before(l),(l=e.after)&&this.after(l)}}
this._ibits=o},_pointingDefaults:{radius:10,radiusHyst:4,stealClick:!0,
collapse:"none"},_tooltipDefaults:{gravity:"s",animate:void 0,delayIn:200,
delayOut:80,offset:2,opacity:.9,html:!0,fade:!0,useCorners:!1,arrowVisible:!0,
followMouse:!1,format:void 0,className:""},_processTooltipOptions:function(t){
var i=this.compatVersion()<=1,n=t.tooltip,r=t.tooltipEnabled
;return null==r&&(n&&(r=n.enabled),
null==r&&(i&&(r=t.showTooltips),null==r&&(r=!0))),
r&&(n=n?e.copy(n):{},i&&this._importV1TooltipOptions(n,t),
e.eachOwn(this._tooltipDefaults,function(i,r){
var o=t["tooltip"+e.firstUpperCase(r)];void 0!==o?n[r]=o:void 0===n[r]&&(n[r]=i)
})),this._tooltipOptions=n||{},r},_importV1TooltipOptions:function(e,t){
var i=t.tipsySettings;if(i){this.extend(i,"tooltip")
;for(var n in i)void 0===e[n]&&(e[n]=i[n]);null==e.html&&(e.html=!1)}},
_processPointingOptions:function(t){var i=t.pointing,n=t.pointingMode
;null==n&&(i&&(n=i.mode),
n||(n="near")),i=i?e.copyOwn(i):{},i.mode=Y.parsePointingMode(n),
e.eachOwn(this._pointingDefaults,function(e,t){void 0===i[t]&&(i[t]=e)
}),i.collapse=Y.parsePointingCollapse(i.collapse),
i.painted=!0,this._pointingOptions=i||{}},_processFormatOptions:function(e){
if(!this.parent){var t=e.format;null!=t&&this.format(t);var i=this._format
;this._processFormatOption(e,i,"number","valueFormat"),
this._processFormatOption(e,i,"percent","percentValueFormat")}},
_processFormatOption:function(e,n,r,o){var a=n[r]()
;if(a!==i.format.defaults[r]())e[o]=a;else{var s=e[o]
;s&&s!==a&&(s._nullWrapped||(e[o]=s=t.Format.createFormatter(s),
s._nullWrapped=1),n[r](s))}},_processDataOptions:function(t){function i(e,i,r){
var o=t[e];void 0!==o?n[i]=null==o||""===o?r:o:null!=r&&void 0===n[i]&&(n[i]=r)}
var n=t.dataOptions||(t.dataOptions={})
;i("dataSeparator","separator","~"),i("dataMeasuresInColumns","measuresInColumns"),
i("dataCategoriesCount","categoriesCount"),
i("dataIgnoreMetadataLabels","ignoreMetadataLabels"),
i("dataWhere","where"),i("dataTypeCheckingMode","typeCheckingMode");var r,o
;t.plot2&&(this._allowV1SecondAxis&&this.compatVersion()<=1?o=t.secondAxisIdx:(r=t.plot2Series?e.array.as(t.plot2Series):null)&&r.length||(r=null,
o=t.plot2SeriesIndexes),
r||(o=e.parseDistinctIndexArray(o,-1/0)||-1)),t.plot2Series=r,
t.plot2SeriesIndexes=o,
n.measuresIndex=n.measuresIndex||n.measuresIdx,n.measuresCount=n.measuresCount||n.numMeasures
},format:function(t){var n=this.root
;if(n!==this)return n.format.apply(n,arguments);var r=this._format
;if(arguments.length){if(!t)throw e.error.argumentRequired("format");if(t!==r){
if(!e.is(t,i.format)){if(r)return e.configure(r,t),this;t=i.format(t)}
this._format=t}return this}return r},
_getPerformanceMeasurementPrefix:function(){
return this.options.measurePerformance&&"undefined"!=typeof performance?"ccc-chart-render"+("string"!=typeof this.options.canvas?"-"+this.options.canvas:""):null
},_calcPerformanceMeasurementStats:function(t){
var i=t.length,n=t.reduce(function(e,t){return e+t.duration
},0)/i,r=Math.sqrt(t.reduce(function(t,i){return t+e.sqr(i.duration-n)},0)/i)
;return{last:t[i-1].duration,count:i,average:n,deviation:r}},render:function(t){
var i,n,r,o,a,s,l=null,u=this._getPerformanceMeasurementPrefix()
;1===arguments.length&&t&&"object"==typeof t?(n=!!t.bypassAnimation,
r=!!t.recreate,
s=r?t.dataOnRecreate:null,o="reload"===s,a="add"===s):(n=!!arguments[0],
r=arguments[1],
o=arguments[2],a=!1),null!==u&&(performance.clearMarks(),performance.mark(u+"-start")),
e.debug>1&&this.log.group("CCC RENDER"),
this._lastRenderError=null,this._suspendSelectionUpdate();try{
this.useTextMeasureCache(function(){try{this._renderCore(r,o,a,n)}catch(t){
l=t,t instanceof Y.NoDataException?this._addErrorPanelMessage(t.message,"noDataMessage"):t instanceof Y.InvalidDataException?this._addErrorPanelMessage(t.message,"invalidDataMessage"):(i=!0,
this.log.error(t.message),
e.debug>0&&this._addErrorPanelMessage("Error: "+t.message,"errorMessage"))}})
}finally{
if(this._lastRenderError=l,this._isMultiChartOverflowClipRetry=!1,i||this._resumeSelectionUpdate(),
e.debug>1&&this.log.groupEnd(),null!==u){
performance.mark(u+"-end"),performance.measure(u,u+"-start",u+"-end")
;var c=this._calcPerformanceMeasurementStats(performance.getEntriesByName(u))
;console.info("CCC RENDER latest: %s ms / average: %s ms / deviation: %s / count: %d",c.last.toFixed(2),c.average.toFixed(2),c.deviation.toFixed(2),c.count)
}}return this},_renderCore:function(e,t,i,n){
for(;this.parent||Y.removeTipsyLegends(),!e&&this.isCreated||this._create({
reloadData:t,addData:i}),this.basePanel.render({bypassAnimation:n,recreate:e
}),this._isMultiChartOverflowClip;)e=!0,
t=!1,this._isMultiChartOverflowClipRetry=!0,this._isMultiChartOverflowClip=!1},
renderPages:function(){
if(this.options.interactive=!1,this.options.multiChartOverflow="page",
this.render(),!this.getLastRenderError()){
var e=this.basePanel&&this.basePanel.pvRootPanel,i=e&&e.canvas();if(i){
var n=this.getNextPageStartIndex();if(!(n<0)){
this.options.smallWidth=this._multiInfo.smallWidth,
this.options.smallHeight=this._multiInfo.smallHeight;var r=[i.childNodes[0]];do{
if(this.__disposeRootPanel(),t.removeChildren(i),this.options.multiChartStart=n,
this.render({recreate:!0,dataOnRecreate:null,bypassAnimation:!0
}),this.getLastRenderError())return
;r.push(i.childNodes[0]),n=this.getNextPageStartIndex()}while(n>=0)
;this.__disposeRootPanel(),t.removeChildren(i)
;for(var o=-1,a=r.length;++o<a;)i.appendChild(r[o])}}}},
getLastRenderError:function(){return this._lastRenderError},
getNextPageStartIndex:function(){var e=this._multiInfo
;return e&&!e.isLastPage?e.pageStartIndex+e.pageSmallCount:-1},
renderResize:function(e,t){var i=null!=e,n=null!=t;if(!i&&!n)return this
;var r=this.basePanel;if(r){i&&(i=e!==r.width),n&&(n=t!==r.height);var o,a
;if((o=r.getLayout())&&(a=o.sizeIncrease)&&(i&&(i=!a.width||e>r.width),
n&&(n=!a.height||t>r.height),!i&&!n))return this}
return i?this.options.width=e:r&&(this.options.width=this.width),
n?this.options.height=t:r&&(this.options.height=this.height),
this.render(!0,!0,!1)},_addErrorPanelMessage:function(i,n){
if(e.debug>1&&this.log(i),!n||!1!==this._getExtension(n,"visible")){
var r=this.options,o=(new t.Panel).canvas(r.canvas).width(this.width).height(this.height),a=o.anchor("center").add(t.Label).text(i)
;n&&this.extend(a,n),o.render()}},useTextMeasureCache:function(e,i){
var n=this.root,r=n._textMeasureCache||(n._textMeasureCache=t.Text.createCache())
;return t.Text.usingCache(r,e,i||this)},animate:function(e,t){
return this.basePanel.animate(e,t)},animatingStart:function(){
return this.basePanel.animatingStart()},animating:function(){
return!!this.basePanel&&this.basePanel.animating()},
isOrientationVertical:function(e){
return(e||this.options.orientation)===Y.orientation.vertical},
isOrientationHorizontal:function(e){
return(e||this.options.orientation)===Y.orientation.horizontal},
dispose:function(){this._disposed||(this._disposed=!0,this.__disposeRootPanel())
},__disposeRootPanel:function(){
var e=this.basePanel&&this.basePanel.pvRootPanel,i=t.Behavior.tipsy
;i&&i.disposeAll&&i.disposeAll(e),e&&e.dispose()},defaults:{width:400,
height:300,orientation:"vertical",ignoreNulls:!0,crosstabMode:!0,
isMultiValued:!1,seriesInRows:!1,groupedLabelSep:void 0,animate:!0,
titlePosition:"top",titleAlign:"center",legend:!1,legendPosition:"bottom",
slidingWindow:!1,v1StyleTooltipFormat:function(e,t,i,n){
return e+", "+t+":  "+this.chart.options.valueFormat(i)+(n&&n.percent?" ("+n.percent.label+")":"")
},clickable:!1,doubleClickMaxDelay:300,hoverable:!1,selectable:!1,
selectionMode:"rubberbandOrClick",ctrlSelectMode:!0,
clearSelectionMode:"emptySpaceClick",compatVersion:1/0,compatFlags:{
discreteTimeSeriesTickFormat:!0}}});var ye=function(){
var e=Y.BaseChart.prototype.defaults
;e.valueFormat||(e.valueFormat=i.format.defaults.number()),
e.percentValueFormat||(e.percentValueFormat=i.format.defaults.percent()),ye=null
};Y.BaseChart.add({visualRoles:null,visualRoleList:null,
_measureVisualRoles:null,_constructVisualRoles:function(){var e=this.parent
;e&&(this.visualRoles=e.visualRoles,this.visualRoleList=e.visualRoleList)},
_initVisualRoles:function(){
this.parent||(this.visualRoles={},this.visualRoleList=[],
this._createChartVisualRoles())},_addVisualRole:function(t,i){
i=e.set(i,"index",this.visualRoleList.length)
;var n=new Y.visual.Role(this,t,i),r=[t]
;return n.plot||r.push("$."+t),this._addVisualRoleCore(n,r)},
_addVisualRoleCore:function(t,i){
return i||(i=t.name),this.visualRoleList.push(t),
e.array.is(i)?i.forEach(function(e){this.visualRoles[e]=t
},this):this.visualRoles[i]=t,t},_createChartVisualRoles:function(){
this._addVisualRole("multiChart",{defaultDimension:"multiChart*",
requireIsDiscrete:!0}),this._addVisualRole("dataPart",{
defaultDimension:"dataPart",requireIsDiscrete:!0,requireSingleDimension:!0,
dimensionDefaults:{isHidden:!0,comparer:e.compare}})},visualRole:function(t){
var i=e.getOwn(this.visualRoles,t)
;if(!i)throw e.error.operationInvalid("roleName","There is no visual role with name '{0}'.",[t])
;return i},measureVisualRoles:function(){
return this.parent?this.parent.measureVisualRoles():this._measureVisualRoles||(this._measureVisualRoles=this.visualRoleList.filter(function(e){
return e.isMeasureEffective}))},measureDimensionsNames:function(){
return e.query(this.measureVisualRoles()).selectMany(function(e){
return e.grouping.dimensionNames()}).distinct().array()},
visualRolesOf:function(t,i){var n=this._visRolesByDim
;return n||(n={},!!this._dataType&&(this._visRolesByDim=n),
this.visualRoleList.forEach(function(t){if(i||!t.plot){
var r=t.grouping||t.preBoundGrouping()
;r&&r.dimensionNames().forEach(function(i){e.array.lazy(n,i).push(t)})}
})),e.getOwn(n,t,null)},_getDataPartDimName:function(e){
var t,i=this.visualRoles.dataPart
;return i.isBound()?i.grouping.singleDimensionName:(t=i.preBoundGrouping())?t.firstDimension&&t.firstDimension.name:e?i.defaultDimensionGroup:null
},_processViewSpec:function(t){if(!t.dimsKeys)if(t.role){
var i=this.visualRoles[t.role],n=i&&i.grouping
;n&&(t.dimNames=n.allDimensionNames.slice().sort(),
t.dimsKey=t.dimNames.join(","))}else{
if(!t.dims)throw e.error.argumentInvalid("viewSpec","Invalid view spec. No 'role' or 'dims' property.")
;t.dimNames=P(t.dims),t.dimsKey=String(t.dimNames)}},
getBoundDimensionsDataSetOf:function(t){
if(!t.isMeasure)throw new Error("Visual role is not isMeasure.")
;var n=e.lazy(this.root,"_boundDimsDataSetsMap"),r=n[t.boundDimensionsDataSetName]
;if(!r){var o=new i.ComplexType({dim:{isKey:!0,valueType:String,isHidden:!0}})
;r=new i.Data({type:o}),n[t.boundDimensionsDataSetName]=r}return r},
getBoundDimensionsComplexTypeOf:function(e){
return this.getBoundDimensionsDataSetOf(e).type},_boundDimsDataSetsMap:null,
get boundDimensionsDataSetsMap(){return this.root._boundDimsDataSetsMap||null},
get boundDimensionsComplexTypesMap(){
var t=null,i=this.boundDimensionsDataSetsMap
;return i&&e.eachOwn(i,function(e,i){t||(t=Object.create(null)),t[i]=e.type}),t}
}),Y.BaseChart.add({dataEngine:null,data:null,_partsDataCache:null,
_visibleDataCache:null,resultset:[],metadata:[],_constructData:function(t){
this.parent&&(this.dataEngine=this.data=t.data||e.fail.argumentRequired("options.data"),
this.slidingWindow=this.parent.slidingWindow,
e.debug>=3&&this.log(this.data.getInfo()))},
_createComplexTypeAndBindVisualRoles:function(){
var t=this.options,n=this._createCommonDimensionsOptions(t),r=this._createNewComplexTypeProject(),o=Y.visual.rolesBinder().logger(this._createNewLogger()).context(this._createNewVisualRolesContext()).complexTypeProject(r)
;o.init();var a=this._getDataPartDimName(!0)
;this._maybeAddPlot2SeriesDataPartCalc(r,a)||!this.visualRoles.dataPart.isPreBound()&&this.plots.trend&&r.setDim(a),
this.metadata.length&&(this._createTranslation(r,n,a),
this._translation.configureType(),
e.debug>=3&&this.log(this._translation.logLogicalRow())),
r.hasDim(a)&&!r.isReadOrCalc(a)&&this._addDefaultDataPartCalculation(r,a),
o.dimensionsFinished();var s=new i.ComplexType(null,{formatProto:this._format})
;r.configureComplexType(s,n),
this._willBindVisualRoles(s),e.debug>=3&&this.log(s.describe()),
o.bind(s),this._dataType=s},_willBindVisualRoles:function(e){
this._createSlidingWindow(e)},_getPreBoundTrendedDimensionNames:function(){
return e.query(this.plotList).selectMany(e.propGet("dataCellList")).where(e.propGet("trend")).selectMany(function(e){
if(e.role.isPreBound())return e.role.preBoundGrouping().dimensionNames()
}).distinct().array()},_createSlidingWindow:function(e){var t=null
;this.options.slidingWindow&&(t=new Y.visual.SlidingWindow(this),
t.length?(t.setDimensionsOptions(e),
t.setLayoutPreservation(this)):t=null),this.slidingWindow=t},
_initData:function(t){var i=this.data
;i?e.get(t,"reloadData",!0)?this._reloadData(!1):(i.disposeChildren(),
i.clearVirtuals(),
e.get(t,"addData",!1)&&this._reloadData(!0)):this._createAndLoadData(),
delete this._partsDataCache,
delete this._visibleDataCache,e.debug>=3&&this.log(this.data.getInfo())},
_createAndLoadData:function(){var e=new i.Data({type:this._dataType,
labelSep:this.options.groupedLabelSep,keySep:this.options.dataOptions.separator
})
;this.data=e,this.dataEngine=e,this.slidingWindow&&(this.slidingWindow.initFromOptions(),
this.slidingWindow.setDataFilter(e)),this._translation&&this._loadDataCore(!1)},
_reloadData:function(e){
this._translation&&(this._translation.setSource(this.resultset),
this._loadDataCore(e))},_loadDataCore:function(t){
e.debug>=3&&this.log(this._translation.logSource())
;var i=this._translation.execute(this.data),n={isAdditive:t,
where:this.options.dataOptions.where,isNull:this._getIsNullDatum()}
;this.data.load(i,n)},_createNewVisualRolesContext:function(){
var t=this,i=this.options,n=i.visualRoles,r=this.visualRoles,o=this.visualRoleList,a=function(t){
return e.getOwn(r,t)};return a.query=function(){return e.query(o)
},a.getOptions=function(e){var t,r,o,a=e.plot,s=e.name;if(!a||a.isMain){
if((t=i[s+"Role"])!==o)return t;if(n&&(t=n[s])!==o)return t}
if(a&&(r=a._visualRolesOptions))return r[s]
},a.getExtensionComplexTypesMap=function(){
return t.boundDimensionsComplexTypesMap},a},_createNewLogger:function(){
function t(){i.log.apply(i,arguments)}var i=this;return t.level=function(){
return e.debug},t},_createNewComplexTypeProject:function(){
var e=this.options,t=new i.ComplexTypeProject(e.dimensionGroups),n=e.dimensions
;for(var r in n)t.setDim(r,n[r]);var o=e.calculations
;return o&&o.forEach(t.setCalc,t),t},_getIsNullDatum:function(){var e,t,i=this
;return function(n){if(e||(e=i.measureDimensionsNames(),t=e.length),!t)return!1
;for(var r=n.atoms,o=0;o<t;o++)if(null!=r[e[o]].value)return!1;return!0}},
_createTranslation:function(t,i,n){
var r=this._createTranslationOptions(i,n),o=this._getTranslationClass(r),a=new o(t,this.resultset,this.metadata,r)
;e.debug>=3&&this.log(a.logTranslatorType()),this._translation=a},
_getTranslationClass:function(e){
return e.crosstabMode?i.CrosstabTranslationOper:i.RelationalTranslationOper},
_createCommonDimensionsOptions:function(e){return{
isCategoryTimeSeries:e.timeSeries,formatProto:this._format,
timeSeriesFormat:e.timeSeriesFormat}},_createTranslationOptions:function(t,i){
var n=this.options,r=n.dataOptions;return e.create(t,{
compatVersion:this.compatVersion(),plot2DataSeriesIndexes:n.plot2SeriesIndexes,
seriesInRows:n.seriesInRows,crosstabMode:n.crosstabMode,
isMultiValued:n.isMultiValued,dataPartDimName:i,readers:n.readers,
measuresIndexes:n.measuresIndexes,multiChartIndexes:n.multiChartIndexes,
ignoreMetadataLabels:r.ignoreMetadataLabels,
typeCheckingMode:Y.parseDataTypeCheckingMode(r.typeCheckingMode),
separator:r.separator,measuresInColumns:r.measuresInColumns,
categoriesCount:r.categoriesCount,measuresIndex:r.measuresIndex,
measuresCount:r.measuresCount})},_maybeAddPlot2SeriesDataPartCalc:function(t,n){
if(this.compatVersion()<=1)return!1
;var r=this.options,o=this.visualRoles.series,a=o?r.plot2Series:null
;if(!a)return!1
;var s,l,u,c,h,d=e.query(a).uniqueIndex(),f=e.hasOwnProp,p=function(e){
o.isBound()&&(s=o.grouping.dimensionNames(),
l=e.owner.dimensions(n),s.length>1?h=i.Complex.compositeKey:(s=s[0],
h=function(e,t){return e.atoms[t].key})),p=null};return t.setCalc({names:n,
calculation:function(e,t){if(p&&p(e),l){var i=h(e,s)
;t[n]=f.call(d,i)?c||(c=l.intern("1")):u||(u=l.intern("0"))}}}),!0},
_addDefaultDataPartCalculation:function(e,t){var i,n;e.setCalc({names:t,
calculation:function(e,r){i||(i=e.owner.dimensions(t)),r[t]=n||(n=i.intern("0"))
}})},partData:function(t,i){if(i||(i=this.data),null==t)return i
;var n=this.root,r=n.visualRoles.dataPart;if(!r||!r.isBound())return i
;var o="\0"+i.id+":"+e.nullyTo(t,""),a=e.lazy(n,"_partsDataCache"),s=a[o]
;return s||(s=n._createPartData(i,r,t),a[o]=s),s},
_createPartData:function(t,n,r){
var o=n.grouping.singleDimensionName,a=t.dimensions(o).getDistinctAtoms(e.array.to(r)),s=i.querySpecPredicate([e.set({},o,a)])
;return t.where(null,{where:s})},visibleData:function(t){
var i=this.plots.main||e.fail.operationInvalid("There is no main plot defined.")
;return this.visiblePlotData(i,t)},visiblePlotData:function(t,i){
var n=this.root,r=e.get(i,"baseData")||this.data,o=!!e.get(i,"inverted",!1),a=!(!n.options.ignoreNulls&&!e.get(i,"ignoreNulls",!0)),s=[t.id,r.id,o,a].join("|"),l=e.lazy(n,"_visibleDataCache"),u=l[s]
;if(!u){var c=n.partData(t.dataPartValue,r),h={visible:!0,inverted:o,
isNull:!a&&null};u=l[s]=t.createData(c,h)}return u},_initMultiCharts:function(){
var t=this
;t.multiOptions=new Y.visual.MultiChart(t),t.smallOptions=new Y.visual.SmallChart(t)
;var i,n,r,o,a,s=t.multiOptions.option,l=t.visualRoles.multiChart.flatten(t.data,{
visible:!0,isNull:null}),u=l.childNodes,c=s("Start")
;if(t._isMultiChartOverflowClipRetry)o=t._clippedMultiChartRowCountMax,
r=t._clippedMultiChartColCountMax,a=r,n=o*r,i=!1;else{i=!0
;var h=Math.min(u.length,s("Max")),d=Math.max(0,h-c)
;0===d?r=o=a=n=0:(a=s("ColumnsMax"),
r=Math.min(d,a),r>=1&&isFinite(r)||e.assert("Must be at least 1 and finite"),
o=Math.ceil(d/r),o>=1||e.assert("Must be at least 1"),n=d)}t._multiInfo={
pageStartIndex:c,pageSmallCount:n,isLastPage:i,smallDatas:u,rowCount:o,
colCount:r,colCountMax:a,smallWidth:null,smallHeight:null}},
interpolatable:function(){var e=this.plotList;return!!e&&e.some(function(e){
return e.interpolatable()})},_interpolate:function(t){if(this.interpolatable()){
var i=e.query(this.axesList).selectMany(e.propGet("dataCells")).where(function(e){
var t=e.nullInterpolationMode;return!!t&&"none"!==t}).distinct(function(e){
return[e.nullInterpolationMode,e.role.grouping.key,e.dataPartValue||""].join()
}).array();this._eachLeafDatasAndDataCells(t,i,function(e,t){
e.plot.interpolateDataCell(e,t)})}},_generateTrends:function(t){
if(this._getDataPartDimName()&&this.plots.trend){
var i=e.query(this.axesList).selectMany(e.propGet("dataCells")).where(e.propGet("trend")).distinct(function(e){
return e.role.prettyId()+"|"+(e.dataPartValue||"")}).array(),n=[]
;this._eachLeafDatasAndDataCells(t,i,function(e,t){
e.plot.generateTrendsDataCell(n,e,t)}),n.length>0&&this.data.owner.add(n)}},
_eachLeafDatasAndDataCells:function(e,t,i,n){var r=t.length;if(r){var o,a,s
;if(e){var l=this._multiInfo
;o=l.smallDatas,a=l.pageSmallCount,s=l.pageStartIndex}else o=[this.data],a=1,s=0
;for(var u=0;u<a;u++)for(var c=o[s+u],h=0;h<r;h++)i.call(n,t[h],c)}},
_getTrendDataPartAtom:function(){var e=this._getDataPartDimName()
;if(e)return this.data.owner.dimensions(e).intern("trend")},
setData:function(e,t){
return this.setResultset(e&&e.resultset),this.setMetadata(e&&e.metadata),
n.extend(this.options,t),this},setResultset:function(t){
return!this.parent||e.fail.operationInvalid("Can only set resultset on root chart."),
this.resultset=t||[],this.resultset.length||this.log.warn("Resultset is empty"),
this},setMetadata:function(t){
return!this.parent||e.fail.operationInvalid("Can only set metadata on root chart."),
this.metadata=t||[],
this.metadata.length||this.log.warn("Metadata is empty"),this}
}),Y.BaseChart.add({_constructPlots:function(){var e=this.parent
;e&&(this.plots=e.plots,this.plotList=e.plotList,this.plotsByType=e.plotsByType,
this._dataCellsByAxisTypeThenIndex=this.parent._dataCellsByAxisTypeThenIndex)},
_initPlots:function(){
this.plots={},this.plotList=[],this.plotsByType={},this._createPlotsInternal()
;var e=this._defPlotsExternal();this._initPlotTrend(e),this._initPlotsEnd()},
_createPlotsInternal:function(){},_defPlotsExternal:function(){
var e,t=this.plots,i=this.options.plots;return i&&i.forEach(function(i){if(i){
var n=i.name;"trend"===n?e=i:("plot2"!==n||t.plot2)&&this._defPlotExternal(n,i)}
},this),e},_initPlotTrend:function(e){this.plotList.some(function(e){
return e.option.isDefined("Trend")&&!!e.option("Trend")
})&&(this._createPlotTrend(),
e&&this.plots.trend&&this._defPlotExternal("trend",e))},
_defPlotExternal:function(t,i){var n,r=i.type
;if(t&&(t=e.firstLowerCase(t),(n=this.plots&&this.plots[t])&&r&&r!==n.type))throw e.error.argumentInvalid("plots","Plot named '{0}' is already defined and is of a different type: '{1}'",[t,n.type])
;n?n.processSpec(i):this._addPlot(this._createPlotExternal(t,r,i))},
_createPlotExternal:function(t,i,n){
if(!i)throw e.error.argumentInvalid("plots","Plot 'type' option is required.")
;var r=Y.visual.Plot.getClass(i)
;if(!r)throw e.error.argumentInvalid("plots","The plot type '{0}' is not defined.",[i])
;return new r(this,{name:t,isInternal:!1,spec:n})},
_createPlotTrend:function(){},_addPlot:function(t){
var i=this.plots,n=t.index,r=t.name,o=t.id
;if(r&&e.hasOwn(i,r))throw e.error.operationInvalid("Plot name '{0}' already taken.",[r])
;if(e.hasOwn(i,o))throw e.error.operationInvalid("Plot id '{0}' already taken.",[o])
;var a=e.array.lazy(this.plotsByType,t.type)
;if(e.hasOwn(a,n))throw e.error.operationInvalid("Plot index '{0}' of type '{1}' already taken.",[n,t.type])
;t.globalIndex=this.plotList.length;var s=!t.globalIndex
;a[n]=t,this.plotList.push(t),i[o]=t,r&&(i[r]=t),s&&(i.main=t)},
_initPlotsEnd:function(){this.plotList.forEach(function(e){
e.initEnd(),this._registerPlotVisualRoles(e)},this)},
_registerPlotVisualRoles:function(e){var t=e.name,i=e.id,n=e.isMain
;e.visualRoleList.forEach(function(e){var r=e.name,o=[]
;n&&(r in this.visualRoles||o.push(r),
o.push("main."+r)),o.push(i+"."+r),t&&o.push(t+"."+r),
this._addVisualRoleCore(e,o)},this)},_bindPlotsEnd:function(){
if(this.plotList.length>0){var e=!1;this.plotList.forEach(function(t){
t.bindEnd(),!e&&t.isBound&&(e=!0)}),e||this.plotList[0].assertBound()}}
}),Y.BaseChart.add({colors:null,axes:null,axesList:null,axesByType:null,
_axisClassByType:{color:Y.visual.ColorAxis,size:Y.visual.SizeAxis},
_axisCreateChartLevel:{color:1,size:2,base:3,ortho:3},_axisSetScaleChartLevel:{
color:1,size:2,base:2,ortho:2},
_axisCreationOrder:["color","size","base","ortho"],_axisCreateIfUnbound:{},
_chartLevel:function(){var e=0
;return this.parent||(e|=1),!this.parent&&this.visualRoles.multiChart.isBound()||(e|=2),
e},_initAxes:function(){var t,i=this.axesByType
;this.axes&&(t={},this.axesList.forEach(function(e){t[e.id]=e.getState()}))
;var n=function(e,n){if(i&&t){var r=i[e];if(r)return t[r[n].id]}}
;this.axes={},this.axesList=[],this.axesByType={},delete this._rolesColorScale
;var r=this._dataCellsByAxisTypeThenIndex
;this.parent||(r={},this.plotList.forEach(function(t){
t.dataCellList.forEach(function(t){if(t.role.isBound()){
var i=e.array.lazy(r,t.axisType);e.array.lazy(i,t.axisIndex).push(t)}})
}),this._dataCellsByAxisTypeThenIndex=r);var o=this._chartLevel()
;this._axisCreationOrder.forEach(function(e){
if(0!=(this._axisCreateChartLevel[e]&o)){var t,i=r[e]
;i&&(t=this._getAxisClass(e),i.forEach(function(i){if(i=i.filter(function(e){
return!e.plot||(this.parent?e.plot.isDataBoundOn(this.data):e.plot.isBound)
},this),i.length>0){var r=i[0].axisIndex;new t(this,e,r,{state:n(e,r)})}
},this)),
!this.axesByType[e]&&this._axisCreateIfUnbound[e]&&new(t=this._getAxisClass(e))(this,e,0)
}},this),this.parent&&this.root.axesList.forEach(function(t){
e.hasOwn(this.axes,t.id)||this._addAxis(t)},this),e.eachOwn(r,function(t,i){
0!=(this._axisCreateChartLevel[i]&o)&&t.forEach(function(t){
if(t=t.filter(function(e){
return!e.plot||(this.parent?e.plot.isDataBoundOn(this.data):e.plot.isBound)
},this),t.length>0){var n=t[0].axisIndex,r=this.axes[e.indexedId(i,n)]
;r.isBound()||r.bind(t)}},this)},this)},_getAxisClass:function(e){
return this._axisClassByType[e]||Y.visual.Axis},_initAxesEnd:function(){
this.slidingWindow&&this.slidingWindow.setAxesDefaults(this)},
_addAxis:function(t){this.axes[t.id]=t,this.axesList.push(t)
;var i=e.array.lazy(this.axesByType,t.type),n=i.count||0
;return t.typeIndex=n,i[t.index]=t,
n||(i.first=t),i.count=n+1,"color"===t.type&&t.isBound()&&this._onColorAxisScaleSet(t),
this},_getAxis:function(e,t){var i
;if(null!=t&&+t>=0&&(i=this.axesByType[e]))return i[t]},
_setAxesScales:function(e){this.axesList.forEach(function(t){
this._axisSetScaleChartLevel[t.type]&e&&t.isBound()&&this._setAxisScale(t,e)
},this)},_setAxisScale:function(e,t){this._setAxisScaleByScaleType(e)},
_setAxisScaleByScaleType:function(t){switch(t.scaleType){case"discrete":
this._setDiscreteAxisScale(t);break;case"numeric":this._setNumericAxisScale(t)
;break;case"timeSeries":this._setTimeSeriesAxisScale(t);break;default:
throw e.error("Unknown axis scale type.")}},_describeScale:function(t,i){
i.isNull&&e.debug>=3&&this.log(e.format("{0} scale for axis '{1}' - no data",[t.scaleType,t.id]))
},_setDiscreteAxisScale:function(e){
if("color"===e.type)return this._setDiscreteColorAxisScale(e)
;var i=e.domainValues(),n=new t.Scale.ordinal
;i.length?n.domain(i):n.isNull=!0,this._describeScale(e,n),e.setScale(n)},
_setTimeSeriesAxisScale:function(e){
var i=this._getContinuousVisibleExtentConstrained(e),n=new t.Scale.linear;if(i){
var r=i.min,o=i.max;!function(){var e=o-r
;e&&Math.abs(e)<1&&(o=r=new Date(Math.round((r+o)/2)),
e=0),e?e<0&&(!i.maxLocked||i.minLocked?o=new Date(r.getTime()+Y.time.intervals.h):r=new Date(o.getTime()-Y.time.intervals.h)):(i.minLocked||(r=new Date(r.getTime()-Y.time.intervals.h)),
i.maxLocked&&!i.minLocked||(o=new Date(o.getTime()+Y.time.intervals.h)))
}(),n.domain(r,o),n.minLocked=i.minLocked,n.maxLocked=i.maxLocked
}else n.isNull=!0;this._describeScale(e,n),e.setScale(n)},
_setNumericAxisScale:function(e){
if("color"===e.type)return this._setNumericColorAxisScale(e)
;var i=this._getContinuousVisibleExtentConstrained(e),n=new t.Scale.linear
;if(i){var r=i.min,o=i.max,a=function(){var e=o-r
;e&&Math.abs(e)<=1e-10&&(r=(r+o)/2,
r=o=+r.toFixed(10),e=0),e||(i.minLocked||(r>1e-10?r*=.99:r<-1e-10?r*=1.01:r=-.1),
i.maxLocked&&!i.minLocked||(o>1e-10?o*=1.01:o<-1e-10?o*=.99:o=.1))}
;a(),!i.lengthLocked&&e.option.isDefined("OriginIsZero")&&e.option("OriginIsZero")&&(0===r?i.minLocked=!0:0===o?i.maxLocked=!0:r*o>0&&(r>0?i.minLocked||(i.minLocked=!0,
r=0):i.maxLocked||(i.maxLocked=!0,
o=0),a())),n.domain(r,o),n.minLocked=i.minLocked,n.maxLocked=i.maxLocked
}else n.isNull=!0;this._describeScale(e,n),e.setScale(n)},
_warnSingleContinuousValueRole:function(t){
t.grouping.isSingleDimension||this.log.warn("A linear scale can only be obtained for a single dimension role."),
t.grouping.isDiscrete()&&this.log.warn(e.format("The single dimension of role '{0}' should be continuous.",[t.name]))
},_getContinuousVisibleExtentConstrained:function(e){
var t,i=this,n=e.option,r=function(n){
return t||(t=i.data.owner.dimensions(e.role.grouping.firstDimension.name)),
t.read(n).value},o=function(e){if(!n.isDefined(e))return null;var t=n(e)
;return null!=t?r(t):t
},a=n.isDefined("FixedLength")?n("FixedLength"):null,s=null,l=null,u=!1,c=!1
;if(null!=(s=o("FixedMin"))&&(u=!0,
a&&(l=+s+a,c=!0)),null==l&&null!=(l=o("FixedMax"))&&(c=!0,
a&&(s=l-a,u=!0)),null==s||null==l){var h=this._getContinuousVisibleExtent(e)
;if(!h)return null;if(a)switch(n("DomainAlign")){case"min":s=h.min,l=+s+a;break
;case"max":l=h.max,s=l-a;break;default:var d=h.max-(h.max-h.min)/2
;s=d-a/2,l=d+a/2}else null==s&&(s=h.min),null==l&&(l=h.max)}
if(e.scaleUsesAbs()&&(s<0&&(s=-s),l<0&&(l=-l)),+s>+l){var f=s;s=l,l=f}return{
min:r(s),max:r(l),minLocked:u,maxLocked:c,lengthLocked:null!=a}},
_getContinuousVisibleExtent:function(t){var i=t.dataCells;if(1===i.length){
var n=i[0];return n.plot.getContinuousVisibleCellExtent(this,t,n)}
return e.query(i).select(function(e){
return e.plot.getContinuousVisibleCellExtent(this,t,e)
},this).reduce(Y.unionExtents,null)},_setDiscreteColorAxisScale:function(e){
var t=e.scheme()(e.domainValues())
;this._describeScale(e,t),e.setScale(t,!0),this._onColorAxisScaleSet(e)},
_setNumericColorAxisScale:function(t){
if(1!==t.dataCells.length)throw e.error("Can't handle multiple continuous data cells in color axis.")
;this._warnSingleContinuousValueRole(t.role)
;var i=this.visiblePlotData(t.dataCell.plot),n=t.option("NormByCategory"),r={
type:t.option("ScaleType"),colors:t.option("Colors")().range(),
colorDomain:t.option("Domain"),colorMin:t.option("Min"),
colorMax:t.option("Max"),colorMissing:t.option("Missing"),data:i,
colorDimension:t.role.grouping.singleDimensionName,normPerBaseCategory:n}
;if(n)t.scalesByCateg=d(r);else{var o=f(r)
;this._describeScale(t,o),t.setScale(o)}this._onColorAxisScaleSet(t)},
_onColorAxisScaleSet:function(e){switch(e.index){case 0:this.colors=e.scheme()
;break;case 1:this._allowV1SecondAxis&&(this.secondAxisColor=e.scheme())}},
_getRoleColorScale:function(t){
return e.lazy(e.lazy(this,"_rolesColorScale"),t.key,this._createRoleColorScale,this)
},_createRoleColorScale:function(t){function i(t){var i=""+t
;e.hasOwnProp.call(o,i)||(o[i]=r(t))}var n,r,o={}
;return this.axesByType.color.forEach(function(e){var o=e.role
;(o&&e.scale&&"discrete"===e.scaleType&&o.grouping.key===t&&0===e.index||e.option.isSpecified("Colors")||e.option.isSpecified("Map"))&&(r=e.scale,
n||(n=r),e.domainValues().forEach(i))},this),n?(r=function(t){var i=""+t
;return e.hasOwnProp.call(o,i)?o[i]:o[i]=n(t)
},e.copy(r,n),r):Y.createColorScheme()()},_onLaidOut:function(){}
}),Y.BaseChart.add({basePanel:null,contentPanel:null,titlePanel:null,
legendPanel:null,_multiChartPanel:null,_initChartPanels:function(){
var e=this.visualRoles.multiChart.isBound(),t=!this.parent
;if(this._initBasePanel(),this._initTitlePanel(),t){
var i=this._initLegendPanel()
;e&&this._initMultiChartPanel(),i&&this._initLegendScenes(i)}if(!t||!e){
var n=this.options;this.contentPanel=this._createContentPanel(this.basePanel,{
margins:e?n.smallContentMargins:n.contentMargins,
paddings:e?n.smallContentPaddings:n.contentPaddings
}),this._createContent(this.contentPanel,{clickAction:n.clickAction,
doubleClickAction:n.doubleClickAction})}},_initBasePanel:function(){
var e=this.parent
;e||this._setActiveScene(null,!0),this.__disposeRootPanel(),this.basePanel=new Y.BasePanel(this,e&&e._multiChartPanel,{
margins:this.margins,paddings:this.paddings,size:{width:this.width,
height:this.height}})},_initTitlePanel:function(){
var t=this.options,i=t.title,n=t.titleVisible;if(null==n&&(n=!e.empty(i)),n){
var r,o=this.titlePanel
;o&&this._preserveLayout&&(r=o._getLayoutState()),this.titlePanel=new Y.TitlePanel(this,this.basePanel,{
title:i,font:t.titleFont,anchor:t.titlePosition,align:t.titleAlign,
alignTo:t.titleAlignTo,offset:t.titleOffset,keepInBounds:t.titleKeepInBounds,
margins:r?r.margins:t.titleMargins,paddings:r?r.paddings:t.titlePaddings,
titleSize:r?r.size:t.titleSize,titleSizeMax:t.titleSizeMax})}},
_initLegendPanel:function(){var t=this.options,i=t.legendAreaVisible
;if(null==i&&(i=t.legend),i){
var n,r=new Y.visual.Legend(this,"legend",0),o=this.legendPanel
;return o&&this._preserveLayout&&(n=o._getLayoutState()),
this.legendPanel=new Y.LegendPanel(this,this.basePanel,{
anchor:r.option("Position"),align:r.option("Align"),alignTo:t.legendAlignTo,
offset:t.legendOffset,keepInBounds:t.legendKeepInBounds,
size:n?n.size:r.option("Size"),margins:n?n.margins:r.option("Margins"),
paddings:n?n.paddings:r.option("Paddings"),sizeMax:r.option("SizeMax"),
font:r.option("Font"),scenes:e.getPath(t,"legend.scenes"),
textMargin:t.legendTextMargin,itemPadding:t.legendItemPadding,
itemSize:r.option("ItemSize"),itemCountMax:r.option("ItemCountMax"),
overflow:r.option("Overflow"),markerSize:t.legendMarkerSize})}},
_getLegendRootScene:function(){
return this.legendPanel&&this.legendPanel._getRootScene()},
_initMultiChartPanel:function(){var e=this.basePanel,t=this.options
;this.contentPanel=this._multiChartPanel=new Y.MultiChartPanel(this,e,{
margins:t.contentMargins,paddings:t.contentPaddings
}),this._multiChartPanel.createSmallCharts(),
e._children.unshift(e._children.pop())},
_coordinateSmallChartsLayout:function(){},_registerInitLegendScenes:function(t){
e.array.lazy(this,"_initLegendScenesHandlers").push(t)},
_initLegendScenes:function(e){
this._initLegendScenesHandlers&&this._initLegendScenesHandlers.forEach(function(t){
t(e)});var t=this.axesByType.color;if(t){
var i,n=this._getDataPartDimName(),r=0,o=function(){
return i||(i=e._getRootScene())};t.forEach(function(e){
null!==this._maybeCreateLegendGroupScene(e,o,r,n)&&(r+=e.dataCells.length)
},this)}},_maybeCreateLegendGroupScene:function(t,i,n,r){
if(!t.option("LegendVisible")||!t.isBound()||!t.isDiscrete())return null
;var o=t.dataCells.filter(function(e){return e.legendVisible()})
;if(0===o.length)return null
;var a=t.scale,s=null!==r?e.query(o).uniqueIndex(function(e){
return e.dataPartValue}):null,l=i().createGroup({source:t.domainData(),
colorAxis:t,legendBaseIndex:n}),u=null;return e.query(o).each(function(e){
if(!e.role.grouping.hasExtensionComplexTypes)return u=null,!1
;null===u&&(u=[]),u.push(e)}),t.domainItems().forEach(function(i){
if((null===r||i.dimensions(r).atoms().some(function(t){
return e.hasOwn(s,t.value)}))&&(null===u||e.query(u).any(function(e){
return e.role.grouping.extensionDimensions().all(function(t){
var n,r=Y.visual.Role.parseDataSetName(t.dataSetName)
;return null!==r&&null!==(n=e.plot.visualRole(r))&&n.isBoundDimensionCompatible(i)
})}))){var n=l.createItem({source:i}),o=t.domainItemValue(i);n.color=a(o)}}),l},
_createContentPanel:function(e,t){return new Y.ContentPanel(this,e,{
margins:t.margins,paddings:t.paddings})},_createContent:function(e,t){
this.plotList.forEach(function(i){
(this.parent?i.isDataBoundOn(this.data):i.isBound)&&this._createPlotPanel(i,e,t)
},this)},_createPlotPanel:function(t,i,n){var r=Y.PlotPanel.getClass(t.type)
;if(!r)throw e.error.invalidOperation("There is no registered panel class for plot type '{0}'.",[t.type])
;var o=Object.create(n);if(this._preserveLayout){
var a=this._preservedPlotsLayoutInfo[t.id]
;o.size=a.size,o.paddings=a.paddings,o.margins=a.margins}
var s=new r(this,i,t,o),l=t.name,u=this.plotPanels
;u[t.id]=s,l&&(u[l]=s),t.globalIndex||(u.main=s),this.plotPanelList.push(s)}
}),Y.BaseChart.add({_updateSelectionSuspendCount:0,_lastSelectedDatums:null,
clearSelections:function(){
return this.data.owner.clearSelected()&&this.updateSelections(),this},
_updatingSelections:function(e,t){this._suspendSelectionUpdate();try{
e.call(t||this)}finally{this._resumeSelectionUpdate()}},
_suspendSelectionUpdate:function(){
this===this.root?this._updateSelectionSuspendCount++:this.root._suspendSelectionUpdate()
},_resumeSelectionUpdate:function(){
this===this.root?this._updateSelectionSuspendCount>0&&!--this._updateSelectionSuspendCount&&this.updateSelections():this.root._resumeSelectionUpdate()
},renderInteractive:function(){return this.useTextMeasureCache(function(){
this.basePanel.renderInteractive()},this),this},updateSelections:function(t){
if(this===this.root){
if(this._inUpdateSelections||this._updateSelectionSuspendCount)return this
;var i=this._calcSelectedChangedDatums();if(!i)return this
;Y.removeTipsyLegends(),this._inUpdateSelections=!0;try{
var n=this.options.selectionChangedAction;if(n){
var r=this.data.selectedDatums(),o=i.values()
;n.call(this.basePanel.context(),r,o)}
e.get(t,"render",!0)&&this.useTextMeasureCache(function(){
this.basePanel.renderInteractive()},this)}finally{this._inUpdateSelections=!1}
}else this.root.updateSelections(t);return this},
_calcSelectedChangedDatums:function(){if(this.data){
var e,t=this.data.selectedDatumMap(),i=this._lastSelectedDatums;if(i){
if(e=i.symmetricDifference(t),!e.count)return}else{if(!t.count)return
;e=t.clone()}return this._lastSelectedDatums=t,e}},
_onUserSelection:function(e,t){if(!e||!e.length)return e;if(this===this.root){
var i=this.options.userSelectionAction
;return i?i.call(this.basePanel.context(),e,t)||e:e}
return this.root._onUserSelection(e,t)}}),Y.BaseChart.add({
_processExtensionPoints:function(){
this.parent?this._components=this.parent._components:(this._processExtensionPointsIn(this.options),
this._processExtensionPointsIn(this.options.extensionPoints))},
_processExtensionPointsIn:function(t,i,n){
var o,a,s,l,u=this._components||(this._components={})
;for(o in t)l=o.indexOf("_"),
l>0?(a=o.substring(0,l),s=o.substring(l+1),a&&s&&(i&&(a=r(a,i)),
(e.getOwn(u,a)||(u[a]=new e.OrderedMap)).add(s,t[o]))):n&&(a=i?r(o,i):o,
n(t[o],a,o))},extend:function(t,i,n){e.array.is(i)?i.forEach(function(e){
this._extendCore(t,e,n)},this):this._extendCore(t,i,n)},
_extendCore:function(t,i,n){if(t){var r=e.getOwn(this._components,i);if(r){
t.borderPanel&&(t=t.borderPanel)
;var o=e.debug>=3?[]:null,a=e.get(n,"constOnly",!1),s=t.wrap,l={
tag:Y.extensionTag},u=t instanceof J,c=u&&(s||a),h=function(i,n){if(null!=i){
var r=typeof i;if("object"===r){if("svg"===n||"css"===n){
var o=t.propertyValue(n);o&&(i=e.copy(o,i))
}else if(i instanceof Array)return i.map(function(e){return h(e,n)})
}else if(c&&"function"===r){if(a)return;"add"!==n&&"call"!==n&&(i=s.call(t,i,n))
}}return i},d=function(e,i){return i instanceof Array?e.apply(t,i):e.call(t,i)}
;r.forEach(function(i,n){
if(t.isLocked&&t.isLocked(n))o&&o.push(n+": locked extension point!");else if(t.isIntercepted&&t.isIntercepted(n))o&&o.push(n+":"+e.describe(i)+" (controlled)");else if(o&&o.push(n+": "+e.describe(i)),
void 0!==(i=h(i,n))){var r=t[n]
;"function"==typeof r?u&&t.properties[n]?t.intercept(n,i,l):i instanceof Array?i.forEach(function(e){
d(r,e)}):d(r,i):t[n]=i}
}),o&&(o.length?this.log("Applying Extension Points for: '"+i+"'\n\t* "+o.join("\n\t* ")):e.debug>=5&&this.log("No Extension Points for: '"+i+"'"))
}
}else e.debug>=4&&this.log("Applying Extension Points for: '"+i+"' (target mark does not exist)")
},_getExtension:function(t,i){var n;if(e.array.is(t)){
for(var r,o=t.length-1;o>=0;)if((n=e.getOwn(this._components,t[o--]))&&void 0!==(r=n.get(i)))return r
}else if(n=e.getOwn(this._components,t))return n.get(i)},
_getComponentExtensions:function(t){return e.getOwn(this._components,t)},
_getConstantExtension:function(t,i){var n=this._getExtension(t,i)
;if(!e.fun.is(n))return n}}),Y.BaseChart.add({activeScene:function(){
return this._activeScene||null},_setActiveScene:function(e,t){
if(this.parent)return this.root._setActiveScene(e,t)
;e?e.ownerScene&&(e=e.ownerScene):e=null;var i=this.activeScene()
;if(e===i)return!1
;var n=new Y.visual.Context(this.basePanel),r=this._acting("active:change",function(){
return this.chart._activeSceneChange(this,t)});return r.from=i,r.to=e,n.event=r,
r.trigger(n,[]),!0},_activeSceneChange:function(e,t){
this.useTextMeasureCache(function(){var i=e.event.from,n=e.event.to
;i&&i._clearActive(),
(this._activeScene=n)&&n._setActive(!0),t||(!i||n&&n.root===i.root||i.panel().renderInteractive(),
n&&n.panel().renderInteractive())})},_on:function(e,t,i){
"active:change"===e&&(t.role||t.dims)&&L(e,t)}
}),e("pvc.visual.MultiChart",Y.visual.OptionsBase.extend({init:function(e){
this.base(e,"multiChart",0,{byV1:!1,byNaked:!1})},options:{Start:{
resolve:"_resolveFull",cast:e.number.toNonNegative,value:0},Max:{
resolve:"_resolveFull",cast:e.number.toPositive,value:1/0},ColumnsMax:{
resolve:"_resolveFull",cast:e.number.toPositive,value:3},SingleRowFillsHeight:{
resolve:"_resolveFull",cast:Boolean,value:!0},SingleColFillsHeight:{
resolve:"_resolveFull",cast:Boolean,value:!0},Overflow:{resolve:"_resolveFull",
cast:Y.parseMultiChartOverflow,value:"grow"}}
})),e.type("pvc.MultiChartPanel",Y.ContentPanel).add({
createSmallCharts:function(){var t,i=this.chart,n=i._multiInfo
;if(n&&(t=n.pageSmallCount)){
var r,o,a,s=this._getCoordinatedRootAxesByScopeType()
;s&&(r={},o=function(t,i,n){var o=e.array.lazy(r,i);e.array.lazy(o,n).push(t)
},a=function(e){
s.row&&o(e,"row",e.smallRowIndex),s.column&&o(e,"column",e.smallColIndex),
s.global&&o(e,"global",0)})
;for(var l=this._buildSmallChartsBaseOptions(),u=i.constructor,c=n.smallDatas,h=n.colCount,d=n.pageStartIndex,f=0;f<t;f++){
var p=c[d+f],m=f%h,g=Math.floor(f/h),v=e.set(Object.create(l),"smallColIndex",m,"smallRowIndex",g,"title",p.absLabel,"titleVisible",!0,"data",p),y=new u(v)
;s?(y._createPhase1(),a(y)):y._create()}if(s){var b=this
;e.eachOwn(s,function(e,t){e.forEach(function(e){r[t].forEach(function(t){
b._coordinateScopeAxes(e.id,t)})})}),i.children.forEach(function(e){
e._createPhase2()})}n.coordScopesByType=r}},
_getCoordinatedRootAxesByScopeType:function(){
var t=!1,i=e.query(this.chart.axesList).multipleIndex(function(e){
if("discrete"!==e.scaleType&&e.option.isDefined("DomainScope")){
var i=e.option("DomainScope");if("cell"!==i)return t=!0,i}});return t?i:null},
_coordinateScopeAxes:function(t,i){var n=e.query(i).select(function(e){
var i=e.axes[t].scale;if(!i.isNull){var n=i.domain();return{min:n[0],max:n[1]}}
}).reduce(Y.unionExtents,null);n&&i.forEach(function(e){
var i=e.axes[t],r=i.scale;r.isNull||(r.domain(n.min,n.max),i.setScale(r))})},
_buildSmallChartsBaseOptions:function(){var t=this.chart,i=t.options
;return e.set(Object.create(i),"parent",t,"legendAreaVisible",!1,"titleVisible",i.smallTitleVisible,"titleFont",i.smallTitleFont,"titlePosition",i.smallTitlePosition,"titleAlign",i.smallTitleAlign,"titleAlignTo",i.smallTitleAlignTo,"titleOffset",i.smallTitleOffset,"titleKeepInBounds",i.smallTitleKeepInBounds,"titleMargins",i.smallTitleMargins,"titlePaddings",i.smallTitlePaddings,"titleSize",i.smallTitleSize,"titleSizeMax",i.smallTitleSizeMax)
},_calcLayout:function(t){var i=this.chart,n=i._multiInfo;if(n){
var r=i.multiOptions.option,o=i.smallOptions.option,a=t.clientSize,s=t.previous,l=s?s.initialClientWidth:a.width,u=s?s.initialClientHeight:a.height,c=o("Width")
;null!=c&&(c=ie.resolve(c,l));var h=o("Height");null!=h&&(h=ie.resolve(h,u))
;var d=o("AspectRatio"),f=n.rowCount,p=n.colCount
;null==c&&(isFinite(n.colCountMax)?c=a.width/p:(null==h&&(h=u),
c=d*h)),null==h&&(h=1===f&&r("SingleRowFillsHeight")||1===p&&r("SingleColFillsHeight")?u:c/d)
;var m=c*p,g=h*f
;if(!i._isMultiChartOverflowClipRetry)switch(i._isMultiChartOverflowClip=!1,
r("Overflow")){case"fit":m>l&&(m=l,c=m/p),g>u&&(g=u,h=g/f);break;case"clip":
case"page":var v=p,y=f,b=m>l;b&&(v=Math.floor(l/c));var _=g>u
;_&&(y=Math.floor(u/h)),
(_||b)&&(i._isMultiChartOverflowClip=!0,i._clippedMultiChartRowCountMax=y,
i._clippedMultiChartColCountMax=v)}
return n.smallWidth=c,n.smallHeight=h,e.set(t,"initialClientWidth",l,"initialClientHeight",u,"width",c,"height",h),
{width:m,height:Math.max(a.height,g)}}},_createCore:function(t){var i=this.chart
;!i._isMultiChartOverflowClip||e.assert("Overflow & Clip condition should have been resolved.")
;var n=i._multiInfo;if(n){
var r=i.smallOptions.option,o=r("Margins"),a=r("Paddings")
;i.children.forEach(function(e){e._setSmallLayout({left:e.smallColIndex*t.width,
top:e.smallRowIndex*t.height,width:t.width,height:t.height,
margins:this._buildSmallMargins(e,o,n),paddings:a})},this)
;var s=n.coordScopesByType;s&&i._coordinateSmallChartsLayout(s),this.base(t)}},
_buildSmallMargins:function(e,t,i){
var n=i.colCount-1,r=i.rowCount-1,o=e.smallColIndex,a=e.smallRowIndex,s={}
;return o>0&&(s.left=t.left),
o<n&&(s.right=t.right),a>0&&(s.top=t.top),a<r&&(s.bottom=t.bottom),s}
}),e("pvc.visual.SmallChart",Y.visual.OptionsBase.extend({init:function(e){
this.base(e,"small",0,{byV1:!1,byNaked:!1})},options:{Width:{
resolve:"_resolveFull",cast:ie.parse,value:null},Height:{resolve:"_resolveFull",
cast:ie.parse,value:null},AspectRatio:{resolve:"_resolveFull",
cast:e.number.toPositive,getDefault:function(){
return this.chart instanceof Y.PieChart?10/7:5/4}},Margins:{
resolve:"_resolveFull",cast:ne.as,value:new ne(new ie(.02))},Paddings:{
resolve:"_resolveFull",cast:ne.as,value:0}}})),J.prototype.getSign=function(){
return this.sign||R(this)},J.prototype.getScene=function(){
return this.getSign().scene()},J.prototype.getContext=function(){
return this.getSign().context()},J.prototype.preBuildInstance=function(e){
var t=e.data;t instanceof Y.visual.Scene&&_.call(t,this.renderId())
},e("pvc.visual.BasicSign",e.Object.extend({init:function(t,i){
this.chart=t.chart,
this.panel=t,!i.sign||e.assert("Mark already has an attached Sign."),
this.pvMark=i,i.sign=this},methods:{compatVersion:function(){
return this.chart.compatVersion()},localProperty:function(e,t){
return this.pvMark.localProperty(e,t),this},lock:function(e,t){
return this.lockMark(e,this._bindWhenFun(t,e))},optional:function(e,t,i){
return this.optionalMark(e,this._bindWhenFun(t,e),i)},lockMark:function(e,t){
return this.pvMark.lock(e,t),this},optionalMark:function(e,t,i){
return this.pvMark[e](t,i),this},delegate:function(e,t){
return this.pvMark.delegate(e,t)},delegateExtension:function(e){
return this.pvMark.delegate(e,Y.extensionTag)},delegateNotExtension:function(e){
return this.pvMark.delegateExcept(e,Y.extensionTag)},hasDelegate:function(e){
return this.pvMark.hasDelegate(e)},_createPropInterceptor:function(e,t){
var i=this;return function(){var n=this.sign
;return n&&n===i?t.apply(i,arguments):i._getPvSceneProp(e,this.index)}},
_getPvSceneProp:function(t,i){var n=this.pvMark,r=n.scene;if(r){
var o=n.hasOwnProperty("index")?n.index:Math.min(i,r.length-1)
;if(null!=o)return r[o][t]}
throw e.error.operationInvalid("Cannot evaluate inherited property.")},
_bindWhenFun:function(t,i){if(e.fun.is(t)){var n=this
;return n._createPropInterceptor(i,function(e){return t.call(n,e)})}return t},
_lockDynamic:function(e,t){var i=this
;return i.lockMark(e,i._createPropInterceptor(e,function(e){
return i[t].call(i,e)}))},scene:function(){
var e=this.pvMark.instance(),t=e&&e.data
;return t instanceof Y.visual.Scene?t:null},instanceState:function(e){
return this.pvMark.instanceState(e)},context:function(e,t){var i
;return t||!(i=this.instanceState())?this._createContext(e):i.cccContext||(i.cccContext=this._createContext(e))
},_createContext:function(e){
return new Y.visual.Context(this.panel,this.pvMark,e)}}
})),e("pvc.visual.Sign",Y.visual.BasicSign.extend([{init:function(t,i,n){
var r=this;r.base(t,i,n),r._ibits=t.ibits();var o=e.get(n,"extensionId")
;if(null!=o&&(r.extensionAbsIds=e.array.to(t._makeExtensionAbsId(o))),
r.isActiveSeriesAware=e.get(n,"activeSeriesAware",!0),r.isActiveSeriesAware){
var a=t.visualRoles,s=a&&a.series;s&&s.isBound()||(r.isActiveSeriesAware=!1)}
i.wrapper(e.get(n,"wrapper")||r.createDefaultWrapper()),
e.get(n,"freeColor",!0)||r._bindProperty("fillStyle","fillColor","color")._bindProperty("strokeStyle","strokeColor","color")
},postInit:function(e,t,i){this._addInteractive(i),e._addSign(this)},
methods:[Y.visual.Interactive],"type.methods":{properties:function(t){var i
;for(var n in t)void 0!==(i=t[n])&&(isNaN(+n)?this.property(n):e.string.is(i)&&this.property(i))
;return this},property:e.configurable(!1,function(t){
var i=e.firstUpperCase(t),n="base"+i,r="default"+i,o="normal"+i,a="interactive"+i,s={}
;return s[t]=function(e,t){this._finished=!1,this._arg=t;var i=this[n](e,t)
;return null==i?null:this._finished?i:(i=this[this.showsInteraction()&&e.anyInteraction()?a:o](e,i,t),
this._arg=null,i)},s[n]=function(){return this.delegateExtension()
},s[r]=function(){},s[o]=function(e,t){return t},s[a]=function(e,t){return t
},this.methods(s)})}},{properties:["color"]},{methods:{extensionAbsIds:null,
_processedIbits:!1,ibits:function(){var e=this._ibits,t=this.pvMark
;if(!this._processedIbits){this._processedIbits=!0;var i=this.extensionAbsIds
;i&&i.forEach(function(e){var i=this.panel._getExtensionAbs(e,"ibits")
;null!=i&&t.ibits(i),
null!=(i=this.panel._getExtensionAbs(e,"imask"))&&t.imask(i)},this)}
var n=t.imask();if(n){var r=n&t.ibits(),o=~n|r;e|=r,e&=o}return e},
createDefaultWrapper:function(){var e=this;return function(t){
return function(i){return t.call(e.context(),i)}}},anyInteraction:function(e){
return e.anyInteraction()},finished:function(e){return this._finished=!0,e},
applyExtensions:function(){if(!this._extended){this._extended=!0
;var e=this.extensionAbsIds;e&&e.forEach(function(e){
this.panel.extendAbs(this.pvMark,e)},this)}return this},intercept:function(e,t){
var i=this._createPropInterceptor(e,t);return this._intercept(e,i)},
lockDimensions:function(){
return this.pvMark.lock("left").lock("right").lock("top").lock("bottom").lock("width").lock("height"),
this},_extensionKeyArgs:{tag:Y.extensionTag},_bindProperty:function(t,i,n){
var r=this;n||(n=i);var o="default"+e.firstUpperCase(n)
;if(e.fun.is(r[o])&&!r.pvMark.hasDelegateValue(t,Y.extensionTag)){
var a=function(e){return r[o](e,r._arg)}
;r.pvMark.intercept(t,a,r._extensionKeyArgs)}
var s=this._createPropInterceptor(t,function(e){return r[i](e)})
;return r._intercept(t,s)},_intercept:function(t,i){
var n=this.pvMark,r=this.extensionAbsIds
;return r&&e.query(r).select(function(e){return this.panel._getExtensionAbs(e,t)
},this).where(e.notUndef).each(function(e){
e=n.wrap(e,t),n.intercept(t,e,this._extensionKeyArgs)
},this),(n._intercepted||(n._intercepted={}))[t]=!0,n.intercept(t,i),this},
_addInteractive:function(t){var i=this,n=e.get;if(i.interactive()){
var r=i.ibits(),o=Y.visual.Interactive
;n(t,"noTooltip")&&(r&=~o.ShowsTooltip),n(t,"noHover")&&(r&=~o.Hoverable),
n(t,"noClick")&&(r&=~o.Clickable),n(t,"noDoubleClick")&&(r&=~o.DoubleClickable),
n(t,"noSelect")?r&=~o.SelectableAny:this.selectable()&&(n(t,"noClickSelect")&&(r&=~o.SelectableByClick),
n(t,"noRubberSelect")&&(r&=~o.SelectableByRubberband)),
i.showsInteraction()&&(!1===n(t,"showsInteraction")&&(r&=~o.ShowsInteraction),
i.showsActivity()&&!1===n(t,"showsActivity")&&(r&=~o.ShowsActivity),
i.showsSelection()&&!1===n(t,"showsSelection")&&(r&=~o.ShowsSelection)),
i._ibits=r}
i.handlesEvents()?(i.showsTooltip()&&i._addPropTooltip(n(t,"tooltipArgs")),
i.hoverable()&&i._addPropHoverable(),
i.handlesClickEvent()&&i._addPropClick(),i.doubleClickable()&&i._addPropDoubleClick()):i.pvMark.events("none")
},fillColor:function(e){return this.color(e,"fill")},strokeColor:function(e){
return this.color(e,"stroke")},defaultColor:function(e){
return this.scaleColor(e)},scaleColor:function(e){
return this.defaultColorSceneScale()(e)},dimColor:function(e,t){
return"text"===t?Y.toGrayScale(e,-.75,null,null):Y.toGrayScale(e,-.3,null,null)
},defaultColorSceneScale:function(){
return e.lazy(this,"_defaultColorSceneScale",this._initDefColorScale,this)},
_initDefColorScale:function(){var t=this.panel.axes.color
;return t?t.sceneScale({sceneVarName:"color"}):e.fun.constant(Y.defaultColor)},
mayShowActive:function(e,t){if(!this.showsActivity())return!1;var i
;return e.isActive||!(!(i=e.ownerScene)||i===e)&&i.isActive||!t&&this.isActiveSeriesAware&&e.isActiveSeries()||e.isActiveDatum()
},mayShowNotAmongSelected:function(e){
return this.mayShowAnySelected(e)&&!e.isSelected()},mayShowSelected:function(e){
return this.showsSelection()&&e.isSelected()},mayShowAnySelected:function(e){
return this.showsSelection()&&e.anySelected()},_addPropTooltip:function(t){
if(!this.pvMark.tooltipOptions){
var i=this.panel._requireTipsy(),n=this.chart._pointingOptions,r=e.create(this.chart._tooltipOptions,e.get(t,"options"))
;r.isLazy=e.get(t,"isLazy",!0)
;var o=e.get(t,"buildTooltip")||this._getTooltipFormatter(r);if(o){
var a="near"===n.mode,s=e.get(t,"tipsyEvent")||(a?"point":"mouseover")
;this.pvMark.localProperty("tooltip").tooltip(this._createTooltipProp(o,r.isLazy)).title(e.fun.constant("")).ensureEvents().event(s,i).tooltipOptions=r
}}},_getTooltipFormatter:function(e){return this.panel._getTooltipFormatter(e)},
_isTooltipEnabled:function(){return this.panel._isTooltipEnabled()},
_createTooltipProp:function(e,t){var i,n=this;return i=t?function(t){
var i,r=n.context(t,!0);return function(){return r&&(i=e(r),r=null),i}
}:function(t){var i=n.context(t);return e(i)},function(e){
if(e&&e.showsTooltip())return i(e)}},_addPropHoverable:function(){
var e,i,n=this.chart._pointingOptions,r=this.panel
;"near"===n.mode?(e="point",i="unpoint"):(e="mouseover",
i="mouseout"),this.pvMark.ensureEvents().event(e,function(e){
!e.hoverable()||r.selectingByRubberband()||r.animating()||e.setActive(!0)
}).event(i,function(e){
!e.hoverable()||r.selectingByRubberband()||r.animating()||t.event&&t.event.isPointSwitch||e.clearActive()
}),this.pvMark._hasHoverable=!0},_ignoreClicks:0,_propCursorClick:function(e){
var t=this.ibits()&e.ibits(),i=Y.visual.Interactive
;return t&i.HandlesClickEvent||t&i.DoubleClickable?"pointer":null},
_addPropClick:function(){var e=this
;e.pvMark.cursor(e._propCursorClick.bind(e)).ensureEvents().event("click",e._handleClick.bind(e))
},_addPropDoubleClick:function(){var e=this
;e.pvMark.cursor(e._propCursorClick.bind(e)).ensureEvents().event("dblclick",e._handleDoubleClick.bind(e))
},_handleClick:function(){var e=this,i=e.pvMark,n=i.instance(),r=n.data
;if(e.doubleClickable()&&r.doubleClickable()){var o=i.scene,a=i.index,s=t.event
;window.setTimeout(function(){if(e._ignoreClicks)e._ignoreClicks--;else try{
t.event=s,i.context(o,a,function(){e._handleClickCore()})}catch(e){t.error(e)
}finally{delete t.event}},e.chart.options.doubleClickMaxDelay||300)
}else e._ignoreClicks?e._ignoreClicks--:e._handleClickCore()},
_handleClickCore:function(){this._onClick(this.context())},
_handleDoubleClick:function(){var e=this,t=e.scene()
;t&&t.doubleClickable()&&(e._ignoreClicks=2,e._onDoubleClick(e.context(t)))},
_onClick:function(e){e.click()},_onDoubleClick:function(e){e.doubleClick()}}
}])),Y.finished=function(t){return void 0===t?function(){
return this.finished(this.delegate())}:e.fun.is(t)?function(){
return(this.finished?this:this.getSign()).finished(t.apply(this,arguments))
}:function(){return(this.finished?this:this.getSign()).finished(t)}
},e("pvc.visual.Panel",Y.visual.Sign.extend({init:function(i,n,r){
var o=e.get(r,"panel");if(!o){var a=e.get(r,"panelType")||t.Panel;o=n.add(a)}
this.base(i,o,r)},methods:{_addInteractive:function(t){
t=e.setDefaults(t,"noSelect",!0,"noHover",!0,"noTooltip",!0,"noClick",!0,"noDoubleClick",!0),
this.base(t)}}})),e("pvc.visual.Label",Y.visual.Sign.extend({
init:function(e,i,n){var r=i.add(t.Label);this.base(e,r,n)},methods:{
_addInteractive:function(t){
t=e.setDefaults(t,"noSelect",!0,"noHover",!0,"noTooltip",!0,"noClick",!0,"noDoubleClick",!0,"showsInteraction",!1),
this.base(t)},defaultColor:e.fun.constant(t.Color.names.black)}}))
;var be=t.Color.names.white;e("pvc.visual.ValueLabel",Y.visual.Label.extend({
init:function(t,i,n){
this.valuesFont=e.get(n,"valuesFont")||t.valuesFont,this.valuesMask=e.get(n,"valuesMask")||t.valuesMask,
this.valuesOptimizeLegibility=e.get(n,"valuesOptimizeLegibility",t.valuesOptimizeLegibility),
this.valuesOverflow=e.get(n,"valuesOverflow",t.valuesOverflow),
this.hideOverflowed="hide"===this.valuesOverflow,
this.trimOverflowed=!this.hideOverflowed&&"trim"===this.valuesOverflow,
this.hideOrTrimOverflowed=this.hideOverflowed||this.trimOverflowed
;var r=e.get(n,"noAnchor",!1)?i:i.anchor(t.valuesAnchor)
;n&&null==n.extensionId&&(n.extensionId="label"),
this.base(t,r,n),this.pvMark.font(this.valuesFont),
this._bindProperty("text","text")._bindProperty("textStyle","textColor","color").intercept("visible",this.visible)
},properties:["text","textStyle"],type:{methods:{maybeCreate:function(e,t,i){
return e.valuesVisible&&e.valuesMask?new Y.visual.ValueLabel(e,t,i):null},
isNeeded:function(e){return e.valuesVisible&&!!e.valuesMask}}},methods:{
_addInteractive:function(t){
t=e.setDefaults(t,"showsInteraction",!0,"noSelect",!0,"noTooltip",!0,"noClick",!0,"noDoubleClick",!0,"noHover",!0),
this.base(t)},visible:function(e){var t=this.getAnchoredToMark()
;if(t&&!t.visible())return!1
;if(!this.hideOrTrimOverflowed)return this.delegate(!0);var i
;if(this.hasDelegate(Y.extensionTag)&&null!=(i=this.delegateExtension()))return i
;if(!1===(i=this.delegateNotExtension()))return!1
;if(e.isActive&&this.showsActivity())return!0;var n=this.textFitInfo(e)
;return!(n&&n.hide)},textFitInfo:function(e){var t=e.renderState,i=t.textFitInfo
;return void 0!==i?i:t.textFitInfo=this.calcTextFitInfo(e,this._evalBaseText())||null
},calcTextFitInfo:function(e,t){return null},_evalBaseText:function(){
var e=this.pvMark,t=e.binds.properties.text.proto
;return e.evalInPropertyContext(this.baseText.bind(this),t)},
baseText:function(e){var t=e.renderState,i=t.baseText
;return void 0!==i?i:this.base(e)},defaultText:function(e){
return e.format(this.valuesMask)},normalText:function(e,t){var i
;return this.trimOverflowed&&(i=this.textFitInfo(e))?this.trimText(e,t,i):t},
interactiveText:function(e,t){var i
;return!this.trimOverflowed||e.isActive&&this.showsActivity()||!(i=this.textFitInfo(e))?t:this.trimText(e,t,i)
},trimText:function(e,t,i){var n=i&&i.widthMax
;return null!=n?Y.text.trimToWidthB(n,t,this.pvMark.font(),".."):t},
textColor:function(e){return this.color(e,"text")},
backgroundColor:function(t,i){var n=this.instanceState()
;if(!n)return this.calcBackgroundColor(t,i);var r=e.lazy(n,"cccBgColorCache")
;return e.getOwn(r,i)||(r[i]=this.calcBackgroundColor(t,i))},
calcBackgroundColor:function(e,t){var i=this.getAnchoredToMark();if(i){
var n=i.fillStyle();if(n&&n!==be&&this.isAnchoredInside(e,i))return n}return be
},getAnchoredToMark:function(){return this.pvMark.target||this.pvMark.parent},
isAnchoredInside:function(e,i){if(!i&&!(i=this.getAnchoredToMark()))return!1
;var n,r=this.pvMark,o=r.text(),a=t.Text.measure(o,r.font()),s=r.left(),l=r.top()
;null==s&&(n=r.parent,
s=n.width()-(r.right()||0)),null==l&&(n||(n=r.parent),l=n.height()-(r.bottom()||0))
;var u,c=t.Label.getPolygon(a.width,a.height,r.textAlign(),r.textBaseline(),r.textAngle(),r.textMargin()).center().plus(s,l)
;return u=i===r.parent?new t.Shape.Rect(0,0,i.width(),i.height()):i.getShape(i.scene,i.index),
u.containsPoint(c)},maybeOptimizeColorLegibility:function(e,t,i){
if(t&&this.valuesOptimizeLegibility){var n=this.backgroundColor(e,i);if(n){
var r=t.complementary(),o=t.contrastRatioTo(n)
;if(r.contrastRatioTo(n)>o)return r}}return t},normalColor:function(e,t,i){
return this.maybeOptimizeColorLegibility(e,t,i)},
interactiveColor:function(e,t,i){
return!this.mayShowActive(e)&&this.mayShowNotAmongSelected(e)?this.dimColor(t,i):this.maybeOptimizeColorLegibility(e,t,i)
}}})),e("pvc.visual.Dot",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.Dot),a=e.get(r,"proto")
;if(a&&o.extend(a),r=e.setDefaults(r,"freeColor",!1),
this.base(i,o,r),!e.get(r,"freePosition",!1)){
var s=i.isOrientationVertical()?"left":"bottom",l=i.anchorOrtho(s)
;this._lockDynamic(s,"x")._lockDynamic(l,"y")}
this.pvMark.shapeRadius(function(e){return Math.sqrt(this.sign.defaultSize(e))
}),
this._bindProperty("shape","shape")._bindProperty("shapeRadius","radius")._bindProperty("shapeSize","size"),
this.optional("strokeDasharray",void 0).optional("lineWidth",1.5)},
properties:["size","shape"],methods:{y:e.fun.constant(0),x:e.fun.constant(0),
radius:function(){var e=this.instanceState()
;return this._finished=!1,e.cccRadius=this.delegateExtension(),
e.cccRadiusFinished=this._finished,null},baseSize:function(t){
this.pvMark.shapeRadius();var i=this.instanceState(),n=i.cccRadius
;return null!=n?(this._finished=i.cccRadiusFinished,e.sqr(n)):this.base(t)},
defaultSize:e.fun.constant(12),interactiveSize:function(e,t){
return this.mayShowActive(e,!0)?2*Math.max(t,5):t},
interactiveColor:function(e,t,i){if(this.mayShowActive(e,!0)){
if("stroke"===i)return t.brighter(1)}else if(this.mayShowNotAmongSelected(e)){
if(this.mayShowActive(e))return t.alpha(.8);switch(i){case"fill":
return this.dimColor(t,i);case"stroke":return t.alpha(.45)}}
return this.base(e,t,i)}}})),e("pvc.visual.DotSizeColor",Y.visual.Dot.extend({
init:function(e,i,n){
if(this.base(e,i,n),this._bindProperty("lineWidth","strokeWidth").intercept("visible",function(e){
if(!this.canShow(e))return!1;var t=this.delegateExtension()
;return null==t?this.defaultVisible(e):t
}),this._initColor(),this._initSize(),this.isSizeBound&&e.axes.size.scaleUsesAbs()){
this.isSizeAbs=!0;var r=this._sceneDefColor;this._sceneDefColor=function(e,i){
return"stroke"===i&&e.vars.size.value<0?t.Color.names.black:r.call(this,e,i)
},this.pvMark.lineCap("round").strokeDasharray(function(e){
return e.vars.size.value<0?"dash":null})}},properties:["strokeWidth"],methods:{
isColorBound:!1,isColorDiscrete:!1,isSizeBound:!1,isSizeAbs:!1,
canShow:function(e){return!e.isIntermediate},defaultVisible:function(e){
return!e.isNull&&(!this.isSizeBound&&!this.isColorBound||this.isSizeBound&&null!=e.vars.size.value||this.isColorBound&&(this.isColorDiscrete||null!=e.vars.color.value))
},_initColor:function(){var t,i,n=this.panel,r=n.visualRoles.color;if(r){
this.isColorDiscrete=r.isDiscrete();var o=n.axes.color
;r.isBound()?(this.isColorBound=!0,i=o.sceneScale({sceneVarName:"color"
})):o&&(t=o.option("Unbound"))}
this._sceneDefColor=i||e.fun.constant(t||Y.defaultColor)},_initSize:function(){
var t,i,n=this.panel,r=n.plot,o=r.option("Shape"),a=r.option("NullShape"),s=n.visualRoles.size
;if(s){var l=n.axes.size,u=l&&l.scale;if(u&&s.isBound()){this.isSizeBound=!0
;var c=u.min+.05*(u.max-u.min)
;this.nullSizeShapeHasStrokeOnly="cross"===a,i=function(e){
return null!=e.vars.size.value?o:a},t=function(e){var t=e.vars.size.value
;return null!=t?u(t):a?c:0}}}t||(i=e.fun.constant(o),t=function(e){
return this.base(e)}),this._sceneDefSize=t,this._sceneDefShape=i},
defaultColor:function(e,t){return this._sceneDefColor(e,t)},
normalColor:function(e,t,i){return"stroke"===i?t.darker():this.base(e,t,i)},
interactiveColor:function(e,t,i){if(this.mayShowActive(e,!0))switch(i){
case"fill":return this.isSizeBound?t.alpha(.75):t;case"stroke":return t.darker()
}else if(this.showsSelection()){var n=e.isSelected(),r=!n&&e.anySelected()
;if(r){if(this.mayShowActive(e))return t.alpha(.8);switch(i){case"fill":
return this.dimColor(t,i);case"stroke":return t.alpha(.45)}}
if(n&&h(t))return"stroke"===i?t.darker(3):t.darker(2)}
return"stroke"===i?t.darker():t},defaultSize:function(e){
return this._sceneDefSize(e)},defaultShape:function(e){
return this._sceneDefShape(e)},interactiveSize:function(t,i){
if(!this.mayShowActive(t,!0))return i
;var n=Math.sqrt(i),r=Math.max(1,Math.min(1.1*n,2));return e.sqr(n+r)},
defaultStrokeWidth:function(e){
return this.nullSizeShapeHasStrokeOnly&&null==e.vars.size.value?1.8:1},
interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e,!0)?2*t:this.mayShowSelected(e)?1.5*t:t}}
})),t.LineInterm=function(){t.Line.call(this)
},t.LineInterm.prototype=t.extend(t.Line),
t.LineInterm.prototype.getNearestInstanceToMouse=function(e,i){
var n=t.Line.prototype.getNearestInstanceToMouse.call(this,e,i),r=e[n]
;return r&&r.data&&r.data.isIntermediate&&n+1<e.length&&n++,n
},e("pvc.visual.Line",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.LineInterm)
;if(this.base(i,o,r),this.lock("segmented","smart").lock("antialias",!0),
!e.get(r,"freePosition",!1)){
var a=i.isOrientationVertical()?"left":"bottom",s=i.anchorOrtho(a)
;this._lockDynamic(s,"y")._lockDynamic(a,"x")}
this._bindProperty("strokeStyle","strokeColor","color")._bindProperty("lineWidth","strokeWidth")
},properties:["strokeWidth"],methods:{_addInteractive:function(t){
t=e.setDefaults(t,"noTooltip",!0),this.base(t)},y:e.fun.constant(0),
x:e.fun.constant(0),defaultStrokeWidth:e.fun.constant(1.5),
interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e)?2.5*Math.max(1,t):t},
interactiveColor:function(e,i,n){
return this.mayShowNotAmongSelected(e)?this.mayShowActive(e)?t.Color.names.darkgray.darker().darker():this.dimColor(i,n):this.base(e,i,n)
}}})),t.AreaInterm=function(){t.Area.call(this)
},t.AreaInterm.prototype=t.extend(t.Area),
t.AreaInterm.prototype.getNearestInstanceToMouse=function(e,i){
var n=t.Area.prototype.getNearestInstanceToMouse.call(this,e,i),r=e[n]
;return r&&r.data&&r.data.isIntermediate&&n+1<e.length&&n++,n
},e("pvc.visual.Area",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.AreaInterm);r||(r={}),r.freeColor=!0,this.base(i,o,r)
;var a=e.get(r,"antialias",!0)
;if(this.lock("segmented","smart").lock("antialias",a),
!e.get(r,"freePosition",!1)){
var s=i.isOrientationVertical()?"left":"bottom",l=i.anchorOrtho(s),u=i.anchorOrthoLength(l)
;this._lockDynamic(s,"x")._lockDynamic(l,"y")._lockDynamic(u,"dy")}
this._bindProperty("fillStyle","fillColor","color"),
this.lock("strokeStyle",null).lock("lineWidth",0)},methods:{
_addInteractive:function(t){t=e.setDefaults(t,"noTooltip",!0),this.base(t)},
y:e.fun.constant(0),x:e.fun.constant(0),dy:e.fun.constant(0),
interactiveColor:function(e,t,i){
return"fill"===i&&this.mayShowNotAmongSelected(e)?this.dimColor(t,i):this.base(e,t,i)
}}})),e("pvc.visual.Bar",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.Bar)
;r=e.setDefaults(r,"freeColor",!1),this.base(i,o,r),this.normalStroke=e.get(r,"normalStroke",!1),
this._bindProperty("lineWidth","strokeWidth")},properties:["strokeWidth"],
methods:{normalColor:function(e,t,i){
return"stroke"!==i||this.normalStroke?t:null},interactiveColor:function(e,i,n){
if("stroke"===n){if(this.mayShowActive(e,!0))return i.brighter(1.3).alpha(.7)
;if(!this.normalStroke)return null
;if(this.mayShowNotAmongSelected(e))return this.mayShowActive(e)?t.Color.names.darkgray.darker().darker():this.dimColor(i,n)
;if(this.mayShowActive(e))return i.brighter(1).alpha(.7)}else if("fill"===n){
if(this.mayShowActive(e,!0))return i.brighter(.2).alpha(.8)
;if(this.mayShowNotAmongSelected(e))return this.mayShowActive(e)?t.Color.names.darkgray.darker(2).alpha(.8):this.dimColor(i,n)
;if(this.mayShowActive(e))return i.brighter(.2).alpha(.8)}
return this.base(e,i,n)},defaultStrokeWidth:function(){return.5},
interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e,!0)?1.3*Math.max(1,t):t}}
})),e("pvc.visual.Rule",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.Rule);o.pointingRadiusMax(2);var a=e.get(r,"proto")
;a&&o.extend(a),
this.base(i,o,r),e.get(r,"freeStyle")||this._bindProperty("strokeStyle","strokeColor","color")._bindProperty("lineWidth","strokeWidth")
},properties:["strokeWidth"],methods:{_addInteractive:function(t){
t=e.setDefaults(t,"noHover",!0,"noSelect",!0,"noTooltip",!0,"noClick",!0,"noDoubleClick",!0,"showsInteraction",!1),
this.base(t)},defaultStrokeWidth:e.fun.constant(1),
interactiveStrokeWidth:function(e,t){
return this.mayShowActive(e,!0)?2.2*Math.max(1,t):t},
interactiveColor:function(e,t,i){
return e.datum&&!this.mayShowActive(e,!0)&&this.mayShowNotAmongSelected(e)?this.dimColor(t,i):this.base(e,t,i)
}}})),e.space("pvc.visual").discreteBandsLayout=E
;var _e=e("pvc.visual.CartesianAxis",ce.extend({init:function(e,t,i,n){
var r=e.options
;this.orientation=_e.getOrientation(t,r.orientation),this.orientedId=_e.getOrientedId(this.orientation,i),
e._allowV1SecondAxis&&1===i&&(this.v1SecondOrientedId="second"+this.orientation.toUpperCase()),
this.base(e,t,i,n),
e.axes[this.orientedId]=this,this.v1SecondOrientedId&&(e.axes[this.v1SecondOrientedId]=this),
this.extensionPrefixes=H.call(this)},methods:{bind:function(e){
return this.base(e),this._syncExtensionPrefixes(),this},
_syncExtensionPrefixes:function(){this.extensionPrefixes=H.call(this)},
_buildState:function(){return{
ratio:this.option("PreserveRatio")?this._getCurrentRatio():null,
tickAlignment:this.option("PreserveTickAlignment")?this._getTickAlignment():null
}},_getCurrentRatio:function(){var e=this._state.ratio||this.option("Ratio")
;if(null==e){var t=this.scale;if(t){var i=t.size,n=t.domain();e=i/(n[1]-n[0])}}
return e},_getTickAlignment:function(){
return this.ticks&&"discrete"!==this.scale.type?this.ticks[0]:this._state.tickAlignment
},setScale:function(e,t){var i=!!this.scale
;if(this.base(e,t),i&&(delete this.domain,
delete this.domainNice,delete this.ticks,
delete this._roundingOverflow),e&&!e.isNull&&"discrete"!==this.scaleType){
this.domain=e.domain(),
this.domain.minLocked=!!e.minLocked,this.domain.maxLocked=!!e.maxLocked
;var n=this.option("TickFormatter")
;n&&e.tickFormatter(n),"nice"===this.option("DomainRoundMode")&&"numeric"===e.type&&e.nice(),
this.domainNice=e.domain()}return this},setTicks:function(t){var i=this.scale
;if(i&&!i.isNull||e.fail.operationInvalid("Scale must be set and non-null."),
this.ticks=t,
delete this._roundingOverflow,"discrete"!==i.type&&"tick"===this.option("DomainRoundMode")){
delete this._roundingOverflow;var n=t?t.length:0
;n>=2?this._adjustDomain(i,t[0],t[n-1])&&this._removeTicks(t):this._adjustDomain(i,null,null,!0)
}},_adjustDomain:function(e,i,n,r){var o=this.domainNice;if(!o)return!1
;var a=+o[0],s=+o[1];if(null==a||null==s)return!1
;var l=null!=i?Math.min(+i,a):a,u=null!=n?Math.max(+n,s):s,c=!1,h=e.size;if(h){
var d=this._state.ratio||this.option("Ratio");if(null!=d){c=!0;var f=h/d
;switch(this.option("DomainAlign")){case"min":u=l+f;break;case"max":l=u-f;break
;case"center":var p=u-(u-l)/2;u=p+f/2,l=p-f/2}}}
if(!r&&t.floatEqual(l,a)&&t.floatEqual(u,s))return!1
;var m=this.role.grouping.firstDimension.name,g=this.chart.data.owner.dimensions(m)
;return l=g.read(l).value,u=g.read(u).value,e.domain(l,u),c},
_removeTicks:function(e){var t=this.option;if(this._state.ratio||t("Ratio")){
var i=e[0],n=e[e.length-1],r=this.scale.domain(),o=this.chart.axesPanels[this.id]._layoutInfo
;if(e!==o.ticks)throw new Error("Assertion failed.");var a=function(t){
var i=e.indexOf(t);e.splice(i,1),o.ticksText.splice(i,1)}
;switch(t("DomainAlign")){case"min":n>r[1]&&a(n);break;case"max":i<r[0]&&a(i)
;break;default:n>r[1]&&a(n),i<r[0]&&a(i)}}},setScaleRange:function(e){
var t=this.getScaleRangeInfo()
;t&&(null!=t.value?e=t.value:null!=t.min&&(e=Math.max(Math.min(e,t.max),t.min)))
;var i=this.scale;return i.min=0,i.max=e,i.size=e,delete this._roundingOverflow,
"discrete"===i.type?t&&("abs"===t.mode?i.splitBandedCenterAbs(i.min,i.max,t.band,t.space):i.splitBandedCenter(i.min,i.max,t.ratio)):(i.range(i.min,i.max),
this._adjustDomain(i)),i},getScaleRangeInfo:function(){
if(!this.isDiscrete())return null
;var e=Y.visual.discreteBandsLayout(this.domainItemCount(),this.option("BandSize"),this.option("BandSizeMin")||0,this.option("BandSizeMax"),this.option("BandSpacing"),this.option("BandSpacingMin")||0,this.option("BandSpacingMax"),this.option("BandSizeRatio"))
;return e&&this.chart.visualRoles.multiChart.isBound()?{mode:"rel",min:0,
max:1/0,ratio:e.ratio}:e},getRoundingOverflow:function(){
var e=this._roundingOverflow;if(!e){e=this._roundingOverflow={begin:0,end:0,
beginLocked:!1,endLocked:!1};var i=this.scale,n=this.domain
;if(i&&n&&!i.isNull&&"discrete"!==i.type&&(e.beginLocked=n.minLocked,
e.endLocked=n.maxLocked,null!=i.size&&"tick"===this.option("DomainRoundMode"))){
var r=i.domain(),o=n[0]-r[0],a=r[1]-n[1],s=t.epsilon;if(o>s||a>s){var l=i(0)
;o>s&&(e.begin=i(o)-l),a>s&&(e.end=i(a)-l)}}}return e},
calcContinuousTicks:function(e){
return this.scale.ticks(this.desiredTickCount(),{
roundInside:"tick"!==this.option("DomainRoundMode"),
alignmentValue:this._state.tickAlignment,tickCountMax:e,
precision:this.option("TickUnit"),precisionMin:this.tickUnitMinEf(),
precisionMax:this.tickUnitMaxEf()})},desiredTickCount:function(){
var e=this.option("DesiredTickCount"),t="timeSeries"===this.scaleType
;return null==e?t?null:1/0:t&&isFinite(e)&&e>10?10:e},tickUnitMinEf:function(){
var e=this.option("TickUnitMin"),t=this.option("TickExponentMin")
;return null==e&&(e=0),
null!=t&&isFinite(t)&&(e=Math.max(e,Math.pow(10,Math.floor(t)))),e},
tickUnitMaxEf:function(){
var e=this.option("TickUnitMax"),t=this.option("TickExponentMax")
;return null==e&&(e=1/0),
null!=t&&isFinite(t)&&(e=Math.min(e,9.999*Math.pow(10,Math.floor(t)))),e},
_registerResolversNormal:function(e,t){
this.chart.compatVersion()<=1&&e.push(this._resolveByV1OnlyLogic),
e.push(this._resolveByOptionId,this._resolveByOrientedId),
1===this.index&&e.push(this._resolveByV1OptionId),
e.push(this._resolveByScaleType,this._resolveByCommonId)},
_resolveByOrientedId:Y.options.specify(function(e){
return this._chartOption(this.orientedId+"Axis"+e.name)}),
_resolveByV1OptionId:Y.options.specify(function(e){
return this._chartOption("secondAxis"+e.name)}),
_resolveByScaleType:Y.options.specify(function(e){var t=this.scaleType;if(t){
var i=e.name,n=this._chartOption(t+"Axis"+i)
;return void 0===n&&"discrete"!==t&&(n=this._chartOption("continuousAxis"+i)),n}
}),_resolveByCommonId:Y.options.specify(function(e){
return this._chartOption("axis"+e.name)})}}));_e.getOrientation=function(e,t){
return"base"===e==("vertical"===t)?"x":"y"},_e.getOrientedId=function(e,t){
return 0===t?e:e+(t+1)};var xe={resolve:"_resolveFull",data:{
resolveV1:function(e){
return this.index||"ortho"!==this.type||this._specifyChartOption(e,this.id+e.name),
!0}}},we={resolveV1:function(e){if(this.index){
if(this._resolveByV1OptionId(e))return!0
}else if(this._resolveByOrientedId(e))return!0;return this._resolveDefault(e),!0
}},Ce=Y.options.defaultValue(function(e){
if(!this.typeIndex)return"x"===this.orientation?"bottom":"left"
;var t=this.chart.axesByType[this.type].first,i=t.option("Position")
;return Y.BasePanel.oppositeAnchor[i]});_e.options({Visible:{
resolve:"_resolveFull",data:{resolveV1:function(t){if(this.index<=1){
var i=0===this.index?e.firstUpperCase(this.orientation):"Second"
;this._specifyChartOption(t,"show"+i+"Scale")}return!0}},cast:Boolean,value:!0},
Composite:{resolve:function(e){
return this.index>0?(e.specify(!1),!0):this._resolveFull(e)},data:{
resolveV1:function(e){return this._specifyChartOption(e,"useCompositeAxis"),!0}
},cast:Boolean,value:!1},Size:{resolve:"_resolveFull",data:we,cast:z},SizeMax:{
resolve:"_resolveFull",cast:z},Position:{resolve:"_resolveFull",data:{
resolveV1:we.resolveV1,resolveDefault:Ce},cast:F},FixedMin:xe,FixedMax:xe,
FixedLength:{resolve:"_resolveFull",cast:Y.parseAxisFixedLength},Ratio:{
resolve:"_resolveFull",cast:Y.parseAxisRatio},DomainAlign:{
resolve:"_resolveFull",cast:Y.parseDomainAlign,value:"center"},PreserveRatio:{
resolve:"_resolveFull",cast:Boolean,value:!1},OriginIsZero:{
resolve:"_resolveFull",data:{resolveV1:function(e){switch(this.index){case 0:
this._specifyChartOption(e,"originIsZero");break;case 1:
this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisOriginIsZero")
}return!0}},cast:Boolean,value:!0},DomainScope:{resolve:"_resolveFull",cast:B,
value:"global"},Offset:{resolve:"_resolveFull",data:{resolveV1:function(e){
switch(this.index){case 0:this._specifyChartOption(e,"axisOffset");break;case 1:
this.chart._allowV1SecondAxis&&this._specifyChartOption(e,"secondAxisOffset")}
return!0}},cast:e.number.to},BandSizeRatio:{resolve:function(e){
return this._resolveFull(e)||this._specifyChartOption(e,"panelSizeRatio")},
cast:function(t){return t=e.number.toNonNegative(t),null!=t&&t>1&&(t=null),t},
getDefault:function(){return this.chart._defaultAxisBandSizeRatio}},BandSize:{
resolve:"_resolveFull",cast:e.number.toNonNegative},BandSpacing:{
resolve:"_resolveFull",cast:e.number.toNonNegative},BandSizeMin:{
resolve:"_resolveFull",cast:e.number.toNonNegative},BandSpacingMin:{
resolve:"_resolveFull",cast:e.number.toNonNegative},BandSizeMax:{
resolve:"_resolveFull",cast:e.number.toNonNegative},BandSpacingMax:{
resolve:"_resolveFull",cast:e.number.toNonNegative},LabelSpacingMin:{
resolve:"_resolveFull",cast:e.number.to},LabelRotationDirection:{
resolve:"_resolveFull",cast:Y.parseLabelRotationDirection,value:"clockwise"},
LabelDesiredAngles:{resolve:"_resolveFull",cast:q,value:[]},
OverlappedLabelsMode:{resolve:"_resolveFull",cast:Y.parseOverlappedLabelsMode,
value:"hide"},Grid:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this.index||this._specifyChartOption(e,this.orientation+"AxisFullGrid"),
!0}},cast:Boolean,value:!1},GridCrossesMargin:{resolve:"_resolveFull",
cast:Boolean,value:!0},EndLine:{resolve:"_resolveFull",cast:Boolean},ZeroLine:{
resolve:"_resolveFull",cast:Boolean,value:!0},RuleCrossesMargin:{
resolve:"_resolveFull",cast:Boolean,value:!0},Ticks:{resolve:"_resolveFull",
cast:Boolean},DesiredTickCount:{resolve:"_resolveFull",data:{
resolveV1:we.resolveV1,resolveDefault:function(e){
if(this.chart.compatVersion()<=1)return e.defaultValue(5),!0}},
cast:e.number.toPositive},MinorTicks:{resolve:"_resolveFull",data:we,
cast:Boolean,value:!0},TickFormatter:{resolve:"_resolveFull",cast:e.fun.as},
DomainRoundMode:{resolve:"_resolveFull",data:{resolveV1:we.resolveV1,
resolveDefault:function(e){
if(this.chart.compatVersion()<=1)return e.defaultValue("none"),!0}},
cast:Y.parseDomainRoundingMode,value:"tick"},TickExponentMin:{
resolve:"_resolveFull",cast:e.number.to},TickExponentMax:{
resolve:"_resolveFull",cast:e.number.to},TickUnit:{resolve:"_resolveFull"},
TickUnitMin:{resolve:"_resolveFull"},TickUnitMax:{resolve:"_resolveFull"},
PreserveTickAlignment:{resolve:"_resolveFull",cast:Boolean},Title:{
resolve:"_resolveFull",cast:String},TitleVisible:{resolve:"_resolveFull",
cast:Boolean,getDefault:function(){return!e.empty(this.option("Title"))}},
TitleSize:{resolve:"_resolveFull",cast:V},TitleSizeMax:{resolve:"_resolveFull",
cast:V},TitleFont:{resolve:"_resolveFull",cast:String},TitleMargins:{
resolve:"_resolveFull",cast:ne.as},TitlePaddings:{resolve:"_resolveFull",
cast:ne.as},TitleAlign:{resolve:"_resolveFull",cast:function(e){
var t=this.option("Position");return Y.parseAlign(t,e)}},Font:{
resolve:"_resolveFull",cast:String},ClickAction:{resolve:"_resolveFull",data:we
},DoubleClickAction:{resolve:"_resolveFull",data:we},TooltipEnabled:{
resolve:"_resolveFull",cast:Boolean,value:!0},TooltipFormat:{
resolve:"_resolveFull",cast:e.fun.as,value:null},TooltipAutoContent:{
resolve:"_resolveFull",cast:Y.parseTooltipAutoContent,value:"value"}
}),e.type("pvc.visual.CartesianAxisRootScene",Y.visual.Scene),
e.type("pvc.visual.CartesianAxisTickScene",Y.visual.Scene).init(function(t,i){
this.base(t,i),
this.vars.tick=new le(e.get(i,"tick"),e.get(i,"tickLabel"),e.get(i,"tickRaw")),
e.get(i,"isHidden")&&(this.isHidden=!0)}).add({isHidden:!1
}),e.type("pvc.AxisPanel",Y.BasePanel).init(function(t,i,n,r){r=e.create(r,{
anchor:n.option("Position")});var o=r.anchor||this.anchor
;if(null==r.paddings&&(r.paddings=ne.filterAnchor(o,t._axisOffsetPct)),
this.axis=n,
this.base(t,i,r),this.roleName=n.role.name,this.isDiscrete=n.role.isDiscrete(),
this._extensionPrefix=n.extensionPrefixes,
null==this.labelSpacingMin&&(this.labelSpacingMin=this.isDiscrete?.25:1.1),
null==this.showTicks&&(this.showTicks=!this.isDiscrete),void 0===r.font){
var a=this._getConstantExtension("label","font");a&&(this.font=a)}
if(void 0===r.tickLength){
var s=+this._getConstantExtension("ticks",this.anchorOrthoLength(o))
;!isNaN(s)&&isFinite(s)&&(this.tickLength=s)}
var l=this._getConstantExtension("label","visible")
;null==l||l||(this.showLabels=!1)}).add({pvRule:null,pvTicks:null,pvLabel:null,
pvRuleGrid:null,pvScale:null,isDiscrete:!1,roleName:null,axis:null,
anchor:"bottom",tickLength:6,scale:null,ruleCrossesMargin:!0,
font:"9px sans-serif",labelSpacingMin:null,showMinorTicks:!0,showTicks:null,
showLabels:!0,hiddenLabelText:"",_isScaleSetup:!1,_createLogId:function(){
return this.base()+" - "+this.axis.id},getTicks:function(){
return this._layoutInfo&&this._layoutInfo.ticks},_calcLayout:function(e){
var t=this.axis.scale,i=e.clientSize
;if(this._isScaleSetup||(this.pvScale=t,this.scale=t,
this.extend(t,"scale"),this._isScaleSetup=!0),
t.isNull)e.axisSize=e.restrictions.clientSize[this.anchorOrthoLength()]||0;else{
var n=this.anchorLength(),r=this.axis.getScaleRangeInfo()
;r&&(null!=r.value?i[n]=r.value:null!=r.min&&(i[n]=Math.max(Math.min(i[n],r.max),r.min))),
this.axis.setScaleRange(i[n]),this._calcLayoutCore(e)}
return this.createAnchoredSize(e.axisSize,i)},_calcLayoutCore:function(e){
var i=e.restrictions.clientSize[this.anchorOrthoLength()]
;if(e.axisSize=i,this.isDiscrete&&this.useCompositeAxis)null==e.axisSize&&(e.axisSize=50);else{
if(this._readTextProperties(e),this._calcTicks(),"discrete"===this.scale.type){
var n=this.axis.option("OverlappedLabelsMode"),r="counterclockwise"===this.axis.option("LabelRotationDirection")?-1:1,o=this.axis.option("LabelDesiredAngles"),a=this.scale.range().step,s=this.labelSpacingMin,l=t.Text.measureWidth("x",this.font),u=this.anchor
;Y.AxisPanel._calcDiscreteOverlapSettings(n,r,o,a,s,l,u,e)}
this._calcAxisSizeFromLabelBBox(e),
null==e.axisSize&&(e.axisSize=e.requiredAxisSize),
this._calcMaxTextLengthThatFits(),this._calcContentOverflowOptional()}},
_readTextProperties:function(t){var i=this._getExtension("label","textAngle")
;t.textAngle=e.number.to(i,0),
t.textMargin=e.number.to(this._getExtension("label","textMargin"),3)
;var n=this._getExtension("label","textAlign")
;"string"!=typeof n&&(n=this.isAnchorTopOrBottom()?"center":"left"==this.anchor?"right":"left"),
t.textAlign=n;var r=this._getExtension("label","textBaseline")
;if("string"!=typeof r)switch(this.anchor){case"right":case"left":case"center":
r="middle";break;case"bottom":r="top";break;default:r="bottom"}t.textBaseline=r
},_calcAxisSizeFromLabelBBox:function(t){
var i=this.showLabels?this._calcMaxLabelBBox():null,n=i?this._getLabelBBoxQuadrantLength(i,this.anchor):0,r=(this.showTicks||this.showLabels?this.tickLength:0)+n,o=i?i.sourceAngle:0
;!this.showLabels||0===o&&this.isAnchorTopOrBottom()||(r+=this.tickLength),
t.requiredAxisSize=Math.max(1,r,e.number.as(this._getConstantExtension("rule","linewidth"),1)/2)
},_getLabelBBoxQuadrantLength:function(e,t){var i;switch(t){case"left":i=-e.x
;break;case"right":i=e.x2;break;case"top":i=-e.y;break;case"bottom":i=e.y2}
return Math.max(i,0)},_calcContentOverflowOptional:function(){
this._layoutInfo.restrictions.canChange?this.showLabels&&this._calcContentOverflowOptionalFromLabelBBox():e.debug>=2&&this.log.warn("Layout cannot change. Skipping calculation of optional content overflow.")
},_calcContentOverflowOptionalFromLabelBBox:function(){
var t=null,i=this,n=i._layoutInfo,r=n.ticks;if(r.length){
var o=n.ticksBBoxes||this._calcTicksLabelBBoxes(n),a=i.isAnchorTopOrBottom(),s=a?"left":"bottom",l=a?"right":"top",u=i.scale,c="discrete"===u.type,h=c?n.tickVisibilityStep:1,d=n.clientSize[i.anchorLength()],f=function(o,a,s,l){
if(!(h>1&&l%h!=0)){var f=i._getLabelBBoxQuadrantLength(o,a);if(f>1){
var p=u(c?r[l].value:r[l]),m=s?p-f:p+f,g=Math.max(0,s?-m:m-d)
;if(g>1&&(g-=n.paddings[a]||0)>1)if(c&&(g*=1.05),t){var v=t[a]
;(null==v||v<g)&&(t[a]=g)}else t=e.set({},a,g)}}};o.forEach(function(e,t){
f(e,s,!0,t),f(e,l,!1,t)
}),e.debug>=6&&t&&i.log("ContentOverflowOptional = "+e.describe(t))}
n.contentOverflowOptional=t},_calcMaxTextLengthThatFits:function(){
var i=this._layoutInfo
;if(!this.showLabels||this.compatVersion()<=1)i.maxTextWidth=null;else{
var n=i.clientSize[this.anchorOrthoLength()],r=Math.min(i.axisSize,n)
;if(r>=i.requiredAxisSize-this.tickLength)i.maxTextWidth=null;else{
var o,a,s=i.maxLabelBBox,l=r-this.tickLength;switch(this.anchor){case"left":
a=t.vector(0,1),o=t.vector(-l,0);break;case"right":
a=t.vector(0,1),o=t.vector(l,0);break;case"top":a=t.vector(1,0),o=t.vector(0,-l)
;break;case"bottom":a=t.vector(1,0),o=t.vector(0,l)}
var u=o.norm(),c=s.source.points(),h=c[0],d=c[1],f=c[2],p=c[3],m=f.minus(p),g=d.minus(h),v=t.SvgScene.lineIntersect,y=v(o,a,h,g),b=v(o,a,p,m),_=s.sourceTextWidth,x=_,w=y.minus(h),C=w.length()
;C<=_&&w.dot(m)>=0&&(x=h.dot(u)<d.dot(u)?C:y.minus(d).length())
;var S=b.minus(p),k=S.length()
;k<=_&&S.dot(m)>=0&&(x=p.dot(u)<f.dot(u)?Math.min(x,k):Math.min(x,b.minus(f).length())),
"center"===s.sourceAlign&&(x-=_-x),
i.maxTextWidth=x,i.maxLabelBBox=this._calcLabelBBox(x),
e.debug>=3&&this.log("Trimming labels' text at length "+x.toFixed(2)+"px maxOrthoLength="+l.toFixed(2)+"px")
}}},_calcTicks:function(){var i=this._layoutInfo
;switch(i.textHeight=4*t.Text.fontHeight(this.font)/5,
i.maxTextWidth=null,this.axis.setTicks(null),this.scale.type){case"discrete":
this._calcDiscreteTicks();break;case"timeSeries":case"numeric":
this._calcContinuousTicks();break;default:
throw e.error.operationInvalid("Undefined axis scale type")}
this.axis.setTicks(this._layoutInfo.ticks),
null==i.maxTextWidth&&this._calcTicksTextLength(i)},
_calcDiscreteTicks:function(){var i=this.axis,n=this._layoutInfo
;n.ticks=i.domainItems();var r,o=i.role.grouping,a=i.option("TickFormatter")
;if(this.getCompatFlag("discreteTimeSeriesTickFormat")&&o.isSingleDimension&&o.singleDimensionType.valueType===Date){
var s=i.domainValues(),l=e.query(s).range();if(l&&l.min!==l.max){
var u=new t.Scale.linear(l.min,l.max),c=u.ticks()
;a?(e.copyProps(s,c,["step","base","mult","format"]),r=function(e,t){
return a.call(s,s[t],s.step,t)}):r=function(e,t){return c.format(s[t])}
}else if(a){var h=o.singleDimensionType.formatter()
;s.step=s.base=Y.time.intervals.d,s.mult=1,s.format=function(e){return h(e)
},r=function(e,t){return a.call(s,s[t],s.step,t)}}}else if(a){
var d=i.domainItemValueProp();r=function(e){var t=e[d];return a(t,e.absLabel)}}
r||(r=function(e){return e.absLabel
}),n.ticksText=n.ticks.map(r),this._clearTicksTextDeps(n)},
_clearTicksTextDeps:function(e){
e.maxTextWidth=e.ticksTextLength=e.ticksBBoxes=null},
_calcContinuousTicks:function(){var t=e.debug>=7
;t&&this.log.group("_calcContinuousTicks");var i=this._layoutInfo
;i.ticks=i.ticksText=null
;var n=this._calcContinuousBandSizeMin(),r=i.clientSize[this.anchorLength()],o=this._calcContinuousTickCountMax(n,r),a=i.ticks,s="tick"===this.axis.option("DomainRoundMode")
;if((!a||a.length>(s?3:1)&&a.length>o)&&(this._calcContinuousTicksValue(i,o),
this._calcContinuousTicksText(i),a=i.ticks),s){var l=a.length
;l>o&&o<=2&&l<=3&&(l-1)*n>r&&(3===l?(i.ticksText[0]="",
i.ticksText[2]="",i.maxTextWidth=null):2===l&&(i.ticksText[a[1]?1:0]="",
i.maxTextWidth=null))}
e.debug>=5&&this.log.info("RESULT count="+a.length+" step="+a.step),
t&&this.log.groupEnd()},_calcContinuousTicksValue:function(t,i){
t.ticks=this.axis.calcContinuousTicks(i),
e.debug>4&&(this.log("DOMAIN: "+e.describe(this.scale.domain())),
this.log("TICKS:  "+e.describe(t.ticks)))},_calcContinuousTicksText:function(e){
var t=e.ticksText=e.ticks.map(function(e,t){return this.scale.tickFormat(e,t)
},this);return this._clearTicksTextDeps(e),t},
_calcContinuousTickCountMax:function(e,t){if(!e&&this.showLabels)return 1
;var i=this._layoutInfo,n=i.textHeight*Math.max(0,this.labelSpacingMin)
;return 1+Math.floor(t/(e+n))},_calcContinuousBandSizeMin:function(){
var e=this.scale.domain(),t=Math.abs(e[1]-e[0])
;if(t<1e-10||!isFinite(t))return 0;var i=this._layoutInfo
;return this.isAnchorTopOrBottom()?(this._calcContinuousTicksValue(i),
this._calcTicksTextLength(i),Math.max(i.maxTextWidth,i.textHeight)):i.textHeight
},_calcTicksTextLength:function(e){
var i=0,n=this.font,r=e.ticksText||this._calcContinuousTicksText(e),o=e.ticksTextLength=r.map(function(e){
var r=t.Text.measureWidth(e,n);return r>i&&(i=r),r})
;return e.maxTextWidth=e.maxTextWidthReal=i,
e.ticksBBoxes=null,e.maxLabelBBox=null,o},_calcTicksLabelBBoxes:function(e){
var t=this,i=t._layoutInfo,n=e.ticksTextLength||t._calcTicksTextLength(e),r=i.maxTextWidth||i.maxTextWidthReal,o=null
;return e.ticksBBoxes=n.map(function(e){var i=t._calcLabelBBox(Math.min(e,r))
;return o||e!==r||(o=i),i},t),i.maxLabelBBox=o,e.ticksBBoxes},
_calcMaxLabelBBox:function(){var e=this._layoutInfo
;return e.ticksTextLength||this._calcTicksTextLength(e),
e.maxLabelBBox=this._calcLabelBBox(e.maxTextWidth)},_calcLabelBBox:function(e){
var t=this._layoutInfo
;return Y.text.getLabelBBox(e,t.textHeight,t.textAlign,t.textBaseline,t.textAngle,t.textMargin)
},_createCore:function(){if(!this.scale.isNull){
var t=this._layoutInfo.clientSize,i=this._layoutInfo.paddings,n=this.anchorOrtho(),r=this.anchorOpposite(n),o=this.anchorOrthoLength(n),a=this.ruleCrossesMargin?-i[n]:0,s=t[o]+(this.ruleCrossesMargin?i[r]:0),l=s-a
;this._rSize=l;var u=this._getRootScene()
;this.pvRule=new Y.visual.Rule(this,this.pvPanel,{extensionId:"rule"
}).lock("data",[u]).override("defaultColor",e.fun.constant("#666666")).lock(this.anchorOpposite(),0).lock(n,a).lock(o,l).pvMark.zOrder(30).strokeDasharray(null).lineCap("square"),
this.isDiscrete?this.useCompositeAxis?this.renderCompositeOrdinalAxis():this.renderOrdinalAxis():this.renderLinearAxis()
}},_getExtensionId:function(){return""},_getRootScene:function(){
if(!this._rootScene){
var t=this._rootScene=new Y.visual.CartesianAxisRootScene(null,{panel:this,
source:this._getRootData()}),i=this._layoutInfo,n=i.ticks,r=i.ticksText
;if(this.isDiscrete)if(this.useCompositeAxis)this._buildCompositeScene(t);else{
var o,a,s,l,u,c=i.tickVisibilityStep,h=this.hiddenLabelText
;t.vars.tickIncludeModulo=c,
t.vars.hiddenLabelText=h,c>2&&(e.debug>=3&&this.log.info("Showing only one in every "+c+" tick labels"),
u=t.group.owner.keySep,s=function(){var e=o.map(function(e){return e.key
}).join(u),i=a.slice(0,10).join(", ")+(a.length>10?", ...":"")
;new Y.visual.CartesianAxisTickScene(t,{source:o,tick:e,tickRaw:e,tickLabel:i,
isHidden:!0}).dataIndex=l,o=a=l=null}),n.forEach(function(e,i){var n=i%c!=0
;n&&c>2?(null==l&&(l=i),
(o||(o=[])).push(e),(a||(a=[])).push(r[i])):(o&&s(),new Y.visual.CartesianAxisTickScene(t,{
source:e,tick:e.value,tickRaw:e.rawValue,tickLabel:r[i],isHidden:n
}).dataIndex=i)}),o&&s()}else n.forEach(function(e,i){
new Y.visual.CartesianAxisTickScene(t,{tick:e,tickRaw:e,tickLabel:r[i]
}).dataIndex=i},this)}return this._rootScene},_buildCompositeScene:function(e){
function t(e){var r=e.group;if(i){var o=e.vars.tick
;e.nodeValue=e.value=o.rawValue,e.nodeLabel=e.label=o.label}
r.childCount()&&r.children().each(function(i){
var r=n?n(i.value,i.label):i.label,o=new Y.visual.CartesianAxisTickScene(e,{
source:i,tick:i.value,tickRaw:i.rawValue,tickLabel:r})
;o.dataIndex=i.childIndex(),t(o)})}
var i=this.compatVersion()<=1,n=this.axis.option("TickFormatter")
;e.vars.tick=new le("",""),t(e)},_getRootData:function(){var e
;if(this.isDiscrete&&this.useCompositeAxis){var t=this.anchor,i={
visible:!!this.axis.domainVisibleOnly()||null,
isNull:!this.chart.options.ignoreNulls&&!this.axis.domainIgnoreNulls()&&null,
reverse:"bottom"==t||"left"==t,
extensionDataSetsMap:this.axis.boundDimensionsDataSetsMap}
;e=this.axis.role.select(this.data,i)}else e=this.data;return e},
renderOrdinalAxis:function(){
var e,i=this.scale,n=this.hiddenLabelText,r=this._layoutInfo.tickVisibilityStep,o=r*i.range().step/2,a=this.anchorOpposite(),s=this.anchorLength(),l=this.anchorOrtho(),u=this.anchorOrthoLength(),c=this.pvRule,h=this._getRootScene(),d=this._layoutInfo,f=this.compatVersion()<=1
;if(f){var p=function(e){
this.value=this.absValue=e.rawValue,this.nodeName=""+(this.value||""),
this.path=this.nodeName?[this.nodeName]:[],this.label=this.absLabel=e.label}
;p.prototype.toString=function(){return""+this.value},e=function(e){
return function(t){var i=Object.create(this)
;return i.index=this.parent.index,e.call(i,new p(t.vars.tick))}}}
var m=new Y.visual.Panel(this,this.pvPanel,{extensionId:"ticksPanel"
}).lock("data",h.childNodes).lock(a,0).lockMark(l,function(e){
return e.isHidden?i(e.previousSibling.vars.tick.value)+o:i(e.vars.tick.value)
}).lock("strokeDasharray",null).lock("strokeStyle",null).lock("fillStyle",null).lock("lineWidth",0).pvMark.zOrder(20)
;(f||this.showTicks)&&(this.pvTicks=new Y.visual.Rule(this,m,{
extensionId:"ticks",wrapper:e}).lock("data").intercept("visible",function(e){
return!e.isHidden&&this.delegateExtension(!0)
}).optional("lineWidth",1).lock(a,0).lock(l,0).lock(s,null).optional(u,2*this.tickLength/3).override("defaultColor",function(){
return f?t.Color.names.transparent:c.scene?c.scene[0].strokeStyle:"#666666"
}).pvMark);var g=this.font,v=this._layoutInfo.maxTextWidth
;isFinite(v)||(v=0),this.pvLabel=new Y.visual.Label(this,m,{extensionId:"label",
showsInteraction:!0,noClick:!1,noDoubleClick:!1,noSelect:!1,noTooltip:!1,
noHover:!1,wrapper:e}).intercept("visible",function(e){
return e.isHidden?!!e.vars.hiddenLabelText:this.delegateExtension(!0)
}).intercept("text",function(e){var t
;return e.isHidden?t=n:(t=this.delegateExtension(),
void 0===t&&(t=e.vars.tick.label),
!v||this.showsInteraction()&&e.isActive||(t=Y.text.trimToWidthB(v,t,g,"..",!1))),
t
}).pvMark.zOrder(40).lock(a,this.tickLength).lock(l,0).font(g).textStyle("#666666"),
d.textAngleLocked?this.pvLabel.lock("textAngle",d.textAngle):this.pvLabel.textAngle(d.textAngle),
d.textAlignLocked?this.pvLabel.lock("textAlign",d.textAlign):this.pvLabel.textAlign(d.textAlign),
d.textBaselineLocked?this.pvLabel.lock("textBaseline",d.textBaseline):this.pvLabel.textBaseline(d.textBaseline),
this._debugTicksPanel(m)},_getTooltipFormatter:function(e){
if(this.axis.option("TooltipEnabled")){e.gravity=this._calcTipsyGravity()
;var t=this.axis.option("TooltipFormat");if(t)return function(e){
return t.call(e,e.scene)};var i=this.axis.option("TooltipAutoContent")
;if("summary"===i)return this._summaryTooltipFormatter.bind(this)
;if("value"===i)return e.isLazy=!1,function(e){
var t=e.pvMark,i=e.scene.vars.tick.label;return t.textAngle()||t.text()!==i?i:""
}}},_getTooltipPanelClasses:function(){return["cart-axis"]},
_debugTicksPanel:function(i){if(e.debug>=16&&this.showLabels){
var n=this._layoutInfo,r=n.ticksBBoxes||this._calcTicksLabelBBoxes(n)
;i.add(t.Panel)[this.anchorOpposite()](this.tickLength)[this.anchorOrtho()](0)[this.anchorLength()](0)[this.anchorOrthoLength()](0).fillStyle(null).strokeStyle(null).lineWidth(0).visible(function(e){
return!e.isHidden}).add(t.Line).data(function(e){
var t=r[e.dataIndex],i=t.source.points();return i.length>1&&(i=i.concat(i[0])),i
}).left(function(e){return e.x}).top(function(e){return e.y
}).strokeStyle("red").lineWidth(.5).strokeDasharray("-")}},
renderLinearAxis:function(){
var e,t=this.scale,i=this.pvRule,n=this.anchorOpposite(),r=this.anchorLength(),o=this.anchorOrtho(),a=this.anchorOrthoLength(),s=this._getRootScene()
;this.compatVersion()<=1&&(e=function(e){return function(t){
var i=Object.create(this)
;return i.index=this.parent.index,e.call(i,t.vars.tick.rawValue)}})
;var l=new Y.visual.Panel(this,this.pvPanel,{extensionId:"ticksPanel"
}).lock("data",s.childNodes).lock(n,0).lockMark(o,function(e){
return t(e.vars.tick.value)
}).lock("strokeStyle",null).lock("fillStyle",null).lock("lineWidth",0).pvMark.zOrder(20)
;if(this.showTicks){var u=this.pvTicks=new Y.visual.Rule(this,l,{
extensionId:"ticks",wrapper:e}).lock("data").override("defaultColor",function(){
return i.scene?i.scene[0].strokeStyle:"#666666"
}).lock(n,0).lock(o,0).lock(r,null).optional(a,this.tickLength).pvMark
;if(this.showMinorTicks){
var c=this._layoutInfo,h=c.ticks,d=h.length,f=d>1?Math.abs(t(h[1])-t(h[0]))/2:0
;this.pvMinorTicks=new Y.visual.Rule(this,this.pvTicks,{
extensionId:"minorTicks",wrapper:e
}).lock("data").intercept("visible",function(e){
return e.childIndex()<d-1&&(!u.scene||u.scene[0].visible)&&this.delegateExtension(!0)
}).override("defaultColor",function(){
return u.scene?u.scene[0].strokeStyle:"#666666"
}).lock(n,0).lock(r,null).optional(a,this.tickLength/2).lockMark(o,f).pvMark}}
this.renderLinearAxisLabel(l,e),this._debugTicksPanel(l)},
renderLinearAxisLabel:function(e,t){
var i=this.anchorOpposite(),n=this.anchorOrtho(),r=this.font,o=this._layoutInfo.maxTextWidth
;isFinite(o)||(o=0);var a=this.pvLabel=new Y.visual.Label(this,e,{
extensionId:"label",noHover:!1,showsInteraction:!0,wrapper:t
}).lock("data").optional("text",function(e){var t=e.vars.tick.label
;return!o||this.showsInteraction()&&e.isActive||(t=Y.text.trimToWidthB(o,t,r,"..",!1)),
t
}).pvMark.lock(i,this.tickLength).lock(n,0).zOrder(40).font(this.font).textStyle("#666666"),s=this.pvPanel.root
;this.isAnchorTopOrBottom()?a.textBaseline(i).textAlign(function(e){
if(0===this.index){
if(a.toScreenTransform().transformHPosition(a.left())<=0)return"left"
}else if(this.index===e.parent.childNodes.length-1&&a.toScreenTransform().transformHPosition(a.left())>=s.width())return"right"
;return"center"}):a.textAlign(i).textBaseline(function(e){if(0===this.index){
if(a.toScreenTransform().transformVPosition(a.top())>=s.height())return"bottom"
}else if(this.index===e.parent.childNodes.length-1&&a.toScreenTransform().transformVPosition(a.top())<=0)return"top"
;return"middle"})},_onV1Click:function(e,t){
this.isDiscrete&&this.useCompositeAxis&&t.call(e.pvMark,e.scene,e.event)},
_onV1DoubleClick:function(e,t){
this.isDiscrete&&this.useCompositeAxis&&t.call(e.pvMark,e.scene,e.event)},
_getSelectableMarks:function(){
if(this.isDiscrete&&this.isVisible&&this.pvLabel)return this.base()},
renderCompositeOrdinalAxis:function(){
var i,n=this.isAnchorTopOrBottom(),r=n?"h":"v",o=2,a=2,s=this.font,l=t.Text.fontHeight(s)/2,u=this._pvLayout=this._getCompositeLayoutSingleCluster(),c=n?"center":"left"==this.anchor?"right":"left"
;u.node.def("fitInfo",null).height(function(e,t,i){
var n=Y.text.getFitInfo(e.dx,e.dy,e.vars.tick.label,s,l)
;return n.h||("v"===r&&n.v?a=Math.min(o,e.depth):o=Math.min(o,e.depth)),
this.fitInfo(n),e.dy
}),u.node.add(t.Bar).fillStyle("rgba(127,127,127,.001)").strokeStyle(function(e){
return 1!==e.maxDepth&&e.maxDepth?"rgba(127,127,127,0.3)":null
}).lineWidth(function(e){return 1!==e.maxDepth&&e.maxDepth?.5:0
}).text(function(e){return e.vars.tick.label
}),this.compatVersion()<=1&&(i=function(e){return function(t){
return e.call(this,t)}}),this.pvLabel=new Y.visual.Label(this,u.label,{
extensionId:"label",noClick:!1,noDoubleClick:!1,noSelect:!1,noTooltip:!1,
noHover:!1,showsInteraction:!0,wrapper:i,tooltipArgs:{options:{offset:2*l}}
}).pvMark.def("lblDirection","h").textAngle(function(e){
if(e.depth>=a&&e.depth<o)return this.lblDirection("v"),-Math.PI/2
;if(e.depth>=o){var t=e.dy/e.dx,i=Math.atan(t)
;if(i>1.27)return this.lblDirection("v"),-Math.PI/2
;if(i>.3)return this.lblDirection("d"),-i}return this.lblDirection("h"),0
}).textMargin(1).textAlign(function(e){
return"v"!=r||e.depth>=a||e.depth>=o?"center":c}).left(function(e){
return"v"!=r||e.depth>=a||e.depth>=o?e.x+e.dx/2:"right"==c?e.x+e.dx:e.x
}).font(s).textStyle("#666666").text(function(t){var i=t.vars.tick.label
;if(!t.isActive||!this.sign.showsInteraction()){var n=this.fitInfo()
;switch(this.lblDirection()){case"h":
if(!n.h)return Y.text.trimToWidthB(t.dx,i,s,"..");break;case"v":
if(!n.v)return Y.text.trimToWidthB(t.dy,i,s,"..");break;case"d":if(!n.d){
var r=Math.sqrt(e.sqr(t.dy)+e.sqr(t.dx))
;return Y.text.trimToWidthB(r-l,i,s,"..")}}}return i}).visible(function(e){
return e.depth>0})},_getCompositeLayoutSingleCluster:function(){
var i=this._getRootScene(),n=this.anchor,r=i.group.treeHeight+1,o=this._layoutInfo.axisSize,a=r>2?1/12*o:0,s=o/r-a,l=r/(r-1),u=Y.BasePanel.orthogonalLength[n],c="width"==u?"left"===n?[-s,0]:[s,0]:"top"===n?[0,-s]:[0,s]
;this.pvRule.sign.override("defaultColor",e.fun.constant(null)).override("defaultStrokeWidth",e.fun.constant(0))
;var h=this.pvRule.add(t.Panel)[u](o).strokeStyle(null).lineWidth(0).add(t.Panel)[u](o*l).strokeStyle(null).lineWidth(0)
;return h.transform(t.Transform.identity.translate(c[0],c[1])),
h.add(t.Layout.Cluster.Fill).nodes(i.nodes()).orient(n)},
_calcTipsyGravity:function(){switch(this.anchor){case"bottom":return"s"
;case"top":return"n";case"left":return"w";case"right":return"e"}return"s"}
}),Y.AxisPanel._calcDiscreteOverlapSettings=function(e,t,i,n,r,o,a,s){
var l=Math.PI,u=l/2,c=2*l;s.tickVisibilityStep=1;var h=!1,d=!1;switch(e){
case"hide":h=!0;break;case"rotate":d=!0;break;case"rotatethenhide":h=!0,d=!0
;break;default:return}null==t&&(t=1),i=i?i.slice().sort(function(e,t){
return Math.abs(e)-Math.abs(t)}):[]
;var f=s.textHeight,p=s.maxTextWidth,m=f*r,g=m,v=o+m,y="bottom"===a,b="left"===a,_=y||"top"===a,x=0,w=c,C=f+g>n
;!C&&p+v>n&&(_?x=Y.normAngle(Math.asin(f/(n-g))):w=Y.normAngle(Math.acos(f/(n-g))))
;var S;if(d){if(i.length>0)for(var k=0;k!==i.length;++k){S=Y.normAngle(i[k]*t)
;var D=S>l?Math.abs(S-c):S,M=D<u?D:D-l;if(!C&&M>=x){h=h&&(C||M>w);break}
}else C?S=_?u:0:(S=Y.normAngle(x*t),h=!1);s.textAngle=S,s.textAngleLocked=!0
;var N="center",T="middle"
;_?(S>0&&S<l?N=y?"left":"right":S>l&&S<c&&(N=y?"right":"left"),
S>=0&&S<u||S>l+u&&S<c?T=y?"top":"bottom":S>u&&S<c-u&&(T=y?"bottom":"top")):(S>=0&&S<u||S>l+u&&S<c?N=b?"right":"left":S>u&&S<c-u&&(N=b?"left":"right"),
S>0&&S<l?T=b?"top":"bottom":S>l&&S<c&&(T=b?"bottom":"top")),
s.textAlign=N,s.textAlignLocked=!0,s.textBaseline=T,s.textBaselineLocked=!0
}else S=s.textAngle?Y.normAngle(s.textAngle*t):0,
s.textAngle=S,s.textAngleLocked=!0;var A=s.ticks.length;if(h&&A>2){var j
;if((j=_?Math.min(p,Math.abs(f/Math.sin(S)))+(C||S<x?v:g):Math.min(p,Math.abs(f/Math.cos(S)))+(C||S>w?v:g))>n){
var I=Math.ceil(j/n)
;(!isFinite(I)||I<1||Math.ceil(A/I)<2)&&(I=1),s.tickVisibilityStep=I}}
},e.type("pvc.AxisTitlePanel",Y.TitlePanelAbstract).init(function(e,t,i,n){
this.axis=i,
this.base(e,t,n),this._extensionPrefix=i.extensionPrefixes.map(function(e){
return e+"Title"})}).add({_calcLayout:function(e){var t=this.axis.scale
;return!t||t.isNull?new re(0,0):this.base(e)},_createCore:function(e){
var t=this.axis.scale;if(t&&!t.isNull)return this.base(e)}
}),e("pvc.visual.CartesianFocusWindow",Y.visual.OptionsBase.extend({
init:function(e){this.base(e,"focusWindow",0,{byNaked:!1});var t=e.axes.base
;this.base=new Y.visual.CartesianFocusWindowAxis(this,t)},methods:{
_exportData:function(){return{
base:e.copyProps(this.base,Y.visual.CartesianFocusWindowAxis.props)}},
_importData:function(e){var t=e.base;this.base.option.specify({Begin:t.begin,
End:t.end,Length:t.length})},_initFromOptions:function(){
this.base._initFromOptions()},_onAxisChanged:function(e){
var t=this.option("Changed");t&&t.call(this.chart.basePanel.context())}},
options:{Changed:{resolve:"_resolveFull",cast:e.fun.as}}
})),e("pvc.visual.CartesianFocusWindowAxis",Y.visual.OptionsBase.extend({
init:function(t,i){
this.window=t,this.axis=i,this.isDiscrete=i.isDiscrete(),this.base(i.chart,"focusWindow"+e.firstUpperCase(i.type),0,{
byNaked:!1})},type:{methods:{props:["begin","end","length"]}},methods:{
_initFromOptions:function(){var e=this.option;this.set({begin:e("Begin"),
end:e("End"),length:e("Length")})},set:function(t){
var i,n,r,o=this,a=e.get(t,"render"),s=e.get(t,"select",!0)
;if(t=o._readArgs(t))i=t.begin,
n=t.end,r=t.length;else if(null!=this.begin&&null!=this.end&&null!=this.length)return
;var l,u,c,h,d,f,p,m=o.axis,g=m.scale,v=o.isDiscrete,y=v?null:m.role.grouping.singleDimensionType.cast,b=g.domain()
;if(v)u=b.length,
null!=i&&(f=+i,isNaN(f)||(f===1/0?(c=u-1,i=b[c]):f===-1/0&&(c=0,
i=b[c])),null==c&&(c=b.indexOf(""+i))<0&&(c=0,
i=b[c])),null!=n&&(p=+n,isNaN(p)||(p===1/0?(h=u-1,
n=b[h]):p===-1/0&&(h=0,n=b[h])),null==h&&(h=b.indexOf(""+n))<0&&(h=u-1,n=b[h])),
null!=r&&(r=+r,
isNaN(r)?r=null:r<0&&(null!=i||null!=n)&&(l=i,d=c,i=n,c=h,n=l,h=d,
r=-r)),null!=i?null!=n?(c>h&&(l=i,
d=c,i=n,c=h,n=l,h=d),r=h-c+1):(null==r&&(r=u-c),
h=c+r-1,h>u-1&&(h=u-1,r=h-c+1),n=b[h]):null!=n?(null==r&&(r=h),
c=h-r+1,c<0&&(c=0,
r=h-c+1),i=b[c]):(null==r&&(r=Math.max(~~(u/3),1)),r>u?(r=u,c=0,
h=u-1):(d=~~(u/2),c=d-~~(r/2),h=c+r-1),i=b[c],n=b[h]);else{
null!=r&&(r=+r,isNaN(r)?r=null:r<0&&(null!=i||null!=n)&&(l=i,i=n,n=l,r=-r))
;var _,x,w=b[0],C=b[1]
;u=C-w,null!=i&&(i<w&&(i=w),i>C&&(i=C)),null!=n&&(n<w&&(n=w),
n>C&&(n=C)),null!=i?null!=n?(i>n&&(l=i,
i=n,n=l),r=n-i):(null==r&&(r=C-i),(n=i+r)>C&&(n=C,
r=n-i)):null!=n?(null==r&&(r=n-w),
(i=n-r)<w&&(i=w,r=n-i)):(null==r&&(r=Math.max(~~(u/3),1)),
r>u?(r=u,i=w,n=C):(l=~~(u/2),i=l-~~(r/2),_=+i,x=+r,n=_+x)),i=y(i),n=y(n),r=y(r)
;var S=o.option("Constraint");if(S){var k={type:"new",target:"begin",value:i,
length:r,length0:r,min:w,max:C,minView:w,maxView:C}
;S(k),i=y(k.value),r=y(k.length),_=+i,x=+r,n=y(_+x)}}o._set(i,n,r,s,a)},
_updatePosition:function(e,t,i,n){var r,o,a,s=this,l=s.axis,u=l.scale
;if(s.isDiscrete){var c=u.invertIndex(e),h=u.invertIndex(t)-1,d=u.domain()
;r=d[c],o=d[h],a=h-c+1}else r=u.invert(e),o=u.invert(t),a=o-r
;this._set(r,o,a,i,n)},_constraintPosition:function(e){
var t,i=this,n=i.axis,r=n.scale;if(i.isDiscrete){
var o=Math.floor(r.invertIndex(e.point,!0));if(o>=0){
var a=r.range(),s=r.domain().length,l=(a.max-a.min)/s
;o>=s&&("new"===e.type||"resize-begin"===e.type)&&(o=s-1),e.point=o*l}
}else if(t=i.option("Constraint")){
var u,c,h,d=n.role.grouping.singleDimensionType.cast,f=d(r.invert(e.point)),p="begin"===e.target?1:-1,m=e.point+p*e.length,g=d(r.invert(m)),v=d(p*(g-f))
;e.length===e.length0?u=v:(c=e.point+p*e.length0,h=d(r.invert(c)),u=d(p*(h-f)))
;var y=d(r.invert(e.min)),b=d(r.invert(e.max)),_={type:e.type,target:e.target,
value:f,length:v,length0:u,min:y,max:b,minView:d(r.invert(e.minView)),
maxView:d(r.invert(e.maxView))};t(_),+_.value!=+f&&(f=_.value,e.point=r(f))
;var x=_.length;if(+x!=+v)if(+x==+u)e.length=e.length0;else{var w=+f+p*+x,C=r(w)
;e.length=C-p*e.point}+_.min!=+y&&(e.min=r(_.min)),+_.max!=+b&&(e.max=r(_.max))}
},_compare:function(e,t){return this.isDiscrete?""+e==""+t:+e==+t},
_set:function(e,t,i,n,r){var o=this,a=!1
;return o._compare(e,o.begin)||(o.begin=e,
a=!0),o._compare(t,o.end)||(o.end=t,a=!0),
o._compare(i,o.length)||(o.length=i,a=!0),
a&&o.window._onAxisChanged(o),n&&o._updateSelection({render:r}),a},
_readArgs:function(e){if(e){var t={},i=0,n=function(n){var r=e[n]
;null!=r?i=!0:r=this[n],t[n]=r}
;if(Y.visual.CartesianFocusWindowAxis.props.forEach(n,this),i)return t}},
_updateSelection:function(t){
var n,r,o=this,a=o.axis,s=a.isDiscrete(),l=a.chart,u=a.dataCell,c=u.role,h=l.partData(u.dataPartValue)
;if(s){r=c.flatten(h,{extensionDataSetsMap:a.boundDimensionsDataSetsMap})
;var d=r.child(o.begin),f=r.child(o.end);if(d&&f){
var p=d.childIndex(),m=f.childIndex();n=e.range(p,m-p+1).select(function(e){
return r.childNodes[e]
}).selectMany(e.propGet("_datums")).where(i.Datum.isVisibleT).distinct(e.propGet("key"))
}}else{r=h;var g=c.grouping.singleDimensionName
;n=e.query(h._datums).where(i.Datum.isVisibleT).where(function(e){
var t=e.atoms[g].value;return null!=t&&t>=o.begin&&t<=o.end})}
n&&(l.data.replaceSelected(n),l.root.updateSelections(t))}},options:{Resizable:{
resolve:"_resolveFull",cast:Boolean,value:!0},Movable:{resolve:"_resolveFull",
cast:Boolean,value:!0},Begin:{resolve:"_resolveFull"},End:{
resolve:"_resolveFull"},Length:{resolve:"_resolveFull"},Constraint:{
resolve:"_resolveFull",cast:e.fun.as}}
})),e.type("pvc.visual.CartesianOrthoDataCell",Y.visual.DataCell).init(function(e,t,i,n,r,o,a){
this.base(e,t,i,n),this.isStacked=r,this.nullInterpolationMode=o,this.trend=a}),
e("pvc.visual.CartesianPlot",Y.visual.Plot.extend({init:function(t,i){
if(this.base(t,i),
!(t instanceof Y.CartesianAbstract))throw e.error(e.format("Plot type '{0}' can only be used from within a cartesian chart.",[this.type]))
},methods:{_initVisualRoles:function(){
this.base(),this._addVisualRole("series",{isRequired:!0,
defaultDimension:"series*",autoCreateDimension:!0,requireIsDiscrete:!0})},
_getColorRoleSpec:function(){return{isRequired:!0,defaultDimension:"color*",
defaultSourceRole:"series",requireIsDiscrete:!0}},_initDataCells:function(){
this.base();var e=this._getBaseRole(),t=this._getOrthoRoles()
;if(e&&this._addDataCell(new Y.visual.DataCell(this,"base",this.option("BaseAxis")-1,e)),
t){
var i=this.option("OrthoAxis")-1,n=this.option.isDefined("Stacked")?this.option("Stacked"):void 0,r=this.option("NullInterpolationMode"),o=this.option("Trend")
;t.forEach(function(e){
this._addDataCell(new Y.visual.CartesianOrthoDataCell(this,"ortho",i,e,n,r,o))
},this)}},_getBaseRole:function(){},_getOrthoRoles:function(){},
createData:function(e,t){return this.visualRoles.series.flatten(e,t)}},options:{
BaseAxis:{value:1},OrthoAxis:{resolve:function(e){
return 0===this.globalIndex?(e.specify(1),!0):this._resolveFull(e)},data:{
resolveV1:function(e){
return"plot2"===this.name&&this.chart._allowV1SecondAxis&&this._chartOption("secondAxisIndependentScale")&&e.specify(2),
!0}},cast:function(t){return t=e.number.to(t),null!=t?e.between(t,1,10):1},
value:1},Trend:{resolve:"_resolveFull",data:{resolveDefault:function(e){
var t=this.option("TrendType");if(t)return e.defaultValue({type:t}),!0}},cast:W
},TrendType:{resolve:"_resolveFull",cast:Y.parseTrendType},TrendLabel:{
resolve:"_resolveFull",cast:String},NullInterpolationMode:{
resolve:"_resolveFull",cast:Y.parseNullInterpolationMode,value:"none"}}
})),e.type("pvc.CartesianAbstract",Y.BaseChart).init(function(e){
this.axesPanels={},this.base(e)}).add({_axisClassByType:{base:_e,ortho:_e},
contentPanel:null,_defaultAxisBandSizeRatio:.9,axesPanels:null,yAxisPanel:null,
xAxisPanel:null,secondXAxisPanel:null,secondYAxisPanel:null,yScale:null,
xScale:null,_setAxisScale:function(e,t){this.base(e,t);var i="ortho"===e.type
;(i||"base"===e.type)&&(i&&1===e.index?this.secondScale=e.scale:e.index||(this[e.orientation+"Scale"]=e.scale))
},_initAxesEnd:function(){var t=this.parent
;this._axisOffsetPaddings=t?t._axisOffsetPaddings:this._calcAxesOffsetPaddings(),
this._plotsClientSizeInfo=t?t._plotsClientSizeInfo:this._calcPlotsClientSizeInfo()
;var i=this._axisOffsetPct={};e.eachOwn(this._axisOffsetPaddings,function(e,t){
null!=e&&(i[t]=new ie(e))}),this.base()},_eachCartAxis:function(e,t){
var i=this.axesByType;["base","ortho"].forEach(function(n){var r=i[n]
;r&&r.forEach(function(i){e.call(t,i)})})},_calcPlotsClientSizeInfo:function(){
if(!this.parent){var e=new re(0,0),i=new re(1/0,1/0),n=new re
;return this._eachCartAxis(function(t){
var r="x"===t.orientation?"width":"height",o=t.getScaleRangeInfo()
;o&&(null!=o.value?n[r]=Math.max(n[r]||0,o.value):null!=o.min&&(e[r]=Math.max(e[r],o.min),
i[r]=Math.min(i[r],o.max)))
}),i.width=Math.max(i.width,e.width),i.height=Math.max(i.height,e.height),
null!=n.width?n.width=Math.max(Math.min(n.width,i.width),e.width):t.floatEqual(e.width,i.width)&&(n.width=e.width),
null!=n.height?n.height=Math.max(Math.min(n.height,i.height),e.height):t.floatEqual(e.height,i.height)&&(n.height=e.height),
{value:n,min:e,max:i}}},_calcAxesOffsetPaddings:function(){function e(e){
var i=e&&e.option("Offset")
;null!=i&&i>=0&&i<.5&&("x"===e.orientation?(t("left",i),
t("right",i)):(t("top",i),t("bottom",i)))}function t(e,t){var r=i[e]
;(null==r||t>r)&&(n=!0,i[e]=t)}var i={},n=!1
;return this._eachCartAxis(e),n?i:null},_createContentPanel:function(e,t){
this._createFocusWindow();var i=new Y.CartesianGridDockingPanel(this,e,{
margins:t.margins,paddings:t.paddings});return this._gridDockPanel=i,i},
_createContent:function(t,i){["base","ortho"].forEach(function(t){
var i=this.axesByType[t];i&&e.query(i).reverse().each(function(e){
this._createAxisPanel(e)},this)},this),this.base(t,{clickAction:i.clickAction,
doubleClickAction:i.doubleClickAction})},_createFocusWindow:function(){
if(this.selectableByFocusWindow()){var e,t=this.focusWindow
;t&&(e=t._exportData()),
t=this.focusWindow=new Y.visual.CartesianFocusWindow(this),
e&&t._importData(e),t._initFromOptions()
}else this.focusWindow&&delete this.focusWindow},_createAxisPanel:function(e){
var t=e.option;if(t("Visible")){var i,n,r=this.axesPanels[e.id]
;if(t("TitleVisible")){var i=r&&r.titlePanel
;i&&this._preserveLayout&&(n=i._getLayoutState()),
i=new Y.AxisTitlePanel(this,this.contentPanel,e,{title:t("Title"),
font:t("TitleFont")||t("Font"),anchor:t("Position"),align:t("TitleAlign"),
margins:n?n.margins:t("TitleMargins"),paddings:n?n.paddings:t("TitlePaddings"),
size:n?n.size:t("TitleSize"),sizeMax:t("TitleSizeMax")})}
n=r&&this._preserveLayout?r._getLayoutState():void 0
;var r=new Y.AxisPanel(this,this.contentPanel,e,{anchor:t("Position"),
size:n?n.size:t("Size"),margins:n&&n.margins,paddings:n&&n.paddings,
sizeMax:t("SizeMax"),clickAction:t("ClickAction"),
doubleClickAction:t("DoubleClickAction"),useCompositeAxis:t("Composite"),
font:t("Font"),labelSpacingMin:t("LabelSpacingMin"),grid:t("Grid"),
gridCrossesMargin:t("GridCrossesMargin"),
ruleCrossesMargin:t("RuleCrossesMargin"),zeroLine:t("ZeroLine"),
showTicks:t("Ticks"),showMinorTicks:t("MinorTicks")})
;return i&&(r.titlePanel=i),
this.axesPanels[e.id]=r,this.axesPanels[e.orientedId]=r,
e.v1SecondOrientedId&&(this[e.v1SecondOrientedId+"AxisPanel"]=r),r}},
_onLaidOut:function(){
this.plotPanelList&&this.plotPanelList[0]&&this._eachCartAxis(this._setCartAxisScaleRange,this)
},_setCartAxisScaleRange:function(e){
var t=this.plotPanelList[0]._layoutInfo,i=t.clientSize,n="x"===e.orientation?i.width:i.height
;return e.setScaleRange(n),e.scale&&!e.scale.isNull&&e.setTicks(e.ticks),e.scale
},_getAxesRoundingOverflow:function(){function e(e,i,n){var r=t[e]
;null==r||i>r?(t[e]=i,t[e+"Locked"]=n):n&&(t[e+"Locked"]=n)}var t={}
;return this._eachCartAxis(function(t){var i=t.getRoundingOverflow();if(i){
var n="x"===t.orientation
;e(n?"left":"bottom",i.begin,i.beginLocked),e(n?"right":"top",i.end,i.endLocked)
}}),t},_getContinuousVisibleExtentConstrained:function(e){
return"ortho"===e.type&&1==e.role.isNormalized?{min:0,max:100,minLocked:!0,
maxLocked:!0,lengthLocked:!0}:this.base(e)},
_coordinateSmallChartsLayout:function(t){this.base(t);var i,n=0,r=null,o={}
;this.children.forEach(function(t){t.basePanel.layout();var a,s=t.titlePanel
;s&&(i||(i=s.anchorOrthoLength()),(a=s[i])>n&&(n=a));var l=t.axesPanels
;r||(r=e.query(e.ownKeys(l)).where(function(e){return e===l[e].axis.id
}).select(function(e){return o[e]={axis:0,title:0},e
}).array()),r.forEach(function(e){
var t=l[e],i=o[e],n="x"===t.axis.orientation?"height":"width"
;(a=t[n])>i.axis&&(i.axis=a);var r=t.titlePanel;r&&(a=r[n])>i.title&&(i.title=a)
})},this),this.children.forEach(function(e){if(n>0){var t=e.titlePanel
;t.size=t.size.clone().set(i,n)}var a=e.axesPanels;r.forEach(function(e){
var t=a[e],i=o[e],n="x"===t.axis.orientation?"height":"width"
;t.size=t.size.clone().set(n,i.axis);var r=t.titlePanel
;r&&(r.size=r.size.clone().set(n,i.title))}),e.basePanel.invalidateLayout()
},this)},markEventDefaults:{strokeStyle:"#5BCBF5",lineWidth:"0.5",
textStyle:"#5BCBF5",verticalOffset:10,verticalAnchor:"bottom",
horizontalAnchor:"right",forceHorizontalAnchor:!1,horizontalAnchorSwapLimit:80,
font:"10px sans-serif"},markEvent:function(i,r,o){
var a=this,s=a.axes.base,l=a.axes.ortho,u=s.role,c=s.scale,h=a.data.owner.dimensions(u.grouping.singleDimensionName)
;if(s.isDiscrete())return a.log.warn("Can only mark events in charts with a continuous base scale."),
a
;var d=n.extend({},a.markEventDefaults,o),f=h.read(i),p=c(f.value),m=c.range(),g=m[1]
;if(p<m[0]||p>g)return a.log.warn("Cannot mark event because it is outside the base scale's domain."),
a;r||(r=f.label)
;var v=this.plotPanelList[0].pvPanel,y=l.scale.range()[1],b=d.horizontalAnchor
;if(!d.forceHorizontalAnchor){var _="right"===b
;(_?g-p:p)<t.Text.measureWidth(r,d.font)&&(b=_?"left":"right")}
var x="top"===d.verticalAnchor?d.verticalOffset:y-d.verticalOffset
;return v.add(t.Line).data([0,y]).bottom(e.identity).left(p).lineWidth(d.lineWidth).strokeStyle(d.strokeStyle).anchor(b).visible(function(){
return!this.index
}).top(x).add(t.Label).font(d.font).text(r).textStyle(d.textStyle),a},defaults:{
timeSeries:!1,timeSeriesFormat:"%Y-%m-%d"}
}),e.type("pvc.CartesianGridDockingPanel",Y.GridDockingPanel).init(function(e,t,i){
this.base(e,t,i),this._plotBgPanel=new Y.PlotBgPanel(e,this)}).add({
_getFillSizeMin:function(){
var e=this.chart.parent?null:this.chart.options.plotSizeMin
;return null!=e?re.to(e):null},_createCore:function(t){
var i=this.chart,n=i.axes,r=n.x||n.x2,o=n.y||n.y2
;r&&!r.isBound()&&(r=null),o&&!o.isBound()&&(o=null),
r&&r.option("Grid")&&(this.xGridRule=this._createGridRule(r)),
o&&o.option("Grid")&&(this.yGridRule=this._createGridRule(o)),
this.base(t),i.focusWindow&&this._createFocusWindow(t),
(i.compatVersion()>1?e.get(i.options,"plotFrameVisible",!0):!(!r.option("EndLine")&&!o.option("EndLine")))&&(this.pvFrameBar=this._createFrame(t,n)),
r&&"numeric"===r.scaleType&&r.option("ZeroLine")&&(this.xZeroLine=this._createZeroLine(r,t)),
o&&"numeric"===o.scaleType&&o.option("ZeroLine")&&(this.yZeroLine=this._createZeroLine(o,t))
},_createGridRule:function(i){var n=i.scale;if(!n.isNull){
var r=i.role.grouping.isDiscrete(),o=this._getAxisGridRootScene(i);if(o){
var a,s=this._layoutInfo.gridMargins,l=this._layoutInfo.gridPaddings,u="x"===i.orientation?"left":"bottom",c=this.anchorLength(u),h=this.anchorOrtho(u),d=this.anchorOpposite(h),f=this.chart.plotPanelList[0],p="x"===i.orientation?(f.position.left||0)+l.left:(f.position.bottom||0)+l.bottom,m=s[h],g=s[d],v=o.leafs().array(),y=v.length
;r&&y&&v.push(v[y-1]),this.compatVersion()<=1&&(a=function(e){
return function(t){return e.call(this,t.vars.tick.rawValue)}})
;var b=new Y.visual.Rule(this,this.pvPanel,{
extensionId:i.extensionPrefixes.map(function(e){return e+"Grid"}),wrapper:a
}).lock("data",v).lock(c,null).override("defaultColor",e.fun.constant(t.color("#f0f0f0"))).pvMark.antialias(!0)[h](m)[d](g).zOrder(-12).events("none")
;if(r){var _=n.range().step/2;b[u](function(e){
return p+n(e.vars.tick.value)+(this.index===y?_:-_)})}else b[u](function(e){
return p+n(e.vars.tick.value)});return b}}},_getAxisGridRootScene:function(e){
var t=e.isDiscrete(),i=t?e.domainData():this.data,n=new Y.visual.CartesianAxisRootScene(null,{
panel:this,source:i});return t?i.childNodes.forEach(function(e){
new Y.visual.CartesianAxisTickScene(n,{source:e,tick:e.value,tickRaw:e.rawValue,
tickLabel:e.label})}):(e.ticks||e.calcContinuousTicks()).forEach(function(t,i){
new Y.visual.CartesianAxisTickScene(n,{tick:t,tickRaw:t,
tickLabel:e.scale.tickFormat(t,i)})},this),n},_createFrame:function(e,t){
if(!t.base.scale.isNull&&(!t.ortho.scale.isNull||t.ortho2&&!t.ortho2.scale.isNull)){
var i=e.gridMargins,n=i.left,r=i.right,o=i.top,a=i.bottom,s=[]
;return this.compatVersion()<=1&&s.push("xAxisEndLine","yAxisEndLine"),
s.push("plotFrame"),new Y.visual.Panel(this,this.pvPanel,{extensionId:s
}).pvMark.lock("left",n).lock("right",r).lock("top",o).lock("bottom",a).lock("fillStyle",null).events("none").strokeStyle("#666666").lineWidth(1).antialias(!1).zOrder(-8)
}},_createZeroLine:function(i,n){var r=i.scale;if(!r.isNull){var o=r.domain()
;if(o[0]*o[1]<-1e-12){
var a="x"===i.orientation?"left":"bottom",s=this.anchorLength(a),l=this.anchorOrtho(a),u=this.anchorOpposite(l),c=n.gridMargins,h=n.gridPaddings,d=c[a]+h[a]+r(0),f=c[l],p=c[u],m=new Y.visual.Scene(null,{
panel:this});return new Y.visual.Rule(this,this.pvPanel,{
extensionId:i.extensionPrefixes.map(function(e){return e+"ZeroLine"})
}).lock("data",[m]).lock(s,null).lock(l,f).lock(u,p).lock(a,d).override("defaultColor",e.fun.constant(t.color("#666666"))).pvMark.events("none").lineWidth(1).antialias(!0).zOrder(-9)
}}},_createFocusWindow:function(i){function n(){z[N]=0-j[x],z[T]=E+j[x]+j[k]}
function r(e){return function(){return z[e]}}function o(){var e=z[D]
;return Math.max(0,Math.min(O,e))}function a(){var e=o(),t=z[D]+z[M]
;return(t=Math.max(0,Math.min(O,t)))-e}function s(e,t){
return new Y.visual.Bar(c,e,{extensionId:t,normalStroke:!0,noHover:!0,
noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0,showsInteraction:!1
}).pvMark.lock("data").lock("visible").lock(_,o).lock(w,a).lock(x,r(N)).lock(S,r(T)).lock(k).lock(C).sign
}function l(){var e=arguments[arguments.length-1],t="end"===e.drag.phase
;h._selectingByRubberband=!t,H.render(),U.render();var i=z[D],n=z[D]+z[M]
;if(!b){var r=O-i;i=O-n,n=r}f._updatePosition(i,n,t,!0)}function u(e,t){
var i,n,r=e.m,o=r[K],a=z[X];switch(t){case"new":i=0,n="begin";break
;case"resize-begin":i=z[K]+a-o,n="begin";break;case"move":i=a,n="begin";break
;case"resize-end":i=o-z[K],n="end"}var s=e.min[K],l=e.max[K],u={type:t,target:n,
point:o,length:i,length0:a,min:s,max:l,minView:0,maxView:O}
;switch(f._constraintPosition(u),r[K]=u.point,t){case"new":
u.length!==i&&(e[X+"min"]=i=u.length);break;case"resize-begin":
u.max=Math.min(u.max,z[K]+z[X]);break;case"resize-end":
u.min=Math.max(u.min,z[K])}e.min[K]=u.min,e.max[K]=u.max}
var c=this,h=c.topRoot,d=c.chart,f=d.focusWindow.base,p=f.axis,m=p.scale
;if(!m.isNull){
var g=f.option("Resizable"),v=f.option("Movable"),y=p.isDiscrete(),b=d.isOrientationVertical(),_=b?"left":"top",x=b?"top":"left",w=c.anchorOrthoLength(_),C=c.anchorOpposite(_),S=c.anchorOrthoLength(x),k=c.anchorOpposite(x),D=b?"x":"y",M="d"+D,N=b?"y":"x",T="d"+N,A=i.gridMargins,j=i.gridPaddings,I={
left:A.left+j.left,right:A.right+j.right,top:A.top+j.top,
bottom:A.bottom+j.bottom},P=i.clientSize,L=P[w],R=P[S]
;I.width=I.left+I.right,I.height=I.top+I.bottom
;var O=L-I[w],E=R-I[S],B=j[_],F=j[C],z=new Y.visual.Scene(null,{panel:this
}),V=y?m.range().step:0,q=V/2;z[D]=m(f.begin)-q,z[M]=V+(m(f.end)-q)-z[D],n()
;var H=this._plotBgPanel.pvPanel.borderPanel
;H.lock("data",[z]),v&&g?H.paddingPanel.events("all").cursor("crosshair").event("mousedown",t.Behavior.select().autoRender(!1).collapse(b?"y":"x").positionConstraint(function(e){
return u(e,"start"===e.phase?"new":"resize-end")
})).event("selectstart",function(){n(),l.apply(null,arguments)
}).event("select",l).event("selectend",l):H.paddingPanel.events("all")
;var W=s(H.paddingPanel,"focusWindowBg").override("defaultColor",e.fun.constant(Y.invisibleFill)).pvMark
;v?W.events("all").cursor("move").event("mousedown",t.Behavior.drag().autoRender(!1).collapse(b?"y":"x").positionConstraint(function(e){
u(e,"move")})).event("drag",l).event("dragend",l):W.events("none")
;var U=new Y.visual.Panel(c,c.pvPanel).pvMark.lock("data",[z]).lock("visible").lock("fillStyle",Y.invisibleFill).lock("left",I.left).lock("right",I.right).lock("top",I.top).lock("bottom",I.bottom).lock("zOrder",10).events(function(){
var e=z.drag;return e&&"end"!==e.phase?"all":"none"}).cursor(function(){
var e=z.drag
;return e&&"end"!==e.phase?"drag"===e.type||"select"===e.type&&!g?"move":b?"ew-resize":"ns-resize":null
}).antialias(!1);new Y.visual.Bar(c,U,{extensionId:"focusWindowBaseCurtain",
normalStroke:!0,noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0,
showsInteraction:!1}).override("defaultColor",function(e,t){
return"stroke"===t?null:"rgba(20, 20, 20, 0.1)"
}).pvMark.lock("data",[z,z]).lock("visible").events("none").lock(_,function(){
return this.index?o()+a():-B}).lock(C,function(){return this.index?-F:null
}).lock(w,function(){return this.index?null:B+o()
}).lock(x,r(N)).lock(S,r(T)).lock(k)
;var G=s(U,"focusWindow").override("defaultColor",e.fun.constant(null)).pvMark.events("none"),$=function(i){
var n="left"===i||"top"===i?"begin":"end",r=c.anchorOpposite(i),o="linear-gradient(to "+r+", rgba(20, 20, 20, 0.1), #444 90%)",a=new Y.visual.Bar(c,G.anchor(i),{
extensionId:f.id+"Grip"+e.firstUpperCase(n),normalStroke:!0,noHover:!0,
noSelect:!0,noClick:!0,noDoubleClick:!0,noTooltip:!0,showsInteraction:!1
}).override("defaultColor",function(e,t){return"stroke"===t?null:o
}).pvMark.lock("data").lock("visible")[x](z[N])[S](z[T]);if(g){var s="resize-"+n
;a.events("all")[w](5).cursor(b?"ew-resize":"ns-resize").event("mousedown",t.Behavior.resize(i).autoRender(!1).positionConstraint(function(e){
u(e,s)}).preserveOrtho(!0)).event("resize",l).event("resizeend",l)
}else a.events("none")[w](1);return a};$(_),$(C);var K=D,X=M}},
_getDatumsOnRect:function(t,i,n){
var r,o,a=this.chart,s=a.axesPanels.x,l=a.axesPanels.y
;s&&(r=new e.Map,s._getDatumsOnRect(r,i,n),
r.count||(r=null)),l&&(o=new e.Map,l._getOwnDatumsOnRect(o,i,n),
o.count||(o=null)),
r&&o?(r.intersect(o,t),n.toggle=!0):r?t.copy(r):o?t.copy(o):a.plotPanelList.forEach(function(e){
e._getDatumsOnRect(t,i,n)},this)}
}),e.type("pvc.CartesianAbstractPanel",Y.PlotPanel).init(function(e,t,i,n){
function r(e){
o[e.type]=e,o[e.orientedId]=e,e.v1SecondOrientedId&&(o[e.v1SecondOrientedId]=e)}
this.base(e,t,i,n);var o=this.axes;r(e._getAxis("base",i.option("BaseAxis")-1)),
r(e._getAxis("ortho",i.option("OrthoAxis")-1))}).add({
_getOptionSizeMin:function(e){return null},_calcLayout:function(e){
var t,i=this.chart,n=i._plotsClientSizeInfo;if(n){t=e.clientSize
;var r=n.value,o=n.min,a=n.max
;null!=r.width?t.width=r.width:t.width=Math.max(Math.min(t.width,a.width),o.width),
null!=r.height?t.height=r.height:t.height=Math.max(Math.min(t.height,a.height),o.height)
}return i._preserveLayout||(e.contentOverflow=this._calcContentOverflow(e)),t},
_calcContentOverflow:function(e){var t,i=this.chart._axisOffsetPaddings;if(i){
var n=this.chart._getAxesRoundingOverflow();ne.names.forEach(function(r){
if(!n[r+"Locked"]){
var o=Y.BasePanel.orthogonalLength[r],a=e.size[o]*(i[r]||0),s=n[r]||0
;(t||(t={}))[r]=Math.max(a-s,0)}},this)}return t},_createCore:function(){
this.pvPanel.zOrder(-10);var e=this.chart.options.leafContentOverflow||"auto"
;("auto"===e?this._guessHideOverflow():"hidden"===e)&&this.pvPanel.borderPanel.overflow("hidden")
},_guessHideOverflow:function(){return U(this.axes.ortho)||U(this.axes.base)}}),
e("pvc.visual.CategoricalPlot",Y.visual.CartesianPlot.extend({methods:{
createData:function(e,t){var i=Object.create(t)
;return i.extensionDataSetsMap=this.boundDimensionsDataSetsMap,
e.groupBy([this.visualRoles.category.flattenedGrouping(),this.visualRoles.series.flattenedGrouping()],i)
},interpolatable:function(){return!0},_initVisualRoles:function(){
this.base(),this._addVisualRole("category",this._getCategoryRoleSpec())},
_getCategoryRoleSpec:function(){return{isRequired:!0,
defaultDimension:"category*",autoCreateDimension:!0}},
getContinuousVisibleCellExtent:function(t,i,n){var r=n.role;switch(r.name){
case"series":case"category":return this.base(t,i,n)}
if(n.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")
;var o=t.visiblePlotData(this),a=i.scaleUsesAbs()
;return"ortho"===i.type&&n.isStacked?o.children().select(function(e){
var t=this._getStackedCategoryValueExtent(e,r,a);if(t)return{range:t,group:e}
},this).where(e.notNully).reduce(function(e,r){
return this._reduceStackedCategoryValueExtent(t,e,r.range,r.group,i,n)
}.bind(this),null):o.leafs().select(function(e){var t=r.numberValueOf(e).value
;return a&&t<0?-t:t}).range()},_getStackedCategoryValueExtent:function(e,t,i){
var n=null,r=null;return e.children().select(function(e){
var n=t.numberValueOf(e).value;return i&&n<0?-n:n}).each(function(e){
null!=e&&(e>=0?n+=e:r+=e)}),null==n&&null==r?null:{max:n||0,min:r||0}},
_reduceStackedCategoryValueExtent:function(e,t,i,n,r,o){
return Y.unionExtents(t,i)},_getBaseRole:function(){
return this.visualRoles.category},_getOrthoRoles:function(){
return[this.visualRoles.value]},interpolateDataCell:function(t,i){
if(t.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")
;var n=this._getNullInterpolationOperType(t.nullInterpolationMode);if(n){
var r=this.chart.partData(this.dataPartValue,i),o=this.chart.visiblePlotData(this,{
baseData:i})
;o.childCount()>0&&t.role.getCompatibleBoundDimensionNames(o).forEach(function(e){
new n(i,r,o,this.visualRoles.category,this.visualRoles.series,t.role,e,!0).interpolate()
},this)}},_getNullInterpolationOperType:function(t){switch(t){case"linear":
return i.LinearInterpolationOper;case"zero":return i.ZeroInterpolationOper
;case"none":break;default:
throw e.error.argumentInvalid("nullInterpolationMode",""+t)}},
generateTrendsDataCell:function(t,n,r){function o(n,r){var o=p?null:function(e){
return e.atoms[u].value},s=function(e){var t=a.child(e.key)
;return t&&(t=t.child(n.key)),t?t.dimensions(r).value(g):null},l=e.create(d,{
rows:e.query(b),x:o,y:s}),c=f.model(l);c&&b.forEach(function(o,l){
var h=p?l:o.atoms[u].value,f=c.sample(h,s(o),l);if(null!=f){
var g,b=a.child(o.key),_=b||o,x=b&&b.child(n.key)
;x?g=Object.create(x.atoms):(g=Object.create(_.atoms),
e.copyOwn(g,n.atoms)),g[r]=f,
g[y]=v,m||(m=a.type.filterExtensionDimensionNames(e.keys(g))),
t.push(new i.TrendDatum(_.owner,g,m,d))}})}
if(n.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")
;var a=this.chart.visiblePlotData(this,{baseData:r
}),s=n.role,l=s.getCompatibleBoundDimensionNames(a);if(0!==l.length){
var u,c=this.visualRoles.series,h=this.visualRoles.category,d=n.trend,f=d.info,p=h.isDiscrete()
;p||(u=h.grouping.singleDimensionName);var m,g={zeroIfNone:!1
},v=this.chart._getTrendDataPartAtom(),y=v.dimension.name,b=h.flatten(r,{
visible:!0}).childNodes.filter(function(e){return p||null!==e.atoms[u].value
}),_=this.chart.partData(n.dataPartValue,r),x=c.flatten(_,{visible:!0
}).children().array();l.forEach(function(e){m=null,x.forEach(function(t){
var i=s.getBoundDimensionName(t,!0);null!==i&&i!==e||o(t,e)})})}}},options:{
Stacked:{resolve:"_resolveFull",cast:Boolean,value:!1}}
})),e.type("pvc.CategoricalAbstract",Y.CartesianAbstract).add({
_onWillCreatePlotPanelScene:function(e,t,i,n){}
}),e.type("pvc.CategoricalAbstractPanel",Y.CartesianAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n),this.stacked=i.option("Stacked")}).add({
_buildScene:function(e,t,i){
return this.chart._onWillCreatePlotPanelScene(this,e,t,i),
this._buildSceneCore(e,t,i)}
}),e("pvc.visual.MetricXYPlot",Y.visual.CartesianPlot.extend({methods:{
_initVisualRoles:function(){this.base(),this._addVisualRole("x",{isMeasure:!0,
isRequired:!0,requireSingleDimension:!0,requireIsDiscrete:!1,
defaultDimension:"x",dimensionDefaults:{
valueType:this.chart.options.timeSeries?Date:Number}}),this._addVisualRole("y",{
isMeasure:!0,isRequired:!0,requireSingleDimension:!0,requireIsDiscrete:!1,
defaultDimension:"y",dimensionDefaults:{valueType:Number}})},
_getBaseRole:function(){return this.visualRoles.x},_getOrthoRoles:function(){
return[this.visualRoles.y]},generateTrendsDataCell:function(t,n,r){
function o(n,r){var o=function(e){return e.atoms[p].value},s=function(e){
return e.atoms[r].value},l=n.datums().sort(null,o).array(),c=e.create(d,{
rows:e.query(l),x:o,y:s}),h=f.model(c);h&&l.forEach(function(l,c){var f,v=o(l)
;if(null!=v&&null!=(f=h.sample(v,s(l),c))){
var y=e.set(Object.create(n.atoms),p,v,r,f,g,m)
;u||(u=a.type.filterExtensionDimensionNames(e.keys(y))),
t.push(new i.TrendDatum(a.owner,y,u,d))}})}
if(n.plot!==this)throw e.error.operationInvalid("DataCell not of this plot.")
;var a=this.chart.visiblePlotData(this,{baseData:r
}),s=n.role,l=s.getCompatibleBoundDimensionNames(a);if(0!==l.length){
var u,c=this.visualRoles.series,h=this.visualRoles.x,d=n.trend,f=d.info,p=h.grouping.singleDimensionName,m=this.chart._getTrendDataPartAtom(),g=m.dimension.name
;l.forEach(function(t){
u=null,(c.isBound()?a.children():e.query([a])).each(function(e){o(e,t)})})}}},
options:{OrthoAxis:{resolve:null}}
})),e.type("pvc.MetricXYAbstract",Y.CartesianAbstract).add({
_defaultAxisBandSizeRatio:1,_getIsNullDatum:function(){var t,i,n=this
;return function(r){
if(t||(t=e.query([n.visualRoles.x,n.visualRoles.y]).selectMany(function(e){
return e.grouping.dimensionNames()}).distinct().array(),i=t.length),!i)return!1
;for(var o=r.atoms,a=0;a<i;a++)if(null==o[t[a]].value)return!0;return!1}}
}),e.type("pvc.BarAbstract",Y.CategoricalAbstract),
e("pvc.visual.BarPlotAbstract",Y.visual.CategoricalPlot.extend({methods:{
_initVisualRoles:function(){this.base(),this._addVisualRole("value",{
isMeasure:!0,isRequired:!0,isPercent:this.option("Stacked"),
isNormalized:this.option("ValuesNormalized"),requireSingleDimension:!1,
requireIsDiscrete:!1,valueType:Number,defaultDimension:"value"})},
_getCategoryRoleSpec:function(){return e.set(this.base(),"requireIsDiscrete",!0)
}},options:{BarSizeRatio:{resolve:"_resolveFull",cast:function(t){
return t=e.number.to(t),null==t?1:t<.05?.05:t>1?1:t},value:.9},BarSizeMax:{
resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyChartOption(e,"maxBarSize"),!0}},cast:function(t){
return t=e.number.to(t),null==t?1/0:t<1?1:t},value:2e3},BarOrthoSizeMin:{
resolve:"_resolveFull",cast:e.number.toNonNegative,value:1.5},BarStackedMargin:{
resolve:"_resolveFull",cast:function(t){return t=e.number.to(t),null!=t&&t<0?0:t
},value:0},OverflowMarkersVisible:{resolve:"_resolveFull",cast:Boolean,value:!0
},ValuesAnchor:{value:"center"},ValuesNormalized:{resolve:"_resolveFull",
cast:"boolean",default:!1}}
})),e.type("pvc.BarAbstractPanel",Y.CategoricalAbstractPanel).add({pvBar:null,
pvBarLabel:null,pvCategoryPanel:null,pvSecondLine:null,pvSecondDot:null,
_creating:function(){var e=this.plot.dataCellsByRole.color[0]
;if(!e.legendSymbolRenderer()&&e.legendVisible()){
var i=this.axes.color,n=i.option("LegendDrawLine")
;if(!n||i.option("LegendDrawMarker")){var r=Y.uniqueExtensionAbsPrefix()
;this.chart._processExtensionPointsIn(e.role.legend(),r);var o={drawMarker:!0,
markerShape:i.option("LegendShape"),drawLine:n,extensionPrefix:{abs:r},
markerPvProto:new t.Dot};this.extend(o.markerPvProto,"bar",{constOnly:!0
}),e.legendSymbolRenderer(o)}}},_createCore:function(){this.base()
;var e,i,n=this,r=n.chart,o=n.plot,a=!!n.stacked,s=n.isOrientationVertical(),l=n.visibleData({
ignoreNulls:!1
}),u=n.axes.ortho,c=n.axes.base,h=c.domainItems(),d=n.visualRoles.series.flatten(n.partData(),{
visible:!0,isNull:!r.options.ignoreNulls&&null,
extensionDataSetsMap:o.boundDimensionsDataSetsMap
}).childNodes,f=n._buildScene(l,d,h),p=u.scale,m=p(0),g=u.sceneScale({
sceneVarName:"value",nullToZero:!1}),v=c.sceneScale({sceneVarName:"category"
}),y=o.option("BarSizeRatio"),b=o.option("BarSizeMax"),_=o.option("BarStackedMargin"),x=o.option("BarOrthoSizeMin"),w=c.scale.range(),C=w.band,S=w.step,k=w.margin,D=s===a
;a?e=C:(i=d.length,e=i?1===i?C:y*C/i:0),e>b&&(e=b),n.barWidth=e,n.barStepWidth=S
;var M;n.compatVersion()<=1&&(M=function(e){return function(t){
var i=Object.create(this.parent),n=Object.create(this);n.parent=i
;var r=t.parent.childIndex(),o=t.childIndex()
;return a?(i.index=r,n.index=o):(i.index=o,
n.index=r),e.call(n,t.vars.value.rawValue)}
}),n.pvBarPanel=new Y.visual.Panel(n,n.pvPanel,{panelType:t.Layout.Band,
extensionId:"panel"}).lock("layers",f.childNodes).lockMark("values",function(e){
return e.childNodes
}).lockMark("orient",s?"bottom-left":"left-bottom").lockMark("layout",a?"stacked":"grouped").lockMark("verticalMode",n._barVerticalMode()).lockMark("yZero",m).optionalMark("hZero",x).pvMark.band.x(v).w(C).differentialControl(n._barDifferentialControl()).item.order(D?"reverse":null).h(function(e){
var t=g(e);return null!=t?r.animate(0,t-m):null
}).w(e).horizontalRatio(y).verticalMargin(_).end
;var N=e<=4||k<2,T=this.pvBar=new Y.visual.Bar(n,n.pvBarPanel.item,{
extensionId:"bar",freePosition:!0,wrapper:M
}).lockDimensions().optional("visible",function(e){return null!=e.getValue()
}).pvMark.antialias(function(e){if(N)return!0;var t=g(e)
;return(null==t?0:Math.abs(t-m))<1e-8})
;o.option("OverflowMarkersVisible")&&this._addOverflowMarkers(M)
;var A=Y.visual.ValueLabel.maybeCreate(n,T,{wrapper:M});if(A){var j
;A.hideOrTrimOverflowed&&(j=C,
!a&&i>1&&(j/=i)),n.pvBarLabel=A.override("calcTextFitInfo",function(e,i){
var n=this.pvMark,r=n.textMargin();if(!(r<-1e-6)){
var o=n.textAngle(),a=Math.sin(o),l=Math.abs(a)<1e-6,u=!l&&Math.abs(Math.cos(o))<1e-6
;if(l||u&&s){
var c,h,d,f=T.height(),p=T.width(),m=s?f:p,g=s?p:f,v=t.Text.measure(i,n.font()),y=.75*v.height,b=v.width,_=n.name(),x=n.textBaseline(),w=n.textAlign(),C="center"===_,S=!1
;if(s)if(l){if(!(h=C||_===x))return;S|=C&&"middle"!==x?y+r>m/2:y+2*r>m
}else S|=m<y,
d="center"===w,h=C,h||d||(h=a>=1e-6?"left"===w?"top"===_:"bottom"===_:"left"===w?"bottom"===_:"top"===_),
h?(c=!C||d?m-2*r:(m-r)/2,
S|=("middle"===x?y>g:y>g/2)||this.hideOverflowed&&b>c):S|=y>=Math.max(g,j);else S|=m<y,
h=C||_===w,
h?(c=C&&"center"!==w?(m-r)/2:m-2*r,S|=("middle"===x?y>g:y>g/2)||this.hideOverflowed&&b>c):S|=y>=Math.max(g,j)
;return{hide:S,widthMax:c}}}}).pvMark}},_barVerticalMode:function(){
return this.plot.option("ValuesNormalized")?"expand":null},
_barDifferentialControl:function(){return null},_getV1Datum:function(e){
var t=e.datum;if(t){var i=Object.create(t);i.percent=e.vars.value.percent,t=i}
return t},_guessHideOverflow:function(){
return this.base()||!this.stacked&&!this.axes.ortho.option("OriginIsZero")},
_addOverflowMarkers:function(e){
var t=this.axes.ortho,i=this.stacked||t.option("OriginIsZero")
;i&&null==t.option("FixedMax")||(this.pvOverflowMarker=this._addOverflowMarker(!1,t.scale,e)),
i&&null==t.option("FixedMin")||(this.pvUnderflowMarker=this._addOverflowMarker(!0,t.scale,e))
},_addOverflowMarker:function(e,t,i){
var n,r=this.isOrientationVertical(),o=r?"bottom":"left",a=this.anchorOpposite(o),s=this.anchorOrthoLength(o),l=this.anchorLength(o),u=this.plot.option("BarOrthoSizeMin")/2,c=this._layoutInfo.paddings,h=t.min-c[o],d=t.max+c[a],f=e?h:d
;return n=e?r?0:Math.PI/2:r?Math.PI:-Math.PI/2,
new Y.visual.Dot(this,this.pvBar.anchor("center"),{noSelect:!0,noHover:!0,
noClick:!0,noDoubleClick:!0,noTooltip:!1,freePosition:!0,
extensionId:e?"underflowMarker":"overflowMarker",wrapper:i
}).intercept("visible",function(t){var i=this.delegateExtension()
;if(void 0!==i&&!i)return!1;var n=t.vars.value.value;if(null==n)return!1
;var r=this.pvMark.scene.target[this.pvMark.index],a=r[o],l=a+r[s],c=n<0?a:l
;return(e?l<=h||c<h:a>=d||c>d)&&(0!==n||(e?h-l:l-d)>u)
}).pvMark.shape("triangle").shapeRadius(function(){
return Math.min(Math.sqrt(10),this.scene.target[this.index][l]/2)
}).shapeAngle(n).lineWidth(1.5).strokeStyle("red").fillStyle("white")[a](null)[o](function(){
return f+(e?1:-1)*(this.shapeRadius()+2)})},renderInteractive:function(){
this.pvPanel.render()},_buildSceneCore:function(e,t,i){function n(t){
var n=new Y.visual.Scene(r,{source:t}),s=t.key
;n.vars.series=le.fromComplex(t),a.onNewScene(n,!1),i.forEach(function(t){
var i=e.child(t.key),r=i&&i.child(s),l=new Y.visual.Scene(n,{source:r})
;(l.vars.category=le.fromComplex(i)).group=i,
o.onNewScene(l,!0),a.onNewScene(l,!0)})}var r=new Y.visual.Scene(null,{
panel:this,source:e
}),o=new Y.visual.RoleVarHelper(r,"value",this.visualRoles.value,{
hasPercentSubVar:this.stacked
}),a=new Y.visual.RoleVarHelper(r,"color",this.visualRoles.color)
;return t.forEach(n),r}}),t.PieSlice=function(){t.Wedge.call(this)
},t.PieSlice.prototype=t.extend(t.Wedge).property("offsetRadius")
;var Se=t.Shape.normalizeAngle;return t.PieSlice.prototype.midAngle=function(){
var e=this.instance();return Se(e.startAngle)+Se(e.angle)/2
},t.PieSlice.prototype.defaults=(new t.PieSlice).extend(t.Wedge.prototype.defaults).offsetRadius(0),
e("pvc.visual.PieSlice",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.PieSlice)
;r=e.setDefaults(r,"freeColor",!1),this.base(i,o,r),this._activeOffsetRadius=e.get(r,"activeOffsetRadius",0),
this._maxOffsetRadius=e.get(r,"maxOffsetRadius",0),
this._resolvePctRadius=e.get(r,"resolvePctRadius"),
this._center=e.get(r,"center"),
this.optional("lineWidth",.6)._bindProperty("angle","angle")._bindProperty("offsetRadius","offsetRadius")._lockDynamic("bottom","y")._lockDynamic("left","x").lock("top",null).lock("right",null)
},properties:["offsetRadius"],methods:{angle:e.fun.constant(0),x:function(){
return this._center.x+this._offsetSlice("cos")},y:function(){
return this._center.y-this._offsetSlice("sin")},_offsetSlice:function(e){
var t=this.pvMark.offsetRadius()||0
;return t&&(t*=Math[e](this.pvMark.midAngle())),t},defaultColor:function(e,t){
return"stroke"===t?null:this.base(e,t)},interactiveColor:function(e,t,i){
if(this.mayShowActive(e,!0))switch(i){case"fill":return t.brighter(.2).alpha(.8)
;case"stroke":return t.brighter(1.3).alpha(.7)
}else if(this.mayShowNotAmongSelected(e)&&"fill"===i)return this.dimColor(t,i)
;return this.base(e,t,i)},offsetRadius:function(e){var t=this.base(e)
;return Math.min(Math.max(0,t),this._maxOffsetRadius)},
baseOffsetRadius:function(e){var t=this.base(e)||0
;return this._resolvePctRadius(ie.parse(t))},
interactiveOffsetRadius:function(e,t){
return t+(this.mayShowActive(e,!0)?this._activeOffsetRadius:0)}}
})),e("pvc.visual.PiePlot",Y.visual.Plot.extend({init:function(t,i){
if(this.base(t,i),
!(t instanceof Y.PieChart))throw e.error(e.format("Plot type '{0}' can only be used from within a pie chart.",[this.type]))
},methods:{type:"pie",_initVisualRoles:function(){
this.base(),this._addVisualRole("category",{isRequired:!0,
defaultDimension:"category*",autoCreateDimension:!0
}),this._addVisualRole("value",{isMeasure:!0,isRequired:!0,isPercent:!0,
requireSingleDimension:!1,requireIsDiscrete:!1,valueType:Number,
defaultDimension:"value"})},_getColorRoleSpec:function(){return{isRequired:!0,
defaultSourceRole:"category",defaultDimension:"color*",requireIsDiscrete:!0}},
createData:function(e,t){return this.visualRoles.category.flatten(e,t)},
_initDataCells:function(){
this.base(),this._addDataCell(new Y.visual.DataCell(this,"category",this.index,this.visualRole("category"))),
this._addDataCell(new Y.visual.DataCell(this,"angle",this.index,this.visualRoles.value))
}},options:{ActiveSliceRadius:{resolve:"_resolveFull",cast:ie.parse,
value:new ie(.05)},ExplodedSliceRadius:{resolve:"_resolveFull",cast:ie.parse,
value:0},ExplodedSliceIndex:{resolve:"_resolveFull",cast:e.number.to,value:null
},ValuesAnchor:{cast:Y.parseAnchorWedge,value:"outer"},ValuesVisible:{value:!0},
ValuesLabelStyle:{resolve:function(e){
return this.chart.compatVersion()>1?this._resolveFull(e):(e.specify("inside"),
!0)},cast:function(t){switch(t){case"inside":case"linked":return t}
return e.debug>=2&&e.log("[Warning] Invalid 'ValuesLabelStyle' value: '"+t+"'."),
"linked"},value:"linked"},ValuesMask:{resolve:"_resolveFull",data:{
resolveDefault:function(e){
return e.defaultValue("linked"===this.option("ValuesLabelStyle")?"{value} ({value.percent})":"{value}"),
!0}}},LinkInsetRadius:{resolve:"_resolveFull",cast:ie.parse,value:new ie(.05)},
LinkOutsetRadius:{resolve:"_resolveFull",cast:ie.parse,value:new ie(.025)},
LinkMargin:{resolve:"_resolveFull",cast:ie.parse,value:new ie(.025)},
LinkHandleWidth:{resolve:"_resolveFull",cast:e.number.to,value:.5},
LinkLabelSize:{resolve:"_resolveFull",cast:ie.parse,value:new ie(.15)},
LinkLabelSpacingMin:{resolve:"_resolveFull",cast:e.number.to,value:.5}}
})),Y.visual.Plot.registerClass(Y.visual.PiePlot),
e.type("pvc.PiePanel",Y.PlotPanel).init(function(e,t,i,n){
var r=i.option("ValuesLabelStyle")
;this.base(e,t,i,n),this.explodedOffsetRadius=i.option("ExplodedSliceRadius"),
this.explodedSliceIndex=i.option("ExplodedSliceIndex"),
this.activeOffsetRadius=i.option("ActiveSliceRadius"),
this.labelStyle=r,"linked"===r&&(this.linkInsetRadius=i.option("LinkInsetRadius"),
this.linkOutsetRadius=i.option("LinkOutsetRadius"),
this.linkMargin=i.option("LinkMargin"),
this.linkHandleWidth=i.option("LinkHandleWidth"),
this.linkLabelSize=i.option("LinkLabelSize"),
this.linkLabelSpacingMin=i.option("LinkLabelSpacingMin")),
e.pieChartPanel||(e.pieChartPanel=this),
this.axes.category=e._getAxis("category",i.index),
this.axes.angle=e._getAxis("angle",i.index)}).add({plotType:"pie",_ibits:-1,
pvPie:null,pvPieLabel:null,valueRoleName:"value",_getV1Datum:function(e){
var t=e.datum;if(t){var i=Object.create(t);i.percent=e.vars.value.percent,t=i}
return t},_calcLayout:function(i){function n(t){
return e.between(ie.resolve(t,s),0,s)}function r(t){
return e.between(ie.resolve(t,a),0,a)}
var o=i.clientSize,a=o.width,s=Math.min(a,o.height)/2;if(!s)return new re(0,0)
;var l=t.vector(o.width/2,o.height/2),u=this._getConstantExtension("label","font")
;e.string.is(u)||(u=this.valuesFont);var c=s
;if(this.valuesVisible&&"linked"===this.labelStyle){
var h=e.number.to(this._getConstantExtension("label","textMargin"),3),d=t.Text.fontHeight(u),f=this.linkHandleWidth*d,p=n(this.linkInsetRadius),m=n(this.linkOutsetRadius),g=r(this.linkMargin)+f,v=r(this.linkLabelSize),y=this.linkLabelSpacingMin*d,b=Math.max(0,a/2-s),_=Math.max(0,m+g+v-b),x=m+d,w=Math.max(0,x,_)
;w>=c?(this.valuesVisible=!1,
e.debug>=2&&this.log("Hiding linked labels due to insufficient space.")):(c-=w,
i.link={insetRadius:p,outsetRadius:m,elbowRadius:c+m,linkMargin:g,handleWidth:f,
labelSize:v,maxTextWidth:v-h,labelSpacingMin:y,textMargin:h,lineHeight:d})}
var C=n(this.explodedOffsetRadius),S=0
;this.hoverable()&&(S=n(this.activeOffsetRadius));var k=C+S,D=c-k
;if(D<0)return new re(0,0)
;i.resolvePctRadius=n,i.center=l,i.clientRadius=s,i.normalRadius=D,
i.explodedOffsetRadius=C,
i.activeOffsetRadius=S,i.maxOffsetRadius=k,i.labelFont=u},
_createCore:function(i){
var n,r=this,o=r.chart,a=this._buildScene(),s=i.center,l=i.normalRadius,u=["slice"]
;if(this.compatVersion()<=1&&(u.push(""),n=function(e){return function(t){
return e.call(this,t.vars.value.value)}
}),this.pvPie=new Y.visual.PieSlice(this,this.pvPanel,{extensionId:u,center:s,
activeOffsetRadius:i.activeOffsetRadius,maxOffsetRadius:i.maxOffsetRadius,
resolvePctRadius:i.resolvePctRadius,wrapper:n,tooltipArgs:{options:{
useCorners:!0,gravity:function(){
var e=this.midAngle(),t=Math.cos(e)>=0,i=Math.sin(e)>=0
;return t?i?"nw":"sw":i?"ne":"se"}}}
}).lock("data",a.childNodes).override("angle",function(e){
return e.vars.value.angle}).override("defaultOffsetRadius",function(){
var e=r.explodedSliceIndex
;return null==e||e==this.pvMark.index?i.explodedOffsetRadius:0
}).optionalMark("outerRadius",function(){return o.animate(0,l)
}).localProperty("innerRadiusEx",ie.parse).intercept("innerRadius",function(e){
var t=this.delegateExtension();if(null==t){var i=this.pvMark.innerRadiusEx()
;t=null!=i?ie.resolve(i,this.pvMark.outerRadius())||0:0}
return t>0?o.animate(0,t):0}).pvMark,this.valuesVisible){
if(this.valuesFont=i.labelFont,
"inside"===this.labelStyle)this.pvPieLabel=Y.visual.ValueLabel.maybeCreate(this,this.pvPie,{
wrapper:n}).override("defaultText",function(e){return e.vars.value.sliceLabel
}).override("calcTextFitInfo",function(e,i){var n=this.pvMark,o=n.textMargin()
;if(!(o<-1e-6)&&"middle"===n.textBaseline()){
var a=Y.normAngle(r.pvPie.midAngle()),s=Y.normAngle(n.textAngle()),l=Math.abs(a-s)<1e-6,u=!1
;if(!l){var c=Y.normAngle(s+Math.PI);u=Math.abs(a-c)<1e-6}if(l||u){
var h=n.name(),d=n.textAlign();if("outer"===h&&d===(l?"right":"left")){
var f=!1,p=t.Text.measure(i,n.font()),m=.85*p.height,g=r.pvPie.outerRadius(),v=r.pvPie.innerRadius(),y=e.vars.value.angle,b=m+o/2,_=y<Math.PI?Math.max(v,b/(2*Math.tan(y/2))):v,x=g-o-_
;return f|=x<=0,x-=o,f|=this.hideOverflowed&&p.width>x,{hide:f,widthMax:x}}}}
}).pvMark.textMargin(10);else if("linked"===this.labelStyle){var c=i.link
;a.layoutLinkLabels(i),
this.pvLinkPanel=this.pvPanel.add(t.Panel).data(a.childNodes).localProperty("pieSlice").pieSlice(function(){
return r.pvPie.scene[this.index]});var h=!1,d=!0
;if(this.pvLinkLine=new Y.visual.Line(this,this.pvLinkPanel,{
extensionId:"linkLine",freePosition:d,noClick:d,noDoubleClick:d,noSelect:d,
noTooltip:d,noHover:d,showsActivity:h}).lockMark("data",function(e){
var t=this.parent.pieSlice(),i=t.startAngle+t.angle/2,n=t.outerRadius-c.insetRadius,r=t.left+n*Math.cos(i),o=t.top+n*Math.sin(i),a=e.childNodes[0]
;return a&&a._isFirstDynamicScene?(a.x=r,
a.y=o):(a=new Y.visual.PieLinkLineScene(e,r,o,0),
a._isFirstDynamicScene=d),e.childNodes}).override("defaultColor",function(e,t){
return"stroke"===t?"black":this.base(e,t)
}).override("defaultStrokeWidth",e.fun.constant(.5)).pvMark.lock("visible").lock("top",function(e){
return e.y}).lock("left",function(e){return e.x
}),this.pvPieLabel=new Y.visual.Label(this,this.pvLinkPanel,{
extensionId:"label",noClick:h,noDoubleClick:h,noSelect:h,noHover:h,
showsInteraction:d}).lockMark("data",function(e){return e.lineScenes
}).intercept("textStyle",function(e){this._finished=h;var t=this.delegate()
;return t&&!this._finished&&!this.mayShowActive(e)&&this.mayShowNotAmongSelected(e)&&(t=this.dimColor(t,"text")),
t}).pvMark.lock("visible").left(function(e){return e.vars.link.labelX
}).top(function(e){return e.vars.link.labelY+(this.index+1)*c.lineHeight
}).textAlign(function(e){return e.vars.link.labelAnchor
}).textMargin(c.textMargin).textBaseline("bottom").text(function(e){
return e.vars.link.labelLines[this.index]}),e.debug>=20){
this.pvPanel.add(t.Panel).zOrder(-10).left(s.x-i.clientRadius).top(s.y-i.clientRadius).width(2*i.clientRadius).height(2*i.clientRadius).strokeStyle("red"),
this.pvPanel.strokeStyle("green");var f=t.Colors.category10()
;this.pvLinkLine.segmented(d).strokeStyle(function(){return f(this.index)})}}
this.pvPieLabel.font(i.labelFont)}},renderInteractive:function(){
this.pvPanel.render()},_buildScene:function(){
var e=new Y.visual.PieRootScene(this);return this.sum=e.vars.sumAbs.value,e}
}),Y.PlotPanel.registerClass(Y.PiePanel),
e.type("pvc.visual.PieRootScene",Y.visual.Scene).init(function(t){
function i(e,t,i){if(i){var n=i._datums
;if(1===n.length)return n[0].atoms[t.name].label}return t.format(e)}
var n=t.axes.category,r=n.domainData();this.base(null,{panel:t,source:r})
;var o=new Y.visual.RoleVarHelper(this,"color",t.visualRoles.color),a=t.visualRoles[t.valueRoleName],s=r.dimensions(a.firstDimensionName()),l=t.axes.angle.scale,u=l.isNull?0:l.domain()[1],c=this
;this.vars.sumAbs=new le(u,i(u,s))
;var h=e.type(Y.visual.PieCategoryScene).init(function(e,t,n){this.base(c,{
source:e}),this.vars.category=le.fromComplex(e);var r=new le(t,i(t,n,e))
;r.angle=l(t);var a=Math.abs(t)/u,s=n.type.format().percent()
;r.percent=new le(a,s(a)),
this.vars.value=r,r.sliceLabel=this.sliceLabel(),o.onNewScene(this,!0)})
;t._extendSceneType("category",h,["sliceLabel","sliceLabelMask"])
;var d=n.domainItems();if(d.length&&(d.forEach(function(e){
var t=a.getBoundDimensionName(e),i=e.dimensions(t),n=i.value()
;0!==n&&new h(e,n,i)
}),!c.childNodes.length&&!t.chart.visualRoles.multiChart.isBound()))throw new Y.InvalidDataException("Unable to create a pie chart, please check the data values.","all-zero-data")
}).add({layoutLinkLabels:function(e){var t=-Math.PI/2,i=[],n=[]
;this.childNodes.forEach(function(r){
t=r.layoutI(e,t),(r.vars.link.dir>0?n:i).push(r)
}),this._distributeLabels(-1,i,e),this._distributeLabels(1,n,e)},
_distributeLabels:function(t,i,n){i.sort(function(t,i){
return e.compare(t.vars.link.targetY,i.vars.link.targetY)
}),this._distributeLabelsDownwards(i,n)&&this._distributeLabelsUpwards(i,n)&&this._distributeLabelsEvenly(i,n),
i.forEach(function(e){e.layoutII(n)})},_distributeLabelsDownwards:function(e,t){
for(var i=t.link,n=i.labelSpacingMin,r=t.clientSize.height,o=!1,a=0,s=e.length-1;a<s;a++){
var l=e[a].vars.link;!a&&l.labelTop()<0&&(o=!0)
;var u=e[a+1].vars.link,c=l.labelBottom()+n;if(u.labelTop()<c){
var h=u.labelHeight/2,d=c+h,f=r-h;d>f?(o=!0,u.targetY=f):u.targetY=d}}return o},
_distributeLabelsUpwards:function(e,t){
for(var i=t.link,n=i.labelSpacingMin,r=!1,o=e.length-1;o>0;o--){
var a=e[o-1].vars.link,s=e[o].vars.link;1===o&&a.labelTop()<0&&(r=!0)
;var l=s.labelTop()-n;if(a.labelBottom()>l){var u=a.labelHeight/2,c=l-u,h=u
;c<h?(r=!0,a.targetY=h):a.targetY=c}}return r},
_distributeLabelsEvenly:function(e,t){var i=0;e.forEach(function(e){
i+=e.vars.link.labelHeight});var n=t.clientSize.height-i,r=n
;e.length>1&&(r/=e.length-1);var o=0;return e.forEach(function(e){
var t=e.vars.link,i=t.labelHeight/2;o+=i,t.targetY=o,o+=i+r}),!0}
}),e.type("pvc.visual.PieLinkLabelVar").add({labelTop:function(){
return this.targetY-this.labelHeight/2},labelBottom:function(){
return this.targetY+this.labelHeight/2}
}),e.type("pvc.visual.PieCategoryScene",Y.visual.Scene).add({
sliceLabelMask:function(){return this.panel().valuesMask},sliceLabel:function(){
return this.format(this.sliceLabelMask())},layoutI:function(t,i){
var n=this.vars.value,r=i+n.angle,o=(i+r)/2,a=this.vars.link=new Y.visual.PieLinkLabelVar,s=t.link,l=Y.text.justify(n.sliceLabel,s.maxTextWidth,t.labelFont),u=l.length
;a.labelLines=l,
a.labelHeight=u*s.lineHeight,this.lineScenes=e.array.create(u,this)
;var c=Math.cos(o),h=Math.sin(o),d=c>=0,f=d?1:-1;a.labelAnchor=d?"left":"right"
;var p=t.center,m=s.elbowRadius,g=p.x+m*c,v=p.y+m*h,y=p.x+f*m,b=y+f*s.linkMargin
;return new Y.visual.PieLinkLineScene(this,g,v),
new Y.visual.PieLinkLineScene(this,y,v),
a.elbowY=v,a.targetY=v+0,a.targetX=b,a.dir=f,r},layoutII:function(e){
var t=this.vars.link,i=t.targetY,n=t.targetX,r=e.link.handleWidth
;r>0&&new Y.visual.PieLinkLineScene(this,n-t.dir*r,i),
new Y.visual.PieLinkLineScene(this,n,i),t.labelX=n,t.labelY=i-t.labelHeight/2}
}),e.type("pvc.visual.PieLinkLineScene",Y.visual.Scene).init(function(e,t,i,n){
this.base(e,{source:e.group,index:n}),this.x=t,this.y=i
}).add(t.Vector),e.type("pvc.PieChart",Y.BaseChart).add({_axisClassByType:{
category:Y.visual.Axis,angle:Y.visual.NormalizedAxis},_axisCreateChartLevel:{
category:2,angle:2},_axisSetScaleChartLevel:{category:2,angle:2},
_axisCreationOrder:function(){
var e=Y.BaseChart.prototype._axisCreationOrder.slice()
;return e.push("category","angle"),e}(),_createPlotsInternal:function(){
this._addPlot(new Y.visual.PiePlot(this))},_setAxisScale:function(e,t){
this.base(e,t),2&t&&"angle"===e.type&&e.setScaleRange({min:0,max:2*Math.PI})},
_createContentPanel:function(t,i){if(this.compatVersion()<=1){
var n=e.number.to(this.options.innerGap)||.95
;n=e.between(n,.1,1),i.paddings=(100*(1-n)/2).toFixed(2)+"%"
}else null==i.paddings&&(i.paddings=new ie(.025));return this.base(t,i)},
_createContent:function(t,i){
i.scenes=e.getPath(this.options,"pie.scenes"),this.base(t,i)}
}),e("pvc.visual.BarPlot",Y.visual.BarPlotAbstract.extend({methods:{type:"bar"}
})),
Y.visual.Plot.registerClass(Y.visual.BarPlot),e.type("pvc.BarPanel",Y.BarAbstractPanel).add({
plotType:"bar",_ibits:-1
}),Y.PlotPanel.registerClass(Y.BarPanel),e.type("pvc.BarChart",Y.BarAbstract).add({
_allowV1SecondAxis:!0,_createPlotsInternal:function(){
this._createMainPlot(),this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{
name:"plot2",defaults:{DataPart:"1",ColorAxis:2,LinesVisible:!0,DotsVisible:!0}
}))},_createMainPlot:function(){this._addPlot(new Y.visual.BarPlot(this))},
_createPlotTrend:function(){this._addPlot(new Y.visual.PointPlot(this,{
name:"trend",spec:{visualRoles:{color:{from:"series"}}},fixed:{TrendType:"none",
NullInterpolatioMode:"none"},defaults:{DataPart:"trend",ColorAxis:2,
LinesVisible:!0,DotsVisible:!1}}))},_willBindVisualRoles:function(e){
if(this.base(e),this.plots.trend){var t=this._getPreBoundTrendedDimensionNames()
;this.plots.trend.visualRoles.value.preBind(i.GroupingSpec.parse(t))}},
_createContent:function(e,t){this.base(e,t)
;var i=this.plotPanels.bar,n=this.plotPanels.plot2
;n&&"point"===n.plot.type&&(i&&(i.pvSecondLine=n.pvLine,
i.pvSecondDot=n.pvDot),n._applyV1BarSecondExtensions=!0)}
}),e.type("pvc.NormalizedBarChart",Y.BarChart).add({_createMainPlot:function(){
this._addPlot(new Y.visual.BarPlot(this,{fixed:{ValuesNormalized:!0,Stacked:!0}
}))}}),Y.parseWaterDirection=function(t){if(t){switch(t=(""+t).toLowerCase()){
case"up":case"down":return t}
e.debug>=2&&e.log("[Warning] Invalid 'WaterDirection' value: '"+t+"'.")}
},e("pvc.visual.WaterfallPlot",Y.visual.BarPlotAbstract.extend({
init:function(e,t){
this.base(e,t),e._registerInitLegendScenes(this._initLegendScenes.bind(this))},
methods:{type:"water",_waterColor:t.color("#1f77b4").darker(),
_initEnd:function(){
var e=Y.makeExtensionAbsId("line",this.extensionPrefixes),i=this.chart._getConstantExtension(e,"strokeStyle")
;i&&(this._waterColor=t.color(i)),this.base()},_getCategoryRoleSpec:function(){
var e=this.base(),t=this.isFalling()?"DfsPre":"DfsPost"
;return e.flatteningModes=i.FlatteningMode[t],
e.rootLabel=this.option("AllCategoryLabel"),e},isFalling:function(){
return"down"===this.option("Direction")},
_reduceStackedCategoryValueExtent:function(e,t,i,n,r,o){
var a,s=t?t.offset:0,l=i.min+i.max
;if(!t)return i?(a=s+l,r.setDataCellScaleInfo(o,[{offset:a,group:n,range:i}]),{
min:i.min,max:i.max,offset:a}):null;var u=this.isFalling()
;if(n._isFlattenGroup&&!n._isDegenerateFlattenGroup){var c=-i.min;if(c>0){
var h=s+c;h>t.max&&(t.max=h)}var d=-i.max;if(d<0){var f=s+d;f<t.min&&(t.min=f)}
}else{var p=u?-1:1;a=t.offset=s+p*l,a>t.max?t.max=a:a<t.min&&(t.min=a)}
return r.getDataCellScaleInfo(o).push({offset:u?s:t.offset,group:n,range:i}),t},
_initLegendScenes:function(t){var i=t._getLegendRootScene()
;new Y.visual.legend.WaterfallLegendGroupScene(i,this,{
extensionPrefix:e.indexedId("",1),label:this.option("TotalLineLabel"),
color:this._waterColor})}},options:{Stacked:{resolve:null,value:!0},
ValuesNormalized:{resolve:null,value:!1},TotalLineLabel:{resolve:"_resolveFull",
cast:String,value:"Accumulated"},TotalValuesVisible:{resolve:"_resolveFull",
data:{resolveDefault:function(e){
return e.defaultValue(this.option("ValuesVisible")),!0}},cast:Boolean},
Direction:{resolve:"_resolveFull",cast:Y.parseWaterDirection,value:"down"},
AreasVisible:{resolve:"_resolveFull",cast:Boolean,value:!0},AllCategoryLabel:{
resolve:"_resolveFull",cast:String,value:"All"}}
})),Y.visual.Plot.registerClass(Y.visual.WaterfallPlot),
e.type("pvc.visual.legend.WaterfallLegendGroupScene",Y.visual.legend.LegendGroupScene).init(function(t,i,n){
n=e.set(n,"clickMode","none"),this.base(t,n),this.plot=i,this.createItem(n)
}).add({itemSceneType:function(){return Y.visual.legend.WaterfallLegendItemScene
}
}),e.type("pvc.visual.legend.WaterfallLegendItemScene",Y.visual.legend.LegendItemScene).init(function(t,i){
this.base.apply(this,arguments);var n=Y.visual.Interactive
;this._ibits=n.Interactive|n.ShowsInteraction,
this.color=e.get(i,"color"),this.vars.value=new le(null,e.get(i,"label"))
}),e.type("pvc.WaterfallPanel",Y.BarAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n),e.wfChartPanel||(e.wfChartPanel=this)}).add({
plotType:"water",_ibits:-1,pvWaterfallLine:null,ruleData:null,
_barDifferentialControl:function(){var e=this.plot.isFalling()
;return function(t){if(e&&!this.index)return 1;var i=t.vars.category.group
;return i._isFlattenGroup&&!i._isDegenerateFlattenGroup?-2:e?-1:1}},
_creating:function(){var i=this._getLegendRootScene();if(i){
var n=e.query(i.childNodes).first(function(e){return e.plot===this},this.plot)
;if(n&&!n.hasRenderer()){var r={drawLine:!0,drawMarker:!1,rulePvProto:new t.Rule
};this.extend(r.rulePvProto,"line",{constOnly:!0}),n.renderer(r)}}},
_createCore:function(){this.base()
;var i=this.chart,n=this.isOrientationVertical(),r=n?"bottom":"left",o=this.anchorOrtho(r),a=this.axes.ortho,s=this.axes.base,l=this.plot.dataCellsByRole.value[0],u=a.getDataCellScaleInfo(l),c=this._buildRuleScene(u),h=a.scale,d=h(0),f=a.sceneScale({
sceneVarName:"value"}),p=s.sceneScale({sceneVarName:"category"
}),m=s.scale,g=this.barWidth/2,v=this.barWidth,y=this.barStepWidth,b=this.plot.isFalling(),_=this.plot._waterColor
;if(this.plot.option("AreasVisible")){
var x=t.Colors.category10(),w=this._buildWaterGroupScene(u),C=h.range(),S=.04*(C[1]-C[0])
;this.pvWaterfallGroupPanel=new Y.visual.Panel(this,this.pvPanel,{
extensionId:"group"
}).lock("data",w.childNodes).pvMark.zOrder(-1).fillStyle(function(){
return x(0).alpha(.15)})[o](function(e){var t=e.vars.category
;return m(t.valueLeft)-y/2})[this.anchorLength(r)](function(e){
var t=e.vars.category;return Math.abs(m(t.valueRight)-m(t.valueLeft))+y
})[r](function(e){var t=e.vars.value,n=h(t.valueBottom)-S/2
;return i.animate(d,n)})[this.anchorOrthoLength(r)](function(e){
var t=e.vars.value,n=h(t.valueTop)-h(t.valueBottom)+S;return i.animate(0,n)})}
this.pvBar.sign.override("baseColor",function(e,i){var n=this.base(e,i)
;return"fill"!==i||e.vars.category.group._isFlattenGroup?n:t.color(n).alpha(.5)
}),this.pvWaterfallLine=new Y.visual.Rule(this,this.pvPanel,{extensionId:"line",
noTooltip:!1,noHover:!1,noSelect:!1,noClick:!1,noDoubleClick:!1
}).lock("data",c.childNodes).optional("visible",function(e){
return b&&!!e.previousSibling||!b&&!!e.nextSibling}).optional(r,function(e){
return d+i.animate(0,f(e)-d)
}).optional(this.anchorLength(r),y+v).optional(o,b?function(e){return p(e)-y-g
}:function(e){return p(e)-g
}).override("defaultColor",e.fun.constant(_)).pvMark.antialias(!0).lineCap("butt"),
this.plot.option("TotalValuesVisible")&&(this.pvWaterfallLabel=new Y.visual.Label(this,this.pvWaterfallLine,{
extensionId:"lineLabel"}).intercept("visible",function(e){
return!e.vars.category.group._isFlattenGroup&&(b||!!e.nextSibling)
}).pvMark[r](function(e){return d+i.animate(0,f(e)-d)
})[this.anchorOrtho(r)](p).textAlign(n?"center":"left").textBaseline(function(e){
if(!n)return"middle";var t=e.vars.direction
;return null==t?"bottom":!b==("up"===t)?"bottom":"top"
}).textStyle(t.Color.names.darkgray.darker(2)).textMargin(5).text(function(e){
return e.vars.value.label}))},_buildRuleScene:function(t){function i(e){
var t,i=e.group,n=new Y.visual.Scene(l,{source:i
}),r=n.vars.category=le.fromComplex(i),o=e.offset,u=a.getBoundDimensionName(i,!0)
;t=null!==u?s.dimensions(u).format(o):s.type.format.number()(o),
r.group=i,n.vars.value=new le(o,t)}function n(e,t){var i=e.vars.value.value
;e.vars.direction=t&&r!==i?o===r<i?"up":"down":null,r=i}
var r,o,a,s,l=new Y.visual.Scene(null,{panel:this,source:this.visibleData({
ignoreNulls:!1})});if(t){
a=this.visualRoles.value,s=this.data.owner,t.forEach(i,this)
;var u=e.query(l.childNodes)
;o=!this.plot.isFalling(),o||(u=u.reverse()),u.each(n,this)}return l},
_buildWaterGroupScene:function(t){function i(e,t){
var r=e.children().where(function(e){return""!==e.key});if(r.next()){
t&&n(e,t),t++;do{i(r.item,t)}while(r.next())}}function n(e,t){
var i=new Y.visual.Scene(c,{source:e}),n=i.vars.category=le.fromComplex(e)
;n.group=e,n.level=t
;var l,u,h,d,f,p=i.vars.value={},m=a[e.absKey],g=m.offset,v=m.range,y=-v.min+v.max
;s?(l=o(e),
u=a[l.absKey],h=m.group.value,d=u.group.value,f=g-v.max):(l=r(e),u=a[l.absKey],
h=u.group.value,
d=m.group.value,f=g-v.max),n.valueLeft=h,n.valueRight=d,p.valueHeight=y,
p.valueBottom=f,p.valueTop=f+y}function r(e){var t=e.childNodes,i=t&&t[0]
;return i?r(i):e}function o(e){var t=e.childNodes,i=t&&t[t.length-1]
;return i?o(i):e}
var a,s,l=this.chart,u=this.visualRoles.category.select(l.partData(this.dataPartValue),{
visible:!0}),c=new Y.visual.Scene(null,{panel:this,source:u})
;return t&&(a=e.query(t).object({name:function(e){return e.group.absKey}
}),s=this.plot.isFalling(),i(u,0)),c}
}),Y.PlotPanel.registerClass(Y.WaterfallPanel),
e.type("pvc.WaterfallChart",Y.BarAbstract).add({_processOptionsCore:function(e){
e.baseAxisComposite=!1,this.base(e)},_createPlotsInternal:function(){
this._addPlot(new Y.visual.WaterfallPlot(this))}
}),e("pvc.visual.PointPlot",Y.visual.CategoricalPlot.extend({methods:{
type:"point",_initVisualRoles:function(){
this.base(),this._addVisualRole("value",{isMeasure:!0,isRequired:!0,
isPercent:this.option("Stacked"),requireSingleDimension:!1,requireIsDiscrete:!1,
valueType:Number,defaultDimension:"value"})}},options:{DotsVisible:{
resolve:"_resolveFull",data:G("Dots",!0),cast:Boolean,value:!1},LinesVisible:{
resolve:"_resolveFull",data:G("Lines",!0),cast:Boolean,value:!1},AreasVisible:{
resolve:"_resolveFull",data:G("Areas",!1),cast:Boolean,value:!1},
AreasFillOpacity:{resolve:"_resolveFull",cast:e.number.toNonNegative,value:null
},ValuesAnchor:{value:"right"}}
})),Y.visual.Plot.registerClass(Y.visual.PointPlot),
e.type("pvc.PointPanel",Y.CategoricalAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n),
this.linesVisible=i.option("LinesVisible"),this.dotsVisible=i.option("DotsVisible"),
this.areasVisible=i.option("AreasVisible"),
this.linesVisible||this.dotsVisible||this.areasVisible||(this.linesVisible=!0,
i.option.specify({LinesVisible:!0
})),this.areasVisible&&!this.stacked&&(this.areasFillOpacity=i.option("AreasFillOpacity"),
null==this.areasFillOpacity&&(this.areasFillOpacity=.5)),
e.scatterChartPanel||(e.scatterChartPanel=this)}).add({plotType:"point",
_ibits:-1,pvLine:null,pvArea:null,pvDot:null,pvLabel:null,pvScatterPanel:null,
_creating:function(){var i=this.plot.dataCellsByRole.color[0]
;if(!i.legendSymbolRenderer()&&i.legendVisible()){
var n=this.axes.color,r=e.nullyTo(n.option("LegendDrawMarker",!0),this.dotsVisible||this.areasVisible),o=!r||e.nullyTo(n.option("LegendDrawLine",!0),this.linesVisible&&!this.areasVisible),a=Y.uniqueExtensionAbsPrefix(),s={
drawMarker:r,drawLine:o,extensionPrefix:{abs:a}}
;if(this.chart._processExtensionPointsIn(i.role.legend(),a),r){
var l=n.option("LegendShape",!0)
;s.markerPvProto=new t.Dot,this.dotsVisible&&(l||(l="circle"),
s.markerPvProto.lineWidth(1.5,Y.extensionTag).shapeSize(12,Y.extensionTag)),
s.markerShape=l,
this._applyV1BarSecondExtensions&&this.chart.extend(s.markerPvProto,"barSecondDot",{
constOnly:!0}),this.extend(s.markerPvProto,"dot",{constOnly:!0})}
o&&(s.rulePvProto=(new t.Rule).lineWidth(1.5,Y.extensionTag),
this._applyV1BarSecondExtensions&&this.chart.extend(s.rulePvProto,"barSecondLine",{
constOnly:!0}),this.extend(s.rulePvProto,"line",{constOnly:!0
})),i.legendSymbolRenderer(s)}},_createCore:function(){this.base()
;var i,n=this.chart,r=this.stacked,o=this.dotsVisible,a=this.areasVisible,s=this.linesVisible,l=this.isOrientationVertical()?"bottom":"left",u=this.axes.base,c=u.domainItems(),h=u.role.grouping.isDiscrete(),d=this.visibleData({
ignoreNulls:!1}),f=this.visualRoles.series.flatten(this.partData(),{visible:!0,
isNull:!n.options.ignoreNulls&&null,
extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap
}).childNodes,p=this._buildScene(d,f,c)
;this.pvPanel.zOrder(a?-7:1),this.pvScatterPanel=new Y.visual.Panel(this,this.pvPanel,{
extensionId:"panel"}).lock("data",p.childNodes).pvMark
;var m=this.areasFillOpacity;this.compatVersion()<=1&&(i=r?function(e){
return function(t){return e.call(this,t.vars.value.rawValue)}}:function(e){
return function(t){var i={category:t.vars.category.rawValue,
value:t.vars.value.rawValue},n=Object.create(this)
;return n.index=t.dataIndex,e.call(n,i)}});var g=function(e){return!e.isNull
},v=function(e){return!e.isNull||e.isIntermediate
},y=h&&r?v:g,b=n.selectableByFocusWindow()
;this.pvArea=new Y.visual.Area(this,this.pvScatterPanel,{extensionId:"area",
noTooltip:!1,wrapper:i,noSelect:b,noRubberSelect:!0,showsSelection:!b
}).lockMark("data",function(e){return e.childNodes
}).lockMark("visible",y).override("x",function(e){return e.basePosition
}).override("y",function(e){return e.orthoPosition}).override("dy",function(e){
return n.animate(0,e.orthoLength)}).override("color",function(e,t){
return a?this.base(e,t):null}).override("baseColor",function(t,i){
var n=this.base(t,i)
;return!this._finished&&n&&null!=m?n.alpha(e.between(n.opacity*m,0,1)):n
}).override("dimColor",function(e,t){
return r?Y.toGrayScale(e,1,null,null).brighter():this.base(e,t)
}).lock("events",a?"painted":"none").pvMark;var _=o&&!s&&!a,x=r&&a,w=["line"]
;this._applyV1BarSecondExtensions&&w.push({abs:"barSecondLine"})
;var C=!_&&(h&&r&&a?v:g),S=a&&!s,k=this.pvLine=new Y.visual.Line(this,this.pvArea.anchor(this.anchorOpposite(l)),{
extensionId:w,freePosition:!0,wrapper:i,noTooltip:S,noDoubleClick:S,noClick:S,
noHover:S,noSelect:S||b,showsSelection:!b
}).lockMark("visible",C).override("defaultColor",function(e,t){
var i=this.base(e,t);return!this._finished&&x&&i?i.darker(.6):i
}).override("normalColor",function(e,t){return s?t:null
}).override("interactiveColor",function(e,t,i){
return s||this.mayShowAnySelected(e)||this.mayShowActive(e)?this.base(e,t,i):null
}).override("baseStrokeWidth",function(e){var t
;return s&&(t=this.base(e)),null==t?1.5:t
}).intercept("strokeDasharray",function(e){var t=this.delegateExtension()
;if(void 0===t){var i=e.isInterpolated;if(!i){var n=e.nextSibling
;if(!(i=n&&n.isIntermediate&&n.isInterpolated)){var r=e.previousSibling
;i=r&&e.isIntermediate&&r.isInterpolated}}t=i?". ":null}return t
}).pvMark,D=!(a&&h&&r);w=["dot"],this._applyV1BarSecondExtensions&&w.push({
abs:"barSecondDot"}),this.pvDot=new Y.visual.Dot(this,this.pvLine,{
extensionId:w,freePosition:!0,wrapper:i,tooltipArgs:{options:{ignoreRadius:s}}
}).intercept("visible",function(e){
return!e.isNull&&!e.isIntermediate&&this.delegateExtension(!0)
}).override("color",function(e,t){
return o||(D?e.isAlone:e.isSingle)||e.isActive&&this.showsActivity()?this.base(e,t):Y.invisibleFill
}).override("defaultColor",function(e,t){var i=this.base(e,t)
;return i&&!this._finished&&(x&&(i=i.darker(.6)),
e.isInterpolated&&"fill"===t&&(i=i.brighter(.5))),i
}).override("interactiveColor",function(e,i,n){
return!o&&(e.isSingle||e.isAlone)&&!e.isActive&&this.mayShowNotAmongSelected(e)&&this.mayShowActive(e)?t.Color.names.darkgray.darker().darker():this.base(e,i,n)
}).optional("lineWidth",function(e){
return o||!e.isSingle&&!e.isAlone||e.isActive&&this.showsActivity()?1.5:0
}).override("size",function(t){
if(!o&&(!t.isActive||!this.showsActivity())&&(!D&&t.isSingle||D&&t.isAlone)){
var i=Math.max(k.visible()?k.lineWidth():0,1),n=i/2+1;return e.sqr(n)}
return this.base(t)}).override("baseSize",function(e){var t=this.base(e)
;return!this._finished&&e.isInterpolated?.8*t:t}).pvMark
;var M=Y.visual.ValueLabel.maybeCreate(this,this.pvDot,{wrapper:i})
;M&&(this.pvLabel=M.pvMark)},renderInteractive:function(){
this.pvScatterPanel.render()},_buildSceneCore:function(t,i,n){function r(e){
for(var t,i=[],n=e.childNodes,r=0,s=null,l=0,u=0,h=n.length;l<h;l++,u++){
var d=n[u],f=2*l
;if(i[f]=d,o.call(this,t,d,_&&_[f]),d.isAlone&&!s&&(s=d),d.isNull||r++,t){
var p=a.call(this,e,t,d,u,_&&_[f-1]);p&&(i[f-1]=p,u++)}t=d}
1===r&&s&&1===h&&(s.isSingle=!0),c&&(_=i)}function o(e,t,i){
var n=t.vars.value.accValue
;i&&(n+=i.vars.value.accValue,t.vars.value.accValue=n),
t.basePosition=b(t),t.orthoPosition=y,t.orthoLength=g(n)-y
;var r=!e||e.isNull,o=r&&!t.isNull;if(o){var a=t.nextSibling;o=!a||a.isNull}
t.isAlone=o,t.isSingle=!1}function a(e,t,i,n,r){
var o,a,s,l,h=t.isNull||i.isNull,_=this.areasVisible;if(h){if(_&&r&&u){
var x=r.vars.value;a=x.accValue,o=x.value}else o=a=v
;l=p.format(o),s=_?c&&u?i.basePosition-b.range().step/2:t.isNull?i.basePosition:t.basePosition:(i.basePosition+t.basePosition)/2
}else{var w=t.vars.value,C=i.vars.value
;o=(C.value+w.value)/2,a=(C.accValue+w.accValue)/2,
s=(i.basePosition+t.basePosition)/2;var S=C.dimensionName
;l=S?f.dimensions(S).format(o):m(o)}var k=new Y.visual.Scene(e,{index:n,
source:i.source});k.dataIndex=i.dataIndex,k.vars.category=i.vars.category
;var D=new le(o,l,o)
;return D.accValue=a,k.vars.value=D,k.ownerScene=i,k.isInterpolated=i.isInterpolated,
k.isIntermediate=!0,
k.isSingle=!1,k.isNull=h,k.isAlone=h&&i.isNull&&t.isNull,k.basePosition=s,
k.orthoPosition=y,k.orthoLength=g(a)-y,d.onNewScene(k,!0),k}
var s=new Y.visual.Scene(null,{panel:this,source:t
}),l=this.visualRoles.value,u=this.axes.base.role.grouping.isDiscrete(),c=this.stacked,h=new Y.visual.RoleVarHelper(s,"value",l,{
hasPercentSubVar:c
}),d=new Y.visual.RoleVarHelper(s,"color",this.visualRoles.color),f=t.owner,p=f.dimensions(l.firstDimensionName()),m=t.type.format.number(),g=this.axes.ortho.scale,v=e.scope(function(){
var e=g.domain(),t=e[0],i=e[1];return t*i>=0?t>=0?t:i:0
}),y=g(v),b=this.axes.base.sceneScale({sceneVarName:"category"})
;i.forEach(function(e){var i=new Y.visual.Scene(s,{source:e||t})
;i.vars.series=le.fromComplex(e),d.onNewScene(i,!1),n.forEach(function(n,r){
if(u||null!==n.value){var o=t.child(n.key),a=o;a&&e&&(a=a.child(e.key))
;var s=new Y.visual.Scene(i,{source:a})
;s.dataIndex=r,s.vars.category=le.fromComplex(n),h.onNewScene(s,!0)
;var c=s.vars.value,f=c.value,p=c.dimensionName
;c.accValue=null!=f?f:v,d.onNewScene(s,!0);var m=!1;if(null!=a){var g=null
;null===p&&(g=l.getCompatibleBoundDimensionNames(a)),
m=a.datums().any(function(e){
return e.isInterpolated&&(null!==p?e.interpDimName===p:g.indexOf(e.interpDimName)>=0)
})}s.isInterpolated=m,s.isNull=null==f,s.isIntermediate=!1}},this)},this);var _
;return s.children().reverse().each(r,this),s}
}),Y.PlotPanel.registerClass(Y.PointPanel),
e.type("pvc.PointAbstract",Y.CategoricalAbstract).add({
_defaultAxisBandSizeRatio:1,_createPlotsInternal:function(){
this._addPlot(this._createPointPlot()),
this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{name:"plot2",
defaults:{DataPart:"1",ColorAxis:2,LinesVisible:!0,DotsVisible:!0}}))},
_createPlotTrend:function(){this._addPlot(new Y.visual.PointPlot(this,{
name:"trend",spec:{visualRoles:{color:{from:"series"}}},fixed:{TrendType:"none",
NullInterpolatioMode:"none"},defaults:{DataPart:"trend",ColorAxis:2,
LinesVisible:!0,DotsVisible:!1}}))},_willBindVisualRoles:function(e){
if(this.base(e),this.plots.trend){var t=this._getPreBoundTrendedDimensionNames()
;this.plots.trend.visualRoles.value.preBind(i.GroupingSpec.parse(t))}},
_initAxesEnd:function(){var e=this.axesByType.base;e&&e.forEach(function(e){
"discrete"!==e.scaleType&&e.option.defaults({Offset:.01})
}),e=this.axesByType.ortho,e&&e.forEach(function(e){e.option.defaults({
Offset:.04})}),this.base()},_getIsNullDatum:function(){var e,t,i=this
;return function(n){if(!e){
e=i.visualRoles.value.grouping.dimensionNames().slice()
;var r=i.visualRoles.category
;r.isDiscrete()||e.push(r.grouping.singleDimensionName),t=e.length}
for(var o=n.atoms,a=0;a<t;a++)if(null==o[e[a]].value)return!0;return!1}},
defaults:{tooltipOffset:10}}),e.type("pvc.DotChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
DotsVisible:!0}})}}),e.type("pvc.LineChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
LinesVisible:!0}})}}),e.type("pvc.AreaChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
AreasVisible:!0}})}
}),Y.mStackedLineChart=e.type("pvc.StackedLineChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
LinesVisible:!0,Stacked:!0}})}
}),e.type("pvc.StackedDotChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
DotsVisible:!0,Stacked:!0}})}
}),Y.mStackedAreaChart=e.type("pvc.StackedAreaChart",Y.PointAbstract).add({
_createPointPlot:function(){return new Y.visual.PointPlot(this,{fixed:{
AreasVisible:!0,Stacked:!0},defaults:{LinesVisible:!0}})}
}),e("pvc.visual.MetricPointPlot",Y.visual.MetricXYPlot.extend({methods:{
type:"scatter",_initVisualRoles:function(){
this.base(),this._addVisualRole("size",{isMeasure:!0,requireSingleDimension:!0,
requireIsDiscrete:!1,defaultDimension:"size",dimensionDefaults:{valueType:Number
}})},_getColorRoleSpec:function(){return{isMeasure:!0,
defaultSourceRole:"series",defaultDimension:"color*",dimensionDefaults:{
valueType:Number}}},_initDataCells:function(){
this.base(),this.option("DotsVisible")&&this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size))
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{
resolve:"_resolveFixed",value:1},Shape:{resolve:"_resolveFull",
cast:Y.parseShape,value:"circle"},NullShape:{resolve:"_resolveFull",
cast:Y.parseShape,value:"cross"},DotsVisible:{resolve:"_resolveFull",
data:$("Dots"),cast:Boolean,value:!1},LinesVisible:{resolve:"_resolveFull",
data:$("Lines"),cast:Boolean,value:!1},ValuesAnchor:{value:"right"},ValuesMask:{
value:"{x},{y}"},AutoPaddingByDotSize:{resolve:"_resolveFull",cast:Boolean,
value:!0}}
})),Y.visual.Plot.registerClass(Y.visual.MetricPointPlot),Y.parseMetricPointSizeAxisRatioTo=Y.makeEnumParser("ratioTo",["minWidthHeight","height","width"],"minWidthHeight"),
e("pvc.visual.MetricPointSizeAxis",Y.visual.SizeAxis.extend({options:{Ratio:{
resolve:"_resolveFull",cast:e.number.toNonNegative,value:.2},RatioTo:{
resolve:"_resolveFull",cast:Y.parseMetricPointSizeAxisRatioTo,
value:"minwidthheight"}}
})),e.type("pvc.MetricPointPanel",Y.CartesianAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n)
;var r=this.axes.size=e._getAxis("size",(i.option("SizeAxis")||0)-1)
;r&&(this.sizeAxisRatio=r.option("Ratio"),
this.sizeAxisRatioTo=r.option("RatioTo"),
this.autoPaddingByDotSize=i.option("AutoPaddingByDotSize")),
this.linesVisible=i.option("LinesVisible"),
this.dotsVisible=i.option("DotsVisible"),
this.linesVisible||this.dotsVisible||(this.linesVisible=!0,i.option.specify({
LinesVisible:!0})),e.scatterChartPanel||(e.scatterChartPanel=this)}).add({
plotType:"scatter",_v1DimRoleName:{category:"x",value:"y"},_creating:function(){
var i=this.plot.dataCellsByRole.color[0]
;if(!i.legendSymbolRenderer()&&i.legendVisible()){
var n=this.axes.color,r=e.nullyTo(n.option("LegendDrawMarker",!0),this.dotsVisible),o=e.nullyTo(n.option("LegendDrawLine",!0),this.linesVisible)
;if(r||o){var a=Y.uniqueExtensionAbsPrefix(),s={drawMarker:r,drawLine:o,
extensionPrefix:{abs:a}}
;this.chart._processExtensionPointsIn(i.role.legend(),a),
r&&(s.markerShape=n.option("LegendShape",!0)||"circle",
s.markerPvProto=(new t.Dot).lineWidth(1.5,Y.extensionTag).shapeSize(12,Y.extensionTag),
this.extend(s.markerPvProto,"dot",{constOnly:!0
})),o&&(s.rulePvProto=(new t.Rule).lineWidth(1.5,Y.extensionTag),
this.extend(s.rulePvProto,"line",{constOnly:!0})),i.legendSymbolRenderer(s)}}},
_getRootScene:function(){return e.lazy(this,"_rootScene",this._buildScene,this)
},_calcLayout:function(e){var t=this.base(e),i=this._getRootScene()
;return i.isSizeBound&&this.axes.size.setScaleRange(this._calcDotAreaRange(e)),
this._calcAxesPadding(e,i),t},_getDotDiameterRefLength:function(t){var i=t.size
;switch(this.sizeAxisRatioTo){case"minwidthheight":
return Math.min(i.width,i.height);case"width":return i.width;case"height":
return i.height}
return e.debug>=2&&this.log(e.format("Invalid option 'sizeAxisRatioTo' value. Assuming 'minWidthHeight'.",[this.sizeAxisRatioTo])),
this.sizeRatioTo="minwidthheight",this._getDotDiameterRefLength(t)},
_calcDotRadiusRange:function(e){return{min:Math.sqrt(12),
max:this.sizeAxisRatio/2*this._getDotDiameterRefLength(e)}},
_calcDotAreaRange:function(t){var i=this._calcDotRadiusRange(t)
;"diamond"===this.shape&&(i.max/=Math.SQRT2,i.min/=Math.SQRT2)
;var n=e.sqr(i.max),r=e.sqr(i.min),o=n-r
;return o<=1&&(n=Math.max(n,2),r=1,o=n-r,
e.debug>=3&&this.log("Using rescue mode dot area calculation due to insufficient space.")),
{min:r,max:n,span:o}},_calcAxesPadding:function(t,i){var n
;if(this.autoPaddingByDotSize){var r=this.axes,o=t.clientSize,a=t.paddings;n={},
r.x.setScaleRange(o.width),r.y.setScaleRange(o.height)
;var s=this.isOrientationVertical(),l=r.x.sceneScale({sceneVarName:s?"x":"y"
}),u=r.y.sceneScale({sceneVarName:s?"y":"x"
}),c=r.x.scale.max,h=r.y.scale.max,d=i.isSizeBound,f=d?r.size.scale:null;if(!f){
var p=e.number.to(this._getExtension("dot","shapeRadius"),0)
;p<=0?(p=e.number.to(this._getExtension("dot","shapeSize"),0))<=0&&(p=12):p=e.sqr(p),
f=e.fun.constant(p)}n={};var m,g=this.chart._axisOffsetPaddings
;g&&(m={},ne.names.forEach(function(e){var t=Y.BasePanel.orthogonalLength[e]
;m[e]=(g[e]||0)*(o[t]+a[t])}));var v=function(e,t){m&&(t+=m[e]||0),t<0&&(t=0)
;var i=n[e];(null==i||t>i)&&(n[e]=t)},y=function(e){
var t=l(e),i=u(e),n=Math.sqrt(f(d?e.vars.size.value:0))
;v("left",n-t),v("bottom",n-i),v("right",t+n-c),v("top",i+n-h)}
;i.children().selectMany(function(e){return e.childNodes}).each(y)
}else n=this._calcContentOverflow(t);t.contentOverflow=n},
_createCore:function(){var t=this;t.base()
;var i=t.chart,n=t._getRootScene(),r=t._buildSignsWrapper(),o=t.compatVersion()<=1
;this._finalizeScene(n),
t.pvPanel.zOrder(1),this.pvScatterPanel=new Y.visual.Panel(t,t.pvPanel,{
extensionId:"panel"}).lock("data",n.childNodes).pvMark
;var a=i.selectableByFocusWindow(),s=n.isColorBound&&this.visualRoles.color.isDiscrete(),l=new Y.visual.Line(t,t.pvScatterPanel,{
extensionId:"line",wrapper:r,noTooltip:!1,noSelect:a,showsSelection:!a
}).lockMark("data",function(e){return e.childNodes
}).intercept("visible",function(e){if(!t.linesVisible)return!1
;var i=this.delegateExtension()
;return null==i&&(i=!e.isNull&&(!n.isSizeBound&&!n.isColorBound||n.isSizeBound&&null!=e.vars.size.value||n.isColorBound&&(s||null!=e.vars.color.value))),
i}).override("x",function(e){return e.basePosition}).override("y",function(e){
return e.orthoPosition});t.pvLine=l.pvMark
;var u=new Y.visual.DotSizeColor(t,t.pvLine,{extensionId:"dot",wrapper:r,
activeSeriesAware:t.linesVisible,tooltipArgs:{options:{
ignoreRadius:!n.isSizeBound&&t.linesVisible}}}).override("x",function(e){
return e.basePosition}).override("y",function(e){return e.orthoPosition
}).override("color",function(e,i){
return t.dotsVisible||e.isActive||e.isSingle?this.base(e,i):Y.invisibleFill})
;if(n.isSizeBound?t.autoPaddingByDotSize&&"minwidthheight"===t.sizeAxisRatioTo||t.pvPanel.borderPanel.overflow("hidden"):u.override("size",function(i){
if(!t.dotsVisible&&i.isSingle&&(!i.isActive||!this.showsActivity())){
var n=Math.max(t.pvLine.visible()?t.pvLine.lineWidth():0,1),r=n/2+1
;return e.sqr(r)}return this.base(i)
}),t.pvDot=u.pvMark,t.pvDot.rubberBandSelectionMode="center",
Y.visual.ValueLabel.isNeeded(t)){var c=["label"];o&&c.push("lineLabel")
;var h=Y.visual.ValueLabel.maybeCreate(t,t.pvDot,{extensionId:c,wrapper:r})
;h&&(t.pvHeatGridLabel=h.pvMark)}},_buildSignsWrapper:function(){
return this.compatVersion()>1?null:function(e){return function(t){var i={
category:t.vars.x.rawValue,value:t.vars.y.rawValue},n=Object.create(this)
;return n.index=t.dataIndex,e.call(n,i)}}},renderInteractive:function(){
this.pvScatterPanel.render()},_buildScene:function(){function e(e){
var t=new Y.visual.Scene(r,{source:e})
;t.vars.series=le.fromComplex(e),a.onNewScene(t,!1),
e.datums().each(function(e,i){var n=e.atoms[l.name];if(null!=n.value){
var r=e.atoms[u.name];if(null!=r.value){var o=new Y.visual.Scene(t,{source:e})
;o.dataIndex=i,
o.vars.x=le.fromAtom(n),o.vars.y=le.fromAtom(r),s.onNewScene(o,!0),
a.onNewScene(o,!0),o.isIntermediate=!1}}})}function t(e){
for(var t,n=e.childNodes,r=0,o=0,a=n.length;r<a;r++,o++){var s=n[o]
;s.isSingle=!t&&!s.nextSibling,t&&i(e,t,s,o)&&o++,t=s}}function i(e,t,i,n){
var r=+i.vars.y.value,o=+t.vars.y.value,c=+i.vars.x.value,h=+t.vars.x.value,d=u.type.cast.call(null,(r+o)/2),f=l.type.cast.call(null,(c+h)/2),p=new Y.visual.Scene(e,{
index:n,source:i.datum})
;return p.dataIndex=i.dataIndex,p.vars.x=new le(f,l.format(f),f),
p.vars.y=new le(d,u.format(d),d),
s.onNewScene(p,!0),a.onNewScene(p,!0),p.ownerScene=i,
p.isIntermediate=!0,p.isSingle=!1,p}var n=this.visibleData({ignoreNulls:!1
}),r=new Y.visual.Scene(null,{panel:this,source:n
}),o=this.visualRoles,a=new Y.visual.RoleVarHelper(r,"color",o.color),s=new Y.visual.RoleVarHelper(r,"size",o.size),l=n.owner.dimensions(o.x.grouping.singleDimensionName),u=n.owner.dimensions(o.y.grouping.singleDimensionName)
;return n.children().each(e,this),r.children().each(t,this),r},
_finalizeScene:function(e){var t=this.axes,i=t.base.sceneScale({sceneVarName:"x"
}),n=t.ortho.sceneScale({sceneVarName:"y"})
;return e.children().selectMany(function(e){return e.childNodes
}).each(function(e){e.basePosition=i(e),e.orthoPosition=n(e)}),e}
}),Y.PlotPanel.registerClass(Y.MetricPointPanel),
e.type("pvc.MetricPointAbstract",Y.MetricXYAbstract).add({_axisClassByType:{
size:Y.visual.MetricPointSizeAxis},_createPlotsInternal:function(){
this._addPlot(this._createPointPlot())},_createPointPlot:function(){},
_createPlotTrend:function(){this._addPlot(new Y.visual.MetricPointPlot(this,{
name:"trend",spec:{visualRoles:{color:{from:"series"},size:null}},fixed:{
TrendType:"none",NullInterpolatioMode:"none",SizeRole:null,SizeAxis:null,
OrthoAxis:1},defaults:{DataPart:"trend",ColorAxis:2,LinesVisible:!0,
DotsVisible:!1}}))},_getTranslationClass:function(t){
return e.type(this.base(t)).methods({_configureTypeCore:function(){
this._configureTypeByOrgLevel(["series"],["x","y","color","size"])}})},
_calcAxesOffsetPaddings:function(){return this.base()||new ne(.01)},defaults:{
axisOriginIsZero:!1,tooltipOffset:10}
}),e.type("pvc.MetricDotChart",Y.MetricPointAbstract).add({
_createPointPlot:function(){return new Y.visual.MetricPointPlot(this,{fixed:{
DotsVisible:!0}})}}),e.type("pvc.MetricLineChart",Y.MetricPointAbstract).add({
_createPointPlot:function(){return new Y.visual.MetricPointPlot(this,{fixed:{
LinesVisible:!0}})}
}),e("pvc.visual.HeatGridPlot",Y.visual.CategoricalPlot.extend({methods:{
type:"heatGrid",interpolatable:function(){return!1},_initVisualRoles:function(){
this.base()
;var e=this.chart,t=e.compatVersion()>1||1===e.options.sizeValIdx?"value2":"value"
;this._addVisualRole("size",{isMeasure:!0,requireSingleDimension:!0,
requireIsDiscrete:!1,valueType:Number,defaultDimension:t})},
_getColorRoleSpec:function(){
var e=this.chart,t=e.compatVersion()<=1&&1===e.options.colorValIdx?"value2":"value"
;return{isMeasure:!0,requireSingleDimension:!0,requireIsDiscrete:!1,
valueType:Number,defaultDimension:t}},_getCategoryRoleSpec:function(){
var e=this.base();return e.requireIsDiscrete=!0,e},_initDataCells:function(){
this.base(),
this.option("UseShapes")&&this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size))
},_getOrthoRoles:function(){return[this.visualRole("series")]}},options:{
SizeRole:{value:"size"},SizeAxis:{value:1},UseShapes:{resolve:"_resolveFull",
cast:Boolean,value:!1},Shape:{resolve:"_resolveFull",cast:Y.parseShape,
value:"square"},NullShape:{resolve:"_resolveFull",cast:Y.parseShape,
value:"cross"},ValuesVisible:{getDefault:function(){
return!this.option("UseShapes")},value:null},ValuesMask:{value:null},
ValuesAnchor:{value:"center"},OrthoAxis:{resolve:null},NullInterpolationMode:{
resolve:null,value:"none"},Stacked:{resolve:null,value:!1}}
})),Y.visual.Plot.registerClass(Y.visual.HeatGridPlot),
e.type("pvc.HeatGridPanel",Y.CategoricalAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n),
this.axes.size=e._getAxis("size",i.option("SizeAxis")-1),this.visualRoles.size=e.visualRole(i.option("SizeRole")),
this.useShapes=i.option("UseShapes"),
this.shape=i.option("Shape"),this.nullShape=i.option("NullShape"),
e.heatGridChartPanel||(e.heatGridChartPanel=this)}).add({plotType:"heatGrid",
defaultBorder:1,nullBorder:2,selectedBorder:2,_createCore:function(){var t=this
;t.base()
;var i=t._calcCellSize(),n=t.isOrientationVertical()?"bottom":"left",r=Y.BasePanel.relativeAnchor[n],o=Y.BasePanel.parallelLength[n],a=Y.BasePanel.orthogonalLength[n],s=t.visualRoles.series.flatten(t.partData(),{
visible:!0,isNull:!t.chart.options.ignoreNulls&&null,
extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap
}).childNodes,l=t.visibleData({ignoreNulls:!1
}),u=t._buildScene(l,s,l.childNodes);u.cellSize=i
;var c=u.isColorBound,h=u.isSizeBound,d=t._buildSignsWrapper(u),f=t.compatVersion()<=1,p=this.axes.base.scale,m=this.axes.ortho.scale,g=p.range().band,v=m.range().band,y=g/2,b=v/2,_=new Y.visual.Panel(t,t.pvPanel).pvMark.data(u.childNodes)[n](function(e){
return m(e.vars.series.value)-b})[a](v),x=["panel"];f&&x.push("");var w={
extensionId:x,wrapper:d};t.useShapes||e.copy(w,{noSelect:!1,noHover:!1,
noClick:!1,noDoubleClick:!1,freeColor:!1,noTooltip:f
}),t.pvHeatGrid=new Y.visual.Panel(t,_,w).pvMark.lock("data",function(e){
return e.childNodes}).lock(r,function(e){return p(e.vars.category.value)-y
}).lock(o,g).antialias(!1),
t.shapes=t.useShapes?t._createShapesHeatMap(i,d,c,h):t._createNoShapesHeatMap(c),
t.valuesVisible&&!t.valuesMask&&(t.valuesMask=t._getDefaultValuesMask(c,h))
;var C=Y.visual.ValueLabel.maybeCreate(t,t.pvHeatGrid,{wrapper:d})
;C&&(t.pvHeatGridLabel=C.pvMark,
t.useShapes&&C.override("getAnchoredToMark",e.fun.constant(t.shapes)))},
_calcCellSize:function(){
var e=this.axes.x.scale,t=this.axes.y.scale,i=(e.max-e.min)/e.domain().length,n=(t.max-t.min)/t.domain().length
;if(!this.isOrientationVertical()){var r=i;i=n,n=r}return{width:i,height:n}},
_buildSignsWrapper:function(t){if(this.compatVersion()>1)return null
;var i=e.query(t.childNodes).object({name:function(e){
return""+e.vars.series.value},value:function(t){
return e.query(t.childNodes).object({name:function(e){
return""+e.vars.category.value},value:function(e){var t=e.vars.color
;return t?""+t.value:null}})}});return function(e){return function(t){
var n=i[t.vars.series.value],r=t.vars.category.rawValue,o=Object.create(this.parent),a=Object.create(this),s=t.childIndex(),l=t.parent.childIndex()
;return a.parent=o,o.index=s,a.index=l,e.call(a,n,r)}}},
_getDefaultValuesMask:function(e,t){var i=e?"color":t?"size":null
;if(i)return"{"+i+"}"},_createNoShapesHeatMap:function(e){
var t=this._buildGetBaseFillColor(e)
;return this.pvHeatGrid.sign.override("defaultColor",function(e,i){
return"stroke"===i?null:t.call(this.pvMark,e)
}).override("interactiveColor",function(e,t,i){
return e.isActive?t.alpha(.6):e.anySelected()&&!e.isSelected()?this.dimColor(t,i):this.base(e,t,i)
}).override("dimColor",function(e){return Y.toGrayScale(e,.6)
}).pvMark.lineWidth(1.5)},_buildGetBaseFillColor:function(t){
var i=this.axes.color;return t?i.sceneScale({sceneVarName:"color"
}):e.fun.constant(i.option("Unbound"))},_createShapesHeatMap:function(t,i,n,r){
var o=this,a=o._calcDotAreaRange(t);r&&o.axes.size.setScaleRange(a);var s={
extensionId:"dot",freePosition:!0,activeSeriesAware:!1,wrapper:i,
tooltipArgs:o._buildShapesTooltipArgs(n,r)
},l=new Y.visual.DotSizeColor(o,o.pvHeatGrid,s).override("dimColor",function(e){
return Y.toGrayScale(e,.6)}).pvMark
;return r||l.sign.override("defaultSize",e.fun.constant(a.max)),l},
_calcDotAreaRange:function(t){var i=t.width,n=t.height,r=Math.min(i,n)/2
;"diamond"===this.shape&&(r/=Math.SQRT2),r-=2;var o=e.sqr(r),a=12,s=o-a
;return s<=1&&(o=Math.max(o,2),
a=1,s=o-a,e.debug>=2&&this.log.warn("Using rescue mode dot area calculation due to insufficient space.")),
{min:a,max:o,span:s}},_buildShapesTooltipArgs:function(e,t){var n=this.chart
;if(this.compatVersion()<=1&&this.showsTooltip()){
var r=n.options,o=r.customTooltip;o||(o=function(e,t,i){
return null!=i&&void 0!==i[0]?i.join(", "):i})
;var a=this.visualRoles,s=a.series.grouping.dimensionNames(),l=a.category.grouping.dimensionNames()
;return{buildTooltip:r.isMultiValued?function(n){var a=n.scene.group
;if(!a)return""
;var u=i.Complex.values(a,s),c=i.Complex.values(a,l),h=[],d=n.scene.vars
;return t&&(h[r.sizeValIdx||0]=d.size.value),
e&&(h[r.colorValIdx||0]=d.color.value),o.call(r,u,c,h)}:function(t){
var i=t.scene.vars,n=i.series.rawValue,a=i.category.rawValue,s=i[e?"color":"size"],l=s?s.value:null
;return o.call(r,n,a,l)}}}},renderInteractive:function(){this.pvPanel.render()},
_buildSceneCore:function(e,t,i){function n(e){var t=new Y.visual.Scene(a,{
source:e});t.vars.series=le.fromComplex(e),i.forEach(function(i){r.call(o,t,i,e)
})}function r(t,i,n){var r=e.child(i.key).child(n.key),o=new Y.visual.Scene(t,{
source:r})
;o.vars.category=le.fromComplex(i),l.onNewScene(o,!0),u.onNewScene(o,!0)}
var o=this,a=new Y.visual.Scene(null,{panel:o,source:e
}),s=o.visualRoles,l=new Y.visual.RoleVarHelper(a,"color",s.color),u=new Y.visual.RoleVarHelper(a,"size",s.size)
;return t.forEach(n),a}
}),Y.PlotPanel.registerClass(Y.HeatGridPanel),e.type("pvc.HeatGridChart",Y.CategoricalAbstract).add({
_allowColorPerCategory:!0,_defaultAxisBandSizeRatio:1,_axisCreateIfUnbound:{
color:!0},_processOptionsCore:function(e){this.base(e),e.legend=!1},
_createPlotsInternal:function(){this._addPlot(new Y.visual.HeatGridPlot(this))},
defaults:{colorValIdx:0,sizeValIdx:1,measuresIndexes:[2],axisOffset:0,
plotFrameVisible:!1,colorNormByCategory:!0,numSD:2}
}),Y.parseBoxLayoutMode=Y.makeEnumParser("layoutMode",["overlapped","grouped"],"grouped"),
e("pvc.visual.BoxPlot",Y.visual.CategoricalPlot.extend({methods:{type:"box",
_initVisualRoles:function(){this.base();var t={isMeasure:!0,
requireSingleDimension:!0,requireIsDiscrete:!1,valueType:Number};[{
name:"median",label:"Median",defaultDimension:"median"},{name:"lowerQuartil",
label:"Lower Quartil",defaultDimension:"lowerQuartil"},{name:"upperQuartil",
label:"Upper Quartil",defaultDimension:"upperQuartil"},{name:"minimum",
label:"Minimum",defaultDimension:"minimum"},{name:"maximum",label:"Maximum",
defaultDimension:"maximum"}].forEach(function(i){
this._addVisualRole(i.name,e.create(t,i))},this)},_getOrthoRoles:function(){
return Y.visual.BoxPlot.measureRolesNames.map(this.visualRole,this)},
_getCategoryRoleSpec:function(){return e.set(this.base(),"requireIsDiscrete",!0)
}},type:{methods:{
measureRolesNames:["median","lowerQuartil","upperQuartil","minimum","maximum"]}
},options:{Stacked:{resolve:null,value:!1},LayoutMode:{resolve:"_resolveFull",
cast:Y.parseBoxLayoutMode,value:"grouped"},BoxSizeRatio:{resolve:"_resolveFull",
cast:function(t){return t=e.number.to(t),null==t?1:t<.05?.05:t>1?1:t},value:.9},
BoxSizeMax:{resolve:"_resolveFull",data:{resolveV1:function(e){
return this._specifyChartOption(e,"maxBoxSize"),!0}},cast:function(t){
return t=e.number.to(t),null==t?1/0:t<1?1:t},value:1/0}}
})),Y.visual.Plot.registerClass(Y.visual.BoxPlot),
e.type("pvc.BoxplotPanel",Y.CategoricalAbstractPanel).init(function(e,t,i,n){
this.base(e,t,i,n),
this.boxSizeRatio=i.option("BoxSizeRatio"),this.boxSizeMax=i.option("BoxSizeMax"),
e.bpChartPanel||(e.bpChartPanel=this)}).add({plotType:"box",_v1DimRoleName:{
value:"median"},_createCore:function(){function t(e,t){var i=this.base(e,t)
;return"stroke"===t?i.darker(1):i}function i(e){
return e.optionalMark(f,function(){return this.parent[f]()
}).optionalMark(d,function(){return this.parent[f]()/2-this[f]()/2}),e}
function n(e){
return e.override("defaultColor",t).override("interactiveStrokeWidth",function(e,t){
return t}).override("interactiveColor",function(e,t,i){
return"stroke"===i?t:this.base(e,t,i)})}function r(e){
return n(e).optionalMark(d,function(){return this.parent[f]()/2-this[f]()/2})}
function o(e){return n(i(e))}this.base();var a=this.visibleData({ignoreNulls:!1
}),s=this.axes.base,l=s.domainItems(),u=this.visualRoles.series.flatten(this.partData(),{
visible:!0,isNull:!this.chart.options.ignoreNulls&&null,
extensionDataSetsMap:this.plot.boundDimensionsDataSetsMap
}).childNodes,c=this._buildScene(a,u,l),h=this.isOrientationVertical()?"bottom":"left",d=this.anchorOrtho(h),f=this.anchorLength(h),p=this.anchorOrthoLength(h),m=new Y.visual.Panel(this,this.pvPanel).lock("data",c.childNodes).pvMark,g=["panel"]
;this.compatVersion()<=1&&g.push(""),this.pvBoxPanel=new Y.visual.Panel(this,m,{
extensionId:g}).lock("data",function(e){return e.childNodes
}).pvMark[f](function(e){return e.vars.category.boxWidth})[d](function(e){
var t=e.vars.category;return t.boxLeft+t.boxWidth/2-this[f]()/2
}),this.pvBar=i(new Y.visual.Bar(this,this.pvBoxPanel,{extensionId:"boxBar",
freePosition:!0,normalStroke:!0})).intercept("visible",function(e){
return e.vars.category.showBox&&this.delegateExtension(!0)
}).lockMark(h,function(e){return e.vars.category.boxBottom
}).lockMark(p,function(e){return e.vars.category.boxHeight
}).override("defaultColor",t).override("interactiveColor",function(e,t,i){
return"stroke"===i?t:this.base(e,t,i)
}).override("defaultStrokeWidth",e.fun.constant(1)).override("interactiveStrokeWidth",function(e,t){
return t
}).pvMark,this.pvRuleWhiskerUpper=r(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleWhisker",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,
noDoubleClick:!1,noTooltip:!1,showsInteraction:!0
})).intercept("visible",function(e){
return e.vars.category.showRuleWhiskerUpper&&this.delegateExtension(!0)
}).pvMark.lock(h,function(e){return e.vars.category.ruleWhiskerUpperBottom
}).lock(p,function(e){return e.vars.category.ruleWhiskerUpperHeight
}),this.pvRuleWhiskerLower=r(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleWhisker",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,
noDoubleClick:!1,noTooltip:!1,showsInteraction:!0
})).intercept("visible",function(e){
return e.vars.category.showRuleWhiskerBelow&&this.delegateExtension(!0)
}).pvMark.lock(h,function(e){return e.vars.category.ruleWhiskerLowerBottom
}).lock(p,function(e){return e.vars.category.ruleWhiskerLowerHeight
}),this.pvRuleMin=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMin",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,
noDoubleClick:!1,noTooltip:!1,showsInteraction:!0
})).intercept("visible",function(e){
return null!=e.vars.minimum.value&&this.delegateExtension(!0)
}).pvMark.lock(h,function(e){return e.vars.minimum.position
}),this.pvRuleMax=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMax",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,
noDoubleClick:!1,noTooltip:!1,showsInteraction:!0
})).intercept("visible",function(e){
return null!=e.vars.maximum.value&&this.delegateExtension(!0)
}).pvMark.lock(h,function(e){return e.vars.maximum.position
}),this.pvRuleMedian=o(new Y.visual.Rule(this,this.pvBoxPanel,{
extensionId:"boxRuleMedian",freePosition:!0,noHover:!1,noSelect:!1,noClick:!1,
noDoubleClick:!1,noTooltip:!1,showsInteraction:!0
})).intercept("visible",function(e){
return null!=e.vars.median.value&&this.delegateExtension(!0)
}).lockMark(h,function(e){return e.vars.median.position
}).override("defaultStrokeWidth",e.fun.constant(2)).pvMark},
renderInteractive:function(){this.pvBoxPanel.render()},
_buildSceneCore:function(t,i,n){function r(e,t){var i=new Y.visual.Scene(h,{
source:e}),r=e.key
;i.vars.series=le.fromComplex(e),g.onNewScene(i,!1),n.forEach(function(e){
o(i,r,e,t)})}function o(i,n,r,o){
var h=t.child(r.key),p=h&&h.child(n),y=new Y.visual.Scene(i,{source:p
}),b=y.vars,_=b.category=le.fromComplex(h),x=d(h.value),w=x+(v?l+o*s:-a/2)
;e.set(_,"group",h,"x",x,"width",f,"boxWidth",a,"boxLeft",w),
u.forEach(function(e){var t,i;if(p&&(t=e.dimName)){
var n=p.dimensions(t),r=n.value(c);i=new le(r,n.format(r)),i.position=m(r)
}else i=new le(null,""),i.position=null;b[e.roleName]=i}),g.onNewScene(y,!0)
;var C,S,k=null!=b.minimum.value,D=null!=b.lowerQuartil.value,M=null!=b.median.value,N=null!=b.upperQuartil.value,T=D||N
;T&&(C=D?b.lowerQuartil.position:M?b.median.position:b.upperQuartil.position,
S=N?b.upperQuartil.position:M?b.median.position:b.lowerQuartil.position,
(T=S!==C)&&(_.boxBottom=C,_.boxHeight=S-C)),_.showBox=T,T=null!=b.maximum.value,
T&&(C=N?b.upperQuartil.position:M?b.median.position:D?b.lowerQuartil.position:k?b.minimum.position:null,
(T=null!=C)&&(_.ruleWhiskerUpperBottom=C,
_.ruleWhiskerUpperHeight=b.maximum.position-C)),
_.showRuleWhiskerUpper=T,T=k,T&&(S=D?b.lowerQuartil.position:M?b.median.position:N?b.upperQuartil.position:null,
(T=null!=S)&&(C=b.minimum.position,
_.ruleWhiskerLowerHeight=S-C,_.ruleWhiskerLowerBottom=C)),
_.showRuleWhiskerBelow=T}
var a,s,l,u=e.query(this.visualRoleList).where(function(e){
return!e.isDiscrete()&&e.isMeasure}).select(function(e){return{roleName:e.name,
dimName:e.grouping&&e.grouping.singleDimensionName}}).array(),c={visible:!0,
zeroIfNone:!1},h=new Y.visual.Scene(null,{panel:this,source:t
}),d=this.axes.base.scale,f=d.range().band,p=this.boxSizeMax,m=this.axes.ortho.scale,g=new Y.visual.RoleVarHelper(h,"color",this.visualRoles.color),v="overlapped"!==this.plot.option("LayoutMode")
;if(v){var y,b,_,x=i.length,w=this.boxSizeRatio
;a=x?1===x?f:w*f/x:0,y=a>p,y&&(a=p),
b=x*a,y?(_=b/w,l=-_/2):(_=f,l=-f/2),s=x>1?a+(_-b)/(x-1):0}else a=Math.min(f,p)
;return i.forEach(r),h}
}),Y.PlotPanel.registerClass(Y.BoxplotPanel),e.type("pvc.BoxplotChart",Y.CategoricalAbstract).add({
_defaultAxisBandSizeRatio:1/3,_getTranslationClass:function(t){
return e.type(this.base(t)).methods({_configureTypeCore:function(){
this._configureTypeByPhysicalGroup("series"),
this._configureTypeByPhysicalGroup("category"),
Y.visual.BoxPlot.measureRolesNames.forEach(function(e){
this._configureTypeByPhysicalGroup("value",e,1,1)},this)}})},
_createPlotsInternal:function(){
this._addPlot(new Y.visual.BoxPlot(this)),this.options.plot2&&this._addPlot(new Y.visual.PointPlot(this,{
name:"plot2",spec:{visualRoles:{value:{from:"main.median"}}},defaults:{
LinesVisible:!0,DotsVisible:!0,ColorAxis:2,OrthoAxis:1}}))},
_initAxesEnd:function(){var e=this.axesByType.ortho;e&&e.forEach(function(e){
e.option.defaults({Offset:.02})}),this.base()},defaults:{crosstabMode:!1}
}),Y.parseTreemapLayoutMode=Y.makeEnumParser("layoutMode",["squarify","slice-and-dice","slice","dice"],"squarify"),
Y.parseTreemapColorMode=Y.makeEnumParser("colorMode",["byParent","bySelf"],"byParent"),
e("pvc.visual.TreemapPlot",Y.visual.Plot.extend({init:function(t,i){
if(this.base(t,i),
!(t instanceof Y.TreemapChart))throw e.error(e.format("Plot type '{0}' can only be used from within a treemap chart.",[this.type]))
},methods:{type:"treemap",_initVisualRoles:function(){
this.base(),this._addVisualRole("category",{isRequired:!0,
defaultDimension:"category*",autoCreateDimension:!0,
rootLabel:this.option("RootCategoryLabel")}),this._addVisualRole("size",{
isMeasure:!0,isRequired:!1,isPercent:!0,requireSingleDimension:!1,
requireIsDiscrete:!1,valueType:Number,defaultDimension:"size"})},
_getColorRoleSpec:function(){return{defaultSourceRole:"category",
defaultDimension:"color*",rootLabel:this.option("RootCategoryLabel"),
requireIsDiscrete:!0}},createData:function(e,t){
return this.visualRoles.category.select(e,t)},_initDataCells:function(){
this.base(),
this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRole("size")))
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{
resolve:"_resolveFixed",value:1},ValuesAnchor:{cast:Y.parseAnchor,value:"center"
},ValuesVisible:{value:!0},ValuesMask:{resolve:"_resolveFull",value:"{category}"
},ValuesOptimizeLegibility:{value:!0},LayoutMode:{resolve:"_resolveFull",
cast:Y.parseTreemapLayoutMode,value:"squarify"},ColorMode:{
resolve:"_resolveFull",cast:Y.parseTreemapColorMode,value:"byparent"},
RootCategoryLabel:{resolve:"_resolveFull",cast:String,value:"All"}}
})),Y.visual.Plot.registerClass(Y.visual.TreemapPlot),
e.type("pvc.visual.TreemapDiscreteColorAxis",Y.visual.ColorAxis).init(function(e,t,i,n){
this.base(e,t,i,n),
this.isByParent="byparent"===e.plots.treemap.option("ColorMode")}).add({
domainItemValueProp:function(){
return this.role&&this.role.grouping.isSingleDimension?"value":"absKey"},
domainItemKeyProp:function(){
return this.role&&this.role.grouping.isSingleDimension?"key":"absKey"},
domainGroupOperator:function(){return"select"},_calcAvgColor:function(e){
var i=e.length;if(i>1){var n=0,r=0,o=0,a=0;e.forEach(function(e){var t=e.rgb()
;n+=t.r,r+=t.g,o+=t.b,a+=t.a});var s=Math.floor
;return t.rgb(s(n/i),s(r/i),s(o/i),s(a/i))}var l=e[0];return i?l.darker(.7):l},
_getBaseScheme:function(){var t=this,i=function(e){return null!=e.value
},n=function(e){return e.children().where(i)},r=function(e){return n(e).any()
},o=function(e){return n(e).any(r)
},a=e.query(this.domainData().nodes()).where(o).array(),s=t.option("Colors")
;return function(i){
var r=i instanceof Array?i:e.array.copy(arguments),o=e.query(a).object({
name:function(e){return t.domainItemValue(e)}});e.array.removeIf(r,function(t){
return e.hasOwnProp.call(o,t)});var l=s(r),u={},c=function(i){
var r,a=t.domainItemValue(i);if(e.hasOwnProp.call(o,a)){if(!(r=e.getOwn(u,a))){
var s=n(i).select(c).array()
;if(!s.length)throw e.assert("Should have at least one child that is also a parent.")
;r=u[a]=t._calcAvgColor(s)}}else{
var h=t.option.isSpecified("Map")&&t.option("Map")
;r=h&&h[a]?h[a]:t.option("PreserveMap")&&t._state.preservedMap&&t._state.preservedMap[a]?t._state.preservedMap[a]:l(a)
}return r};a.forEach(c);var h=function(t){return e.getOwn(u,t)||l(t)}
;e.copy(h,l);var d,f;return h.domain=function(){
if(arguments.length)throw e.error.operationInvalid("The scale cannot be modified.")
;return d||(d=e.array.append(e.ownKeys(u),r))},h.range=function(t){
if(arguments.length){var i=e.own(u).map(function(e){return e.key}),n=t
;e.array.removeIf(n,function(e){return i.indexOf(e.key)>-1
}),n.length&&l.range(n),u={},a.forEach(c)}
return f||(f=e.array.append(e.own(u),l.range()))},h}},
_selectDomainItems:function(t){var i=e.query(t.nodes()),n=function(e){
return null!=e.value},r=function(e){return e.children().where(n)},o=function(e){
return r(e).any()},a=function(e){return!o(e)}
;return this.isByParent?i.where(function(e){
return e.parent?n(e)&&o(e):a(e)||r(e).any(a)}):i.where(function(e){
return(!e.parent||n(e))&&a(e)})}
}),e.type("pvc.TreemapPanel",Y.PlotPanel).init(function(e,t,i,n){
this.base(e,t,i,n),
this.axes.size=e._getAxis("size",(i.option("SizeAxis")||0)-1),
this.layoutMode=i.option("LayoutMode")}).add({plotType:"treemap",
_createCore:function(i){var n=this,r=i.clientSize,o=n._buildScene();if(o){
if(!o.childNodes.length&&!this.chart.visualRoles.multiChart.isBound())throw new Y.InvalidDataException("Unable to create a treemap chart, please check the data values.","all-zero-data")
;var a=e.number.to(n._getConstantExtension("leaf","lineWidth"),1),s=a,l=s/2,u=n.visualRoles.size.isBound()?n.axes.size.scale.by1(function(e){
return e.vars.size.value
}):100,c=n.pvTreemapPanel=new Y.visual.Panel(n,n.pvPanel,{
panelType:t.Layout.Treemap,extensionId:"panel"
}).pvMark.lock("visible",!0).lock("nodes",o.nodes()).lock("left",l).lock("top",l).lock("width",r.width-s).lock("height",r.height-s).lock("size",u).lock("mode",n.layoutMode).lock("order",null).lock("round",!1)
;c.node.left(function(e){return e.x+l}).top(function(e){return e.y+l
}).width(function(e){return e.dx-s}).height(function(e){return e.dy-s})
;var h=n.axes.color,d=n.visualRoles.color.isBound()?h.sceneScale({
sceneVarName:"color"
}):e.fun.constant(h.option("Unbound")),f=new Y.visual.Bar(n,c.leaf,{
extensionId:"leaf"}).lockMark("visible").override("defaultColor",function(e){
return d(e)}).override("defaultStrokeWidth",function(){return a
}).pvMark.antialias(!1).lineCap("round").strokeDasharray(function(e){
return e.vars.size.value<0?"dash":null});new Y.visual.Bar(n,c.node,{
extensionId:"ascendant",noHover:!0,noSelect:!0,noClick:!0,noDoubleClick:!0,
noTooltip:!0}).intercept("visible",function(e){
return!!e.parent&&!!e.firstChild&&this.delegateExtension(!0)
}).override("anyInteraction",function(e){
return e.anyInteraction()||e.isActiveDescendantOrSelf()
}).override("defaultStrokeWidth",function(){return 1.5*s
}).override("interactiveStrokeWidth",function(e,t){
return this.showsActivity()&&e.isActiveDescendantOrSelf()?1.5*Math.max(1,t):t
}).override("defaultColor",function(e){return d(e)
}).override("normalColor",e.fun.constant(null)).override("interactiveColor",function(e,i,n){
if("stroke"===n){if(this.showsActivity()){
if(e.isActiveDescendantOrSelf())return t.color(i).brighter(.5)
;if(e.anyActive())return null}
if(this.showsSelection()&&e.isSelectedDescendantOrSelf())return t.color(i).brighter(.5)
}return null}).pvMark.antialias(!1)
;var p=Y.visual.ValueLabel.maybeCreate(n,c.label,{noAnchor:!0})
;p&&p.pvMark.textMargin(3).sign.optional("textAngle",function(e){
var i=this.defaultText(e),n=this.pvMark
;return e.dx-2*n.textMargin()>t.Text.measureWidth(i,n.font())?0:e.dx>=e.dy?0:-Math.PI/2
}).override("calcTextFitInfo",function(e,i){var n=this.pvMark,r=n.textMargin()
;if(!(r<-1e-6)){
var o=n.textAngle(),a=Math.abs(Math.sin(o))<1e-6,s=!a&&Math.abs(Math.cos(o))<1e-6
;if(a||s){var l=!1,u=t.Text.measure(i,n.font()),c=.75*u.height,h=e[s?"dx":"dy"]
;"middle"!==n.textBaseline()&&(h/=2),h-=2*r,l|=c>h;var d=e[s?"dy":"dx"]
;return"center"!==n.textAlign()&&(d/=2),
d-=2*r,l|=d<=0||this.hideOverflowed&&u.width>d,{hide:l,widthMax:d}}}
}).override("getAnchoredToMark",function(){return f})}},
renderInteractive:function(){this.pvTreemapPanel.render()},
_buildScene:function(){function e(t){var i=t.group
;if(t.vars.category=le.fromComplex(i),
r.onNewScene(t,!0),o&&!t.vars.size.value)return t.parentNode&&t.parentNode.removeChild(t),
t;var n=i.children().where(function(e){return null!=e.value}).array();if(a){
var l=s&&!n.length?i.parent:i;if(l){var u=a.view(l)
;t.vars.color=new le(u.keyTrimmed(),u.label)}else t.vars.color=new le(null,"")
}else t.parent||(t.vars.color=new le(null,""));return n.forEach(function(i){
e(new Y.visual.Scene(t,{source:i}))}),t}var t=this.visibleData({ignoreNulls:!1})
;if(!t.childCount())return null
;var i=this.visualRoles,n=new Y.visual.Scene(null,{panel:this,source:t
}),r=new Y.visual.RoleVarHelper(n,"size",i.size,{allowNestedVars:!0,
hasPercentSubVar:!0
}),o=i.size.isBound(),a=i.color&&i.color.grouping,s=a&&"byparent"===this.plot.option("ColorMode")
;return e(n)}
}),Y.PlotPanel.registerClass(Y.TreemapPanel),e.type("pvc.TreemapChart",Y.BaseChart).add({
_axisClassByType:{size:Y.visual.NormalizedAxis},_axisCreateIfUnbound:{color:!0},
_getTranslationClass:function(t){return e.type(this.base(t)).methods({
_configureTypeCore:function(){
this._configureTypeByOrgLevel(["category"],["size"])}})},
_getIsNullDatum:e.fun.constant(),_createPlotsInternal:function(){
this._addPlot(new Y.visual.TreemapPlot(this))},_initPlotsEnd:function(){
this.base(),
null==this.options.legend&&(this.options.legend="byparent"===this.plots.treemap.option("ColorMode"))
},_initAxes:function(){
return this.visualRoles.color.isDiscrete()?(e.hasOwnProp.call(this,"_axisClassByType")||(this._axisClassByType=Object.create(this._axisClassByType)),
this._axisClassByType.color=Y.visual.TreemapDiscreteColorAxis):delete this._axisClassByType,
this.base()},defaults:{legend:null}
}),Y.parseSunburstSliceOrder=Y.makeEnumParser("sliceOrder",["bySizeAscending","bySizeDescending","none"],"bySizeDescending"),
Y.parseSunburstColorMode=Y.makeEnumParser("colorMode",["fan","slice","level"],"fan"),
e("pvc.visual.SunburstPlot",Y.visual.Plot.extend({init:function(t,i){
if(this.base(t,i),
!(t instanceof Y.SunburstChart))throw e.error(e.format("Plot type '{0}' can only be used from within a sunburst chart.",[this.type]))
},methods:{type:"sunburst",_initVisualRoles:function(){
this.base(),this._addVisualRole("category",{isRequired:!0,
defaultDimension:"category*",autoCreateDimension:!0,
rootLabel:this.option("RootCategoryLabel")}),this._addVisualRole("size",{
isMeasure:!0,isRequired:!1,isPercent:!0,requireSingleDimension:!1,
requireIsDiscrete:!1,valueType:Number,defaultDimension:"size"})},
_getColorRoleSpec:function(){return{defaultSourceRole:"category",
defaultDimension:"color*",requireIsDiscrete:!0,
rootLabel:this.option("RootCategoryLabel")}},createData:function(e,t){
return this.visualRoles.category.select(e,t)},_initDataCells:function(){
this.base(),
this._addDataCell(new Y.visual.DataCell(this,"size",this.option("SizeAxis")-1,this.visualRoles.size))
}},options:{SizeRole:{resolve:"_resolveFixed",value:"size"},SizeAxis:{
resolve:"_resolveFixed",value:1},ValuesAnchor:{cast:Y.parseAnchor,value:"center"
},ValuesVisible:{value:!0},ValuesMask:{resolve:"_resolveFull",value:"{category}"
},ValuesOptimizeLegibility:{value:!0},ColorMode:{resolve:"_resolveFull",
cast:Y.parseSunburstColorMode,value:"fan"},RootCategoryLabel:{
resolve:"_resolveFull",cast:String,value:"All"},SliceOrder:{
resolve:"_resolveFull",cast:Y.parseSunburstSliceOrder,value:"bySizeDescending"},
EmptySlicesVisible:{resolve:"_resolveFull",cast:Boolean,value:!1},
EmptySlicesLabel:{resolve:"_resolveFull",cast:String,value:""}}
})),Y.visual.Plot.registerClass(Y.visual.SunburstPlot),
e("pvc.visual.SunburstDiscreteColorAxis",Y.visual.ColorAxis.extend({methods:{
domainItemValueProp:function(){
return this.role&&this.role.grouping.isSingleDimension?"value":"absKey"},
domainItemKeyProp:function(){
return this.role&&this.role.grouping.isSingleDimension?"key":"absKey"},
domainGroupOperator:function(){return"select"},_selectDomainItems:function(t){
var i=function(e){return null!=e.value}
;if("slice"!==this.chart.plots.sunburst.option("ColorMode")){
var n=this.option("Colors")().available
;if(!n)return e.query(t.childNodes).where(i);var r=this.domainItemValueProp()
;return e.query(t.nodes()).where(function(e){
return!!e.parent&&i(e)&&(!e.parent.parent||n(e[r]))})}
return e.query(X(t)).where(function(e){return!!e.parent&&i(e)})}},options:{
SliceBrightnessFactor:{resolve:"_resolveFull",cast:e.number.toNonNegative,
value:1},SliceLevelAlphaRatio:{resolve:"_resolveFull",cast:K,value:.15},
SliceLevelAlphaMin:{resolve:"_resolveFull",cast:K,value:.1}}
})),e.type("pvc.SunburstPanel",Y.PlotPanel).init(function(e,t,i,n){
this.base(e,t,i,n),
this.axes.size=e._getAxis("size",(i.option("SizeAxis")||0)-1),
this.sliceOrder=i.option("SliceOrder"),
this.emptySlicesVisible=i.option("EmptySlicesVisible"),
this.emptySlicesLabel=this.emptySlicesVisible?i.option("EmptySlicesLabel"):""
}).add({plotType:"sunburst",_createCore:function(){
var i=this._getConstantExtension("label","font")
;e.string.is(i)&&(this.valuesFont=i);var n=this,r=n._buildScene();if(r){
if(!r.childNodes.length&&!this.chart.visualRoles.multiChart.isBound())throw new Y.InvalidDataException("Unable to create a sunburst chart, please check the data values.","all-zero-data")
;var o=n.visualRoles.size.isBound()?n.axes.size.scale.by1(function(e){
return e.vars.size.value
}):e.fun.constant(100),a=n.pvSunburstPanel=new Y.visual.Panel(n,n.pvPanel,{
panelType:t.Layout.Partition.Fill,extensionId:"panel"
}).pvMark.lock("visible",!0).lock("nodes",r.nodes()).lock("size",o).lock("orient","radial"),s=new Y.visual.SunburstSlice(this,a.node,{
extensionId:"slice",tooltipArgs:{options:{useCorners:!0,gravity:function(){
var e=this.midAngle(),t=Math.cos(e)>=0,i=Math.sin(e)>=0
;return t?i?"nw":"sw":i?"ne":"se"}}}
}),l=Y.visual.ValueLabel.maybeCreate(n,a.label,{noAnchor:!0})
;l&&l.override("defaultText",function(e){return e.isRoot()?"":this.base(e)
}).override("calcTextFitInfo",function(e,i){var n=this.pvMark,r=n.textMargin()
;if(!(r<-1e-6)&&"center"===n.textAlign()&&i){
var o=Y.normAngle(e.midAngle),a=Y.normAngle(n.textAngle()),s=Math.abs(o-a)<1e-6,l=!1
;if(!s){var u=Y.normAngle(a+Math.PI);l=Math.abs(o-u)<1e-6}if(s||l){
var c,h=e.innerRadius,d=h,f=e.outerRadius,p=e.angle,m=t.Text.measure(i,n.font()),g=!1
;if(p<Math.PI){
var v=.85*m.height,y=n.textBaseline(),b="middle"===y?v+r/2:2*(v+3*r/2)
;d=Math.max(d,b/(2*Math.tan(p/2)))}
return c=f-r-d,g|=c<=0,c-=r,g|=this.hideOverflowed&&m.width>c,{hide:g,widthMax:c
}}}}).override("getAnchoredToMark",function(){return s.pvMark})}},
renderInteractive:function(){this.pvSunburstPanel.render()},
_buildScene:function(){function t(e,i){i>x&&(x=i)
;var n=e.group,a=e.vars.category=le.fromComplex(n)
;if(o&&null==a.value&&(a.value=o),
d.onNewScene(e,!0),h&&!e.vars.size.value)return e.parentNode&&e.parentNode.removeChild(e),
e;var s=n.children();if(r||(s=s.where(function(e){return null!=e.value})),f){
var l=f.view(n);e.vars.color=new le(l.keyTrimmed(),l.label)
}else e.vars.color=new le(null,"");return s.each(function(n){
t(new Y.visual.SunburstScene(e,{source:n}),i+1)}),e}function i(e,t,n,r){
var o=null,u=e.parent
;if(u&&!(o=y||u.isRoot()||_(e.vars.color.value)?b(e):null)&&(o=u.color))if(g)t&&a&&(o=o.brighter(a*t/(n-1)));else if(v){
o=o.rgb();var c=s*(r-1),h=Math.max(l,(1-c)*o.a);o=o.alpha(h)}e.color=o
;var d=e.childNodes,f=d.length;d.forEach(function(e,t){i(e,t,f,r+1)})}
var n=this.visibleData({ignoreNulls:!1
}),r=this.emptySlicesVisible,o=this.emptySlicesLabel
;if(!n.childCount())return null
;var a,s,l,u=this.visualRoles,c=new Y.visual.SunburstScene(null,{panel:this,
source:n}),h=u.size.isBound(),d=new Y.visual.RoleVarHelper(c,"size",u.size,{
allowNestedVars:!0,hasPercentSubVar:!0
}),f=u.color&&u.color.grouping,p=this.axes.color,m=this.plot.option("ColorMode"),g="fan"===m,v="level"===m,y="slice"===m,b=u.color.isBound()?p.sceneScale({
sceneVarName:"color"
}):e.fun.constant(p.option("Unbound")),_=b.available||e.retFalse,x=0
;if(g?a=p.option("SliceBrightnessFactor"):v&&(s=p.option("SliceLevelAlphaRatio"),
l=p.option("SliceLevelAlphaMin")),
t(c,0),this.sliceOrder&&h&&"none"!==this.sliceOrder){
var w="bysizeascending"===this.sliceOrder?e.ascending:e.descending
;c.sort(function(t,i){
return w(Math.abs(t.vars.size.value),Math.abs(i.vars.size.value))||e.ascending(t.childIndex(),i.childIndex())
})}return i(c,0,0,0),c}
}),Y.PlotPanel.registerClass(Y.SunburstPanel),e.type("pvc.visual.SunburstScene",Y.visual.Scene).add({
_createSelectedInfo:function(){var e=this.chart().data.owner.selectedCount()>0
;return{any:e,is:e&&this.datums().all(i.Datum.isSelected)}}
}),e.type("pvc.SunburstChart",Y.BaseChart).add({_axisClassByType:{
size:Y.visual.NormalizedAxis,color:Y.visual.SunburstDiscreteColorAxis},
_axisCreateIfUnbound:{color:!0},_getTranslationClass:function(t){
return e.type(this.base(t)).methods({_configureTypeCore:function(){
this._configureTypeByOrgLevel(["category"],["size"])}})},
_getIsNullDatum:e.fun.constant(),_createPlotsInternal:function(){
var e=new Y.visual.SunburstPlot(this);this._addPlot(e),this.options.legend=!1}
}),e("pvc.visual.SunburstSlice",Y.visual.Sign.extend({init:function(i,n,r){
var o=n.add(t.Wedge)
;r=e.setDefaults(r,"freeColor",!1),this.base(i,o,r),this._bindProperty("lineWidth","strokeWidth")
},properties:["strokeWidth"],methods:{defaultStrokeWidth:e.fun.constant(.5),
interactiveStrokeWidth:function(e,t){
return this.showsActivity()&&e.isActiveDescendantOrSelf()?2*Math.max(1,t):t},
defaultColor:function(e,t){return e.color},normalColor:function(e,t,i){
return t&&"stroke"===i?t.darker():t},interactiveColor:function(e,t,i){
if(this.showsActivity())if("stroke"===i){
if(e.isActiveDescendantOrSelf())return t.brighter(2).alpha(.7)
}else if(e.isActive)return t.brighter(.2).alpha(.8)
;return this.mayShowNotAmongSelected(e)?this.dimColor(t,i):this.normalColor(e,t,i)
}}})),e.type("pvc.visual.BulletPlot",Y.visual.Plot.extend({methods:{
type:"bullet",_initVisualRoles:function(){
this.base(),this._addVisualRole("title",{defaultDimension:"title*"
}),this._addVisualRole("subTitle",{defaultDimension:"subTitle*"
}),this._addVisualRole("value",{isMeasure:!0,requireIsDiscrete:!1,
requireSingleDimension:!1,valueType:Number,defaultDimension:"value*"
}),this._addVisualRole("marker",{isMeasure:!0,requireIsDiscrete:!1,
requireSingleDimension:!1,valueType:Number,defaultDimension:"marker*"
}),this._addVisualRole("range",{isMeasure:!0,requireIsDiscrete:!1,
requireSingleDimension:!1,valueType:Number,defaultDimension:"range*"})}},
options:{ValuesVisible:{value:!0}}
})),Y.visual.Plot.registerClass(Y.visual.BulletPlot),
e.type("pvc.BulletChart",Y.BaseChart).add({bulletChartPanel:null,allowNoData:!0,
_processOptionsCore:function(e){e.legend=!1,e.selectable=!1,this.base(e)},
_getTranslationClass:function(t){return e.type(this.base(t)).methods({
_configureTypeCore:function(){this._configureTypeByOrgLevel([{name:"title",
greedy:!1,maxCount:1},{name:"subTitle",greedy:!1,maxCount:1
}],["value","marker",{name:"range",greedy:!0,maxCount:1/0}])}})},
_createPlotsInternal:function(){this._addPlot(new Y.visual.BulletPlot(this))},
defaults:{compatVersion:1,orientation:"horizontal",bulletSize:30,
bulletSpacing:50,bulletMargin:100,bulletTitle:"Title",bulletSubtitle:"",
bulletTitlePosition:"left",tooltipFormat:function(e,t,i){
return this.chart.options.valueFormat(i)},crosstabMode:!1,seriesInRows:!1,
dataTypeCheckingMode:"extended"}
}),e.type("pvc.BulletChartPanel",Y.PlotPanel).add({plotType:"bullet",
pvBullets:null,pvBullet:null,data:null,onSelectionChange:null,
_createCore:function(e){
var i,n,r,o,a,s,l,u,c,h=this.chart,d=h.options,f=this.buildData(),p=this,m="horizontal"==d.orientation?"left":"bottom"
;if("horizontal"==d.orientation){
switch(i=e.clientSize.width-this.chart.options.bulletMargin-20,
n=0,d.bulletTitlePosition){case"top":
l=this.chart.options.bulletMargin,o=0,r="left",
a=-12,c=parseInt(d.titleSize/2,10);break;case"bottom":
l=this.chart.options.bulletMargin,o=0,r="left",a=d.bulletSize+32,c=0;break
;case"right":l=5,o=i+5,r="left",a=parseInt(d.bulletSize/2,10),c=0;break
;case"left":default:
l=this.chart.options.bulletMargin,o=0,a=parseInt(d.bulletSize/2,10),
r="right",c=0}s="bottom",u=function(){
return this.index*(d.bulletSize+d.bulletSpacing)+c}}else{
switch(i=e.clientSize.height-this.chart.options.bulletMargin-20,
d.bulletTitlePosition){case"top":l=this.chart.options.bulletMargin,o=0,r="left",
a=-20,n=0,u=void 0;break;case"bottom":
l=this.chart.options.bulletMargin,o=0,r="left",a=i+20,n=0,u=20;break
;case"right":
l=5,o=this.chart.options.bulletSize+40,r="left",a=i,n=-Math.PI/2,u=void 0;break
;case"left":default:
l=this.chart.options.bulletMargin,o=-12,a=this.height-this.chart.options.bulletMargin-20,
r="left",n=-Math.PI/2,u=void 0}s="right",l=function(){
return d.bulletMargin+this.index*(d.bulletSize+d.bulletSpacing)}}
if(this.pvBullets=this.pvPanel.add(t.Panel).data(f)[Y.BasePanel.orthogonalLength[m]](i)[Y.BasePanel.parallelLength[m]](this.chart.options.bulletSize).margin(20).left(l).top(u),
this.pvBullet=this.pvBullets.add(t.Layout.Bullet).orient(m).ranges(function(e){
return e.ranges}).measures(function(e){return e.measures}).markers(function(e){
return e.markers}),h.clickable()&&this.clickAction){var p=this
;this.pvBullet.cursor("pointer").event("click",function(e){
var i=e.title,n=e.subtitle,r=t.event;return p.clickAction(i,n,e.measures,r)})}
if(this.pvBulletRange=this.pvBullet.range.add(t.Bar),
this.pvBulletMeasure=this.pvBullet.measure.add(t.Bar).text(function(e,t){
return t.formattedMeasures[this.index]
}),this.pvBulletMarker=this.pvBullet.marker.add(t.Dot).shape("square").fillStyle("white").text(function(e,t){
return t.formattedMarkers[this.index]}),this.showsTooltip()){var g=this
;this.pvBulletMeasure.localProperty("tooltip").tooltip(function(e,t){
var i=t.title,n=t.subtitle;return h.options.tooltipFormat.call(g,i,n,e)
}),this.pvBulletMarker.localProperty("tooltip").tooltip(function(e,t){
var i=t.title,n=t.subtitle;return h.options.tooltipFormat.call(g,i,n,e)
}),this.pvBulletMeasure.event("mouseover",t.Behavior.tipsy(this.chart._tooltipOptions)),
this.pvBulletMarker.event("mouseover",t.Behavior.tipsy(this.chart._tooltipOptions))
}
this.pvBulletRule=this.pvBullet.tick.add(t.Rule),this.pvBulletRuleLabel=this.pvBulletRule.anchor(s).add(t.Label).text(function(e){
return p.pvBullet.x.tickFormat(e,this.index)
}),this.pvBulletTitle=this.pvBullet.anchor(m).add(t.Label).font("bold 12px sans-serif").textAngle(n).left(-10).textAlign(r).textBaseline("bottom").left(o).top(a).text(function(e){
return e.formattedTitle
}),this.pvBulletSubtitle=this.pvBullet.anchor(m).add(t.Label).textStyle("#666").textAngle(n).textAlign(r).textBaseline("top").left(o).top(a).text(function(e){
return e.formattedSubtitle})
;var v="function"==typeof d.axisDoubleClickAction?function(e,t){
d.axisDoubleClickAction(e,t)}:null
;h.doubleClickable()&&v&&(this.pvBulletTitle.cursor("pointer").events("all").event("dblclick",function(e){
v(e,arguments[arguments.length-1])
}),this.pvBulletSubtitle.cursor("pointer").events("all").event("dblclick",function(e){
v(e,arguments[arguments.length-1])}))},applyExtensions:function(){
this.base(),this.extend(this.pvBullets,"bulletsPanel"),
this.extend(this.pvBullet,"bulletPanel"),
this.extend(this.pvBulletRange,"bulletRange"),
this.extend(this.pvBulletMeasure,"bulletMeasure"),
this.extend(this.pvBulletMarker,"bulletMarker"),
this.extend(this.pvBulletRule,"bulletRule"),
this.extend(this.pvBulletRuleLabel,"bulletRuleLabel"),
this.extend(this.pvBulletTitle,"bulletTitle"),
this.extend(this.pvBulletSubtitle,"bulletSubtitle")},_getExtensionId:function(){
return[{abs:"content"}].concat(this.base())},buildData:function(){
var t=this.chart,i=t.options,n=t.visualRoles.title,r=n.grouping,o=t.visualRoles.subTitle,a=o.grouping,s=t.visualRoles.value,l=s.grouping,u=t.visualRoles.marker,c=u.grouping,h=t.visualRoles.range,d=h.grouping,f={
title:i.bulletTitle,formattedTitle:i.bulletTitle,subtitle:i.bulletSubtitle,
formattedSubtitle:i.bulletSubtitle,ranges:e.array.to(i.bulletRanges)||[],
measures:e.array.to(i.bulletMeasures)||[],
markers:e.array.to(i.bulletMarkers)||[]}
;return e.set(f,"formattedRanges",f.ranges.map(String),"formattedMeasures",f.measures.map(String),"formattedMarkers",f.markers.map(String)),
l||r||c||a||d?t.data.datums().select(function(e){var t,i=Object.create(f)
;return l&&(t=l.view(e),
i.measures=t.values(),i.formattedMeasures=t.labels()),r&&(t=r.view(e),
i.title=t.value,
i.formattedTitle=t.label),a&&(t=a.view(e),i.subtitle=t.value,i.formattedSubtitle=t.label),
c&&(t=c.view(e),
i.markers=t.values(),i.formattedMarkers=t.labels()),d&&(t=d.view(e),
i.ranges=t.values(),i.formattedRanges=t.labels()),i},this).array():[f]}
}),Y.PlotPanel.registerClass(Y.BulletChartPanel),
e.type("pvc.ParallelCoordinates",Y.BaseChart).init(function(e){
e=e||{},e.dimensions=e.dimensions||{},e.dimensions.value||(e.dimensions.value={
valueType:null}),this.base(e)}).add({parCoordPanel:null,
_createContent:function(t,i){
this.parCoordPanel=new Y.ParCoordPanel(this,t,e.create(i,{
topRuleOffset:this.options.topRuleOffset,
botRuleOffset:this.options.botRuleOffset,
leftRuleOffset:this.options.leftRuleOffset,
rightRuleOffset:this.options.rightRuleOffset,
sortCategorical:this.options.sortCategorical,
mapAllDimensions:this.options.mapAllDimensions,numDigits:this.options.numDigits
}))},defaults:e.create(Y.BaseChart.prototype.defaults,{compatVersion:1,
topRuleOffset:30,botRuleOffset:30,leftRuleOffset:60,rightRuleOffset:60,
sortCategorical:!0,mapAllDimensions:!0,numDigits:0})
}),e.type("pvc.ParCoordPanel",Y.BasePanel).add({anchor:"fill",pvParCoord:null,
dimensions:null,dimensionDescr:null,data:null,retrieveData:function(){
var e=this.chart.data,t=this.chart.options.numDigits
;this.dimensions=e.getVisibleCategories()
;var i=e.getValues(),n=e.getVisibleSeriesIndexes(),r=e.getVisibleCategoriesIndexes(),o=e.getCategories(),a=this.chart.options.mapAllDimensions?r.map(function(e){
return isNaN(i[e][0])?{categorical:!0,len:0,map:[]}:{categorical:!1,len:0,
map:[],displayValue:[]}}):r.map(function(e){return isNaN(i[e][0])?{
categorical:!0,len:0,map:[]}:null}),s=function(e,i){var n=a[e],r=null
;if(n.categorical)null==(r=n.map[i])&&(r=n.len,n.len++,n.map[i]=r);else{
var o=i.toFixed(t)
;r=n.map[o],null==r&&(r=n.len,n.len++,n.map[o]=r,n.displayValue[o]=i)}return r}
;for(var l in a)a.hasOwnProperty(l)&&a[l]&&a[l].categorical&&(a[l].displayValue=a[l].map)
;var u,c,h
;if(this.chart.options.sortCategorical||this.chart.options.mapAllDimensions)for(u=0;u<a.length;u++)if(a[u]){
for(var d=0;d<i[u].length;d++)s(u,i[u][d]);var f=a[u].map,p=[]
;for(c in f)f.hasOwnProperty(c)&&p.push(c)
;if(p.sort(),a[u].categorical)for(h=0;h<p.length;h++)f[p[h]]=h;else for(h=0;h<p.length;h++)f[p[h]].index=h
}var m=function(e){var t={}
;for(var n in r)r.hasOwnProperty(n)&&(t[o[n]]=a[n]?s(n,i[n][e]):i[n][e])
;return t};this.data=n.map(function(e){return m(e)})
;var g=this.dimensions.map(function(e){var t={},i=e.split("__")
;return t.id=e,t.name=i[0],t.unit=i.length>1?i[1]:"",t})
;for(u=0;u<g.length;u++){c=g[u];var v=r[u];c.orgRowIndex=v
;var y,b,_,x,w,C=i[v].length
;if(a[v])for(y=b=_=x=a[v].displayValue[i[v][0]],h=1;h<C;h++)w=a[v].displayValue[i[v][h]],
w<y&&(_=y,
y=w),w>b&&(x=b,b=w);else for(y=b=_=x=i[v][0],h=1;h<C;h++)w=i[v][h],w<y&&(_=y,
y=w),w>b&&(x=b,b=w);var S=(b-x+(_-y))/2
;if(c.min=y,c.max=b,c.step=S,c.categorical=!1,
a[v]&&(c.map=a[v].map,c.mapLength=a[v].len,
c.categorical=a[v].categorical,!c.categorical)){c.orgValue=[];var k=a[v].map
;for(var D in k)k.hasOwnProperty(D)&&(c.orgValue[k[D]]=0+D)}}
this.dimensionDescr=function(e,t){for(var i={},n=0;n<e.length;n++)i[e[n]]=t[n]
;return i}(this.dimensions,g)},_createCore:function(){function e(e){var t=e.dim
;return x[t].min=Math.max(b[t].domain()[0],b[t].invert(r-e.y-e.dy)),
x[t].max=Math.min(b[t].domain()[1],b[t].invert(r-e.y)),w=t,T.render(),!1}
function i(e){if(e.dy<3){var t=e.dim
;x[t].min=Math.max(b[t].domain()[0],b[t].invert(0)),
x[t].max=Math.min(b[t].domain()[1],b[t].invert(r)),e.y=s,e.dy=h,w=t,T.render()}
return!1}var n=this;this.retrieveData()
;var r=this.height,o=this.chart.options.numDigits,a=this.chart.options.topRuleOffset,s=this.chart.options.botRuleOffset,l=this.chart.options.leftRuleOffset,u=this.width-this.chart.options.rightRuleOffset,c=this.height-a,h=c-s,d=a-12,f=this.dimensions,p=this.dimensionDescr,m=function(e,i){
var n=p[e].min,r=p[e].max,o=p[e].step
;return i&&(n-=o,r+=o),t.Scale.linear(n,r).range(s,c)},g=function(e){
var t=m(e,!0).range(s,c),i=p[e];if(i.orgValue&&!i.categorical){
var n=function(e){return t(i.orgValue[e])};return n.domain=function(){
return t.domain()},n.invert=function(e){return t.invert(e)},n}return t
},v=function(e){return m(e,!1).range("steelblue","brown")
},y=t.Scale.ordinal(f).splitFlush(l,u),b=t.dict(f,g),_=t.dict(f,v),x=t.dict(f,function(e){
return{min:b[e].domain()[0],max:b[e].domain()[1]}
}),w=f[0],C=this.chart.options.mapAllDimensions?function(e){
return f.every(function(t){
var i=p[t],n=i.orgValue&&!i.categorical?i.orgValue[e[t]]:e[t]
;return n>=x[t].min&&n<=x[t].max})}:function(e){return f.every(function(t){
return e[t]>=x[t].min&&e[t]<=x[t].max})}
;this.pvParCoord=this.pvPanel.add(t.Panel).data(n.data).visible(C).add(t.Line).data(f).left(function(e,t){
return y(e)}).bottom(function(e,t){return b[e](t[e])
}).strokeStyle("#ddd").lineWidth(1).antialias(!1),
this.pvPanel.add(t.Rule).data(f).left(y).top(a).bottom(s).anchor("top").add(t.Label).top(d).font("bold 10px sans-serif").text(function(e){
return p[e].name});var S=[];for(var k in p)if(p.hasOwnProperty(k)){var D=p[k]
;if(D.categorical){var M=y(D.id)+6
;for(var N in D.map)D.map.hasOwnProperty(N)&&(S[S.length]={x:M,
y:b[D.id](D.map[N])+3,label:N})}}
this.pvPanel.add(t.Panel).data(S).add(t.Label).left(function(e){return e.x
}).bottom(function(e){return e.y}).text(function(e){return e.label
}).textAlign("left");var T=this.pvPanel.add(t.Panel)
;T.add(t.Panel).data(n.data).visible(C).add(t.Line).data(f).left(function(e,t){
return y(e)}).bottom(function(e,t){return b[e](t[e])
}).strokeStyle(function(e,t){
var i=p[w],n=i.orgValue&&!i.categorical?i.orgValue[t[w]]:t[w];return _[w](n)
}).lineWidth(1);var A=T.add(t.Panel).data(f.map(function(e){return{y:s,dy:h,
dim:e}})).left(function(e){return y(e.dim)-30
}).width(60).fillStyle("rgba(0,0,0,.001)").cursor("crosshair").event("mousedown",t.Behavior.select()).event("select",e).event("selectend",i).add(t.Bar).left(25).top(function(e){
return e.y}).width(10).height(function(e){return e.dy}).fillStyle(function(e){
return e.dim==w?_[e.dim]((x[e.dim].max+x[e.dim].min)/2):"hsla(0,0,50%,.5)"
}).strokeStyle("white").cursor("move").event("mousedown",t.Behavior.drag()).event("dragstart",e).event("drag",e)
;A.anchor("bottom").add(t.Label).textBaseline("top").text(function(e){
return p[e.dim].categorical?"":x[e.dim].min.toFixed(o)+p[e.dim].unit
}),A.anchor("top").add(t.Label).textBaseline("bottom").text(function(e){
return p[e.dim].categorical?"":x[e.dim].max.toFixed(o)+p[e.dim].unit
}),this.extend(this.pvParCoord,"parCoord"),this.extend(this.pvPanel,"chart")}}),
e.type("pvc.DataTree",Y.BaseChart).init(function(e){
e=e||{},e.dimensionGroups=e.dimensionGroups||{},
e.dimensionGroups.value||(e.dimensionGroups.value={valueType:null}),this.base(e)
}).add({structEngine:null,structMetadata:null,structDataset:null,
DataTreePanel:null,_getColorRoleSpec:function(){return{isRequired:!0,
defaultSourceRole:"category",requireIsDiscrete:!0}},setStructData:function(e){
this.structDataset=e.resultset,
this.structDataset.length||this.log("Warning: Structure-dataset is empty"),
this.structMetadata=e.metadata,
this.structMetadata.length||this.log("Warning: Structure-Metadata is empty")},
_createContent:function(t,n){
var r=this.structEngine,o=r?r.type:new i.ComplexType;o.addDimension("value",{})
;var a={seriesInRows:!0,crosstabMode:!0
},s=new i.CrosstabTranslationOper(o,this.structDataset,this.structMetadata,a)
;s.configureType(),r||(r=this.structEngine=new i.Data({type:o
})),r.load(s.execute(r)),
e.debug>=3&&this.log(this.structEngine.getInfo()),this.dataTreePanel=new Y.DataTreePanel(this,t,e.create(n,{
topRuleOffset:this.options.topRuleOffset,
botRuleOffset:this.options.botRuleOffset,
leftRuleOffset:this.options.leftRuleOffset,
rightRuleOffset:this.options.rightRuleOffset,
boxplotColor:this.options.boxplotColor,valueFontsize:this.options.valueFontsize,
headerFontsize:this.options.headerFontsize,border:this.options.border,
perpConnector:this.options.perpConnector,numDigits:this.options.numDigits,
minVerticalSpace:this.options.minVerticalSpace,
connectorSpace:this.options.connectorSpace,
minAspectRatio:this.options.minAspectRatio}))},defaults:{compatVersion:1,
topRuleOffset:30,botRuleOffset:30,leftRuleOffset:60,rightRuleOffset:60,
boxplotColor:"grey",headerFontsize:16,valueFontsize:20,border:2,
perpConnector:!1,numDigits:0,connectorSpace:.15,minVerticalSpace:.05,
minAspectRatio:2}}),e.type("pvc.DataTreePanel",Y.PlotPanel).add({
pvDataTree:null,treeElements:null,structMap:null,structArr:null,hRules:null,
vRules:null,rules:null,generatePerpConnectors:function(e){
this.hRules=[],this.vRules=[],this.rules=[];for(var t in this.structMap){
var i=this.structMap[t];if(null!=i.children){var n=1e4,r=-1e4,o=i.left+i.width
;this.hRules.push({left:o,width:e,bottom:i.bottom+i.height/2}),o+=e
;for(var a in i.children){
var s=this.structMap[i.children[a]],l=s.bottom+s.height/2;l>r&&(r=l),l<n&&(n=l),
this.hRules.push({left:o,width:s.left-o,bottom:l})}r>n&&this.vRules.push({
left:o,bottom:n,height:r-n})}}},generateLineSegment:function(e,t,i,n){var r=[]
;r.push({x:e,y:t}),r.push({x:i,y:n}),this.rules.push(r)},
generateConnectors:function(e){
if(this.hRules=[],this.vRules=[],this.chart.options.perpConnector)this.generatePerpConnectors(e);else{
this.rules=[];for(var t in this.structMap){var i=this.structMap[t]
;if(null!=i.children){var n,r,o,a=1e4,s=-1e4
;for(o in i.children)r=this.structMap[i.children[o]],
n=r.bottom+r.height/2,n>s&&(s=n),n<a&&(a=n);var l=(s+a)/2,u=i.left+i.width,c=u+e
;this.generateLineSegment(u,i.bottom+i.height/2,c,l)
;for(o in i.children)r=this.structMap[i.children[o]],
n=r.bottom+r.height/2,this.generateLineSegment(c,l,r.left,n)}}}},
retrieveStructure:function(){
var e=this.chart.structEngine,t=this.chart.options,i=e.getVisibleCategories()
;this.treeElements=e.getVisibleSeries();var r,o=e.getValues(),a=i.length>4
;for(r in this.treeElements)this.treeElements[r]=n.trim(this.treeElements[r])
;var s=[];s.getElement=function(e){return null==s[e]&&(s[e]={min:1e4,max:-1e4}),
s[e]},s.addValue=function(e,t){var i=s.getElement(e)
;return t<i.min&&(i.min=t),t>i.max&&(i.max=t),i};var l,u,c,h
;for(r in this.treeElements)c=this.treeElements[r],
l=c[0],u=l.charCodeAt(0),h=parseInt(c.slice(1),10),
s.addValue("__cols",u),s.addValue(l,h)
;var d=s.getElement("__cols"),f=this.innerWidth/(d.max-d.min+1),p=t.connectorSpace*f,m=f-p,g=m/t.minAspectRatio,v=d.min
;delete s.__cols;for(r in s)if("function"!=typeof(d=s[r])){var y=d.max-d.min+1
;d.gridHeight=this.innerHeight/y,
d.cellHeight=d.gridHeight*(1-t.minVerticalSpace),
d.cellHeight>g&&(d.cellHeight=g),
d.relBottom=(d.gridHeight-d.cellHeight)/2,d.numRows=y}
var b=new RegExp("[\\s\"']+","g");this.structMap={};for(r in this.treeElements){
var _={}
;c=this.treeElements[r],_.box_id=c,this.structMap[c]=_,l=c[0],u=l.charCodeAt(0),
h=parseInt(c.slice(1),10),
d=s.getElement(l),_.colIndex=u-v,_.rowIndex=d.numRows-(h-d.min)-1,
_.left=this.leftOffs+_.colIndex*f,
_.width=m,a?(_.bottom=o[4][r],_.height=o[5][r]):(_.bottom=this.botOffs+_.rowIndex*d.gridHeight+d.relBottom,
_.height=d.cellHeight),_.label=o[0][r],_.selector=o[1][r],_.aggregation=o[2][r]
;var x=(o[3][r]||"").replace(b," ");_.children=" "===x||""===x?null:x.split(" ")
}this.generateConnectors((f-m)/2),this.structArr=[]
;for(r in this.structMap)c=this.structMap[r],this.structArr.push(c)},
findDataValue:function(e,t){
for(var i=0;i<t[0].length;i++)if(t[0][i]==e)return t[1][i]
;this.log("Error: value with key : "+e+" not found.")},
generateBoxPlots:function(){var e=this.chart.options
;for(var i in this.structArr){var n=this.structArr[i];if(n.values.length){
n.subplot={};var r=n.subplot,o=[],a=n.width/6
;r.hRules=[],r.vRules=[],r.marks=[],
r.labels=[],o.push(this.findDataValue("_p5",n.values)),
o.push(this.findDataValue("_p25",n.values)),
o.push(this.findDataValue("_p50",n.values)),
o.push(this.findDataValue("_p75",n.values)),
o.push(this.findDataValue("_p95",n.values));var s=!1;if(void 0!==o[2]){
o[4]<o[0]&&(o=o.reverse(),
this.log(" dataset "+n.box_id+" repaired (_p95 was smaller than _p5)")),
o[4]>o[0]?r.hScale=t.Scale.linear(o[0],o[4]):(s=!0,
r.hScale=t.Scale.linear(o[0]-1e-10,o[0]+1e-10)),
r.hScale.range(n.left+a,n.left+n.width-a);var l,u=""+o[2]
;for(l=0;l<o.length;l++)o[l]=r.hScale(o[l])
;if(r.bot=n.bottom+n.height/3,r.top=n.bottom+2*n.height/3,r.mid=(r.top+r.bot)/2,
r.textBottom=n.bottom+15,r.textBottom=r.bot-e.valueFontsize-1,s)r.vRules.push({
left:o[0],bottom:r.bot,lWidth:3,height:r.top-r.bot});else for(r.hRules.push({
left:o[0],width:o[1]-o[0],lWidth:1,bottom:r.mid}),r.hRules.push({left:o[1],
width:o[3]-o[1],lWidth:1,bottom:r.bot}),r.hRules.push({left:o[1],
width:o[3]-o[1],lWidth:1,bottom:r.top}),r.hRules.push({left:o[3],
width:o[4]-o[3],lWidth:1,bottom:r.mid}),l=0;l<o.length;l++)r.vRules.push({
left:o[l],bottom:r.bot,lWidth:2==l?3:1,height:r.top-r.bot});r.labels.push({
left:o[2],bottom:r.textBottom,text:this.labelFixedDigits(u),size:e.smValueFont,
color:e.boxplotColor})}}}},labelFixedDigits:function(e){
if("string"==typeof e&&(e=parseFloat(e)),"number"==typeof e){
var t=this.chart.options.numDigits;e=e.toFixed(t)}return""+e},
addDataPoint:function(e){var t=this.chart.options;for(var i in this.structArr){
var n=this.structArr[i];if(n.values.length){var r=this.findDataValue(e,n.values)
;if(void 0!==r){var o=n.subplot,a=o.hScale(r);o.marks.push({left:a,bottom:o.mid,
color:"green"}),o.labels.push({left:a,bottom:o.textBottom,
text:this.labelFixedDigits(r),size:t.valueFont,color:"green"})}}}},
retrieveData:function(){
var e,t=this.chart.data,i=this.chart.options,n=t.getVisibleSeries(),r=t.getValues(),o={},a=r.length
;for(var s in this.structArr){var l=this.structArr[s]
;for(l.values=[],e=0;e<a;e++)l.values.push([]);o[l.selector]=l}var u={}
;for(e in n){var c=o[n[e]]
;if(void 0!==c)for(var h in r)c.values[h].push(r[h][e]);else u[n[e]]=!0}
for(var d in u)this.log("Could'nt find box for selector: "+d)
;this.generateBoxPlots();var f=new RegExp("[\\s\"']+","g");if(i.selectParam){
var p=i.selectParam.replace(f,"")
;"undefined"!=p&&p.length>0&&void 0!==window[p]&&(p=window[p],
this.addDataPoint(p))}},_createCore:function(){var e=this,i=this.chart.options
;i.smValueFontsize=Math.round(.6*i.valueFontsize),
i.smValueFont=i.smValueFontsize+"px sans-serif",
i.valueFont=i.valueFontsize+"px sans-serif"
;var n=i.topRuleOffset,r=i.botRuleOffset,o=i.leftRuleOffset
;this.innerWidth=this.width-o-i.rightRuleOffset,
this.innerHeight=this.height-n-r,
this.botOffs=r,this.leftOffs=o,this.retrieveStructure(),this.retrieveData()
;var a,s=i.headerFontsize+3,l=this.rules
;for(a=0;a<l.length;a++)this.pvPanel.add(t.Line).data(l[a]).left(function(e){
return e.x}).bottom(function(e){return e.y}).lineWidth(1).strokeStyle("black")
;for(this.pvDataTree=this.pvPanel.add(t.Bar).data(e.structArr).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).height(function(e){
return e.height}).width(function(e){return e.width
}).fillStyle("green").add(t.Bar).left(function(e){return e.left+i.border
}).bottom(function(e){return e.bottom+i.border}).height(function(e){
return e.height-i.border-s}).width(function(e){return e.width-2*i.border
}).fillStyle("white").add(t.Label).text(function(e){return e.label
}).textAlign("center").left(function(e){return e.left+e.width/2
}).bottom(function(e){
return e.bottom+e.height-i.headerFontsize-5+i.headerFontsize/5
}).font(i.headerFontsize+"px sans-serif").textStyle("white").fillStyle("blue"),
a=0;a<this.structArr.length;a++){var u=this.structArr[a]
;this.pvPanel.add(t.Rule).data(u.subplot.hRules).left(function(e){return e.left
}).width(function(e){return e.width}).bottom(function(e){return e.bottom
}).lineWidth(function(e){return e.lWidth
}).strokeStyle(e.chart.options.boxplotColor),
this.pvPanel.add(t.Rule).data(u.subplot.vRules).left(function(e){return e.left
}).height(function(e){return e.height}).bottom(function(e){return e.bottom
}).lineWidth(function(e){return e.lWidth
}).strokeStyle(e.chart.options.boxplotColor),
this.pvPanel.add(t.Dot).data(u.subplot.marks).left(function(e){return e.left
}).bottom(function(e){return e.bottom}).fillStyle(function(e){return e.color
}),this.pvPanel.add(t.Label).data(u.subplot.labels).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).font(function(e){
return e.size}).text(function(e){return e.text
}).textAlign("center").textStyle(function(e){return e.color})}
i.perpConnector&&(this.pvPanel.add(t.Rule).data(e.vRules).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).height(function(e){
return e.height
}).strokeStyle("black"),this.pvPanel.add(t.Rule).data(e.hRules).left(function(e){
return e.left}).bottom(function(e){return e.bottom}).width(function(e){
return e.width}).strokeStyle("black"))},applyExtensions:function(){
this.extend(this.pvDataTree,"dataTree")}}),Y
}),define("common-ui/vizapi/ccc/ccc_analyzer_plugin",["cdf/lib/CCC/def","cdf/lib/CCC/pvc","common-ui/vizapi/VizController","pentaho/common/Messages","dojo/_base/declare","dojo/_base/array"],function(e,t,i,n,r,o){
pentaho="undefined"!=typeof pentaho?pentaho:{},
pentaho.visualizations||(pentaho.visualizations={}),
analyzerPlugins="undefined"==typeof analyzerPlugins?[]:analyzerPlugins,
analyzerPlugins.push({init:function(){r("analyzer.CCCVizHelper",null,{
isInteractionEnabled:function(){return!0},hasContentLink:function(){
return/\bcl=/.test(window.location.href)},showConfirm:function(e,t){
t&&cv.prefs.suppressMsg[t]||cv.getActiveReport().rptDlg.showConfirm(e,null,null,null,t)
},message:function(e,t){var i=cvCatalog[e]||""
;return i&&t&&(i=cv.util.substituteParams.apply(cv.util,[i].concat(t))),i},
getDoubleClickTooltip:function(e){
return cv.getActiveReport().getDoubleClickTooltip(e)},
completeAxisGemsMetadata:function(t,i){function n(e,t){
return parseFloat(e.getAttribute("gembarOrdinal"))-parseFloat(t.getAttribute("gembarOrdinal"))
}function r(t){var i="[@gembarId='"+t+"']"
;i=u?"cv:measures/cv:measure"+i:"cv:columnAttributes/cv:attribute"+i+" | cv:rowAttributes/cv:attribute"+i
;var r=s.selectNodes(i);return r=e.query(r).array(),r.sort(n),r}function a(t){
var i=e.getOwn(c,t);i||(i=c[t]=r(t))
;for(var n;i.length&&(n=i.shift(),"true"===n.getAttribute("hideInChart")););
return n}
var s=cv.getActiveReport().reportDoc.getReportNode(),l=cv.getFieldHelp(),u="measure"===t,c={}
;o.forEach(i,function(t){var i=t.role;if(i&&"undefined"!==i){
var n,r,o,s,c,h=a(t.role)||e.assert("Undefined gem in document."),d=h.getAttribute("formula")||null,f=!1
;switch(h.parentNode.tagName){case"rowAttributes":c="row";break
;case"columnAttributes":c="column";break;case"measures":c="measure"}
if(u&&(r="[Measures]",
t.measureType=h.getAttribute("measureTypeEnum")),u&&"VALUE"!==t.measureType)n=h.getAttribute("id"),
d=null,f=!1;else{
var p=cv.getActiveReport().getGem(d)||e.assert("No gem object.")
;n=p.getUniqueId(),t.label=p.getDisplayLabel(!0);var m=p.getLink&&p.getLink()
;f=!!m,
o=f?m.getAttribute("toolTip"):null,s=f?m.getAttribute("type"):null,u||(d||e.assert("Non-measures have formulas."),
r=l.get(d,"hierarchy"))}
e.set(t,"id",n,"formula",d,"hierarchy",r,"hasLink",f,"linkLabel",o||"","linkType",s,"reportAxis",c)
}})},generateOptionsFromAnalyzerState:function(e){
for(var t={},i=e.reportDoc.getChartOptions().attributes,n=0;n<i.length;n++){
var r=i[n];switch(r.nodeName){case"lineShape":case"lineWidth":
case"scatterPattern":case"scatterColorSet":case"scatterReverseColors":break
;default:t[r.nodeName]=r.nodeValue}}return t},canRefreshReport:function(e){
for(var t=e.getVizDataReq(),i=0;i<t.length;i++)if(1==t[i].required&&0==e.findGemsByGembarId(t[i].id).length)return!1
;switch(e.visualization.id){case"ccc_heatgrid":
return e.findGemsByGembarId("color").length>0||e.findGemsByGembarId("size").length>0
;case"ccc_barline":
return e.findGemsByGembarId("measures").length>0||e.findGemsByGembarId("measuresLine").length>0
}return!0}}),r("analyzer.CCCVizConfig",[analyzer.ColorConfiguration],{
_processModelValueChange:function(e,t){
this.report.visualization.args[e.id]=t.newVal},onModelEvent:function(e,t,i,n){
"value"==i&&this._processModelValueChange(t,n),this.inherited(arguments)},
updateConfiguration:function(e){this.inherited(arguments)
;var t=this.report.visualization.args;if(o.forEach(e.properties,function(e){
if(!e.dataStructure){var i=e.value;if(void 0===i){var n=e.values
;n&&n.length&&(i=n[0])}void 0!==i&&(t[e.id]=i)}},this),!t.colorScaleType){
e.byId("pattern")&&this._updateColorConfiguration(e)}this._updateTrendUI(e)},
_updateColorConfiguration:function(e){
var t,i=e.byId("pattern").value,n=e.byId("colorSet").value,r=""
;"GRADIENT"==i?(t="linear",
r="-5"):(r="3-COLOR"==i?"-3":"-5",t="discrete"),this._setScalingType(t)
;var o=e.byId("reverseColors").value,a=this.palettes[n+r];if(o){
for(var s=[],l=a.length-1;l>=0;l--)s.push(a[l]);a=s}this._setColorRange(a)},
_updateTrendUI:function(e){var t=e.byId("trendType");if(t){
var i=t.value,n=!i||"none"===i
;e.byId("trendLineWidth").ui.hidden=n,e.byId("trendName").ui.hidden=n}},
_setScalingType:function(e){this.report.visualization.args.colorScaleType=e},
_setColorRange:function(e){this.report.visualization.args.colors=e}
}),r("analyzer.CCCHeatgridVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,i,n){switch(i){case"insertAt":case"gems":
this._updateOptions(e)}this.inherited(arguments)},
updateConfiguration:function(e){this._updateOptions(e),this.inherited(arguments)
},_updateOptions:function(e){
var t=e.byId("color"),i=e.byId("size"),n=t.gems.length+i.gems.length
;t.required=0==n,i.required=0==n}
}),r("analyzer.CCCBarLineVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,i,n){switch(i){case"insertAt":case"gems":
this._updateMeasuresOptions(e)}this.inherited(arguments)},
updateConfiguration:function(e){
this._updateMeasuresOptions(e),this.inherited(arguments)},
_updateMeasuresOptions:function(e){
var t=e.byId("measures"),i=e.byId("measuresLine"),n=t.gems.length+i.gems.length
;t.required=0==n,i.required=0==n;var r=i.gems.length>0
;["shape","lineWidth"].forEach(function(t){e.byId(t).ui.hidden=!r})}
}),r("analyzer.CCCScatterVizConfig",[analyzer.CCCVizConfig],{
onModelEvent:function(e,t,i,n){switch(i){case"insertAt":case"gems":
this._updateColorRoleOptions(e)}this.inherited(arguments)},
updateConfiguration:function(e){
this._updateColorRoleOptions(e),this.inherited(arguments)},
_updateColorRoleOptions:function(e){var t=e.byId("color")
;t.allowMultiple=!t.gems.length||"measure"!==t.gems[0].type
;var i=t.gems.length>0&&"measure"===t.gems[0].type
;e.byId("reverseColors").ui.hidden=!i,
e.byId("colorSet").ui.hidden=!i,e.byId("pattern").ui.hidden=!i}})
;var t=["ccc_bar","ccc_barstacked","ccc_barnormalized","ccc_horzbar","ccc_horzbarstacked","ccc_horzbarnormalized","ccc_pie","ccc_line","ccc_area","ccc_scatter","ccc_barline","ccc_heatgrid","ccc_sunburst"],i={
ccc_heatgrid:analyzer.CCCHeatgridVizConfig,
ccc_scatter:analyzer.CCCScatterVizConfig,
ccc_barline:analyzer.CCCBarLineVizConfig},n=new analyzer.CCCVizHelper
;cv.pentahoVisualizations||(cv.pentahoVisualizations=[]),
cv.pentahoVisualizationsHelpers||(cv.pentahoVisualizationsHelpers={}),
o.forEach(t,function(e){
cv.pentahoVisualizations.push(pentaho.visualizations.getById(e)),
cv.pentahoVisualizationHelpers[e]=n,
analyzer.LayoutPanel.configurationManagers["JSON_"+e]=i[e]||analyzer.CCCVizConfig
},this)}})
}),define("common-ui/vizapi/ccc/ccc_wrapper",["cdf/lib/CCC/def","cdf/lib/CCC/pvc","cdf/lib/CCC/protovis","common-ui/vizapi/VizController","common-ui/vizapi/ccc/ccc_analyzer_plugin"],function(e,t,i){
function n(e){pentaho.visualizations.push(e)}function r(e){var i=e.color
;return e.isOn()?i:t.toGrayScale(i)}function o(e){switch(e){case"string":
return"STRING";case"number":return"NUMERIC"}
throw new Error("Unsupported data type")}function a(e){var t=e.lastIndexOf("~")
;return t<0?["",e]:[e.substring(0,t),e.substring(t+1)]}function s(e,t){
return e?e.replace(/\bdefault\s*$/i,"sans-serif"):(t||10)+"px sans-serif"}
function l(e,t){var i=e[t+"Size"];if(i){var n=e[t+"Style"]
;return null==n||"PLAIN"==n?n="":n+=" ",n+i+"px "+e[t+"FontFamily"]}}
function u(e,t){return+e[t+"Size"]}function c(e,t){return e[t+"FontFamily"]}
function h(t,i){var n=t.getColumnProperty(i,"dataReq")
;if(n)return e.array.to(n).map(function(e){return e.id||(e.id="undefined"),e})}
function d(){
this.options||(this.options={}),this._vizOptions.labelsVisible&&(this.options.valuesVisible=this._vizOptions.labelsVisible),
this._vizOptions.labelsAnchor&&(this.options.valuesAnchor=this._vizOptions.labelsAnchor),
this._vizOptions.labelsTextAlign&&(this.options.extensionPoints||(this.options.extensionPoints={}),
this.options.extensionPoints.label_textAlign=this._vizOptions.labelsTextAlign)}
function f(){
return this.options||(this.options={}),this._vizOptions.labelsOption&&"none"!=this._vizOptions.labelsOption?this.options.valuesVisible=!0:this.options.valuesVisible=!1
}function p(){
f.call(this)&&(this.options.valuesAnchor=this._vizOptions.labelsOption)}
function m(){if(f.call(this)){
this.options.extensionPoints||(this.options.extensionPoints={})
;var e=this._vizOptions.labelsOption
;this.options.extensionPoints.label_textMargin=7,
"center"==e&&(this.options.valuesAnchor="center"),
"inside_end"==e&&("horizontal"==this.options.orientation?this.options.valuesAnchor="right":this.options.valuesAnchor="top"),
"inside_base"==e&&("horizontal"==this.options.orientation?this.options.valuesAnchor="left":this.options.valuesAnchor="bottom"),
"outside_end"==e&&("horizontal"==this.options.orientation?(this.options.valuesAnchor="right",
this.options.extensionPoints.label_textAlign="left"):(this.options.valuesAnchor="top",
this.options.extensionPoints.label_textBaseline="bottom"))}}function g(){
var e=this._vizOptions.lineLabelsOption
;e&&"none"!=e&&(this.options.plot2ValuesVisible=!0,
this.options.plot2ValuesAnchor=e)}function v(){
f.call(this)&&(this.options.valuesLabelStyle=this._vizOptions.labelsOption)}
pentaho="undefined"!=typeof pentaho?pentaho:{},e.globalSpace("pentaho",pentaho),
pentaho.visualizations||(pentaho.visualizations={});var y=/\[#null\]$/
;!function(){function t(e,t){return t&&cvCatalog[(e||"")+t]||""}function i(e){
return t("VIZ_",e)||e}function r(e,i){
return t("dropZoneLabels_",e)||t("ropZoneLabels_",e)||i||e}function o(e,i){
return t("dlgChartProps",e)||i||e}function a(e){return{id:"rows",
dataType:"string",dataStructure:"column",caption:r(e),required:!1,
allowMultiple:!0,defaultAppend:!0}}function s(e){return{id:"columns",
dataType:"string",dataStructure:"column",caption:r(e),required:!1,
allowMultiple:!0}}function l(e){return{id:"measures",dataType:"number",
dataStructure:"column",caption:r(e),required:!0,allowMultiple:!0,
defaultAppend:!0}}function u(){return{id:"multi",dataType:"string",
dataStructure:"column",caption:r("MULTI_CHART"),allowMultiple:!0,required:!1}}
function c(t,i){var n=["circle","cross","diamond","square","triangle"]
;return t&&(n=n.filter(function(i){return e.hasOwn(t,i)})),n.unshift("none"),{
id:"shape",dataType:"string",values:n,ui:{labels:n.map(function(e){
return r(e.toUpperCase())}),group:"options",type:"combo",
seperator:!!i&&e.get(i,"separator",!1),caption:r("BULLET_STYLE")}}}function h(){
return{id:"lineWidth",dataType:"string",
values:["1","2","3","4","5","6","7","8"],ui:{
labels:["1","2","3","4","5","6","7","8"],group:"options",type:"combo",
caption:o("LineWidth")}}}function d(t){var i=["none","linear"];return[{
id:"trendType",dataType:"string",values:i,ui:{labels:i.map(function(e){
return r("TREND_TYPE_"+e.toUpperCase())}),group:"options",type:"combo",
caption:r("TREND_TYPE"),seperator:e.get(t,"separator",!0)}},{id:"trendName",
dataType:"string",ui:{group:"options",type:"textbox",caption:r("TREND_NAME")}},{
id:"trendLineWidth",dataType:"string",values:["1","2","3","4","5","6","7","8"],
ui:{labels:["1","2","3","4","5","6","7","8"],group:"options",type:"combo",
caption:r("TREND_LINEWIDTH")}}]}function f(t){return{id:"pattern",
dataType:"string",values:["GRADIENT","3-COLOR","5-COLOR"],ui:{
labels:["GRADIENT","3_STEP","5_STEP"].map(function(e){return r(e)}),
group:"options",type:"combo",caption:r("PATTERN"),
seperator:e.get(t,"separator",!1)}}}function p(){return{id:"colorSet",
dataType:"string",values:["ryg","ryb","blue","gray"],ui:{
labels:["RYG","RYB","BLUE","GRAY"].map(function(e){return r("GRAD_"+e)}),
group:"options",type:"combo",caption:r("COLORSET")}}}function m(){return{
id:"reverseColors",dataType:"boolean",ui:{label:r("COLORSET_REVERSE"),
group:"options",type:"checkbox"}}}function g(t){
var i=["none","center","left","right","top","bottom"]
;if(t&&t.hideOptions)for(var n=0;n<t.hideOptions.length;n++)for(var o=0;o<i.length;o++)if(i[o]===t.hideOptions[n]){
i.splice(o,1);break}return{id:e.get(t,"labels_option","labelsOption"),
dataType:"string",values:i,ui:{labels:i.map(function(e){
return r("VALUE_ANCHOR_DOTS_"+e.toUpperCase())}),group:"options",type:"combo",
caption:r(e.get(t,"value_anchor","VALUE_ANCHOR"))}}}function v(t){
var i=e.get(t,"anchors");return{id:"labelsOption",dataType:"string",values:i,
ui:{labels:i.map(function(e){return r("COLUMN_LABEL_ANCHOR_"+e.toUpperCase())}),
group:"options",type:"combo",seperator:e.get(t,"separator",!0),
caption:r(e.get(t,"value_anchor","VALUE_ANCHOR"))}}}function y(e){return{
id:"optionsBtn",dataType:"none",ui:{group:"options",type:"button",
label:r("CHART_OPTIONS"),seperator:e||!1}}}function b(t,i){var n=[]
;return e.get(i,"row",!0)&&n.push(a(t+"_ROW")),
e.get(i,"column",!0)&&n.push(s(t+"_COL")),
e.get(i,"measure",!0)&&n.push(l(t+"_NUM")),
e.get(i,"multi",!0)&&n.push(u()),e.get(i,"options",!0)&&n.push(y(!1)),n}n({
id:"ccc_bar",type:"barchart",source:"CCC",name:i("VERTICAL_BAR"),
class:"pentaho.ccc.BarChart",args:{},propMap:[],dataReqs:[{name:"Default",
reqs:e.array.appendMany(b("VERTICAL_BAR",{options:!1}),[v({separator:!1,
anchors:["none","center","inside_end","inside_base","outside_end"]})],d({
separator:!0}),[y(!0)])}],menuOrdinal:100}),n({id:"ccc_barstacked",
type:"barchart",source:"CCC",name:i("STACKED_VERTICAL_BAR"),
class:"pentaho.ccc.StackedBarChart",args:{},propMap:[],dataReqs:[{
name:"Default",reqs:e.array.appendMany(b("STACKED_VERTICAL_BAR",{options:!1
}),[v({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[y(!0)])}],menuOrdinal:110}),n({id:"ccc_horzbar",type:"horzbarchart",
source:"CCC",name:i("HORIZONTAL_BAR"),class:"pentaho.ccc.HorizontalBarChart",
args:{},propMap:[],dataReqs:[{name:"Default",
reqs:e.array.appendMany(b("HORIZONTAL_BAR",{options:!1}),[v({separator:!1,
anchors:["none","center","inside_end","inside_base","outside_end"]})],[y(!0)])
}],menuOrdinal:130,menuSeparator:!0}),n({id:"ccc_horzbarstacked",
type:"horzbarchart",source:"CCC",name:i("STACKED_HORIZONTAL_BAR"),
class:"pentaho.ccc.HorizontalStackedBarChart",args:{},propMap:[],dataReqs:[{
name:"Default",reqs:e.array.appendMany(b("STACKED_HORIZONTAL_BAR",{options:!1
}),[v({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[y(!0)])}],menuOrdinal:140}),n({id:"ccc_barnormalized",type:"barchart",
source:"CCC",name:i("PCT_STACKED_VERTICAL_BAR"),
class:"pentaho.ccc.NormalizedBarChart",args:{},propMap:[],dataReqs:[{
name:"Default",reqs:e.array.appendMany(b("PCT_STACKED_VERTICAL_BAR",{options:!1
}),[v({separator:!1,anchors:["none","center","inside_end","inside_base"]
})],[y(!0)])}],menuOrdinal:120}),n({id:"ccc_horzbarnormalized",
type:"horzbarchart",source:"CCC",name:i("PCT_STACKED_HORIZONTAL_BAR"),
class:"pentaho.ccc.HorizontalNormalizedBarChart",args:{},propMap:[],dataReqs:[{
name:"Default",reqs:e.array.appendMany(b("PCT_STACKED_HORIZONTAL_BAR",{
options:!1}),[v({separator:!1,
anchors:["none","center","inside_end","inside_base"]})],[y(!0)])}],
menuOrdinal:150}),n({id:"ccc_line",type:"linechart",source:"CCC",name:i("LINE"),
class:"pentaho.ccc.LineChart",args:{shape:"circle"},propMap:[],dataReqs:[{
name:"Default",drillOrder:["rows"],hyperlinkOrder:["rows","columns"],
reqs:e.array.appendMany(b("LINE",{options:!1}),[g(!0),c(null,{separator:!0
}),h()],d(),[y(!0)])}],menuOrdinal:160,menuSeparator:!0}),n({id:"ccc_area",
type:"areachart",source:"CCC",name:i("STACKED_AREA"),
class:"pentaho.ccc.StackedAreaChart",args:{},propMap:[],dataReqs:[{
name:"Default",drillOrder:["rows"],hyperlinkOrder:["rows","columns"],
reqs:e.array.appendMany(b("STACKED_AREA",{options:!1}),[g(!0)],[y(!0)])}],
menuOrdinal:180}),n({id:"ccc_scatter",type:"scatter",source:"CCC",
name:i("SCATTER"),visualKeyType:"dataOrdinal",
class:"pentaho.ccc.MetricDotChart",maxValues:[1e3,2500,5e3,1e4],args:{},
propMap:[],dataReqs:[{name:"Default",reqs:e.array.appendMany([{id:"x",
dataType:"number",dataStructure:"column",caption:r("SCATTER_X"),required:!0,
allowMultiple:!1},{id:"y",dataType:"number",dataStructure:"column",
caption:r("SCATTER_Y"),required:!0,allowMultiple:!1},{id:"rows",
dataType:"string",dataStructure:"column",caption:r("SCATTER_ROW"),required:!0,
allowMultiple:!0},{id:"color",dataType:"number, string",dataTypeAllowMultiple:{
number:!1,string:!0},dataStructure:"column",caption:r("SCATTER_COL"),
required:!1,allowMultiple:!1},{id:"size",dataType:"number",
dataStructure:"column",caption:r("SCATTER_Z"),required:!1,allowMultiple:!1
},u(),f(),p(),m()],[g()],d(),[y(!0)])}],menuOrdinal:190,menuSeparator:!0}),n({
id:"ccc_barline",type:"barchart",source:"CCC",name:i("VERTICAL_BAR_LINE"),
class:"pentaho.ccc.BarLineChart",args:{shape:"circle"},propMap:[],dataReqs:[{
name:"Default",
reqs:[a("VERTICAL_BAR_LINE_ROW"),s("VERTICAL_BAR_LINE_COL"),e.set(l("VERTICAL_BAR_LINE_NUMCOL"),"required",!1),e.set(l("VERTICAL_BAR_LINE_NUMLINE"),"id","measuresLine","required",!1),v({
value_anchor:"VALUE_COLUMN_ANCHOR",separator:!1,
anchors:["none","center","inside_end","inside_base","outside_end"]}),g({
labels_option:"lineLabelsOption",value_anchor:"VALUE_LINE_ANCHOR"}),u(),c(null,{
separator:!0}),h(),y(!0)]}],menuOrdinal:125}),n({id:"ccc_waterfall",
type:"waterfallchart",source:"CCC",name:i("WATERFALL"),
class:"pentaho.ccc.WaterfallChart",args:{},propMap:[],dataReqs:[{name:"Default",
reqs:b("WATERFALL")}]}),n({id:"ccc_boxplot",type:"boxplotchart",source:"CCC",
name:i("BOXPLOT"),class:"pentaho.ccc.BoxplotChart",args:{},propMap:[],
dataReqs:[{name:"Default",
reqs:[a("BOXPLOT_ROW"),e.set(l("BOXPLOT_PCT50"),"allowMultiple",!1,"required",!1),{
id:"percentil25",dataType:"number",dataStructure:"column",
caption:r("BOXPLOT_PCT25"),required:!1,allowMultiple:!1},{id:"percentil75",
dataType:"number",dataStructure:"column",caption:r("BOXPLOT_PCT75"),required:!1,
allowMultiple:!1},{id:"percentil5",dataType:"number",dataStructure:"column",
caption:r("BOXPLOT_PCT05"),required:!1,allowMultiple:!1},{id:"percentil95",
dataType:"number",dataStructure:"column",caption:r("BOXPLOT_PCT95"),required:!1,
allowMultiple:!1},u(),y()]}]}),n({id:"ccc_pie",type:"piechart",source:"CCC",
name:i("MULTIPLE_PIE"),class:"pentaho.ccc.PieChart",args:{labelsOption:"outside"
},propMap:[],dataReqs:[{name:"Default",drillOrder:["rows","columns"],
hyperlinkOrder:["rows","columns"],reqs:e.array.appendMany(b("MULTIPLE_PIE",{
multi:!1,options:!1}),[function(e){var t=["none","outside","inside"];return{
id:"labelsOption",dataType:"string",values:t,ui:{labels:t.map(function(e){
return r("VALUE_POSITION_"+e.toUpperCase())}),group:"options",type:"combo",
caption:r("VALUE_POSITION")}}}(),y(!0)])}],menuOrdinal:183}),n({
id:"ccc_heatgrid",type:"heatgrid",source:"CCC",name:i("HEATGRID"),
class:"pentaho.ccc.HeatGridChart",maxValues:[500,1e3,2e3,5e3],args:{
shape:"square"},propMap:[],dataReqs:[{name:"Default",reqs:[{id:"rows",
dataType:"string",dataStructure:"row",caption:r("HEATGRID_ROW"),required:!0,
allowMultiple:!0},{id:"columns",dataType:"string",dataStructure:"column",
caption:r("HEATGRID_COL"),required:!1,allowMultiple:!0},{id:"color",
dataType:"number",dataStructure:"column",caption:r("HEATGRID_COLOR"),
required:!1,allowMultiple:!1},{id:"size",dataType:"number",
dataStructure:"column",caption:r("HEATGRID_SIZE"),required:!1,allowMultiple:!1
},g({hideOptions:["left","right","top","bottom"]}),f({separator:!0}),p(),m(),c({
square:!0,circle:!0}),y(!0)]}],menuOrdinal:200}),n({id:"ccc_treemap",
type:"treemapchart",source:"CCC",name:i("TREEMAP"),
class:"pentaho.ccc.TreemapChart",args:{},propMap:[],dataReqs:[{name:"Default",
reqs:[e.set(a("TREEMAP_ROW"),"required",!0),{id:"size",dataType:"number",
dataStructure:"column",caption:r("TREEMAP_SIZE"),required:!1,allowMultiple:!1
},u(),y(!1)]}]}),n({id:"ccc_bulletchart",type:"bulletchart",source:"CCC",
name:"Bullet Chart",class:"pentaho.ccc.BulletChart",args:{},propMap:[],
dataReqs:[{name:"Default",reqs:[{id:"rows",dataType:"string",
dataStructure:"row",caption:"Across",required:!0},{id:"columns",
dataType:"string",dataStructure:"column",caption:"Down",required:!0},{
id:"measures",dataType:"number",dataStructure:"column",caption:"Values",
required:!0},y()]}]}),n({id:"ccc_sunburst",type:"treemapchart",source:"CCC",
name:i("SUNBURST"),class:"pentaho.ccc.SunburstChart",args:{},propMap:[],
dataReqs:[{name:"Default",
reqs:e.array.appendMany([e.set(a("SUNBURST_ROW"),"required",!0),{id:"size",
dataType:"number",dataStructure:"column",caption:r("SUNBURST_SIZE"),required:!1,
allowMultiple:!1},u()],[g({hideOptions:["left","right","top","bottom"]
})],function(e){var t=["bySizeDescending","bySizeAscending","none"];return[{
id:"sliceOrder",dataType:"string",values:t,ui:{labels:t.map(function(e){
return r("SORT_TYPE_"+e.toUpperCase())}),group:"options",type:"combo",
caption:r("SORT_TYPE"),seperator:e}}]}(!0),[function(){return{
id:"emptySlicesHidden",dataType:"boolean",value:!0,ui:{label:r("SHOW_AS_GAPS"),
group:"options",type:"checkbox",caption:r("EMPTY_SLICES")}}}()],[y(!0)])}],
menuOrdinal:185})}(),pentaho.trends.types().forEach(function(e){
var i=pentaho.trends.get(e);t.trends.define(e,i)
}),e.type("pentaho.ccc.Axis").init(function(e,t){function i(e,t){
e.axis=this,e.index=t;var i=e.role;if(i&&"undefined"!==i){
this._ensureRole(i)&&(this.boundRoles[i]=!0,this.boundRolesIdList.push(i))
;var n=this.gemsByRole[i]
;e.roleLevel=n.length,n.push(e),this.indexesByRole[i].push(t)}
this.formulas.push(e.formula)}
this.chart=e,this.id=t,this.gemsByRole={},this.indexesByRole={},
this.boundRoles={},
this.boundRolesIdList=[],this.gems=this._getGems(),this.depth=this.gems.length,
this.formulas=[],this.gems.forEach(i,this)}).add({defaultRole:null,
_ensureRole:function(e){
if(!this.gemsByRole[e])return this.gemsByRole[e]=[],this.indexesByRole[e]=[],!0
},configure:function(e,t){
return this.configureDimensionGroups(),this.configureReaders(e,t)},
configureDimensionGroups:function(){},configureReaders:function(t,i){
var n=this.chart.options.readers,r=t
;return this.cccDimList().forEach(function(t){
null!=t&&e.hasOwn(i,t)||(null!=t&&(i[t]=!0),n.push(this._createReader(t,r)),r++)
},this),r},_createReader:function(e,t){return{names:e,indexes:t}},
_getGems:function(){
var e=this.chart._axesGemsInfo[this.id],t=this.chart._vizHelper
;return t.completeAxisGemsMetadata&&t.completeAxisGemsMetadata(this.id,e),e},
getAxisLabel:function(){
var t=e.query(this._getAxisLabelGems()).where(function(e){return e.cccDimName
}).select(function(e){return e.label}).array(),i=t.pop(),n=t.join(", ")
;return n&&i?this.chart._message("chartAxisTitleMultipleDimText",[n,i]):n||i},
_getAxisLabelGems:function(){return this.gems},buildHtmlTooltip:function(e,t,i){
this.gems.forEach(this._buildGemHtmlTooltip.bind(this,e,t,i))},
_buildGemHtmlTooltip:function(t,i,n,r,o){
if(r.cccDimName&&r.role!==this.chart._multiRole){var a=i.atoms[r.cccDimName]
;a.dimension.type.isHidden||i.isTrend&&null==a.value||t.push(e.html.escape(r.label)+": "+e.html.escape(a.label))
}},cccDimList:e.method({isAbstract:!0}),fillCellSelection:e.method({
isAbstract:!0})}),pentaho.ccc.Axis.create=function(t,i){var n;switch(i){
case"row":n=pentaho.ccc.RowAxis;break;case"column":n=pentaho.ccc.ColumnAxis
;break;case"measure":n=pentaho.ccc.MeasureAxis;break;default:
throw e.error.argumentInvalid("Undefined axis value '{0}'.",[i])}return new n(t)
},e.type("pentaho.ccc.DiscreteAxis",pentaho.ccc.Axis).init(function(t,i){
this.base(t,i);var n=this.gemsByRole[this.chart._multiRole]
;this.hasMulti=!!n&&e.query(n).any(function(e){return!e.isMeasureDiscrim})
}).postInit(function(){this.hasMulti&&this._ensureRole(this.chart._multiRole)
}).add({_nonMultiGemFilter:function(e){return e.role!==this.chart._multiRole},
cccDimList:function(){if(!this._cccDimList){
var e=this._cccDimList=new Array(this.gems.length)
;this.gems.forEach(function(t){
t.cccDimName=e[t.index]=this._getGemDimName(t)||null},this)}
return this._cccDimList},_getGemDimName:function(e){
var i=this.chart._rolesToCccDimensionsMap,n=i[e.role]
;if("string"==typeof n)return t.buildIndexedId(n,e.roleLevel)},
_isNullMember:function(e,t){var i=e.atoms[t.cccDimName],n=i.value
;return null==n||y.test(n)},_buildGemHtmlTooltip:function(e,t,i,n,r){
!n.cccDimName||!this._nonMultiGemFilter(n)||this.chart._hideNullMembers&&this._isNullMember(i.scene.group||t,n)||this.base.apply(this,arguments)
},_getAxisLabelGems:function(){
return e.query(this.gems).where(this._nonMultiGemFilter,this)},
fillCellSelection:function(e,t,i){var n,r=[],o=[]
;if(this.getSelectionGems(i).each(function(e){var i=t.atoms[e.cccDimName]
;r.push(e.formula),o.push(null==i.value?i.rawValue:i.value),n=i.label
}),r.length){var a=this.id;e[a]=!0,e[a+"Id"]=r,e[a+"Item"]=o,e[a+"Label"]=n}},
getSelectionGems:function(t){
return null==t&&(t=!0),e.query(this.gems).where(function(e,i){
return(!t||this._nonMultiGemFilter(e))&&!e.isMeasureDiscrim&&!!e.cccDimName
},this)}
}),e.type("pentaho.ccc.ColumnAxis",pentaho.ccc.DiscreteAxis).init(function(e){
var t=e._rolesToCccDimensionsMap
;this.hasMeasureDiscrim=!(e.options.dataOptions.measuresInColumns||!t[this.defaultRole]&&!t[e.axes.row.defaultRole]),
this.isHiddenMeasureDiscrim=this.hasMeasureDiscrim&&!(e.axes.measure.genericMeasuresCount>1),
this.base(e,"column"),
this._ensureRole(this.defaultRole),this.realDepth=this.hasMeasureDiscrim?this.depth-1:this.depth
}).add({defaultRole:"columns",hiddenMeasureDiscrimDimName:"measureDiscrim",
measureDiscrimName:null,_getGems:function(){var e=this.base()
;return this.hasMeasureDiscrim&&e.push({isMeasureDiscrim:!0,
id:"__MeasureDiscrim__",label:"Measure discriminator",axis:this.id,
role:this.defaultRole}),e},_getGemDimName:function(e){
if(e.isMeasureDiscrim&&this.isHiddenMeasureDiscrim)return this.measureDiscrimName=this.hiddenMeasureDiscrimDimName
;var i=this.base(e);if(e.isMeasureDiscrim){if(!i){
var n=this.chart._rolesToCccDimensionsMap,r=this.chart.axes.row,o=r.defaultRole,a=n[o],s=r.gemsByRole[o].length
;i=t.buildIndexedId(a,s)}this.measureDiscrimName=i}return i},
configureDimensionGroups:function(){
this.base(),this.cccDimList(),this.measureDiscrimName&&(this.chart.options.dimensions[this.measureDiscrimName]={
isHidden:!0})}
}),e.type("pentaho.ccc.RowAxis",pentaho.ccc.DiscreteAxis).init(function(e){
this.base(e,"row"),this._ensureRole(this.defaultRole)}).add({defaultRole:"rows"
}),e.type("pentaho.ccc.MeasureAxis",pentaho.ccc.Axis).init(function(t){
this.base(t,"measure"),
this._ensureRole(this.defaultRole),this.genericMeasuresCount=0,
this.genericMeasureRoles={},e.eachOwn(this.gemsByRole,function(e,t){
0===t.indexOf("measures")&&(this.genericMeasureRoles[t]=!0,
this.genericMeasuresCount+=e.length)},this)}).add({defaultRole:"measures",
_getGems:function(){var t=this.base(),i=[];return t.forEach(function(t){
var n,r=t.id
;r&&(n=e.getOwn(this.chart._measuresInfo,r))&&(t.role=n.role,i.push(t))},this),i
},cccDimList:function(){
return this._cccDimList||(this._cccDimList=this.chart._measureRolesInfoList.map(function(e){
return this.gemsByRole[e.id].forEach(function(t){t.cccDimName=e.cccDimName
}),e.cccDimName},this)),this._cccDimList},
_buildGemHtmlTooltip:function(t,i,n,r){var o=this.chart.axes.column
;if(!o.measureDiscrimName||!e.hasOwn(this.genericMeasureRoles,r.role)||r.id===i.atoms[o.measureDiscrimName].value){
var a=this.chart._measureRolesInfo[r.role].cccDimName;if(a){var s=i.atoms[a]
;if(!(s.dimension.type.isHidden||i.isTrend&&null==s.value)){
var l=e.html.escape(r.label)
;if(!0!==this.chart._noRoleInTooltipMeasureRoles[r.role]&&(l+=" ("+e.html.escape(r.role)+")"),
l+=": "+e.html.escape(this._getAtomLabel(s,n)),
!this.chart._noPercentInTootltipForPercentGems||"PCTOF"!==r.measureType){
var u=this._getAtomPercent(s,n);null!=u&&(l+=" ("+e.html.escape(""+u)+")")}var c
;if(n&&n.scene){var h=n.scene.datums();if(h){var d=h.where(function(e){
return e.isInterpolated&&e.interpDimName===a}).first()
;d&&(c=this.chart._message("chartTooltipGemInterp_"+d.interpolation))}
}else i.isTrend&&(c="("+this.chart.options.trendLabel+")")
;c&&(l+=" "+c),t.push(l)}}}},_getAtomLabel:function(e,t){var i
;if(t&&(i=t.scene.group)){if(i&&i.count()>1){
var n=i.dimensions(e.dimension.name);return n.format(n.value({visible:!0}))}}
return e.label},_getAtomPercent:function(e,t){if(t){
var i=t.chart,n=i.data,r=e.dimension.name,o=t.panel.visualRolesOf(r,!0)
;if(o&&o.some(function(e){return e.isPercent})){
var a=t.scene.group,s=(a||n).dimensions(r),l=a?s.percentOverParent({visible:!0
}):s.percent(e.value);return s.type.format().percent()(l)}}},
fillCellSelection:function(t,i){t.value=e.query(this.gems).select(function(e){
var t=this.chart._measureRolesInfo[e.role].cccDimName
;if(t)return i.atoms[t].label},this).where(e.truthy).array().join(" ~ ")}})
;var b;if("vml"===i.renderer()){var _=["mouseover","mouseout","mousemove"]
;b=function(e){e._cccEventsShield||(e._cccEventsShield=!0,_.forEach(function(t){
w(e,t,x)}))};var x=function(e){
e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0
},w=function(e,t,i){
e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)}}var C={
compatVersion:2,margins:0,paddings:10,plotFrameVisible:!1,format:{
percent:"#,0.00%"},multiChartMax:50,legend:!0,legendPosition:"right",
legendSizeMax:"60%",legendPaddings:10,legendItemPadding:{left:1,right:1,top:2,
bottom:2},legendClickMode:"toggleSelected",
color2AxisLegendClickMode:"toggleSelected",
color3AxisLegendClickMode:"toggleSelected",axisSizeMax:"50%",
axisTitleSizeMax:"20%",orthoAxisGrid:!0,continuousAxisLabelSpacingMin:1.1,
titlePosition:"top",interactive:!0,animate:!1,tooltipEnabled:!0,clickable:!0,
selectable:!0,hoverable:!1,ctrlSelectMode:!1,clearSelectionMode:"manual",
valuesVisible:!1,ignoreNulls:!1,groupedLabelSep:"~",crosstabMode:!0,
isMultiValued:!0,seriesInRows:!1,dataOptions:{measuresInColumns:!0},
extensionPoints:{axisRule_strokeStyle:"#808285",axisTicks_strokeStyle:"#D1D3D4",
dot_lineWidth:1.5,legendArea_lineWidth:1,legendArea_strokeStyle:"#c0c0c0",
legendLabel_textDecoration:null,legendDot_fillStyle:r,legendDot_strokeStyle:r,
legend2Dot_fillStyle:r,legend2Dot_strokeStyle:r},tooltip:{delayIn:200,
delayOut:80,offset:2,html:!0,gravity:"nw",fade:!1,followMouse:!0,useCorners:!0,
arrowVisible:!1,opacity:1}},S={extensionPoints:{xAxisLabel_textAngle:-Math.PI/4,
xAxisLabel_textAlign:"right",xAxisLabel_textBaseline:"top"}}
;e.type("pentaho.ccc.Chart").init(function(e){
this._element=e,this._elementName=e.id,b&&b(e)}).add({_options:C,
_hideNullMembers:!1,_rolesToCccDimensionsMap:{columns:"series",rows:"category",
multi:"multiChart",measures:"value"},_keyAxesIds:["column","row"],
_axesIds:["column","row","measure"],
_axesCreateOrderIds:["row","measure","column"],
_cccVirtualItemAxesLayout:["column","row","measure"],
_noRoleInTooltipMeasureRoles:{measures:!0},
_noPercentInTootltipForPercentGems:!1,_multiRole:"multi",
_discreteColorRole:"columns",dispose:function(){
this._element=null,this._chart&&this._chart.dispose&&(this._chart.dispose(),
this._chart=null)},draw:function(e,t){
this._metadata=[],this._resultset=null,this._dataTable=e,
this._initOptions(t),this._processDataTable(),this._initAxes()
;var i=this.axes.row.depth
;this.options.dataOptions.categoriesCount=i,this._hasMultiChartColumns=this.axes.row.hasMulti||this.axes.column.hasMulti,
this._readUserOptions(this.options,t),
this._readData(),this._configure(),this._prepareLayout(this.options),
this._render()},resize:function(e,t){
null!=this._lastResizeTimeout&&clearTimeout(this._lastResizeTimeout),
this._lastResizeTimeout=setTimeout(function(){
this._lastResizeTimeout=null,this._doResize(e,t)}.bind(this),50)},
_doResize:function(t,i){if(this._chart){var n=this._chart.options
;e.set(n,"width",t,"height",i),
this._prepareLayout(n),this._chart.render(!0,!0,!1)}},setHighlights:function(e){
if(this._selections=e,!(this._ownChange||e&&0!=e.length)){this._ownChange=!0
;try{this._chart.clearSelections()}finally{this._ownChange=!1}}},
getOutputParameters:function(){var e=[]
;if("pvc.PieChart"==this._cccClass)e.push([this._dataTable.getColumnId(0),!0,this._dataTable.getColumnId(0)]);else for(var t=0;t<this._dataTable.getNumberOfColumns();t++)e.push([this._dataTable.getColumnId(t),!0,this._dataTable.getColumnId(t)])
;return e},_initOptions:function(t){
t=this._vizOptions=$.extend({},t),this._vizHelper=cv.pentahoVisualizationHelpers[t.customChartType],
this._hasContentLink=this._vizHelper.isInteractionEnabled()&&this._vizHelper.hasContentLink(),
this._selections=t.selections;var i=this.options=e.create(this._options)
;e.set(i,"canvas",this._elementName,"height",t.height||400,"width",t.width||400,"dimensionGroups",{},"dimensions",{},"visualRoles",{},"readers",[],"calculations",[])
},_message:function(e,t){return this._vizHelper.message(e,t)},
_setNullInterpolationMode:function(e,t){},_readUserOptions:function(e,t){
var n=e.extensionPoints,r=t.backgroundFill;if(r&&"NONE"!==r){var o
;if("GRADIENT"===r)if(this._hasMultiChartColumns){
var a=i.color(t.backgroundColor).rgb()
;a=i.rgb(~~((255+a.r)/2),~~((255+a.g)/2),~~((255+a.b)/2),a.a),o=a
}else o="linear-gradient(to top, "+t.backgroundColor+", "+t.backgroundColorEnd+")";else o=t.backgroundColor
;n.base_fillStyle=o}
if(r=t.labelColor,void 0!==r&&(n.axisLabel_textStyle=n.axisTitleLabel_textStyle=r),
r=""+t.showLegend=="true",
e.legend=r,r&&(r=t.legendColor,void 0!==r&&(n.legendLabel_textStyle=r),
r=t.legendBackgroundColor,
r&&"#ffffff"!==r.toLowerCase()&&(n.legendArea_fillStyle=r),
r=t.legendPosition,r&&(e.legendPosition=r.toLowerCase()),
t.legendSize&&(e.legendFont=l(t,"legend"))),void 0!==(r=t.lineWidth)){
n.line_lineWidth=+r;var s=+r/8*6+3
;n.dot_shapeSize=s*s,n.plot2Line_lineWidth=n.line_lineWidth,
n.plot2Dot_shapeSize=n.dot_shapeSize}
if(r=t.maxChartsPerRow,void 0!==r&&(e.multiChartColumnsMax=+r),
r=t.emptyCellMode){switch(r){case"GAP":r="none";break;case"ZERO":r="zero";break
;case"LINEAR":r="linear"}this._setNullInterpolationMode(e,r)}
if(r=t.multiChartRangeScope){switch(r){case"GLOBAL":r="global";break;case"CELL":
r="cell"}e.numericAxisDomainScope=r}if(t.labelSize){var h=l(t,"label")
;if(e.axisTitleFont=e.axisFont=h,this._hasMultiChartColumns){
var d=u(t,"label"),f=c(t,"label");e.titleFont=d+2+"px "+f}}
var p=t.sizeByNegativesMode;e.sizeAxisUseAbs="USE_ABS"===p},
_processDataTable:function(){function t(e,t){
if(/\[MEASURE:(\d+)\]$/.test(t))return!1;var i=h(s,b);return v.push({id:r,
formula:r,label:s.getColumnLabel(b),axis:"row",role:i?i[0].id:"undefined",
index:v.length}),!0}function i(e){if(e){var t=h(s,b)
;e.split("~").forEach(function(e,i){var n=t[i];y.push({id:n.level,
formula:n.level,label:void 0,axis:"column",role:n.id,index:i})})}}
function n(t,i){var n,r=e.getOwn(m,i);r||(n=h(s,b).pop(),r={id:i,formula:void 0,
label:a(s.getColumnLabel(b))[1],axis:"measure",role:n.id,index:g.length,
isUnmapped:"undefined"===n.id},m[i]=r,g.push(r));var o=e.getOwn(d,t)
;o?o.measureIds.push(i):(o={index:b,encValues:t,values:t?t.split("~"):[],
measureIds:[i]},d[t]=o,c.push(o));var l=b-o.index,v=e.getOwn(f,r.role)
;v?l>v.groupIndex&&(v.groupIndex=l):(v={id:n.id,
cccDimName:r.isUnmapped?null:u[n.id]||e.assert("Must map to CCC all measure roles that the data table contains."),
groupIndex:l,index:b},f[r.role]=v,p.push(v))}
for(var r,o,s=this._dataTable,l=s.getNumberOfColumns(),u=this._rolesToCccDimensionsMap,c=[],d={},f={},p=[],m={},g=[],v=[],y=[],b=0;b<l&&(r=s.getColumnId(b),
o=a(r),t.apply(this,o));)b++;if(b<l)for(i.call(this,o[0]);;){if(n.apply(this,o),
++b>=l)break;r=s.getColumnId(b),o=a(r)}p.sort(function(t,i){
return e.compare(t.groupIndex,i.groupIndex)||e.compare(t.index,i.index)
}),p.forEach(function(e,t){e.groupIndex=t
}),this._measureRolesInfo=f,this._measureRolesInfoList=p,
this._colGroups=c,this._measuresInfo=m,this._axesGemsInfo={measure:g,row:v,
column:y}},_initAxes:function(){function t(t){
var n=pentaho.ccc.Axis.create(this,t);n.gems.forEach(i,this),this.axes[t]=n
;var r=n.boundRolesIdList;r&&r.forEach(function(t){
!e.hasOwn(this.axisByRole,t)||e.assert("A role cannot be in more than one axis"),
this.axisByRole[t]=n},this)}function i(e){var t=e.formula,i=e.id
;t&&(this.gemsMap[t]=e),
i&&t!==i&&(this.gemsMap[i]=e),"column"===e.reportAxis&&this._gemCountColumnReportAxis++,
e.isMeasureDiscrim&&(this._measureDiscrimGem=e)}
this.gemsMap={},this.axisByRole={},
this.axes={},this._gemCountColumnReportAxis=0,
this._measureDiscrimGem=null,this._axesCreateOrderIds.forEach(t,this)
;var n=0,r={};this._cccVirtualItemAxesLayout.forEach(function(e){
n=this.axes[e].configure(n,r)},this)},_readData:function(){
this._readDataCrosstab()},_readDataCrosstab:function(){
for(var e=this._dataTable,t=e.getNumberOfColumns(),i=e.getNumberOfRows(),n=0;n<t;n++)this._addCdaMetadata(e.getColumnId(n),e.getColumnLabel(n),o(e.getColumnType(n)))
;for(var r=this._resultset=new Array(i),a=0;a<i;a++){var s=new Array(t)
;for(n=0;n<t;n++)s[n]=this._getTableCell(a,n);r[a]=s}},_configure:function(){
var e=this.options;this._vizOptions.controller.domNode.style.overflow="hidden"
;var t=this._getColorScaleKind()
;t&&this._configureColor(t),(this.options.legend=this._showLegend())&&this._configureLegend(),
this._hasMultiChartColumns&&this._configureMultiChart(),this._configureTrends(),
this._configureSorts(),
this._configureFormats(),e.axisFont=s(e.axisFont,12),e.axisTitleFont=s(e.axisTitleFont,12),
this._vizHelper.isInteractionEnabled()?(e.tooltipEnabled&&this._configureTooltip(),
(e.selectable=this._canSelect())&&this._configureSelection(),
this._configureDoubleClick()):e.interactive=!1},_getColorScaleKind:function(){
return"discrete"},_configureColor:function(e){
var t=this.options,i=this._vizOptions;switch(e){case"discrete":
t.colors=this._getDiscreteColorScale();break;case"continuous":
t.colorScaleType=i.colorScaleType,t.colors=i.colors}},
_getDiscreteColorScale:function(){var e=this._vizOptions.memberPalette
;return e&&this._getDiscreteColorScaleCore(e)||this._getDefaultDiscreteColorScale()
},_getDefaultDiscreteColorScale:function(){
return this._vizOptions.palette.colors.slice()},
_getDiscreteColorScaleCore:function(t){var n=this._discreteColorRole;if(n){
var r,o=this.axisByRole[n],a=o?o.gemsByRole[n].filter(function(e){
return!e.isMeasureDiscrim}):[],s=a.length
;if(r="pvc.PieChart"==this._cccClass?0:this.axes.measure.genericMeasuresCount,
s>0||r>0){var l,u="pvc.SunburstChart"===this._cccClass;if(r<=1){if(!(s>0)){
l=t["[Measures].[MeasuresLevel]"];var c=l&&l[this.axes.measure.gems[0].id]
;return c?i.colors([c]):null}if(u)for(var h in a){var d=t[a[h].formula];if(d){
l||(l={});for(var f in d)l[f]=d[f]}}else l=t[a[s-1].formula]
}else l=t["[Measures].[MeasuresLevel]"];if(l||u){
for(var p in l)l.hasOwnProperty(p)&&(l[p]=i.color(l[p]))
;var m,g=i.colors(this._getDefaultDiscreteColorScale());return m=u?function(){
function t(t){if(t){var i=t.split("~"),n=i.length-1,r=i[n]
;return e.getOwn(l,r)||(n?void 0:g(r))}}return t.available=function(t){if(t){
var i=t.split("~"),n=i.length-1,r=i[n];return!n||e.getOwn(l,r)}return!1},t
}:function(){return function(e){if(e){var t=e.split("~"),i=t[t.length-1]
;return l[i]||g(i)}}},function(){return e.copy(m(),g)}}}}},
_configureTrends:function(){
var e=this.options,t=this._vizOptions,i=(this._supportsTrends?t.trendType:null)||"none"
;switch(i){case"none":case"linear":break;default:i="none"}
if(e.trendType=i,"none"!==i){var n=t.trendName
;n||(n=this._message("dropZoneLabels_TREND_NAME_"+i.toUpperCase())),
e.trendLabel=n;var r=t.trendLineWidth;if(void 0!==r){var o=e.extensionPoints
;o.trendLine_lineWidth=+r;var a=+r/8*6+3;o.trendDot_shapeSize=a*a}}},
_configureSorts:function(){var e=this._vizOptions.sliceOrder
;e&&(this.options.sliceOrder=e)},_configureFormats:function(){
var t=this._vizOptions.formatInfo;if(t){var i={currency:t.currencySymbol,
decimal:t.decimalPlaceholder,group:t.thousandSeparator};this.options.format={
number:{style:i},percent:{style:i,mask:this.options.format.percent}}
;var n=this.options.dimensions,r=this.axes.measure,o=r.gemsByRole
;e.eachOwn(r.boundRoles,function(e,i){var r=o[i][0],a=t[r.id];if(a){
var s=r.cccDimName;(n[s]||(n[s]={})).format=a}})}},
_configureMultiChart:function(){
var e=this.options,t=this._vizOptions.controller.domNode.style
;t.overflowX="hidden",t.overflowY="auto";var i=s(e.titleFont,12)
;i&&!/black|(\bbold\b)/i.test(i)&&(i="bold "+i),e.smallTitleFont=i
;var n=this._vizOptions.multiChartOverflow
;n&&(e.multiChartOverflow=n.toLowerCase())},_configureTooltip:function(){
var e=this;this.options.tooltipFormat=function(t){
return e._getTooltipText(t.datum,this)}},_canSelect:function(){
return!!this.options.selectable&&!(this._gemCountColumnReportAxis>=2)},
_configureSelection:function(){var e=this
;this.options.userSelectionAction=function(t){return e._onUserSelection(t)
},this.options.selectionChangedAction=function(t){e._onSelectionChanged(t)}},
_configureDoubleClick:function(){var e=this
;this.options.axisDoubleClickAction=this.options.doubleClickAction=function(t){
e._onDoubleClick(t)}},_showLegend:function(){if(!this.options.legend)return!1
;if(this.axes.measure.genericMeasuresCount>1)return!0;var e=this.axes.column
;return!this._rolesToCccDimensionsMap[e.defaultRole]||e.realDepth>0},
_configureLegend:function(){var e=this.options;e.legendFont=s(e.legendFont,10)
;var i=e.legendPosition,n="top"===i||"bottom"===i
;if(this._hasMultiChartColumns&&!n){
e.legendAlignTo="page-middle",e.legendKeepInBounds=!0;var r=e.legendMargins
;if(r)"object"!=typeof r&&(r=e.legendMargins={all:r});else{r=e.legendMargins={}
;r[t.BasePanel.oppositeAnchor[i]]=5}r.top=20}
"legendAlign"in e||(e.legendAlign=n?"center":"middle")},
_parseDisplayUnits:function(e){if(e){var t=e.match(/^UNITS_(\d+)$/);if(t){
var i=+t[1];if(i>0)return Math.pow(10,i)}}return 1},_prepareLayout:function(e){
this._hasMultiChartColumns&&"batik"!==i.renderer()&&(e.width-=17)},
_render:function(){
for(;this._element.firstChild;)this._element.removeChild(this._element.firstChild)
;var i=e.getPath({pvc:t},this._cccClass)
;this._chart=new i(this.options),this._chart.setData({metadata:this._metadata,
resultset:this._resultset
}),"page"===this.options.multiChartOverflow?this._chart.renderPages():this._chart.render()
},_getTooltipText:function(e,t){var i,n=[];if(this._axesIds.forEach(function(i){
this.axes[i].buildHtmlTooltip(n,e,t)},this),!e.isVirtual){
var r=this._getDoubleClickSelection(t.scene)
;i=this._vizHelper.getDoubleClickTooltip(r),i&&n.push(i)}
var o=this._vizOptions.controller.highlights,a=o&&o.length;if(a){
var s=1===a?"chartTooltipFooterSelectedSingle":"chartTooltipFooterSelectedMany"
;i=this._message(s,[a]),n.push(i)}return n.join("<br />")},
_onUserSelection:function(e){return this._processSelection(e)},
_getSelectionKey:function(t){var i=t.__cccKey;if(!i){
var n=[t.type],r=e.array.append;t.columnId&&(r(n,t.columnId),r(n,t.columnItem)),
t.rowId&&(r(n,t.rowId),r(n,t.rowItem)),i=t.__cccKey=n.join("||")}return i},
_doesSharedSeriesSelection:function(){return 1===this._gemCountColumnReportAxis
},_onSelectionChanged:function(e){if(this.options.selectable){
var t=this._selectionExcludesMultiGems(),i=[],n={}
;this._doesSharedSeriesSelection()?e.forEach(function(e){if(!e.isVirtual){
var r={type:"column"};this.axes.column.fillCellSelection(r,e,t)
;var o=this._getSelectionKey(r),a=n[o]
;a?a.__cccDatums.push(e):(r.__cccDatums=[e],n[o]=r,i.push(r))}
},this):e.forEach(function(e){if(!e.isVirtual){
var r=this._complexToCellSelection(e,t),o=this._getSelectionKey(r)
;n[o]||(r.__cccDatums=e,n[o]=r,i.push(r))}
},this),i=this._limitSelection(i),this._ownChange=!0;try{
pentaho.events.trigger(this,"select",{source:this,selections:i,
selectionMode:"REPLACE"})}finally{this._ownChange=!1}}},
_limitSelection:function(i){
var n=this._vizOptions["filter.selection.max.count"]||200,r=i,o=i.length,a=o-n
;if(a>0){var s=[];r=[];for(var l=0;l<o;l++){var u=i[l],c=!0
;if(a)if(this._previousSelectionKeys){var h=this._getSelectionKey(u)
;this._previousSelectionKeys[h]||(c=!1)}else l>=n&&(c=!1);if(c)r.push(u);else{
var d=u.__cccDatums;d&&(e.array.is(d)?e.array.append(s,d):s.push(d)),a--}}
t.data.Data.setSelected(s,!1),
this._chart.updateSelections(),this._vizHelper.showConfirm(["infoExceededMaxSelectionItems",n],"SELECT_ITEM_LIMIT_REACHED")
}return this._previousSelectionKeys=e.query(r).object({name:function(e){
return this._getSelectionKey(e)},value:e.retTrue,context:this}),r},
_selectionExcludesMultiGems:function(){return!0},_processSelection:function(e){
function t(e){function t(e){o[e]=s[e]}if(!e.isNull){e.isTrend&&n.push(e)
;var o={},s=e.atoms;a&&a.forEach(t),r&&r.forEach(t),i.push(o)}}var i,n=[]
;if(e.length){
var r,o=this._selectionExcludesMultiGems(),a=this.axes.column.getSelectionGems(o).select(function(e){
return e.cccDimName}).array()
;this._gemCountColumnReportAxis||(r=this.axes.row.getSelectionGems(o).select(function(e){
return e.cccDimName
}).array()),a.length||r&&r.length?(i=[],e.forEach(t),this._chart.data.datums(i,{
visible:!0}).each(function(e){n.push(e)}),e=n):e=[]}return e},
_getDoubleClickSelection:function(e){var t=e.group||e.datum
;if(t)return this._complexToCellSelection(t,!1)},_onDoubleClick:function(e){
var t=this._getDoubleClickSelection(e)
;return t&&pentaho.events.trigger(this,"doubleclick",{source:this,selections:[t]
}),!0},_complexToCellSelection:function(e,t){var i={type:"cell"}
;return this._axesIds.forEach(function(n){this.axes[n].fillCellSelection(i,e,t)
},this),i},_addCdaMetadata:function(e,t,i){this._metadata.push({
colIndex:this._metadata.length,colName:e,colLabel:t,colType:i})},
_getTableCell:function(e,t){var i=this._dataTable._getCell(e,t)
;if(!i)return null;var n=i.v;return null==n||"-"===n?null:{v:n,f:i.f}},
_getTableValue:function(e,t){var i=this._getTableCell(e,t);return i?i.v:ceff.f}
}),e.type("pentaho.ccc.CartesianChart",pentaho.ccc.Chart).add({_options:{
orientation:"vertical"},_configure:function(){
this.base(),this._configureDisplayUnits(),
this._showAxisTitle("base")&&this._configureAxisTitle("base",this._getBaseAxisTitle()),
this._showAxisTitle("ortho")&&this._configureAxisTitle("ortho",this._getOrthoAxisTitle())
},_showAxisTitle:e.fun.constant(!0),_getOrthoAxisTitle:e.noop,
_getBaseAxisTitle:e.noop,_configureAxisTitle:function(t,i){
var n=this._cartesianAxesDisplayUnitsText[t];if(i=e.string.join(" - ",i,n)){
this.options[t+"AxisTitle"]=i}},_getMeasureRoleTitle:function(e){
var t,i="",n=this.axes.measure;if(e){var r=n.gemsByRole[e]
;1===r.length&&(t=r[0])
}else 1===this.axes.measure.genericMeasuresCount&&(t=n.gemsByRole[n.defaultRole][0])
;return t&&(i+=t.label),i},_configureAxisRange:function(e,t){
var i=this._vizOptions,n=e?"":"Secondary";if("true"!==i["autoRange"+n]){
var r=i["valueAxisLowerLimit"+n]
;null!=r&&(this.options[t+"AxisFixedMin"]=r,this.options[t+"AxisOriginIsZero"]=!1),
r=i["valueAxisUpperLimit"+n],null!=r&&(this.options[t+"AxisFixedMax"]=r)}},
_cartesianAxesDisplayUnitsText:null,_configureDisplayUnits:function(){
this._cartesianAxesDisplayUnitsText={}},
_configureAxisDisplayUnits:function(e,t,i){
i||"ortho"==t||(this.options[t+"AxisTickExponentMin"]=0)
;var n,r=this._vizOptions["displayUnits"+(e?"":"Secondary")]
;this._parseDisplayUnits(r)>1&&(n=this._message("dlgChartOption_"+r)),
this._cartesianAxesDisplayUnitsText[t]=n||""}
}),e.type("pentaho.ccc.CategoricalContinuousChart",pentaho.ccc.CartesianChart).add({
_options:{panelSizeRatio:.8,dataOptions:{measuresInColumns:!1}},
_showAxisTitle:function(e){return!this._hasMultiChartColumns||"ortho"===e},
_getOrthoAxisTitle:function(){return this._getMeasureRoleTitle()},
_getBaseAxisTitle:function(){return this.axes.row.getAxisLabel()},
_configure:function(){
this.base(),this._configureAxisRange(!0,"ortho"),"vertical"===this.options.orientation?e.mixin(this.options,S):this.options.xAxisPosition="top"
},_configureDisplayUnits:function(){
this.base(),this._configureAxisDisplayUnits(!0,"ortho")}
}),e.type("pentaho.ccc.BarChartAbstract",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.BarChart",_configure:function(){this.base();var e=this.options
;"vertical"!==e.orientation&&(e.visualRoles.category={isReversed:!0
}),m.call(this)},_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=s(l(t,"label")),
e.extensionPoints.label_textStyle=t.labelColor}
}),e.type("pentaho.ccc.BarChart",pentaho.ccc.BarChartAbstract).add({
_supportsTrends:!0
}),e.type("pentaho.ccc.HorizontalBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{orientation:"horizontal"}
}),e.type("pentaho.ccc.StackedBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{stacked:!0}
}),e.type("pentaho.ccc.HorizontalStackedBarChart",pentaho.ccc.BarChartAbstract).add({
_options:{orientation:"horizontal",stacked:!0}
}),e.type("pentaho.ccc.NormalizedBarChartAbstract",pentaho.ccc.BarChartAbstract).add({
_cccClass:"pvc.NormalizedBarChart",_configure:function(){
this.base(),this.options.orthoAxisTickFormatter=function(e){return e+"%"}}
}),e.type("pentaho.ccc.NormalizedBarChart",pentaho.ccc.NormalizedBarChartAbstract),
e.type("pentaho.ccc.HorizontalNormalizedBarChart",pentaho.ccc.NormalizedBarChartAbstract).add({
_options:{orientation:"horizontal"}
}),e.type("pentaho.ccc.BarLineChart",pentaho.ccc.BarChartAbstract).add({
_rolesToCccDimensionsMap:{measuresLine:"value"},_options:{plot2:!0,
secondAxisIndependentScale:!1,secondAxisSeriesIndexes:null},
_noRoleInTooltipMeasureRoles:{measures:!0,measuresLine:!0},
_setNullInterpolationMode:function(e,t){e.plot2NullInterpolationMode=t},
_initAxes:function(){
this.base(),this._measureDiscrimGem||e.assert("Must exist to distinguish measures.")
;var t=this._measureDiscrimGem.cccDimName,i=this.axes.measure,n=i.gemsByRole[i.defaultRole],r=e.query(n).uniqueIndex(function(e){
return e.id});this.options.calculations.push({names:"dataPart",
calculation:function(i,n){var o=i.atoms[t].value
;n.dataPart=e.hasOwn(r,o)?"0":"1"}})},_readUserOptions:function(e,t){
this.base(e,t);var i=t.shape
;i&&"none"===i?e.pointDotsVisible=!1:(e.pointDotsVisible=!0,
e.extensionPoints.pointDot_shape=i),
e.plot2ValuesFont=s(l(t,"label")),e.extensionPoints.plot2Label_textStyle=t.labelColor,
d.call(this)},_configureDisplayUnits:function(){
this.base(),this._configureAxisDisplayUnits(!1,"ortho2")},_configure:function(){
this.base(),
this._configureAxisRange(!1,"ortho2"),this._configureAxisTitle("ortho2",""),
this.options.plot2OrthoAxis=2,g.call(this)}
}),e.type("pentaho.ccc.WaterfallChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.WaterfallChart"
}),e.type("pentaho.ccc.LineChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.LineChart",_supportsTrends:!0,_options:{axisOffset:0,
tooltipOffset:15},_readUserOptions:function(e,t){this.base(e,t);var i=t.shape
;i&&"none"===i?e.dotsVisible=!1:(e.dotsVisible=!0,
e.extensionPoints.dot_shape=i),
e.valuesFont=s(l(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
p.call(this)},_setNullInterpolationMode:function(e,t){e.nullInterpolationMode=t
},_configureLegend:function(){this.base()
;var e=this.options,t=e.extensionPoints,i=t.dot_shapeSize;if(null!=i){
var n=Math.sqrt(i);e.legendMarkerSize=Math.max(15,2*(n+3))}}
}),e.type("pentaho.ccc.StackedAreaChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.StackedAreaChart",_options:{axisOffset:0,tooltipOffset:15},
_setNullInterpolationMode:function(e,t){e.nullInterpolationMode=t},
_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=s(l(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
p.call(this)}
}),e.type("pentaho.ccc.BoxplotChart",pentaho.ccc.CategoricalContinuousChart).add({
_cccClass:"pvc.BoxplotChart",_rolesToCccDimensionsMap:{columns:null,
multi:"multiChart",measures:"median",percentil25:"percentil25",
percentil75:"percentil75",percentil5:"percentil5",percentil95:"percentil95"},
_options:{extensionPoints:{boxRuleWhisker_strokeDasharray:"- "}},
_readData:function(){
this.base(),e.set(this.options.dataOptions,"categoriesCount",this.axes.row.gemsByRole.rows.length)
}}),e.type("pentaho.ccc.HeatGridChart",pentaho.ccc.CartesianChart).add({
_cccClass:"pvc.HeatGridChart",_rolesToCccDimensionsMap:{multi:null,
color:"value",size:"value2"},_options:{valuesVisible:!1,useShapes:!0,
shape:"square",xAxisSize:30,yAxisSize:50,axisComposite:!0,orthoAxisGrid:!1,
colorScaleType:"linear",colorNormByCategory:!1},_configure:function(){
this.base(),this.options.shape=this._vizOptions.shape,p.call(this)},
_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=s(l(t,"label")),e.extensionPoints.label_textStyle=t.labelColor
},_getColorScaleKind:function(){return"continuous"},_prepareLayout:function(e){
this.base(e)
;var t=this.axes.measure.depth,i=this.axes.row.depth,n=this.axes.column.depth,r=Math.max(1,this._dataTable.getNumberOfRows()-1),o=this._dataTable.getNumberOfColumns()-i
;t>0&&(o/=t)
;var a,s,l=e.width,u=e.height,c=l/u,h=r/o,d=Math.min(300,70*i),f=Math.min(300,70*n),p=Math.min(300,200*i,.35*u),m=Math.min(300,200*n,.35*l)
;if(h>c){var g=u-l/h;s=f,a=Math.min(g,p),a=Math.max(a,d)}else if(h<c){
var v=l-u*h;a=d,s=Math.min(v,m),s=Math.max(s,f)}e.xAxisSize=a,e.yAxisSize=s}
}),e.type("pentaho.ccc.MetricDotChart",pentaho.ccc.CartesianChart).add({
_cccClass:"pvc.MetricDotChart",_supportsTrends:!0,_options:{axisGrid:!0,
sizeAxisUseAbs:!1,sizeAxisOriginIsZero:!0,sizeAxisRatio:.2,
sizeAxisRatioTo:"height",autoPaddingByDotSize:!1},_rolesToCccDimensionsMap:{
columns:null,color:"color",multi:"multiChart",measures:null,x:"x",y:"y",
size:"size"},_discreteColorRole:"color",_noRoleInTooltipMeasureRoles:{x:!0,y:!0,
measures:!1},_getColorScaleKind:function(){
return this.axes.measure.boundRoles.color?"continuous":this.axes.column.boundRoles.color?"discrete":void 0
},_configure:function(){this.base();var e=this.options
;this._configureAxisRange(!0,"base"),
this._configureAxisRange(!1,"ortho"),this.axes.measure.boundRoles.size?e.axisOffset=1.1*e.sizeAxisRatio/2:e.axisOffset=0
},_configureColor:function(e){this.base(e);var t=this.options
;"discrete"===e&&(t.dimensionGroups.color={valueType:String})},
_showLegend:function(){
return this.options.legend&&this.axes.column.boundRoles.color?this._colGroups.length>1:this.options.legend
},_getOrthoAxisTitle:function(){return this._getMeasureRoleTitle("y")},
_getBaseAxisTitle:function(){return this._getMeasureRoleTitle("x")},
_configureDisplayUnits:function(){
this.base(),this._configureAxisDisplayUnits(!0,"base",!0),
this._configureAxisDisplayUnits(!1,"ortho",!0)},_readUserOptions:function(e,t){
this.base(e,t),
e.valuesFont=s(l(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
p.call(this)}}),e.type("pentaho.ccc.PieChart",pentaho.ccc.Chart).add({
_cccClass:"pvc.PieChart",_noPercentInTootltipForPercentGems:!0,
_rolesToCccDimensionsMap:{columns:"multiChart",multi:null},_options:{
legendShape:"circle",titlePosition:"bottom",dataOptions:{measuresInColumns:!1},
extensionPoints:{slice_strokeStyle:"white",slice_lineWidth:.8}},
_multiRole:"columns",_discreteColorRole:"rows",_configure:function(){
this.base(),this.options.valuesVisible&&this._configureValuesMask()},
_showLegend:function(){return this.options.legend&&this.axes.row.depth>0},
_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=s(l(t,"label")),e.extensionPoints.label_textStyle=t.labelColor,
v.call(this)},_configureMultiChart:function(){
this.base(),this.options.legendSizeMax="50%"},_configureValuesMask:function(){
var e=this.axes.column,t=e.measureDiscrimName;if(t){var i=this.gemsMap
;this.options.pie={scenes:{category:{sliceLabelMask:function(){
var e,n,r=this.atoms[t]
;return r&&(e=r.value)&&(n=i[e])&&"PCTOF"===n.measureType?"{value}":"{value} ({value.percent})"
}}}}}},_selectionExcludesMultiGems:e.fun.constant(!1)
}),e.type("pentaho.ccc.TreemapChart",pentaho.ccc.Chart).add({
_cccClass:"pvc.TreemapChart",_rolesToCccDimensionsMap:{columns:null,
measures:null,size:"size"},_options:{valuesVisible:!0},
_discreteColorRole:"rows",_configure:function(){
this.base(),this.options.rootCategoryLabel=this._message("chartTreeMapRootCategoryLabel")
},_getDiscreteColorScale:function(){return this._getDefaultDiscreteColorScale()
},_readUserOptions:function(e,t){
this.base(e,t),e.valuesFont=s(null,u(t,"label"))}
}),e.type("pentaho.ccc.BulletChart",pentaho.ccc.Chart).add({
_cccClass:"pvc.BulletChart",_rolesToCccDimensionsMap:{multi:null,
columns:"subTitle",rows:"title"},_options:{valuesVisible:!0,
valuesAnchor:"right",titlePosition:"top",titleSize:25,
bulletTitle:"Test for title",bulletSubtitle:"Test for subtitle",
bulletMeasures:[],bulletMarkers:["7500"],bulletRanges:["3000","6500","9000"],
bulletMargin:50,panelSizeRatio:.8,extensionPoints:{
bulletRuleLabel_font:"7pt sans"}},_configure:function(){this.base()},
_prepareLayout:function(e){this.base(e)
;var t=this._vizOptions,i="vertical"===e.orientation
;this._resultset.length>20?(e.bulletSize=10,
e.bulletSpacing=i?60:20):this._resultset.length>10?(e.bulletSize=15,
e.bulletSpacing=i?80:30):(e.bulletSize=20,e.bulletSpacing=i?120:50)
;var n=(2+e.bulletSize+e.bulletSpacing)*this._resultset.length
;i?n>e.width&&(t.controller.domNode.style.overflowX="auto",
t.controller.domNode.style.overflowY="hidden",
e.width=n):n>e.height&&(t.controller.domNode.style.overflowY="auto",
t.controller.domNode.style.overflowX="hidden",e.height=n)}
}),e.type("pentaho.ccc.SunburstChart",pentaho.ccc.Chart).add({
_cccClass:"pvc.SunburstChart",_rolesToCccDimensionsMap:{columns:null,
measures:null,size:"size"},_options:{valuesVisible:!0,valuesOverflow:"trim",
valuesOptimizeLegibility:!1,colorMode:"fan"},_discreteColorRole:"rows",
_formatSize:function(e,t){return e.label},_readUserOptions:function(e,t){
this.base(e,t);var n=e.extensionPoints
;if(this._hideNullMembers=t.emptySlicesHidden,
e.valuesFont=s(l(t,"label")),t.emptySlicesHidden&&(n.slice_visible=function(e){
var t=e.vars.category.value;return!!t&&!y.test(t)
}),n.label_textStyle=t.labelColor,
"none"!=t.labelsOption&&this.axes.measure.boundRoles.size){
n.label_textBaseline="bottom",n.label_textMargin=2,n.label_visible=function(e){
var t,n=this.pvMark,r=e.innerRadius,o=r,a=e.outerRadius,s=n.textMargin(),l=e.angle,u=i.Text.measure(e.vars.size.label,n.font())
;if(l<Math.PI){var c=.85*u.height,h=(n.textBaseline(),2*(c+3*s/2))
;o=Math.max(o,h/(2*Math.tan(l/2)))}return!((t=a-s-o)<=0||u.width>t-s)&&null}
;var r=this;n.label_add=function(){return(new i.Label).visible(function(e){
return this.proto.visible()}).text(function(e){
return this.proto.text()?r._formatSize(e.vars.size,e.firstAtoms.size.dimension):""
}).textBaseline("top")}}},_configure:function(){
this.base(),this.options.rootCategoryLabel=this._message("chartSunburstRootCategoryLabel"),
this._configureDisplayUnits()},_configureDisplayUnits:function(){
var e=this._parseDisplayUnits(this._vizOptions.displayUnits);if(e>1){
var t=this.options.dimensions;(t.size||(t.size={})).converter=function(t){
return null==t||isNaN(t)?t:t*e},this._formatSize=function(t,i){var n=t.value
;return null==n?"":i.format(n/e)}}else delete this._formatSize}});var k={}
;k._readDataBullet=function(){
var e=this._dataTable,t=e.getNumberOfRows(),i=this._otherDtColIndexes,n=this._otherDtColIndexes.length,r=this._vizOptions
;if(this.options.seriesInRows=!0,
this._addCdaMetadata("Category","Category","STRING"),
this._addCdaMetadata("Series","Series","STRING"),
this._addCdaMetadata("Value","Value","NUMERIC"),
this._addCdaMetadata("Marker","Marker","NUMERIC"),
r.bulletRanges)for(var o=0,a=r.bulletRanges.length;o<a;o++)this._addCdaMetadata("Range"+o,"Range "+o,"NUMERIC")
;for(var s=this.axes.measure.depth,l=0;l<t;l++)for(var u=this._aggregateRowAxisForTableRow(l),c=0;c<n;c+=s)for(var h=0;h<s;h+=2){
var d=c+h,f=d+1,p=i[d],m=e.getColumnId(p).split("~");m.pop()
;var g=[u,m.join("~"),this._getTableValue(l,p),h+1<s?this._getTableValue(l,i[f]):r.bulletMarkers[0]],v=r.bulletRanges
;v&&v.forEach(function(e){g.push(e)}),this._resultset.push(g)}
},k._aggregateRowAxisForTableRow=function(e){
return this._rowNormalDtColIndexes.map(function(t){
return this._getTableValue(e,t)},this).join("~")}
;i.dict(["action","autoRange","backgroundColor","backgroundColorEnd","backgroundFill","chartType","controller","customChartType","displayUnits","maxChartsPerRow","emptyCellsMode","labelSize","labelStyle","labelFontFamily","labelColor","legendBackgroundColor","legendColor","legendFontFamily","legendStyle","legendSize","lineShape","maxValues","metrics","palette","selections","vizApiVersion"],e.retTrue)
}),
define("pentaho/analyzer/oss-module",["pentaho/common/propertiesPanel/Panel","common-ui/util/URLEncoder","dojo/NodeList-traverse","dojo/fx/easing","dojo/on","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","dijit/Tooltip","dijit/form/DateTextBox","dijit/layout/TabContainer","dijit/DialogUnderlay","dijit/Declaration","dijit/_base/popup","dijit/Dialog","dijit/ColorPalette","dojox/collections/Stack","dojox/collections/ArrayList","dojox/collections/Dictionary","dojox/layout/ResizeHandle","dojox/xml/parser","dojox/fx","pentaho/common/FormatCombo","pentaho/common/Overrides","common-ui/cache/localCache","common-ui/repo/pentaho-ajax","common-ui/vizapi/DataTable","common-ui/vizapi/Events","common-ui/vizapi/VizController","common-ui/vizapi/ccc/ccc_wrapper","common-ui/vizapi/ccc/ccc_analyzer_plugin"],function(){
"use strict"}),function(e){
var t=document,i="appendChild",n="styleSheet",r=t.createElement("style")
;r.type="text/css",
t.getElementsByTagName("head")[0][i](r),r[n]?r[n].cssText=e:r[i](t.createTextNode(e))
}('/*!\n * Copyright 2002 - 2018 Webdetails, a Hitachi Vantara company.  All rights reserved.\n *\n * This software was developed by Webdetails and is provided under the terms\n * of the Mozilla Public License, Version 2.0, or any later version. You may not use\n * this file except in compliance with the license. If you need a copy of the license,\n * please go to  http://mozilla.org/MPL/2.0/. The Initial Developer is Webdetails.\n *\n * Software distributed under the Mozilla Public License is distributed on an "AS IS"\n * basis, WITHOUT WARRANTY OF ANY KIND, either express or  implied. Please refer to\n * the license for the specific language governing your rights and limitations.\n */\n\n\n.tipsy{pointer-events:none;padding:5px;font-size:10px;font-family:Arial,Helvetica,sans-serif;position:absolute;z-index:100000;}.tipsy-inner{padding:5px 8px 4px 8px;background-color:black;color:white;max-width:200px;text-align:center;}.tipsy-inner{border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;}.tipsy-arrow{position:absolute;width:0;height:0;line-height:0;border:5px dashed #000;}.tipsy-n .tipsy-arrow{top:0px;left:50%;margin-left:-5px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-nw .tipsy-arrow{top:0;left:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-ne .tipsy-arrow{top:0;right:10px;border-bottom-style:solid;border-top:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-s .tipsy-arrow{bottom:0;left:50%;margin-left:-5px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-sw .tipsy-arrow{bottom:0;left:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-se .tipsy-arrow{bottom:0;right:10px;border-top-style:solid;border-bottom:none;border-left-color:transparent;border-right-color:transparent;}.tipsy-e .tipsy-arrow{right:0;top:50%;margin-top:-5px;border-left-style:solid;border-right:none;border-top-color:transparent;border-bottom-color:transparent;}.tipsy-w .tipsy-arrow{left:0;top:50%;margin-top:-5px;border-right-style:solid;border-left:none;border-top-color:transparent;border-bottom-color:transparent;}.ccc-tt{overflow:hidden;}.ccc-tt-ds{border-collapse:collapse;border-spacing:0;text-align:left;line-height:1.5em;}.ccc-tt-ds tr{vertical-align:baseline;}.ccc-tt-ds tr td{padding:0;}.ccc-tt-ds .ccc-tt-dimLabel{font-weight:600;color:darkgray;padding-right:0.3em;white-space:nowrap;}.ccc-tt-ds .ccc-tt-dimAgg-sum .ccc-tt-dimLabel span:before{content:"\\03a3\\00a0";font-weight:normal;font-style:normal;font-size:1.1em;}.ccc-tt-ds .ccc-tt-dimAgg-list .ccc-tt-dimLabel span:before{content:"\\22c3\\00a0";font-weight:normal;font-style:normal;font-size:1.2em;}.ccc-tt-ds .ccc-tt-datumCount span:before{content:"\\0023\\00a0";color:darkgray;font-weight:normal;font-size:1.1em;}.ccc-tt-ds .ccc-tt-trendLabel{font-size:1.2em;font-weight:bold;}.ccc-tt-ds .ccc-tt-trendLabel td{padding-bottom:0.2em;}.ccc-tt-ds .ccc-tt-dimRoles{text-align:center;padding-left:0.3em;padding-right:0.3em;}.ccc-tt-ds .ccc-tt-roleLabel{display:none;}.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-x .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-y .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-value .ccc-tt-roleIcon:after{content:"\\2194";font-size:1.2em;}.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-y .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-h .ccc-tt-role-x .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-chartOrient-v .ccc-tt-role-value .ccc-tt-roleIcon:after{content:"\\2195";font-size:1.2em;}.ccc-tt-ds.ccc-tt-plot-pie .ccc-tt-role-value .ccc-tt-roleIcon:after,.ccc-tt-ds.ccc-tt-plot-sunburst .ccc-tt-role-size .ccc-tt-roleIcon:after{content:"\\2220";font-size:1.5em;}.ccc-tt-ds .ccc-tt-role-multiChart .ccc-tt-roleIcon:after{content:"\\229e";font-size:1.2em;}.ccc-tt-ds .ccc-tt-dimValue{padding-left:0.3em;text-align:left;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct{color:darkgray;font-size:0.9em;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct:before{padding-left:0.7em;content:\'(\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-valuePct:after{content:\')\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp{color:darkgray;font-size:0.9em;}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp:before{padding-left:0.7em;content:\'(\';}.ccc-tt-ds .ccc-tt-dimValue .ccc-tt-interp:after{content:\')\';}');